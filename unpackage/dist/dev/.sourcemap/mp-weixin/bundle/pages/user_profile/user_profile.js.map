{"version":3,"sources":["uni-app:///main.js","webpack:////Users/lisicheng/project/lijian/bundle/pages/user_profile/user_profile.vue?706a","webpack:////Users/lisicheng/project/lijian/bundle/pages/user_profile/user_profile.vue?2a86","webpack:////Users/lisicheng/project/lijian/bundle/pages/user_profile/user_profile.vue?df29","webpack:////Users/lisicheng/project/lijian/bundle/pages/user_profile/user_profile.vue?f1c1","uni-app:///bundle/pages/user_profile/user_profile.vue","webpack:////Users/lisicheng/project/lijian/bundle/pages/user_profile/user_profile.vue?9195","webpack:////Users/lisicheng/project/lijian/bundle/pages/user_profile/user_profile.vue?8b18"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","NONE","SEX","NICKNAME","AVATAR","MOBILE","data","userInfos","fieldType","smsType","showNickName","newNickname","mobile","showPicker","sexList","payList","text","has_pay_password","showTipsPwd","showTipsLogin","has_password","loginList","computed","methods","getUserInfoFun","setUserInfoFun","field","value","onChooseAvatar","path","changeNameConfirm","title","changeSex","changeSexConfirm","getPhoneNumber","e","errMsg","code","getHasPayPassword","showPayPwd","console","actionSheetPay","getHasLoginPassword","showLogin","actionSheetLogin","goPage","query","type","logOut","uni","content","confirmColor","success","Cache","url","bindWechat","mnpAuth","form","oaAuth","wechath5","uploadImage","mask","then","catch","onLoad","onUnload","onShow"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,qBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqI;AACrI;AACgE;AACL;AACsC;;;AAGjG;AACgN;AAChN,gBAAgB,iNAAU;AAC1B,EAAE,kFAAM;AACR,EAAE,mGAAM;AACR,EAAE,4GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,uGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,yOAEN;AACP,KAAK;AACL;AACA,aAAa,+OAEN;AACP,KAAK;AACL;AACA,aAAa,6TAEN;AACP,KAAK;AACL;AACA,aAAa,2SAEN;AACP,KAAK;AACL;AACA,aAAa,yRAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACrDA;AAAA;AAAA;AAAA;AAA00B,CAAgB,0yBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;ACmI91B;AAYA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;EACAC;EACAC;EACAC;EACAC;EACAC;AACA;AAAA,eACA;EACAC;IACA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;;MAEAC,UACA;QACAC;MACA,GACA;QACAA;MACA,EACA;MAAA;;MAEAC;MAAA;;MAEAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC,YACA;QACAL;MACA,GACA;QACAA;MACA,EACA;IACA;EACA;;EACAM,4BACA,kCACA;EACAC,uDACA,qCACA;IAEA;IACAC;MAAA;MACA;QACA;MACA;IACA;IAEA;IACAC;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA;kBACAC;kBACAC;gBACA;cAAA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IAEA;IACAC;MACA;MACA;;MAgBA;MACA;MACA;MACA;;MAEA;QACAC;MACA;IACA;IACA;IACAC;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;gBACA;gBACA;gBAAA,IACA;kBAAA;kBAAA;gBAAA;gBAAA,kCACA;kBACAC;gBACA;cAAA;gBAAA;gBAAA,OACA;cAAA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACAC;MACA;MACA;IACA;IAEA;IACAC;MACA;MACA;IACA;IAEA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,YACAC;gBAAA,MACAC;kBAAA;kBAAA;gBAAA;gBAAA,kCACA;kBACAL;gBACA;cAAA;gBACA;kBACAM;gBACA;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IAEA;IACAC;MAAA;MACA;QACA;QACA;UACA,kBACA;YACAtB;UACA,EACA;QACA;UACA,kBACA;YACAA;UACA,GACA;YACAA;UACA,EACA;QACA;MACA;IACA;IAEA;IACAuB;MACA;MACA;MACA;MACA;MACA;MACAC;IACA;IAEA;IACAC;MACA;QACA;QACA;MACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;MACA;IACA;IAEA;IACAC;MAAA;MACA;QACA;QACA;UACA,oBACA;YACA1B;UACA,EACA;QACA;UACA,oBACA;YACAA;UACA,GACA;YACAA;UACA,EACA;QACA;MACA;IACA;IAEA;IACA2B;MACA;MACA;MACA;MACA;MACA;IACA;IACA;IACAC;MACAJ;MACA;QACA;QACA;MACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;MACA;IACA;IAEA,gCACAK;MACA;QACAhB;QACAiB;UACAC;QACA;MACA;IACA;IAEA;IACAC;MAAA;MACAC;QACAC;QACAC;QACAC;UAAA;UACA;UACA;YACAC;YACAA;YACA;YAEAJ;cACAK;YACA;UACA;QACA;MACA;IACA;IACA;IACAC;MACA;QACA;UACA;UACA;QACA;UACA;UACA;MAAA;IAEA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA;cAAA;gBAAAnB;gBAAA;gBAAA,OACA;kBACAA;gBACA;cAAA;gBAAA;gBAAA,OACA;cAAA;gBACAoB;gBACA;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAC;MACAC;IACA;IACAC;MAAA;MACAX;QACAlB;QACA8B;MACA;MACA,6BACAC;QACAb;QACA;MACA,GACAc;QACAd;QACA;UACAlB;QACA;MACA;IACA;EAAA,EACA;EAEAiC;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA;cAoBA;cACAf;gBACA;cACA;cACA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EACA;EACAgB;IACAhB;EACA;EACAiB;IACA;IACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACpeA;AAAA;AAAA;AAAA;AAAikD,CAAgB,i8CAAG,EAAC,C;;;;;;;;;;;ACArlD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"bundle/pages/user_profile/user_profile.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './bundle/pages/user_profile/user_profile.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./user_profile.vue?vue&type=template&id=435f2176&scoped=true&\"\nvar renderjs\nimport script from \"./user_profile.vue?vue&type=script&lang=js&\"\nexport * from \"./user_profile.vue?vue&type=script&lang=js&\"\nimport style0 from \"./user_profile.vue?vue&type=style&index=0&id=435f2176&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"435f2176\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"bundle/pages/user_profile/user_profile.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./user_profile.vue?vue&type=template&id=435f2176&scoped=true&\"","var components\ntry {\n  components = {\n    uIcon: function () {\n      return import(\n        /* webpackChunkName: \"components/uview-ui/components/u-icon/u-icon\" */ \"@/components/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uPopup: function () {\n      return import(\n        /* webpackChunkName: \"components/uview-ui/components/u-popup/u-popup\" */ \"@/components/uview-ui/components/u-popup/u-popup.vue\"\n      )\n    },\n    uFormItem: function () {\n      return import(\n        /* webpackChunkName: \"components/uview-ui/components/u-form-item/u-form-item\" */ \"@/components/uview-ui/components/u-form-item/u-form-item.vue\"\n      )\n    },\n    uPicker: function () {\n      return import(\n        /* webpackChunkName: \"components/uview-ui/components/u-picker/u-picker\" */ \"@/components/uview-ui/components/u-picker/u-picker.vue\"\n      )\n    },\n    uActionSheet: function () {\n      return import(\n        /* webpackChunkName: \"components/uview-ui/components/u-action-sheet/u-action-sheet\" */ \"@/components/uview-ui/components/u-action-sheet/u-action-sheet.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./user_profile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./user_profile.vue?vue&type=script&lang=js&\"","<template>\n    <view :class=\"themeName\">\n        <!-- 头部修改头像 -->\n        <view class=\"header bg-white p-t-30\" @click=\"onChooseAvatar\">\n            <button class=\"flex\" hover-class=\"none\">\n                <!-- @chooseavatar=\"onChooseAvatar open-type=\"chooseAvatar\"\"\n                @click=\"onChooseAvatar\" -->\n                <image\n                    :src=\"\n                        userInfos.avatar != ''\n                            ? userInfos.avatar\n                            : '../../static/images/icon_wechat.png'\n                    \"\n                ></image>\n            </button>\n            <view class=\"m-l-40\">\n                <view class=\"nickname lg\">\n                    {{ userInfos.nickname }}\n                </view>\n                <view class=\"muted m-t-20\"> ID：{{ userInfos.sn }} </view>\n            </view>\n            <view style=\"margin-left: auto\">\n                <u-icon name=\"arrow-right\"></u-icon>\n            </view>\n        </view>\n\n        <!-- 交易密码 -->\n        <view class=\"item nr flex row-between\" @click=\"showPayPwd\">\n            <view class=\"label\">转账密码</view>\n            <u-icon name=\"arrow-right\"></u-icon>\n        </view>\n\n        <!-- 登录密码 -->\n        <view class=\"item nr flex row-between\" @click=\"showLogin\">\n            <view class=\"label\">登录密码</view>\n            <u-icon name=\"arrow-right\"></u-icon>\n        </view>\n\n        <view v-if=\"userInfo.is_auth === 0\" class=\"item nr flex row-between\">\n            <view class=\"label\">微信授权</view>\n            <button class=\"br60 bind nr flex row-center\" @tap=\"bindWechat\">授权</button>\n        </view>\n\n        <!-- 服务协议 -->\n        <view\n            class=\"item nr flex row-between\"\n            style=\"margin-top: 24rpx\"\n            @click=\"goPage('/bundle/pages/server_explan/server_explan', 1)\"\n        >\n            <view class=\"label\">服务协议</view>\n            <view class=\"content\"></view>\n            <u-icon name=\"arrow-right\"></u-icon>\n        </view>\n        <!-- 隐私政策 -->\n        <view\n            class=\"item nr flex row-between\"\n            @click=\"goPage('/bundle/pages/server_explan/server_explan', 2)\"\n        >\n            <view class=\"label\">隐私政策</view>\n            <view class=\"content\"></view>\n            <u-icon name=\"arrow-right\"></u-icon>\n        </view>\n\n        <!-- 关于我们 -->\n        <view class=\"item nr flex row-between\">\n            <view class=\"label\">关于我们</view>\n            <view class=\"content flex row-right m-r-24\">v{{ userInfos.version }}</view>\n        </view>\n\n        <view class=\"p-b-50\">\n            <button\n                class=\"btn m-t-30 md br60 flex row-center white\"\n                style=\"height: 88rpx\"\n                @click=\"logOut\"\n            >\n                退出登录\n            </button>\n        </view>\n\n        <!-- 昵称修改组件 -->\n        <u-popup\n            v-model=\"showNickName\"\n            :closeable=\"true\"\n            :maskCloseAble=\"false\"\n            mode=\"center\"\n            border-radius=\"14\"\n        >\n            <view class=\"p-24 bg-white\" style=\"width: 70vw\">\n                <view class=\"m-b-30 xl text-center\">修改用户名</view>\n                <form @submit=\"changeNameConfirm\">\n                    <u-form-item label=\"新昵称\" :labelWidth=\"120\">\n                        <input\n                            style=\"height: 60rpx\"\n                            class=\"nr\"\n                            :value=\"userInfos.nickname\"\n                            name=\"nickname\"\n                            type=\"nickname\"\n                            placeholder=\"请输入新的昵称\"\n                        />\n                    </u-form-item>\n                    <button class=\"btn white flex br60 row-center\" form-type=\"submit\">确定</button>\n                </form>\n            </view>\n        </u-popup>\n\n        <!-- 性别修改组件 -->\n        <u-picker\n            mode=\"selector\"\n            v-model=\"showPicker\"\n            confirm-color=\"#101010\"\n            :default-selector=\"[0]\"\n            :range=\"sexList\"\n            @confirm=\"changeSexConfirm\"\n        />\n\n        <!-- 登录密码组件 -->\n        <u-action-sheet\n            :list=\"loginList\"\n            @click=\"actionSheetLogin\"\n            v-model=\"showTipsLogin\"\n        ></u-action-sheet>\n        <!-- 交易密码组件 -->\n        <u-action-sheet\n            :list=\"payList\"\n            @click=\"actionSheetPay\"\n            v-model=\"showTipsPwd\"\n        ></u-action-sheet>\n    </view>\n</template>\n\n<script>\nimport {\n    apiLogout, //退出登录\n    apiSetUserInfo, //设置用户信息\n    apiGetUserInfo, //获取用户信息\n    apiMnpBindMobile, //获取微信手机号码\n    hasPayPassword, //判断是否有交易密码\n    apiBindMobileCaptcha, //发送验证码绑定手机号\n    apiBindMobile, //绑定手机号\n    apiHasPassword,\n    apiMnpAuthLogin,\n    apiOaAuthLogin\n} from '@/api/user'\nimport { SMSEnum, ClientEnum } from '@/utils/enum'\nimport { chooseImage, uploadFile, trottle } from '@/utils/tools.js'\nimport { mapActions, mapGetters, mapMutations } from 'vuex'\nimport { getCode, getUserProfile } from '@/utils/login'\nimport Cache from '@/utils/cache.js'\nimport wechath5 from '@/utils/wechath5'\nconst FieldType = {\n    NONE: '',\n    SEX: 'sex',\n    NICKNAME: 'nickname',\n    AVATAR: 'avatar',\n    MOBILE: 'mobile'\n}\nexport default {\n    data() {\n        return {\n            userInfos: {}, //用户信息\n            fieldType: FieldType.NONE, //用户信息的枚举\n            smsType: SMSEnum['FINDPWD'], //短信的枚举\n            showNickName: false, //显示昵称输入框\n            newNickname: '', //用户昵称\n            mobile: '', //手机号码 其他端\n            showPicker: false, //显示性别选择\n            sexList: ['男', '女'], //选择性别数据\n\n            payList: [\n                {\n                    text: '设置密码'\n                },\n                {\n                    text: '忘记密码'\n                }\n            ], //交易密码选择\n\n            has_pay_password: false, //是否设置了交易密码\n\n            showTipsPwd: false, //显示交易密码选择\n            showTipsLogin: false, //显示登录密码选择\n            has_password: false, //是否设置了登录密码\n            loginList: [\n                {\n                    text: '设置密码'\n                },\n                {\n                    text: '忘记密码'\n                }\n            ] //登录密码选择\n        }\n    },\n    computed: {\n        ...mapGetters(['client'])\n    },\n    methods: {\n        ...mapActions(['getUser']),\n        ...mapMutations(['logout']),\n\n        // 获取用户信息\n        getUserInfoFun() {\n            apiGetUserInfo().then((res) => {\n                this.userInfos = res\n            })\n        },\n\n        // 修改用户信息\n        async setUserInfoFun(value) {\n            await apiSetUserInfo({\n                field: this.fieldType,\n                value: value\n            })\n            this.getUserInfoFun()\n        },\n\n        // 上传图片\n        onChooseAvatar(e) {\n            // this.fieldType = FieldType.AVATAR\n            // // #ifndef MP-WEIXIN\n            // // 此为uView的跳转方法，详见\"文档-JS\"部分，也可以用uni的uni.navigateTo\n            // this.$Router.push({\n            //     // 关于此路径，请见下方\"注意事项\"\n            //     path: '/components/uview-ui/components/u-avatar-cropper/u-avatar-cropper',\n            //     // 内部已设置以下默认参数值，可不传这些参数\n            //     query: {\n            //         // 输出图片宽度，高等于宽，单位px\n            //         destWidth: 300,\n            //         // 裁剪框宽度，高等于宽，单位px\n            //         rectWidth: 200,\n            //         // 输出的图片类型，如果'png'类型发现裁剪的图片太大，改成\"jpg\"即可\n            //         fileType: 'jpg'\n            //     }\n            // })\n            // // #endif\n            // // #ifdef MP-WEIXIN\n            // if (e.detail.avatarUrl) {\n            //     this.uploadImage(e.detail.avatarUrl)\n            // }\n            // #endif\n            this.$Router.push({\n                path: '/bundle/pages/user_set/user_set'\n            })\n        },\n        // 修改用户昵称\n        async changeNameConfirm(e) {\n            this.fieldType = FieldType.NICKNAME\n            this.newNickname = e.detail.value.nickname\n            if (!this.newNickname)\n                return this.$toast({\n                    title: '请输入新的昵称'\n                })\n            await this.setUserInfoFun(this.newNickname)\n            this.showNickName = false\n        },\n        // 显示修改用户性别弹窗\n        changeSex() {\n            this.showPicker = true\n            this.fieldType = FieldType.SEX\n        },\n\n        // 修改用户性别\n        changeSexConfirm(value) {\n            this.setUserInfoFun(value[0] + 1)\n            this.showPicker = false\n        },\n\n        // 绑定｜｜修改用户手机号\n        async getPhoneNumber(e) {\n            const { code, errMsg } = e.detail\n            if (errMsg !== 'getPhoneNumber:ok')\n                return this.$toast({\n                    title: '绑定失败'\n                })\n            apiMnpBindMobile({\n                code\n            }).then((res) => {\n                this.getUserInfoFun()\n            })\n        },\n\n        // 判断是否有设置交易密码\n        getHasPayPassword() {\n            hasPayPassword().then((res) => {\n                this.has_pay_password = res.has_pay_password\n                if (res.has_pay_password == false) {\n                    this.payList = [\n                        {\n                            text: '设置密码'\n                        }\n                    ]\n                } else {\n                    this.payList = [\n                        {\n                            text: '修改密码'\n                        },\n                        {\n                            text: '忘记密码'\n                        }\n                    ]\n                }\n            })\n        },\n\n        // 显示交易密码选择\n        showPayPwd() {\n            // if (this.userInfos.mobile == '')\n            //     return this.$toast({\n            //         title: '请先绑定手机号码！'\n            //     })\n            this.showTipsPwd = true\n            console.log(this.showTipsPwd)\n        },\n\n        // 选择的交易密码\n        actionSheetPay(event) {\n            if (!this.has_pay_password) {\n                // 设置密码\n                this.goPage('/bundle/pages/pay_pwd/pay_pwd', 1)\n            } else {\n                if (event === 0) {\n                    // 修改密码\n                    this.goPage('/bundle/pages/pay_pwd/pay_pwd', 2)\n                } else if (event === 1) {\n                    // 忘记密码\n                    this.goPage('/bundle/pages/pay_pwd/pay_pwd', 3)\n                }\n            }\n        },\n\n        // 判断是否有设置登录密码\n        getHasLoginPassword() {\n            apiHasPassword().then((res) => {\n                this.has_password = res.has_password\n                if (res.has_password == false) {\n                    this.loginList = [\n                        {\n                            text: '设置密码'\n                        }\n                    ]\n                } else {\n                    this.loginList = [\n                        {\n                            text: '修改密码'\n                        },\n                        {\n                            text: '忘记密码'\n                        }\n                    ]\n                }\n            })\n        },\n\n        // 显示登录密码选择\n        showLogin() {\n            // if (this.userInfos.mobile == '')\n            //     return this.$toast({\n            //         title: '请先绑定手机号码！'\n            //     })\n            this.showTipsLogin = true\n        },\n        // 选择的登录密码\n        actionSheetLogin(event) {\n            console.log(this.has_password)\n            if (!this.has_password) {\n                // 设置密码\n                this.goPage('/bundle/pages/pay_pwd/pay_pwd', 6)\n            } else {\n                if (event === 0) {\n                    // 修改密码\n                    this.goPage('/bundle/pages/pay_pwd/pay_pwd', 7)\n                } else if (event === 1) {\n                    // 忘记密码\n                    this.goPage('/bundle/pages/pay_pwd/pay_pwd', 8)\n                }\n            }\n        },\n\n        /** URL: 页面路径 - TYPE: 状态Enum **/\n        goPage(url, type) {\n            this.$Router.push({\n                path: url,\n                query: {\n                    type: type\n                }\n            })\n        },\n\n        // 退出登录\n        logOut() {\n            uni.showModal({\n                content: '是否退出登录？',\n                confirmColor: this.themeColor,\n                success: ({ cancel }) => {\n                    if (cancel) return\n                    apiLogout().then((res) => {\n                        Cache.remove('TOKEN')\n                        Cache.remove('USER_INFO')\n                        this.logout()\n\n                        uni.redirectTo({\n                            url: '/pages/login/login'\n                        })\n                    })\n                }\n            })\n        },\n        //绑定微信\n        bindWechat() {\n            switch (this.client) {\n                case ClientEnum['MP_WEIXIN']:\n                    this.mnpAuth()\n                    break\n                case ClientEnum['OA_WEIXIN']:\n                    this.oaAuth()\n                    break\n            }\n        },\n        async mnpAuth() {\n            const code = await getCode()\n            await apiMnpAuthLogin({\n                code\n            })\n            await this.getUser()\n            const { form } = this.$Route.query\n            if (form === 'payment') {\n                this.$Router.back()\n            }\n        },\n        oaAuth() {\n            wechath5.getWxUrl()\n        },\n        uploadImage(path) {\n            uni.showLoading({\n                title: '正在上传中...',\n                mask: true\n            })\n            uploadFile(path)\n                .then((res) => {\n                    uni.hideLoading()\n                    this.setUserInfoFun(res.uri)\n                })\n                .catch(() => {\n                    uni.hideLoading()\n                    this.$toast({\n                        title: '上传失败'\n                    })\n                })\n        }\n    },\n\n    async onLoad() {\n        // #ifdef H5\n        let { code, form } = this.$Route.query\n        if (code) {\n            if (Array.isArray(code)) code = code.pop()\n            await apiOaAuthLogin({\n                code\n            })\n            await this.getUser()\n            if (form === 'payment') {\n                this.$Router.replace({\n                    path: '/bundle/pages/user_order/user_order',\n                    query: {\n                        mode: 'pay'\n                    }\n                })\n            }\n        }\n        // #endif\n\n        // 监听从裁剪页发布的事件，获得裁剪结果\n        uni.$on('uAvatarCropper', (path) => {\n            this.uploadImage(path)\n        })\n        this.bindWechat = trottle(this.bindWechat)\n    },\n    onUnload() {\n        uni.$off('uAvatarCropper')\n    },\n    onShow() {\n        this.getUserInfoFun()\n        this.getHasPayPassword()\n        this.getHasLoginPassword()\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.header {\n    padding: 30rpx 20rpx;\n    margin: 20rpx 0;\n    width: 100%;\n    // height: 240rpx;\n    border-radius: 14rpx;\n    display: flex;\n    align-items: center;\n    image {\n        width: 120rpx;\n        height: 120rpx;\n        border-radius: 50%;\n    }\n    button {\n        padding: 0;\n    }\n    .nickname {\n    }\n}\n\n.item {\n    margin-top: 2rpx;\n    padding: 30rpx 20rpx;\n    border-radius: 14rpx;\n    background-color: #ffffff;\n\n    .label {\n        width: 150rpx;\n    }\n\n    .content {\n        flex: 1;\n        width: 80%;\n    }\n\n    .bind {\n        height: 56rpx;\n        border-width: 1rpx;\n        border-style: solid;\n        @include font_color();\n        @include border_color();\n    }\n}\n\n.btn {\n    height: 70rpx;\n    margin: 60rpx 50rpx 0;\n    @include background_color();\n}\n</style>\n","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./user_profile.vue?vue&type=style&index=0&id=435f2176&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./user_profile.vue?vue&type=style&index=0&id=435f2176&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1734801154959\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}
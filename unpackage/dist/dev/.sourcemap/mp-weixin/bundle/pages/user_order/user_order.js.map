{"version":3,"sources":["uni-app:///main.js",null,"webpack:////Users/lisicheng/project/lijian/bundle/pages/user_order/user_order.vue?34cf","webpack:////Users/lisicheng/project/lijian/bundle/pages/user_order/user_order.vue?edab","webpack:////Users/lisicheng/project/lijian/bundle/pages/user_order/user_order.vue?6be7","uni-app:///bundle/pages/user_order/user_order.vue","webpack:////Users/lisicheng/project/lijian/bundle/pages/user_order/user_order.vue?e067","webpack:////Users/lisicheng/project/lijian/bundle/pages/user_order/user_order.vue?c4c3"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","name","mixins","data","tabsList","sign","list","tabsIndex","orderStatus","style","orderSelffetchStatus","orderType","computed","currentTab","mapTabsItem","methods","orderstatusTitle","orderstatusText","handleLogin","Cache","path","changeCurrentTab","refreshOrderData","upCallback","size","file_status","page_no","page_size","then","count","lists","tab","catch","goOrderDetail","query","order_id","onLoad","setTimeout","uni","title","onUnload"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,mBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuH;AACvH;AAC8D;AACL;AACc;;;AAGvE;AACgN;AAChN,gBAAgB,iNAAU;AAC1B,EAAE,gFAAM;AACR,EAAE,qFAAM;AACR,EAAE,8FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,yFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,mOAEN;AACP,KAAK;AACL;AACA,aAAa,yOAEN;AACP,KAAK;AACL;AACA,aAAa,uQAEN;AACP,KAAK;AACL;AACA,aAAa,qMAEN;AACP,KAAK;AACL;AACA,aAAa,uKAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACvHA;AAAA;AAAA;AAAA;AAAw0B,CAAgB,wyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;ACwM51B;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA,eAEA;EACAC;EACAC;EAEAC;IACA;MACA;MACAC,WACA;QACAC;QACAJ;QACAK;MACA,GACA;QACAD;QACAJ;QACAK;MACA,GACA;QACAD;QACAJ;QACAK;MACA,GACA;QACAD;QACAJ;QACAK;MACA,GACA;QACAD;QACAJ;QACAK;MACA,GACA;QACAD;QACAJ;QACAK;MACA,EACA;MACAC;MAAA;;MAEA;MACAC;QACA;UACAP;UACAQ;QACA;QACA;UACAR;UACAQ;QACA;QACA;UACAR;UACAQ;QACA;QACA;UACAR;UACAQ;QACA;QACA;UACAR;UACAQ;QACA;MACA;MAEA;MACAC;QACA;UACAT;UACAQ;QACA;QACA;UACAR;UACAQ;QACA;QACA;UACAR;UACAQ;QACA;QACA;UACAR;UACAQ;QACA;QACA;UACAR;UACAQ;QACA;MACA;MAEA;MACAE;QACA;UACAV;UACAQ;QACA;QACA;UACAR;UACAQ;QACA;QACA;UACAR;UACAQ;QACA;QACA;UACAR;UACAQ;QACA;MACA;IACA;EACA;EAEAG;IACA;IACAC;MACA;IACA;IAEA;IACAC;MAAA;MACA;QAAA;UAAA;QAAA;MAAA;IACA;EACA;EAEAC,yCACA;IACAC;MACA;QACA;UACA;YACA;UACA;YACA;UACA;QACA;UACA;YACA;UACA;YACA;UACA;YACA;UACA;QACA;UACA;QACA;UACA;MAAA;IAEA;IACAC;MACA;QACA;UACA;YACA;UACA;YACA;UACA;QACA;UACA;YACA;UACA;YACA;UACA;YACA;UACA;YACA;UACA;QACA;UACA;QACA;UACA;MAAA;IAEA;IACAC;MACAC;MACA;QACAC;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IAEA;IACAC;MAAA;MACA;QACA;MACA;IACA;IAEA;IACAC;MAAA;MAAA;QAAAC;MACA;MACA;QACAC;QACAC;QACAC;MACA,GACAC;QAAA;UAAAD;UAAAE;QACA;QACAC,cACA;UAAA;UAAA;QAAA,EACA;QACA;QACAC;QACA;MACA,GACAC;QACA;MACA;IACA;IAEA;IACAC;MACA;QACAb;QACAc;UAAAC;QAAA;MACA;IACA;EAAA,EACA;EAEAC;IAAA;MAAA;IACA;IACA;IACA;MAAA;IAAA;IACA;MACA;IACA;IACA;IACAC;;IAEA;IACAC;MAAA;MACA;QACA;QACAD;UACA;YAAAE;UAAA;QACA;QACA;MACA;IACA;EACA;EACAC;IACAF;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACxcA;AAAA;AAAA;AAAA;AAAuiD,CAAgB,u6CAAG,EAAC,C;;;;;;;;;;;ACA3jD;AACA,kBAAkB;AAClB,OAAO,KAAU,EAAE,kBAKd","file":"bundle/pages/user_order/user_order.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './bundle/pages/user_order/user_order.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./user_order.vue?vue&type=template&id=89ffd8b6&\"\nvar renderjs\nimport script from \"./user_order.vue?vue&type=script&lang=js&\"\nexport * from \"./user_order.vue?vue&type=script&lang=js&\"\nimport style0 from \"./user_order.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"bundle/pages/user_order/user_order.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./user_order.vue?vue&type=template&id=89ffd8b6&\"","var components\ntry {\n  components = {\n    navbar: function () {\n      return import(\n        /* webpackChunkName: \"components/navbar/navbar\" */ \"@/components/navbar/navbar.vue\"\n      )\n    },\n    uTabs: function () {\n      return import(\n        /* webpackChunkName: \"components/uview-ui/components/u-tabs/u-tabs\" */ \"@/components/uview-ui/components/u-tabs/u-tabs.vue\"\n      )\n    },\n    mescrollUni: function () {\n      return import(\n        /* webpackChunkName: \"components/mescroll-uni/mescroll-uni\" */ \"@/components/mescroll-uni/mescroll-uni.vue\"\n      )\n    },\n    goodsCard: function () {\n      return import(\n        /* webpackChunkName: \"components/goods-card/goods-card\" */ \"@/components/goods-card/goods-card.vue\"\n      )\n    },\n    price: function () {\n      return import(\n        /* webpackChunkName: \"components/price/price\" */ \"@/components/price/price.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var a0 = _vm.isLogin\n    ? {\n        auto: false,\n        noMoreSize: 3,\n        empty: {\n          icon: \"/static/images/empty/order.png\",\n          tip: \"暂无订单~\",\n          fixed: true,\n        },\n      }\n    : null\n  var l2 = _vm.isLogin\n    ? _vm.__map(_vm.tabsList, function (tabItem, tabIndex) {\n        var $orig = _vm.__get_orig(tabItem)\n        var l1 =\n          _vm.currentTab[\"sign\"] === tabItem[\"sign\"]\n            ? _vm.__map(\n                _vm.tabsList[tabIndex].list,\n                function (orderItem, __i0__) {\n                  var $orig = _vm.__get_orig(orderItem)\n                  var g0 = [1, 2, 3, 5].includes(orderItem.order_type)\n                  var l0 = _vm.__map(\n                    orderItem.order_goods,\n                    function (goodsItem, goodsIndex) {\n                      var $orig = _vm.__get_orig(goodsItem)\n                      var a1 = {\n                        \"border-raius\": 0,\n                        height: \"230rpx\",\n                      }\n                      return {\n                        $orig: $orig,\n                        a1: a1,\n                      }\n                    }\n                  )\n                  var m0 = _vm.orderstatusText(orderItem)\n                  var m1 = m0 ? _vm.orderstatusTitle(orderItem) : null\n                  var m2 = m0 ? _vm.orderstatusText(orderItem) : null\n                  var g1 = orderItem.buttons.length\n                  return {\n                    $orig: $orig,\n                    g0: g0,\n                    l0: l0,\n                    m0: m0,\n                    m1: m1,\n                    m2: m2,\n                    g1: g1,\n                  }\n                }\n              )\n            : null\n        return {\n          $orig: $orig,\n          l1: l1,\n        }\n      })\n    : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        a0: a0,\n        l2: l2,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./user_order.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./user_order.vue?vue&type=script&lang=js&\"","<template>\n    <view class=\"order-list\" :class=\"themeName\">\n        <!-- Tabs -->\n        <navbar title=\"订单列表\"></navbar>\n        <u-tabs\n            :list=\"tabsList\"\n            :is-scroll=\"false\"\n            :height=\"80\"\n            :active-color=\"themeColor\"\n            :bar-style=\"{ top: '100%' }\"\n            :current=\"tabsIndex\"\n            @change=\"changeCurrentTab\"\n        />\n\n        <!-- Order Lists -->\n        <view class=\"order-item\" v-if=\"isLogin\">\n            <mescroll-uni\n                ref=\"mescrollRef\"\n                :fixed=\"false\"\n                :up=\"{\n                    auto: false,\n                    noMoreSize: 3,\n                    empty: {\n                        icon: '/static/images/empty/order.png',\n                        tip: '暂无订单~',\n                        fixed: true\n                    }\n                }\"\n                :down=\"{ auto: false }\"\n                @init=\"mescrollInit\"\n                @down=\"downCallback\"\n                @up=\"upCallback\"\n            >\n                <block v-for=\"(tabItem, tabIndex) in tabsList\" :key=\"tabItem['sign']\">\n                    <view class=\"order-contain\" v-if=\"currentTab['sign'] === tabItem['sign']\">\n                        <view\n                            class=\"order\"\n                            v-for=\"orderItem in tabsList[tabIndex].list\"\n                            :key=\"orderItem.id\"\n                        >\n                            <!-- Order Header -->\n                            <view class=\"order-header\">\n                                <!-- S 订单Tag -->\n                                <template v-if=\"orderItem.delivery_type === 2\">\n                                    <view class=\"order-tag order-tag--green\">自提</view>\n                                </template>\n                                <template v-if=\"orderItem.delivery_type === 4\">\n                                    <view class=\"order-tag order-tag--blue\">虚拟</view>\n                                </template>\n\n                                <!-- E 订单Tag -->\n\n                                <view class=\"order-sn\">订单编号:{{ orderItem.sn }}</view>\n                                <template\n                                    v-if=\"\n                                        orderItem.delivery_type === 1 ||\n                                        orderItem.delivery_type === 4\n                                    \"\n                                >\n                                    <view\n                                        :class=\"[\n                                            'order-status',\n                                            `order-status--${\n                                                orderStatus[orderItem.order_status]['style']\n                                            }`\n                                        ]\"\n                                        >{{\n                                            orderItem.order_status == 0 && orderItem.pay_way == 5\n                                                ? '线下支付'\n                                                : orderStatus[orderItem.order_status]['name']\n                                        }}\n                                    </view>\n                                </template>\n                                <template v-else-if=\"orderItem.delivery_type === 2\">\n                                    <view\n                                        :class=\"[\n                                            'order-status',\n                                            `order-status--${\n                                                orderSelffetchStatus[orderItem.order_status][\n                                                    'style'\n                                                ]\n                                            }`\n                                        ]\"\n                                        >{{\n                                            orderItem.order_status == 0 && orderItem.pay_way == 5\n                                                ? '线下支付'\n                                                : orderSelffetchStatus[orderItem.order_status][\n                                                      'name'\n                                                  ]\n                                        }}</view\n                                    >\n                                </template>\n                            </view>\n\n                            <!-- Order Main -->\n                            <view class=\"order-main\" @tap=\"goOrderDetail(orderItem.id)\">\n                                <goods-card\n                                    v-for=\"(goodsItem, goodsIndex) in orderItem.order_goods\"\n                                    :key=\"goodsIndex\"\n                                    shape=\"rectangle\"\n                                    :name=\"goodsItem.goods_name\"\n                                    :image=\"goodsItem.goods_image\"\n                                    :contain-style=\"{ 'border-raius': 0, height: '230rpx' }\"\n                                    :image-style=\"{ width: '180rpx', height: '180rpx' }\"\n                                >\n                                    <view slot=\"name\" class=\"flex\">\n                                        <template\n                                            v-if=\"[1, 2, 3, 5].includes(orderItem.order_type)\"\n                                        >\n                                            <view\n                                                style=\"width: 80rpx; text-align: center\"\n                                                :class=\"[\n                                                    'order-tag',\n                                                    `order-tag--${\n                                                        orderType[orderItem.order_type]['style']\n                                                    }`\n                                                ]\"\n                                                >{{ orderType[orderItem.order_type]['name'] }}\n                                            </view>\n                                            <text class=\"goods-name line\" style=\"width: 100%\">\n                                                {{ goodsItem.goods_name }}\n                                            </text>\n                                        </template>\n                                        <view class=\"goods-name line\" v-else>\n                                            {{ goodsItem.goods_name }}\n                                        </view>\n                                    </view>\n                                    <view class=\"flex-1\" slot=\"default\">\n                                        <text class=\"muted xs m-t-10 skuline\">{{\n                                            goodsItem.spec_value_str\n                                        }}</text>\n                                        <view class=\"m-t-10 flex row-between\">\n                                            <price\n                                                v-if=\"\n                                                    orderItem.order_type == 0 ||\n                                                    orderItem.order_type == 4\n                                                \"\n                                                :content=\"goodsItem.original_price\"\n                                                mainSize=\"32rpx\"\n                                                minorSize=\"24rpx\"\n                                            />\n                                            <price\n                                                v-else\n                                                :content=\"goodsItem.goods_price\"\n                                                mainSize=\"32rpx\"\n                                                minorSize=\"24rpx\"\n                                            />\n                                            <text class=\"lighter sm\"\n                                                >x{{ goodsItem.goods_num }}</text\n                                            >\n                                        </view>\n                                    </view>\n                                </goods-card>\n\n                                <view\n                                    class=\"m-20 p-20\"\n                                    style=\"background-color: #f6f6f6; border-radius: 5px\"\n                                    v-if=\"orderstatusText(orderItem)\"\n                                    ><span class=\"m-r-24\">{{ orderstatusTitle(orderItem) }}</span\n                                    ><span class=\"muted\">{{ orderstatusText(orderItem) }}</span>\n                                </view>\n\n                                <view class=\"order-desc\">\n                                    <text>共{{ orderItem.total_num }}件商品,应付款:</text>\n                                    <price class=\"normal lg\" :content=\"orderItem.order_amount\" />\n                                </view>\n                            </view>\n\n                            <!-- Order Footer -->\n                            <view class=\"order-footer\" v-if=\"orderItem.buttons.length\">\n                                <block\n                                    v-for=\"buttonItem in orderItem.buttons\"\n                                    :key=\"buttonItem.event\"\n                                >\n                                    <view\n                                        :class=\"[\n                                            'order-button',\n                                            `order-button--${buttonItem.style}`\n                                        ]\"\n                                        @tap=\"\n                                            onOrderButtons(\n                                                buttonItem['event'],\n                                                orderItem.id,\n                                                orderItem.pay_way\n                                            )\n                                        \"\n                                        >{{ buttonItem.name }}</view\n                                    >\n                                </block>\n                            </view>\n                        </view>\n                    </view>\n                </block>\n            </mescroll-uni>\n        </view>\n        <button class=\"login\" v-else @click=\"handleLogin\">立即登录</button>\n    </view>\n</template>\n\n<script>\nimport { apiOrderList, getmodelFileList } from '@/api/order'\nimport OrderMixin from '@/mixins/order'\nimport { PaymentStatusEnum } from '@/utils/enum'\nimport MescrollMixin from '@/components/mescroll-uni/mescroll-mixins'\nimport { mapGetters } from 'vuex'\nimport Cache from '@/utils/cache'\n\nexport default {\n    name: 'OrderList',\n    mixins: [OrderMixin, MescrollMixin],\n\n    data() {\n        return {\n            // Tabs列表\n            tabsList: [\n                {\n                    sign: 'all',\n                    name: '全部',\n                    list: []\n                },\n                {\n                    sign: 'pay',\n                    name: '待付款',\n                    list: []\n                },\n                {\n                    sign: 'delivery',\n                    name: '待发货',\n                    list: []\n                },\n                {\n                    sign: 'take',\n                    name: '待收货',\n                    list: []\n                },\n                {\n                    sign: 'finish',\n                    name: '已完成',\n                    list: []\n                },\n                {\n                    sign: 'close',\n                    name: '已关闭',\n                    list: []\n                }\n            ],\n            tabsIndex: '', // Tabs索引\n\n            // 订单状态\n            orderStatus: {\n                0: {\n                    name: '待付款',\n                    style: 'primary'\n                },\n                1: {\n                    name: '待发货',\n                    style: 'primary'\n                },\n                2: {\n                    name: '待收货',\n                    style: 'primary'\n                },\n                3: {\n                    name: '已完成',\n                    style: 'primary'\n                },\n                4: {\n                    name: '已关闭',\n                    style: 'muted'\n                }\n            },\n\n            // 订单状态\n            orderSelffetchStatus: {\n                0: {\n                    name: '待付款',\n                    style: 'primary'\n                },\n                1: {\n                    name: '待取货',\n                    style: 'primary'\n                },\n                2: {\n                    name: '待收货',\n                    style: 'primary'\n                },\n                3: {\n                    name: '已完成',\n                    style: 'primary'\n                },\n                4: {\n                    name: '已关闭',\n                    style: 'muted'\n                }\n            },\n\n            // 订单类型\n            orderType: {\n                1: {\n                    name: '拼团',\n                    style: 'pink'\n                },\n                2: {\n                    name: '秒杀',\n                    style: 'red'\n                },\n                3: {\n                    name: '砍价',\n                    style: 'blue'\n                },\n                5: {\n                    name: '预售',\n                    style: 'purple'\n                }\n            }\n        }\n    },\n\n    computed: {\n        // 当前Tab项\n        currentTab() {\n            return this.tabsList[this.tabsIndex] || {}\n        },\n\n        // 映射Tabs项\n        mapTabsItem() {\n            return (sign) => this.tabsList.find((item) => item['sign'] === sign)\n        }\n    },\n\n    methods: {\n        ...mapGetters(['isLogin']),\n        orderstatusTitle(orderItem) {\n            switch (orderItem.order_status) {\n                case 0:\n                    if (orderItem.pay_way == 5) {\n                        return '线下付款'\n                    } else {\n                        return '待支付'\n                    }\n                case 1:\n                    if (orderItem.order_type == 1) {\n                        return '拼团中'\n                    } else if (orderItem.delivery_type == 2) {\n                        return '待取货'\n                    } else {\n                        return '待发货'\n                    }\n                case 2:\n                    return '待收货'\n                default:\n                    return ''\n            }\n        },\n        orderstatusText(orderItem) {\n            switch (orderItem.order_status) {\n                case 0:\n                    if (orderItem.pay_way == 5) {\n                        return '如已付款，请通知商家【确认收款】'\n                    } else {\n                        return '订单待支付'\n                    }\n                case 1:\n                    if (orderItem.order_type == 1 && orderItem.is_team_success == 0) {\n                        return '拼团成功后发货'\n                    } else if (orderItem.delivery_type == 2) {\n                        return '请前往指定门店取货'\n                    } else if (orderItem.order_type == 5) {\n                        return orderItem.presell.order_send_text\n                    } else {\n                        return '商品准备中'\n                    }\n                case 2:\n                    return '待确认收货'\n                default:\n                    return ''\n            }\n        },\n        handleLogin() {\n            Cache.set('back_url', '/bundle/pages/user_order/user_order')\n            this.$Router.replace({\n                path: '/pages/login/login'\n            })\n        },\n        // 更改当前Tab页\n        changeCurrentTab(index) {\n            // if (!this.isLogin) {\n            //     console.log(123456)\n            //     return\n            // }\n            this.tabsIndex = index\n            this.refreshOrderData()\n        },\n\n        // 刷新订单数据 @Mixins【/src/mixins/order.js】内调用，请勿删除\n        refreshOrderData() {\n            this.$nextTick(() => {\n                this.mescroll.resetUpScroll()\n            })\n        },\n\n        // 上拉加载更多\n        upCallback({ num, size }) {\n            const sign = this.currentTab.sign\n            getmodelFileList({\n                file_status: ' ',\n                page_no: num,\n                page_size: size\n            })\n                .then(({ lists, page_size, count }) => {\n                    const tab = this.mapTabsItem(sign)\n                    lists.forEach(\n                        (item) => (item['buttons'] = this.getOrderStatusButtons(item.btn) ?? [])\n                    )\n                    if (num === 1) tab.list = []\n                    tab.list = [...tab.list, ...lists]\n                    this.mescroll.endSuccess(lists.length, count)\n                })\n                .catch((err) => {\n                    this.mescroll.endErr()\n                })\n        },\n\n        // 去订单详情\n        goOrderDetail(id) {\n            this.$Router.push({\n                path: '/pages/order_detail/order_detail',\n                query: { order_id: id }\n            })\n        }\n    },\n\n    onLoad() {\n        const options = this.$Route.query\n        const mode = options.mode ?? 'all'\n        const tabIndex = this.tabsList.findIndex((item) => item['sign'] === mode)\n        if (!this.isLogin) {\n            return\n        }\n        this.changeCurrentTab(tabIndex)\n        setTimeout(() => {}, 0.5 * 1000)\n\n        // 监听全局duringPayment事件\n        uni.$on('duringPayment', ({ result }) => {\n            if (result === PaymentStatusEnum['SUCCESS']) {\n                this.$Router.back()\n                setTimeout(() => {\n                    this.$toast({ title: '支付成功' })\n                }, 0.5 * 1000)\n                this.refreshOrderData()\n            }\n        })\n    },\n    onUnload() {\n        uni.$off('duringPayment')\n    }\n}\n</script>\n\n<style lang=\"scss\">\npage {\n    height: 100%;\n    padding: 0;\n}\n.order-list {\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    .order-item {\n        flex: 1;\n        min-height: 0;\n    }\n}\n.order-contain {\n    padding: 0 20rpx;\n}\n.login {\n    margin: 400rpx auto;\n    padding: 10rpx 20rpx;\n    color: white;\n    width: 200rpx;\n    @include background_color();\n}\n\n.order {\n    padding-left: 20rpx;\n    margin-top: 20rpx;\n    border-radius: 5px;\n    background-color: #ffffff;\n\n    &-header {\n        display: flex;\n        height: 80rpx;\n        align-items: center;\n        padding-right: 20rpx;\n        border-bottom: $-solid-border;\n\n        .order-sn {\n            font-size: $-font-size-nr;\n        }\n\n        .order-status {\n            margin-left: auto;\n            font-size: $-font-size-sm;\n\n            &--primary {\n                @include font_color();\n            }\n\n            &--muted {\n                color: $-color-muted;\n            }\n        }\n    }\n\n    &-main {\n        .order-desc {\n            display: flex;\n            align-items: center;\n            justify-content: flex-end;\n            padding: 20rpx;\n            font-size: $-font-size-xs;\n            color: $-color-muted;\n        }\n    }\n\n    &-footer {\n        display: flex;\n        justify-content: flex-end;\n        align-items: center;\n        height: 100rpx;\n        padding-right: 20rpx;\n        border-top: $-solid-border;\n\n        .order-button {\n            box-sizing: border-box;\n            padding: 10rpx 30rpx;\n            border-radius: 60px;\n            font-size: $-font-size-nr;\n\n            &:nth-child(n + 2) {\n                margin-left: 20rpx;\n            }\n\n            &--primary {\n                @include background_color();\n                color: #ffffff;\n            }\n\n            &--normal {\n                border-width: 1px;\n                border-style: solid;\n                @include border_color();\n                @include font_color();\n            }\n\n            &--muted {\n                border: $-solid-border;\n                color: $-color-lighter;\n            }\n        }\n    }\n}\n.order-tag {\n    padding: 4rpx 10rpx;\n    margin-right: 10rpx;\n    border-radius: 2px;\n    font-size: $-font-size-xxs;\n    color: #ffffff;\n\n    &--pink {\n        background: linear-gradient(#ff369a 0%, #ff2c3c 100%);\n    }\n\n    &--red {\n        background: linear-gradient(#f95f2f 0%, #ff2c3c 100%);\n    }\n\n    &--blue {\n        background: linear-gradient(#fa6aa9 0%, #fc00bb 100%);\n    }\n\n    &--green {\n        background: linear-gradient(#0cc21e 0%, #06c160 100%);\n    }\n    &--purple {\n        background: linear-gradient(#a411d1 0%, #a411d1 100%);\n    }\n}\n.goods-name {\n    font-size: $-font-size-nr;\n    color: #333333;\n    overflow: hidden;\n}\n</style>\n","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./user_order.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./user_order.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"red_theme\":\"#FF2C3C\",\"orange_theme\":\"#f7971e\",\"pink_theme\":\"#fa444d\",\"gold_theme\":\"#e0a356\",\"blue_theme\":\"#2f80ed\",\"green_theme\":\"#2ec840\"};\n    if(module.hot) {\n      // 1734538164088\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":true});\n      module.hot.dispose(cssReload);\n      \n    }\n  "],"sourceRoot":""}
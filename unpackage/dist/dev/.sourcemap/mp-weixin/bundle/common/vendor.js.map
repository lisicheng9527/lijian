{"version":3,"sources":["webpack:////Users/lisicheng/project/mobile/bundle/static/images/invitation_poster.png?34cb","uni-app:///plugin/emoji-awesome/emoji.js","uni-app:///components/mescroll-uni/mixins/mescroll-more-item.js","uni-app:///api/integral_mall.js","uni-app:///utils/socket.js","uni-app:///utils/date.js","webpack:////Users/lisicheng/project/mobile/bundle/static/images/user_sign_close.png?7736","uni-app:///api/live_broadcast.js","uni-app:///api/luck_draw.js","uni-app:///mixins/integral_order.js"],"names":["MescrollMoreItemMixin","props","i","Number","index","type","default","data","downOption","auto","upOption","isInit","watch","val","mescroll","triggerDownScroll","methods","mescrollInitByRef","resetUpScroll","mescrollRef","$refs","mescrollInit","apiIntegralGoods","params","request","get","apiIntegralGoodsDetail","apiIntegralSettlement","apiIntegralSubmitOrder","post","apiIntegralOrder","apiDelIntegralOrder","apiIntegralOrderDetail","apiCancelIntegralOrder","apiConfirmIntegralOrder","apiIntegralOrderTraces","getwxReceiveDetail","getwechatSyncCheck","Socket","wssUrl","connect","close","message","error","open","connected","url","paramsToStr","socketTask","reconnectLock","reconnectTimeout","reconnectNums","timeout","clientTimeout","serverTimeout","callback","events","fun","dispatch","uni","connectSocket","complete","onOpen","bind","onError","onMessage","onClose","clearTimeout","setTimeout","send","event","start","datas","JSON","stringify","res","parse","reset","reconnect","weekArr","timeFormat","dateTime","fmt","Date","toString","length","date","ret","opt","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","k","RegExp","exec","replace","padStart","timeFormatChat","isToday","isThisWeak","getDay","isThisYear","now","getYear","isThisMonth","apiLiveRoomLists","apiLuckyDrawRecord","apiLuckyDrawWinningList","apiLuckyDrawActivity","apiLuckyDrawStart","OrderMixin","ButtonsMap","payment","name","style","succeed","express","delete","getOrderStatusButtons","buttonStatus","buttons","del_btn","push","cancel_btn","delivery_btn","confirm_btn","pay_btn","onOrderButtons","orderID","pay_way","handlePayment","handleSucceed","handleExpress","handleClose","handleDelete","refreshOrderData","Error","$Router","path","query","from","order_id","comfirmReceive","transaction_id","Promise","resolve","reject","wx","openBusinessView","businessType","extraData","success","status","fail","err","querycomfirmReceive","id","then","order","order_state","catch","console","log","store","state","app","config","mini_express_send_sync","compareWeChatVersion","showModal","title","content","confirmColor","themeColor","confirm","$toast","finally"],"mappings":"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","file":"bundle/common/vendor.js","sourcesContent":["module.exports = __webpack_public_path__ + \"bundle/static/images/invitation_poster.png\";","export default [\n\t'em-smile',\n\t'em-laughing',\n\t'em-blush',\n\t'em-smiley',\n\t'em-relaxed',\n\t'em-smirk',\n\t'em-heart_eyes',\n\t'em-kissing_heart',\n\t'em-kissing_closed_eyes',\n\t'em-flushed',\n\t'em-relieved',\n\t'em-satisfied',\n\t'em-grin',\n\t'em-wink',\n\t'em-stuck_out_tongue_winking_eye',\n\t'em-stuck_out_tongue_closed_eyes',\n\t'em-grinning',\n\t'em-kissing',\n\t'em-kissing_smiling_eyes',\n\t'em-stuck_out_tongue',\n\t'em-sleeping',\n\t'em-worried',\n\t'em-frowning',\n\t'em-anguished',\n\t'em-open_mouth',\n\t'em-grimacing',\n\t'em-confused',\n\t'em-hushed',\n\t'em-expressionless',\n\t'em-unamused',\n\t'em-sweat_smile',\n\t'em-sweat',\n\t'em-disappointed_relieved',\n\t'em-weary',\n\t'em-pensive',\n\t'em-disappointed',\n\t'em-confounded',\n\t'em-fearful',\n\t'em-cold_sweat',\n\t'em-persevere',\n\t'em-cry',\n\t'em-sob',\n\t'em-joy',\n\t'em-astonished',\n\t'em-scream',\n\t'em-tired_face',\n\t'em-angry',\n\t'em-rage',\n\t'em-triumph',\n\t'em-sleepy',\n\t'em-yum',\n\t'em-mask',\n\t'em-dizzy_face',\n\t'em-sunglasses',\n\t'em-imp',\n\t'em-smiling_imp',\n\t'em-neutral_face',\n\t'em-no_mouth',\n\t'em-innocent',\n\t'em-alien',\n\t'em-heart',\n\t'em-broken_heart',\n\t'em-hankey',\n\t'em-thumbsup',\n\t'em-thumbsdown',\n\t'em-ok_hand',\n\t'em-facepunch',\n\t'em-fist',\n\t'em-v',\n\t'em-point_up',\n\t'em-point_down',\n\t'em-point_left',\n\t'em-point_right',\n\t'em-pray'\n];\n","/**\n * mescroll-more-item的mixins, 仅在多个 mescroll-body 写在子组件时使用 (参考 mescroll-more 案例)\n */\nconst MescrollMoreItemMixin = {\n\t// 支付宝小程序不支持props的mixin,需写在具体的页面中\n\n\tprops:{\n\t\ti: Number, // 每个tab页的专属下标\n\t\tindex: { // 当前tab的下标\n\t\t\ttype: Number,\n\t\t\tdefault(){\n\t\t\t\treturn 0\n\t\t\t}\n\t\t}\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tdownOption:{\n\t\t\t\tauto:false // 不自动加载\n\t\t\t},\n\t\t\tupOption:{\n\t\t\t\tauto:false // 不自动加载\n\t\t\t},\n\t\t\tisInit: false // 当前tab是否已初始化\n\t\t}\n\t},\n\twatch:{\n\t\t// 监听下标的变化\n\t\tindex(val){\n\t\t\tif (this.i === val && !this.isInit) {\n\t\t\t\tthis.isInit = true; // 标记为true\n\t\t\t\tthis.mescroll && this.mescroll.triggerDownScroll();\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\t// 以ref的方式初始化mescroll对象 (兼容字节跳动小程序)\n\t\tmescrollInitByRef() {\n\t\t\tif(!this.mescroll || !this.mescroll.resetUpScroll){\n\t\t\t\t// 字节跳动小程序编辑器不支持一个页面存在相同的ref, 多mescroll的ref需动态生成, 格式为'mescrollRef下标'\n\t\t\t\tlet mescrollRef = this.$refs.mescrollRef || this.$refs['mescrollRef'+this.i];\n\t\t\t\tif(mescrollRef) this.mescroll = mescrollRef.mescroll\n\t\t\t}\n\t\t},\n\t\t// mescroll组件初始化的回调,可获取到mescroll对象 (覆盖mescroll-mixins.js的mescrollInit, 为了标记isInit)\n\t\tmescrollInit(mescroll) {\n\t\t\tthis.mescroll = mescroll;\n\t\t\tthis.mescrollInitByRef && this.mescrollInitByRef(); // 兼容字节跳动小程序\n\t\t\t// 自动加载当前tab的数据\n\t\t\tif(this.i === this.index){\n\t\t\t\tthis.isInit = true; // 标记为true\n\t\t\t\tthis.mescroll.triggerDownScroll();\n\t\t\t}\n\t\t},\n\t}\n}\n\nexport default MescrollMoreItemMixin;\n","import request from \"@/utils/request\";\n\n// 积分商城\nexport function apiIntegralGoods(params) {\n  return request.get(\"integral_goods/lists\", { params });\n}\n\n// 积分商品详情\nexport function apiIntegralGoodsDetail(params) {\n  return request.get(\"integral_goods/detail\", { params });\n}\n\n// 积分兑换订单结算\nexport function apiIntegralSettlement(params) {\n  return request.get(\"integral_order/settlement\", { params });\n}\n\n// 积分兑换提交订单\nexport function apiIntegralSubmitOrder(params) {\n  return request.post(\"integral_order/submitOrder\", params);\n}\n\n// 积分兑换订单列表\nexport function apiIntegralOrder(params) {\n  return request.get(\"integral_order/lists\", { params });\n}\n\n//删除积分兑换订单\nexport function apiDelIntegralOrder(params) {\n  return request.post(\"integral_order/del\", params);\n}\n\n//积分兑换订单订单详情\nexport function apiIntegralOrderDetail(params) {\n  return request.get(\"integral_order/detail\", { params });\n}\n\n//取消积分兑换订单\nexport function apiCancelIntegralOrder(params) {\n  return request.post(\"integral_order/cancel\", params);\n}\n\n//确认收货积分兑换订单\nexport function apiConfirmIntegralOrder(params) {\n  return request.post(\"integral_order/confirm\", params);\n}\n// 查看物流\nexport function apiIntegralOrderTraces(params) {\n  return request.get(\"integral_order/orderTraces\", { params });\n}\n//确认收货组件\nexport function getwxReceiveDetail(params) {\n  return request.get(\"integralOrder/wxReceiveDetail\", { params });\n}\n//查询确认收货\nexport function getwechatSyncCheck(params) {\n  return request.get(\"integralOrder/wechatSyncCheck\", { params });\n}\n","// \nimport {\n\tparamsToStr\n} from './tools'\nclass Socket {\n\tconstructor(wssUrl, data) {\n\t\tthis.connected = false\n\t\tthis.error = false\n\t\tthis.url = `${wssUrl}${paramsToStr(data)}`\n\t\tthis.socketTask = {}\n\t\tthis.reconnectLock = true\n\t\tthis.reconnectTimeout = null\n\t\tthis.reconnectNums = 0\n\t\t// 心跳\n\t\tthis.timeout = 10000\n\t\tthis.clientTimeout = null\n\t\tthis.serverTimeout = null\n\t}\n\t// 允许的订阅\n\tevents = {\n\t\tconnect: null,\n\t\tclose: null,\n\t\tmessage: null,\n\t\terror: null,\n\t\topen: null\n\t}\n\n\t// 添加订阅\n\taddEvent(type, callback) {\n\t\tthis.events[type] = callback\n\t}\n\n\t// 触发订阅\n\tdispatch(type, data) {\n\t\tconst fun = this.events[type]\n\t\tfun && fun(data)\n\t}\n\n\tconnect() {\n\t\t// 已经连接则无需重复连接\n\t\tif (this.connected) return\n\t\tthis.dispatch('connect')\n\t\tthis.socketTask = uni.connectSocket({\n\t\t\turl: this.url,\n\t\t\tcomplete: () => {}\n\t\t})\n\t\tthis.socketTask.onOpen(this.onOpen.bind(this))\n\t\tthis.socketTask.onError(this.onError.bind(this));\n\t\tthis.socketTask.onMessage(this.onMessage.bind(this))\n\t\tthis.socketTask.onClose(this.onClose.bind(this));\n\t}\n\tclose() {\n\t\tthis.reconnectLock = false\n\t\tclearTimeout(this.clientTimeout)\n\t\tclearTimeout(this.serverTimeout)\n\t\t\n\t\tthis.socketTask.close && this.socketTask.close()\n\t\t\n\t}\n\treconnect() {\n\t\tif (!this.reconnectLock) {\n\t\t\treturn\n\t\t}\n\t\t// 重连次数过多，断开不重连\n\t\tif (this.reconnectNums >= 5) {\n\t\t\treturn\n\t\t}\n\n\t\tthis.reconnectNums++\n\t\tthis.reconnectLock = false\n\t\t// 延迟重连请求过多\n\t\tclearTimeout(this.reconnectTimeout)\n\t\tthis.reconnectTimeout = setTimeout(() => {\n\t\t\tthis.connect()\n\t\t\tthis.reconnectLock = true\n\t\t}, 4000)\n\t}\n\tstart() {\n\t\tclearTimeout(this.clientTimeout)\n\t\tclearTimeout(this.serverTimeout)\n\t\tthis.clientTimeout = setTimeout(() => {\n\t\t\tthis.send({\n\t\t\t\tevent: 'ping'\n\t\t\t})\n\t\t\tthis.serverTimeout = setTimeout(() => {\n\t\t\t\tthis.socketTask.close()\n\t\t\t}, this.timeout)\n\t\t}, this.timeout)\n\t}\n\n\treset() {\n\t\tthis.reconnectNums = 0\n\t\tthis.start()\n\t}\n\n\tsend(data) {\n\t\t// 如果socket已连接则发送消息\n\t\tif (!this.connected) {\n\t\t\treturn\n\t\t}\n\t\tlet datas = JSON.stringify(data)\n\t\t// console.log('发送信息:' + datas)\n\t\tthis.socketTask.send({\n\t\t\tdata: datas,\n\t\t})\n\t}\n\tonOpen() {\n\t\tthis.connected = true\n\n\t\t// 开启心跳\n\t\tthis.start()\n\n\t\t// console.log('连接成功')\n\n\t\tthis.dispatch('open')\n\t}\n\tonError(res) {\n\t\tthis.error = true\n\t\tthis.connected = false\n\t\tthis.dispatch('error')\n\t\t// console.log('连接错误', res)\n\t}\n\tonMessage({data}) {\n\t\tthis.dispatch('message', JSON.parse(data))\n\t\t// console.log('收到信息:', data)\n\t\t// 重置心跳\n\t\tthis.reset()\n\t}\n\tonClose(res) {\n\t\tthis.dispatch('close')\n\t\t// console.log('连接已关闭', res)\n\t\tthis.connected = false\n\t\tthis.reconnect()\n\t}\n\n}\nexport default Socket\n","const weekArr = ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六']\n\n/**\n * @description 时间格式化\n * @param dateTime { number } 时间错\n * @param fmt { string } 时间格式\n * @return { string }\n */\n// yyyy:mm:dd|yyyy:mm|yyyy年mm月dd日|yyyy年mm月dd日 hh时MM分等,可自定义组合\nexport const timeFormat = (dateTime, fmt = 'yyyy-mm-dd') => {\n\t// 如果为null,则格式化当前时间\n\tif (!dateTime) dateTime = Number(new Date());\n\t// 如果dateTime长度为10或者13，则为秒和毫秒的时间戳，如果超过13位，则为其他的时间格式\n\tif (dateTime.toString().length == 10) dateTime *= 1000;\n\tlet date = new Date(dateTime);\n\tlet ret;\n\tlet opt = {\n\t\t'y+': date.getFullYear().toString(), // 年\n\t\t'm+': (date.getMonth() + 1).toString(), // 月\n\t\t'd+': date.getDate().toString(), // 日\n\t\t'h+': date.getHours().toString(), // 时\n\t\t'M+': date.getMinutes().toString(), // 分\n\t\t's+': date.getSeconds().toString() // 秒\n\t};\n\tfor (let k in opt) {\n\t\tret = new RegExp('(' + k + ')').exec(fmt);\n\t\tif (ret) {\n\t\t\tfmt = fmt.replace(ret[1], ret[1].length == 1 ? opt[k] : opt[k].padStart(ret[1].length, '0'));\n\t\t}\n\t}\n\treturn fmt;\n}\n\n/**\n * @description 聊天记录专用时间格式化\n * @param dateTime { number } 时间错\n * @return { string }\n */\n\nexport const timeFormatChat = (dateTime) => {\n\tif (dateTime.toString().length == 10) dateTime *= 1000;\n\tlet date = new Date(dateTime);\n\tlet fmt = timeFormat(dateTime, 'yyyy年mm月dd日 hh:MM')\n\n\tif (isToday(date)) {\n\t\tfmt = timeFormat(dateTime, 'hh:MM')\n\t} else if (isThisWeak(date)) {\n\t\tfmt = weekArr[date.getDay()] + timeFormat(dateTime, ' hh:MM')\n\t} else if (isThisYear(date)) {\n\t\tfmt = timeFormat(dateTime, 'mm月dd日 hh:MM')\n\t}\n\treturn fmt\n\n\n\n}\n\n// 是否是今年\nconst isThisYear = (date) => {\n\tconst now = new Date()\n\treturn date.getYear() == now.getYear()\n}\n\n\n// 是否是今月\nconst isThisMonth = (date) => {\n\tconst now = new Date()\n\treturn isThisYear(date) && date.getMonth() == now.getMonth()\n}\n\n\n\n// 是否是今天\nconst isToday = (date) => {\n\tconst now = new Date()\n\treturn isThisMonth(date) && date.getDate() == now.getDate()\n}\n// 是否本周\nconst isThisWeak = (date) => {\n\tconst now = new Date()\n\tif (isThisMonth(date)) {\n\t\tif (now.getDay() - date.getDay() > 0 && now.getDate() - date.getDate() < 7) {\n\t\t\treturn true\n\t\t}\n\t} else {\n\t\treturn false\n\t}\n\n}\n","module.exports = \"data:image/png;base64,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\"","import request from '@/utils/request'\n\n// 直播间列表\nexport const apiLiveRoomLists = params => request.get('LiveRoom/lists', { params })\n\n\n","import request from '@/utils/request'\n\n// 抽奖记录\nexport const apiLuckyDrawRecord = params => request.get('lucky_draw/record', { params })\n\n// 中奖记录\nexport const apiLuckyDrawWinningList = params => request.get('lucky_draw/winningList', { params })\n\n// 抽奖活动信息\nexport const apiLuckyDrawActivity = params => request.get('lucky_draw/activity', {params})\n\n// 开始抽奖\nexport const apiLuckyDrawStart = params => request.post('lucky_draw/lottery', params)","// 订单Mixins\n\nimport {\n    apiCancelIntegralOrder,\n    apiDelIntegralOrder,\n    apiConfirmIntegralOrder,\n    getwechatSyncCheck,\n    getwxReceiveDetail\n} from '@/api/integral_mall'\nimport { compareWeChatVersion } from '@/utils/tools'\nimport store from '@/store'\n\nconst OrderMixin = {\n    data() {\n        return {\n            // 订单按钮组\n            ButtonsMap: {\n                payment: {\n                    event: 'payment',\n                    name: '立即付款',\n                    style: 'primary'\n                },\n                succeed: {\n                    event: 'succeed',\n                    name: '确认收货',\n                    style: 'normal'\n                },\n                express: {\n                    event: 'express',\n                    name: '查看物流',\n                    style: 'muted'\n                },\n                close: {\n                    event: 'close',\n                    name: '取消订单',\n                    style: 'muted'\n                },\n                delete: {\n                    event: 'delete',\n                    name: '删除订单',\n                    style: 'muted'\n                }\n            }\n        }\n    },\n\n    methods: {\n        // 获取订单状态按钮组\n        getOrderStatusButtons(buttonStatus) {\n            let buttons = []\n\n            // 删除\n            buttonStatus.del_btn && buttons.push(this.ButtonsMap['delete'])\n            // 取消\n            buttonStatus.cancel_btn && buttons.push(this.ButtonsMap['close'])\n            // 物流\n            buttonStatus.delivery_btn && buttons.push(this.ButtonsMap['express'])\n            // 收货\n            buttonStatus.confirm_btn && buttons.push(this.ButtonsMap['succeed'])\n            // 支付\n            buttonStatus.pay_btn && buttons.push(this.ButtonsMap['payment'])\n\n            return buttons\n        },\n\n        // 点击订单按钮映射处理方法\n        onOrderButtons(event, orderID, pay_way) {\n            switch (event) {\n                case 'payment':\n                    return this.handlePayment(orderID)\n                case 'succeed':\n                    return this.handleSucceed(orderID, pay_way)\n                case 'express':\n                    return this.handleExpress(orderID)\n                case 'close':\n                    return this.handleClose(orderID)\n                case 'delete':\n                    return this.handleDelete(orderID)\n            }\n        },\n\n        // 刷新订单数据\n        refreshOrderData() {\n            throw new Error('未初始化刷新方法')\n        },\n\n        // 处理：支付\n        handlePayment(orderID) {\n            this.$Router.push({\n                path: `/pages/payment/payment`,\n                query: {\n                    from: 'integral',\n                    order_id: orderID\n                }\n            })\n        },\n        // 小程序确认收货\n        comfirmReceive(transaction_id) {\n            return new Promise((resolve, reject) => {\n                wx.openBusinessView({\n                    businessType: 'weappOrderConfirm',\n                    extraData: {\n                        transaction_id\n                    },\n                    success({ extraData }) {\n                        if (extraData.status == 'success') {\n                            resolve('确认收货')\n                        } else {\n                            resolve('取消收货')\n                        }\n                    },\n                    fail(err) {\n                        reject(err)\n                    }\n                })\n            })\n        },\n        //查询是否收货成功\n        querycomfirmReceive(id) {\n            return new Promise((resolve, reject) => {\n                getwechatSyncCheck({ id })\n                    .then((data) => {\n                        if (data.order.order_state === 4) {\n                            resolve('已确认收货')\n                        } else {\n                            reject('未确认收货')\n                        }\n                    })\n                    .catch((err) => {\n                        reject(err)\n                    })\n            })\n        },\n        // 处理：确认收货\n        async handleSucceed(orderID, pay_way) {\n            console.log(pay_way)\n\n            if (store.state.app.config.mini_express_send_sync) {\n                let res = {}\n                if (pay_way === 2) {\n                    res = await getwechatSyncCheck({ id: orderID })\n                }\n                if (\n                    compareWeChatVersion('2.6.0') === 1 &&\n                    wx.openBusinessView &&\n                    pay_way === 2 &&\n                    res.order.order_state !== 1\n                ) {\n                    try {\n                        const { transaction_id } = await getwxReceiveDetail({\n                            order_id: orderID\n                        })\n                        await this.comfirmReceive(transaction_id)\n                        await this.querycomfirmReceive(orderID)\n                        await apiConfirmIntegralOrder({ id: orderID })\n                    } catch (error) {\n                        console.log(error)\n                    }\n                    this.refreshOrderData()\n                } else {\n                    uni.showModal({\n                        title: '温馨提示',\n                        content: '是否确认收货?',\n                        confirmColor: this.themeColor,\n                        success: ({ confirm }) => {\n                            if (!confirm) return\n                            // uni.showLoading()\n                            // 取消订单\n                            apiConfirmIntegralOrder({\n                                id: orderID\n                            })\n                                .then((data) => {\n                                    this.$toast({ title: '收货成功' })\n                                    this.refreshOrderData()\n                                })\n                                .catch((err) => {\n                                    console.log(err)\n                                })\n                                .finally(() => {\n                                    // uni.hideLoading()\n                                })\n                        }\n                    })\n                }\n            } else {\n                uni.showModal({\n                    title: '温馨提示',\n                    content: '是否确认收货?',\n                    confirmColor: this.themeColor,\n                    success: ({ confirm }) => {\n                        if (!confirm) return\n                        // uni.showLoading()\n                        // 取消订单\n                        apiConfirmIntegralOrder({\n                            id: orderID\n                        })\n                            .then((data) => {\n                                this.$toast({ title: '收货成功' })\n                                this.refreshOrderData()\n                            })\n                            .catch((err) => {\n                                console.log(err)\n                            })\n                            .finally(() => {\n                                // uni.hideLoading()\n                            })\n                    }\n                })\n            }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n        },\n\n        // 处理：查看物流\n        handleExpress(orderID) {\n            this.$Router.push({\n                path: '/bundle/pages/order_logistics/order_logistics',\n                query: { order_id: orderID, type: 'integral' }\n            })\n        },\n\n        // 处理：关闭订单\n        handleClose(orderID) {\n            uni.showModal({\n                title: '温馨提示',\n                content: '是否取消订单?',\n                confirmColor: this.themeColor,\n                success: ({ confirm }) => {\n                    if (!confirm) return\n                    // uni.showLoading()\n                    // 取消订单\n                    apiCancelIntegralOrder({\n                        id: orderID\n                    })\n                        .then((data) => {\n                            this.$toast({ title: '取消成功' })\n                            this.refreshOrderData()\n                        })\n                        .catch((err) => {\n                            console.log(err)\n                        })\n                        .finally(() => {\n                            // uni.hideLoading()\n                        })\n                }\n            })\n        },\n\n        // 处理：删除订单\n        handleDelete(orderID) {\n            uni.showModal({\n                title: '温馨提示',\n                content: '是否删除订单?',\n                confirmColor: this.themeColor,\n                success: ({ confirm }) => {\n                    if (!confirm) return\n                    // uni.showLoading()\n                    // 取消订单\n                    apiDelIntegralOrder({\n                        id: orderID\n                    })\n                        .then((data) => {\n                            this.$toast({ title: '删除成功' })\n                            this.refreshOrderData()\n                        })\n                        .catch((err) => {\n                            console.log(err)\n                        })\n                        .finally(() => {\n                            // uni.hideLoading()\n                        })\n                }\n            })\n        }\n    }\n}\n\nexport default OrderMixin\n"],"sourceRoot":""}
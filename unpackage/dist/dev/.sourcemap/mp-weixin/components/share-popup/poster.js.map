{"version":3,"sources":["webpack:////Users/lisicheng/project/mobile/components/share-popup/poster.vue?4192","webpack:////Users/lisicheng/project/mobile/components/share-popup/poster.vue?f503","webpack:////Users/lisicheng/project/mobile/components/share-popup/poster.vue?4b4a","webpack:////Users/lisicheng/project/mobile/components/share-popup/poster.vue?21c5","uni-app:///components/share-popup/poster.vue"],"names":["name","props","options","type","default","qrcode","link","poster_img","data","computed","price","prev","next","marketPrice","getConfig","show","style","getGoods","methods","handleFail","drawCanvas","fileType","pathType","quality","success"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmH;AACnH;AAC0D;AACL;;;AAGrD;AAC6M;AAC7M,gBAAgB,iNAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,iFAAM;AACR,EAAE,0FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,gUAEN;AACP,KAAK;AACL;AACA,aAAa,oWAEN;AACP,KAAK;AACL;AACA,aAAa,8VAEN;AACP,KAAK;AACL;AACA,aAAa,8VAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACpMA;AAAA;AAAA;AAAA;AAAqzB,CAAgB,oyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;gBCoLz0B;EACAA;EACAC;IACAC;MACAC;MACAC;QAAA;MAAA;IACA;IACAC;MACAF;MACAC;IACA;IACAE;MACAH;MACAC;IACA;IACAD;MACAA;MACAC;IACA;IACAG;MACAJ;MACAC;IACA;EACA;EACAI;IACA;EACA;EACAC;IACAC;MACA;MACA;MACA;MACA;QACAC;QACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA,OACA;QACAC;QACAC;MACA;IAEA;IACAC;MACA;IACA;EACA;EACAC;IACAC;MACA;IACA;IACAC;MAAA;MACA;MACA;QACAC;QACA;QACAC;QACAC;QACAC;UACA;QACA;MACA;IACA;EACA;AACA;AAAA,4B","file":"components/share-popup/poster.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./poster.vue?vue&type=template&id=ebf1be8e&\"\nvar renderjs\nimport script from \"./poster.vue?vue&type=script&lang=js&\"\nexport * from \"./poster.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/share-popup/poster.vue\"\nexport default component.exports","export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./poster.vue?vue&type=template&id=ebf1be8e&\"","var components\ntry {\n  components = {\n    lPainter: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/lime-painter/components/l-painter/l-painter\" */ \"@/uni_modules/lime-painter/components/l-painter/l-painter.vue\"\n      )\n    },\n    lPainterImage: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/lime-painter/components/l-painter-image/l-painter-image\" */ \"@/uni_modules/lime-painter/components/l-painter-image/l-painter-image.vue\"\n      )\n    },\n    lPainterView: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/lime-painter/components/l-painter-view/l-painter-view\" */ \"@/uni_modules/lime-painter/components/l-painter-view/l-painter-view.vue\"\n      )\n    },\n    lPainterText: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/lime-painter/components/l-painter-text/l-painter-text\" */ \"@/uni_modules/lime-painter/components/l-painter-text/l-painter-text.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var a0 = {\n    width: \"640rpx\",\n    height: \"960rpx\",\n    \"border-radius\": \"10rpx\",\n    background: \"#fff\",\n    overflow: \"hidden\",\n  }\n  var a1 =\n    _vm.getConfig.background_type &&\n    (_vm.getConfig.show.goods_img || _vm.getConfig.id == 3)\n      ? {\n          position: \"absolute\",\n          top: _vm.getConfig.id == 1 ? \"120rpx\" : 0,\n          left: _vm.getConfig.id == 1 ? \"40rpx\" : 0,\n          \"object-fit\": \"cover\",\n          \"object-position\": \"center\",\n          width: _vm.getConfig.id == 1 ? \"560rpx\" : \"640rpx\",\n          height:\n            _vm.getConfig.id == 1\n              ? \"560rpx\"\n              : _vm.getConfig.id == 2\n              ? \"640rpx\"\n              : \"960rpx\",\n        }\n      : null\n  var a2 = _vm.getConfig.background_type\n    ? {\n        position: \"absolute\",\n        left: \"40rpx\",\n        top: \"20rpx\",\n        display: \"flex\",\n        \"align-items\": \"center\",\n      }\n    : null\n  var a3 =\n    _vm.getConfig.background_type && _vm.getConfig.show.user_avtar\n      ? {\n          width: \"72rpx\",\n          height: \"72rpx\",\n          \"border-radius\": \"50%\",\n        }\n      : null\n  var a4 =\n    _vm.getConfig.background_type && _vm.getConfig.show.user_name\n      ? {\n          color: _vm.getConfig.style.user_name,\n          \"line-clamp\": 1,\n          \"margin-left\": \"18rpx\",\n          width: \"400rpx\",\n        }\n      : null\n  var a5 = _vm.getConfig.background_type\n    ? {\n        position: \"absolute\",\n        top: _vm.getConfig.id == 1 ? \"700rpx\" : \"770rpx\",\n        left: _vm.getConfig.qrcode_align == 2 ? \"40rpx\" : \"230rpx\",\n        \"vertical-align\": \"bottom\",\n        lineHeight: \"1.4em\",\n      }\n    : null\n  var a6 =\n    _vm.getConfig.background_type &&\n    _vm.getConfig.show.goods_sale_price &&\n    _vm.getConfig.id != 3\n      ? {\n          color: _vm.getConfig.style.goods_sale_price,\n          display: \"inline-block\",\n        }\n      : null\n  var a7 =\n    _vm.getConfig.background_type &&\n    _vm.getConfig.show.goods_origin_price &&\n    _vm.getConfig.id != 3\n      ? {\n          fontSize: \"28rpx\",\n          \"vertical-align\": \"bottom\",\n          \"padding-left\": \"10rpx\",\n          \"text-decoration\": \"line-through\",\n          color: _vm.getConfig.style.goods_origin_price,\n        }\n      : null\n  var a8 =\n    _vm.getConfig.background_type &&\n    _vm.getConfig.show.goods_name &&\n    _vm.getConfig.id != 3\n      ? {\n          position: \"absolute\",\n          top: _vm.getConfig.id == 1 ? \"780rpx\" : \"660rpx\",\n          left:\n            _vm.getConfig.qrcode_align == 2 || _vm.getConfig.id == 2\n              ? \"40rpx\"\n              : \"230rpx\",\n          \"line-clamp\": 2,\n          lineHeight: \"1.5em\",\n          fontSize: \"30rpx\",\n          width: _vm.getConfig.id == 1 ? \"380rpx\" : \"560rpx\",\n          color: _vm.getConfig.style.goods_name,\n        }\n      : null\n  var a9 =\n    _vm.getConfig.background_type && _vm.getConfig.show.qrcode\n      ? {\n          position: \"absolute\",\n          top:\n            _vm.getConfig.id == 1 || _vm.getConfig.id == 3\n              ? \"730rpx\"\n              : \"770rpx\",\n          left: _vm.getConfig.qrcode_align == 2 ? \"440rpx\" : \"40rpx\",\n        }\n      : null\n  var a10 =\n    _vm.getConfig.background_type && _vm.getConfig.show.qrcode_title\n      ? {\n          position: \"absolute\",\n          top:\n            _vm.getConfig.id == 1 || _vm.getConfig.id == 3\n              ? \"900rpx\"\n              : \"870rpx\",\n          left:\n            _vm.getConfig.id == 1 || _vm.getConfig.id == 3\n              ? _vm.getConfig.qrcode_align == 1\n                ? \"40rpx\"\n                : \"440rpx\"\n              : _vm.getConfig.qrcode_align == 1\n              ? \"230rpx\"\n              : \"40rpx\",\n          fontSize: \"24rpx\",\n          color: _vm.getConfig.style.qrcode_title,\n        }\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        a0: a0,\n        a1: a1,\n        a2: a2,\n        a3: a3,\n        a4: a4,\n        a5: a5,\n        a6: a6,\n        a7: a7,\n        a8: a8,\n        a9: a9,\n        a10: a10,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./poster.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./poster.vue?vue&type=script&lang=js&\"","<template>\n    <view>\n        <l-painter\n            ref=\"painter\"\n            :css=\"{\n                width: '640rpx',\n                height: '960rpx',\n                'border-radius': '10rpx',\n                background: '#fff',\n                overflow: 'hidden'\n            }\"\n            @fail=\"handleFail\"\n            custom-style=\"position: fixed; left: 200%\"\n        >\n            <l-painter-image\n                v-if=\"getConfig.background_type == 2 && getConfig.id != 3\"\n                :src=\"getConfig.background_url\"\n                :css=\"{\n                    position: 'absolute',\n                    width: '640rpx'\n                }\"\n            />\n            <l-painter-view\n                v-if=\"getConfig.background_type\"\n                :css=\"{\n                    position: 'absolute'\n                }\"\n            >\n                <!-- getConfig.id == 3? options.goods.poster? options.goods.poster: options.goods.image: options.goods.image -->\n                <l-painter-image\n                    v-if=\"getConfig.show.goods_img || getConfig.id == 3\"\n                    :src=\"poster_img ? poster_img : options.goods.image\"\n                    :css=\"{\n                        position: 'absolute',\n                        top: getConfig.id == 1 ? '120rpx' : 0,\n                        left: getConfig.id == 1 ? '40rpx' : 0,\n                        'object-fit': 'cover',\n                        'object-position': 'center',\n                        width: getConfig.id == 1 ? '560rpx' : '640rpx',\n                        height:\n                            getConfig.id == 1 ? '560rpx' : getConfig.id == 2 ? '640rpx' : '960rpx'\n                    }\"\n                />\n                <l-painter-view\n                    :css=\"{\n                        position: 'absolute',\n                        left: '40rpx',\n                        top: '20rpx',\n                        display: 'flex',\n                        'align-items': 'center'\n                    }\"\n                >\n                    <l-painter-image\n                        v-if=\"getConfig.show.user_avtar\"\n                        :src=\"options.avatar\"\n                        :css=\"{\n                            width: '72rpx',\n                            height: '72rpx',\n                            'border-radius': '50%'\n                        }\"\n                    />\n                    <l-painter-text\n                        v-if=\"getConfig.show.user_name\"\n                        :text=\"`来自${options.nickname}的分享`\"\n                        :css=\"{\n                            color: getConfig.style.user_name,\n                            'line-clamp': 1,\n                            'margin-left': '18rpx',\n                            width: '400rpx'\n                        }\"\n                    />\n                </l-painter-view>\n\n                <l-painter-view\n                    :css=\"{\n                        position: 'absolute',\n                        top: getConfig.id == 1 ? '700rpx' : '770rpx',\n                        left: getConfig.qrcode_align == 2 ? '40rpx' : '230rpx',\n                        'vertical-align': 'bottom',\n                        lineHeight: '1.4em'\n                    }\"\n                >\n                    <l-painter-view\n                        v-if=\"getConfig.show.goods_sale_price && getConfig.id != 3\"\n                        :css=\"{\n                            color: getConfig.style.goods_sale_price,\n                            display: 'inline-block'\n                        }\"\n                    >\n                        <l-painter-text\n                            text=\"￥\"\n                            :css=\"{\n                                fontSize: '28rpx'\n                            }\"\n                        />\n                        <l-painter-text\n                            v-if=\"price.prev\"\n                            :text=\"price.prev\"\n                            :css=\"{\n                                fontSize: '42rpx'\n                            }\"\n                        />\n                        <l-painter-text\n                            v-if=\"price.next\"\n                            :text=\"price.next\"\n                            :css=\"{\n                                fontSize: '28rpx'\n                            }\"\n                        />\n                    </l-painter-view>\n                    <l-painter-text\n                        v-if=\"getConfig.show.goods_origin_price && getConfig.id != 3\"\n                        :text=\"marketPrice\"\n                        :css=\"{\n                            fontSize: '28rpx',\n                            'vertical-align': 'bottom',\n                            'padding-left': '10rpx',\n                            'text-decoration': 'line-through',\n                            color: getConfig.style.goods_origin_price\n                        }\"\n                    />\n                </l-painter-view>\n                <l-painter-text\n                    v-if=\"getConfig.show.goods_name && getConfig.id != 3\"\n                    :css=\"{\n                        position: 'absolute',\n                        top: getConfig.id == 1 ? '780rpx' : '660rpx',\n                        left: getConfig.qrcode_align == 2 || getConfig.id == 2 ? '40rpx' : '230rpx',\n                        'line-clamp': 2,\n                        lineHeight: '1.5em',\n                        fontSize: '30rpx',\n                        width: getConfig.id == 1 ? '380rpx' : '560rpx',\n                        color: getConfig.style.goods_name\n                    }\"\n                    :text=\"getGoods.name\"\n                >\n                </l-painter-text>\n                <l-painter-view\n                    v-if=\"getConfig.show.qrcode\"\n                    :css=\"{\n                        position: 'absolute',\n                        top: getConfig.id == 1 || getConfig.id == 3 ? '730rpx' : '770rpx',\n                        left: getConfig.qrcode_align == 2 ? '440rpx' : '40rpx'\n                    }\"\n                >\n                    <!-- #ifdef H5 || APP-PLUS -->\n                    <l-painter-qrcode\n                        css=\"width: 150rpx; height: 150rpx;background-color: white;padding:10rpx\"\n                        :text=\"link\"\n                    >\n                    </l-painter-qrcode>\n                    <!--  #endif -->\n                    <!-- #ifdef MP -->\n                    <l-painter-image :src=\"qrcode\" css=\"width: 160rpx; height: 160rpx;\" />\n                    <!--  #endif -->\n                </l-painter-view>\n                <l-painter-text\n                    v-if=\"getConfig.show.qrcode_title\"\n                    text=\"长按识别二维码\"\n                    :css=\"{\n                        position: 'absolute',\n                        top: getConfig.id == 1 || getConfig.id == 3 ? '900rpx' : '870rpx',\n                        left:\n                            getConfig.id == 1 || getConfig.id == 3\n                                ? getConfig.qrcode_align == 1\n                                    ? '40rpx'\n                                    : '440rpx'\n                                : getConfig.qrcode_align == 1\n                                ? '230rpx'\n                                : '40rpx',\n                        fontSize: '24rpx',\n                        color: getConfig.style.qrcode_title\n                    }\"\n                />\n            </l-painter-view>\n        </l-painter>\n    </view>\n</template>\n\n<script>\nexport default {\n    name: 'share-poster',\n    props: {\n        options: {\n            type: Object,\n            default: () => ({})\n        },\n        qrcode: {\n            type: [String],\n            default: ''\n        },\n        link: {\n            type: String,\n            default: ''\n        },\n        type: {\n            type: String,\n            default: 'goods'\n        },\n        poster_img: {\n            type: String,\n            default: ''\n        }\n    },\n    data() {\n        return {}\n    },\n    computed: {\n        price() {\n            let { min_price } = this.getGoods\n            if (min_price == undefined) return {}\n            let price = String(parseFloat(min_price)).split('.')\n            return {\n                prev: price[0],\n                next: price[1] ? `.${price[1]}` : ''\n            }\n        },\n        marketPrice() {\n            return `￥${parseFloat(this.getGoods.min_lineation_price)}`\n        },\n        getConfig() {\n            return (\n                this.options.config || {\n                    show: {},\n                    style: {}\n                }\n            )\n        },\n        getGoods() {\n            return this.options.goods || {}\n        }\n    },\n    methods: {\n        handleFail() {\n            this.$emit('fail')\n        },\n        drawCanvas() {\n            // 生成图片\n            this.$refs.painter.canvasToTempFilePathSync({\n                fileType: 'png',\n                // 如果返回的是base64是无法使用 saveImageToPhotosAlbum，需要设置 pathType为url\n                pathType: 'url',\n                quality: 1,\n                success: (res) => {\n                    this.$emit('success', res.tempFilePath)\n                }\n            })\n        }\n    }\n}\n</script>\n\n<style></style>\n"],"sourceRoot":""}
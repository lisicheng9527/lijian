(global["webpackJsonp"] = global["webpackJsonp"] || []).push([["common/vendor"],{

/***/ 1:
/*!*********************************************************!*\
  !*** ./node_modules/@dcloudio/uni-mp-weixin/dist/wx.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var objectKeys = ['qy', 'env', 'error', 'version', 'lanDebug', 'cloud', 'serviceMarket', 'router', 'worklet', '__webpack_require_UNI_MP_PLUGIN__'];
var singlePageDisableKey = ['lanDebug', 'router', 'worklet'];
var target = typeof globalThis !== 'undefined' ? globalThis : function () {
  return this;
}();
var key = ['w', 'x'].join('');
var oldWx = target[key];
var launchOption = oldWx.getLaunchOptionsSync ? oldWx.getLaunchOptionsSync() : null;
function isWxKey(key) {
  if (launchOption && launchOption.scene === 1154 && singlePageDisableKey.includes(key)) {
    return false;
  }
  return objectKeys.indexOf(key) > -1 || typeof oldWx[key] === 'function';
}
function initWx() {
  var newWx = {};
  for (var _key in oldWx) {
    if (isWxKey(_key)) {
      // TODO wrapper function
      newWx[_key] = oldWx[_key];
    }
  }
  return newWx;
}
target[key] = initWx();
var _default = target[key];
exports.default = _default;

/***/ }),

/***/ 10:
/*!****************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/nonIterableRest.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function _nonIterableRest() {
  throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
module.exports = _nonIterableRest, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 11:
/*!***************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/defineProperty.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var toPropertyKey = __webpack_require__(/*! ./toPropertyKey.js */ 12);
function _defineProperty(obj, key, value) {
  key = toPropertyKey(key);
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }
  return obj;
}
module.exports = _defineProperty, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 111:
/*!**********************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/components/mescroll-uni/mescroll-mixins.js ***!
  \**********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
// mescroll-body 和 mescroll-uni 通用

// import MescrollUni from "./mescroll-uni.vue";
// import MescrollBody from "./mescroll-body.vue";

var MescrollMixin = {
  // components: { // 非H5端无法通过mixin注册组件, 只能在main.js中注册全局组件或具体界面中注册
  // 	MescrollUni,
  // 	MescrollBody
  // },
  data: function data() {
    return {
      mescroll: null //mescroll实例对象
    };
  },
  // 注册系统自带的下拉刷新 (配置down.native为true时生效, 还需在pages配置enablePullDownRefresh:true;详请参考mescroll-native的案例)
  onPullDownRefresh: function onPullDownRefresh() {
    this.mescroll && this.mescroll.onPullDownRefresh();
  },
  // 注册列表滚动事件,用于判定在顶部可下拉刷新,在指定位置可显示隐藏回到顶部按钮 (此方法为页面生命周期,无法在子组件中触发, 仅在mescroll-body生效)
  onPageScroll: function onPageScroll(e) {
    this.mescroll && this.mescroll.onPageScroll(e);
  },
  // 注册滚动到底部的事件,用于上拉加载 (此方法为页面生命周期,无法在子组件中触发, 仅在mescroll-body生效)
  onReachBottom: function onReachBottom() {
    this.mescroll && this.mescroll.onReachBottom();
  },
  methods: {
    // mescroll组件初始化的回调,可获取到mescroll对象
    mescrollInit: function mescrollInit(mescroll) {
      this.mescroll = mescroll;
      this.mescrollInitByRef(); // 兼容字节跳动小程序
    },
    // 以ref的方式初始化mescroll对象 (兼容字节跳动小程序)
    mescrollInitByRef: function mescrollInitByRef() {
      if (!this.mescroll || !this.mescroll.resetUpScroll) {
        var mescrollRef = this.$refs.mescrollRef;
        if (mescrollRef) this.mescroll = mescrollRef.mescroll;
      }
    },
    // 下拉刷新的回调 (mixin默认resetUpScroll)
    downCallback: function downCallback() {
      var _this = this;
      if (this.mescroll.optUp.use) {
        this.mescroll.resetUpScroll();
      } else {
        setTimeout(function () {
          _this.mescroll.endSuccess();
        }, 500);
      }
    },
    // 上拉加载的回调
    upCallback: function upCallback() {
      var _this2 = this;
      // mixin默认延时500自动结束加载
      setTimeout(function () {
        _this2.mescroll.endErr();
      }, 500);
    }
  },
  mounted: function mounted() {
    this.mescrollInitByRef(); // 兼容字节跳动小程序, 避免未设置@init或@init此时未能取到ref的情况
  }
};
var _default = MescrollMixin;
exports.default = _default;

/***/ }),

/***/ 112:
/*!****************************************************!*\
  !*** /Users/lisicheng/project/lijian/api/goods.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.apicheckCanBuy = exports.apiSearchHistoryClear = exports.apiSearchHistory = exports.apiGoodsTeamPlace = exports.apiGoodsTeamList = exports.apiGoodsTeamHistory = exports.apiGoodsTeamDetail = exports.apiGoodsMarketing = exports.apiGoodsLists = exports.apiGoodsDetail = exports.apiGoodsCommentList = exports.apiGoodsCommentCategory = exports.apiGoodsCollectList = exports.apiGoodsCollect = exports.apiGoodsCategory = exports.apiBrandLists = void 0;
var _request = _interopRequireDefault(__webpack_require__(/*! @/utils/request */ 35));
/** S 商品 **/
// 获取首页商品列表
var apiGoodsLists = function apiGoodsLists(params) {
  return _request.default.get("goods/lists", {
    params: params
  });
};

// 获取商品详情
exports.apiGoodsLists = apiGoodsLists;
var apiGoodsDetail = function apiGoodsDetail(params) {
  return _request.default.get("goods/detail", {
    params: params
  });
};

// 商品搜索记录
exports.apiGoodsDetail = apiGoodsDetail;
var apiSearchHistory = function apiSearchHistory() {
  return _request.default.get("goods/searchRecord");
};

// 清空商品搜索记录
exports.apiSearchHistory = apiSearchHistory;
var apiSearchHistoryClear = function apiSearchHistoryClear() {
  return _request.default.post("goods/clearRecord");
};

// 商品分类
exports.apiSearchHistoryClear = apiSearchHistoryClear;
var apiGoodsCategory = function apiGoodsCategory() {
  return _request.default.get("goodsCategory/lists");
};

// 商品营销
exports.apiGoodsCategory = apiGoodsCategory;
var apiGoodsMarketing = function apiGoodsMarketing(params) {
  return _request.default.get("goods/goodsMarketing", {
    params: params
  });
};
/** E 商品 **/

/** S 收藏 **/
// 商品收藏
exports.apiGoodsMarketing = apiGoodsMarketing;
var apiGoodsCollect = function apiGoodsCollect(params) {
  return _request.default.post("collect/handleCollectgoods", params);
};

// 商品收藏列表
exports.apiGoodsCollect = apiGoodsCollect;
var apiGoodsCollectList = function apiGoodsCollectList(params) {
  return _request.default.get("collect/lists", {
    params: params
  });
};
/** E 收藏 **/

/** S 评价 **/
// 商品评价分类
exports.apiGoodsCollectList = apiGoodsCollectList;
var apiGoodsCommentCategory = function apiGoodsCommentCategory(params) {
  return _request.default.get("goods_comment/commentCategory", {
    params: params
  });
};

// 商品评价列表
exports.apiGoodsCommentCategory = apiGoodsCommentCategory;
var apiGoodsCommentList = function apiGoodsCommentList(params) {
  return _request.default.get("goods_comment/lists", {
    params: params
  });
};
/** E 评价 **/

/** S 拼团商品 **/
// 列表
exports.apiGoodsCommentList = apiGoodsCommentList;
var apiGoodsTeamList = function apiGoodsTeamList(params) {
  return _request.default.get("team/lists", {
    params: params
  });
};

// 详情
exports.apiGoodsTeamList = apiGoodsTeamList;
var apiGoodsTeamDetail = function apiGoodsTeamDetail(params) {
  return _request.default.get("team/detail", {
    params: params
  });
};

// 开团/参团
exports.apiGoodsTeamDetail = apiGoodsTeamDetail;
var apiGoodsTeamPlace = function apiGoodsTeamPlace(params) {
  return _request.default.post("team/kaituan", params);
};

// 记录
exports.apiGoodsTeamPlace = apiGoodsTeamPlace;
var apiGoodsTeamHistory = function apiGoodsTeamHistory(params) {
  return _request.default.get("team/record", {
    params: params
  });
};
/** S 拼团商品 **/

//品牌列表
exports.apiGoodsTeamHistory = apiGoodsTeamHistory;
var apiBrandLists = function apiBrandLists(params) {
  return _request.default.get("goods_brand/lists", {
    params: params
  });
};
//商品购买检测
exports.apiBrandLists = apiBrandLists;
var apicheckCanBuy = function apicheckCanBuy(params) {
  return _request.default.get("goods/checkCanBuy", {
    params: params
  });
};
exports.apicheckCanBuy = apicheckCanBuy;

/***/ }),

/***/ 1129:
/*!***********************************************************************!*\
  !*** /Users/lisicheng/project/lijian/static/images/icon_portrait.png ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG4AAABuCAMAAADxhdbJAAAB4FBMVEUAAAD////////+sJH+r47628/9tpr71sf9vqX64tj4+vr69fX+s5b57ej4+fr4+vr4+Pf4+fn4+Pf39vX39/b71MT4+vv18/H89PT64NX63tP4+Pj4+fn49/b59PL48/L69/f59vb57ur8yrb8yLT4+Pj49/b59vb49vX59vb49/X4+Pf49/f48e749/f70L/9war4/P74+fr39/n4+Pf49/b49vX73ND72Mr8zrz9v6b49/b4+fn49/f59/f4+Pj4+Pb4+Pb9wan/p4T49/f49/b59/f59vX39vb39/f++Pj////49PP80sL8w6772cz49/b4+Pf59fX49vT59vX69fX29vb////8z738zLn9spX59vb39/f64db73tL8xbD56OH59/b/on7/////o3///v3/n3r/oHv/nXf/nnj/oXz4/v/4/f7/nHb/pYD49vX/qoj4+fr4+/z/rIr49fP4/P3/qIX4+Pf/9PH/08L/m3T4+vv//Pr/4tb/zrv/9/T58vH/7OT/5tv/xK3/spP/18f/yrb/uJz/tZj/ro3/pYL/39L/28358e3/7+j/6eD65t7/wKj/vKL/s5X/+ff/0b//x7P/uZ7/8ez/sJD/mnP56uX/rIz/2cn/p4P/pIHzqTa8AAAAYnRSTlMAAgT+/vz+/f38+y3+/PXr6ePWhhr88hcT/fzs2LBPNzEp/v398KiSgGNKQCP+/Pz78/HKtLJv/fz8/N3c0b63jkT+/rqsoWdSHhAG/f39/ODGnXRaMx0K/Pz8dTv+/f37eYAbf38AAAmxSURBVGjerZpnWxNBEICDdBCkCCpgQ5ooKAiIoth7772FZXsujQRMQu9NpGP/q+4d4ImX7B6G+RLIs9n3ZnZ2bmZ3HLYkIcH42LV/36OrJ87k7sj2erN35J45cfXRvv27zBFbI9v0qXZXVzXm1XHu63S73R1CxEenj/O6vMaqC7t14LatYCXovMym1uwwZx3f0lPLlocSkzzBoD8pcWi5LDX9Wwfj4ezWpkydplZRbcWdTZfrWdj9LfX4Sw8MYQgRopQihCDEIeh5eTz1mzvM6i837dTHx6nZgcp6zqeL3iUB5CIU6OJcE6ALJS4EksqKpjmvrzwg1VBNO3KlkLtPnk6CGBnT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"

/***/ }),

/***/ 12:
/*!**************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/toPropertyKey.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var _typeof = __webpack_require__(/*! ./typeof.js */ 13)["default"];
var toPrimitive = __webpack_require__(/*! ./toPrimitive.js */ 14);
function toPropertyKey(t) {
  var i = toPrimitive(t, "string");
  return "symbol" == _typeof(i) ? i : i + "";
}
module.exports = toPropertyKey, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 1209:
/*!********************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/components/uview-ui/libs/util/emitter.js ***!
  \********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
/**
 * 递归使用 call 方式this指向
 * @param componentName // 需要找的组件的名称
 * @param eventName // 事件名称
 * @param params // 需要传递的参数
 */
function _broadcast(componentName, eventName, params) {
  // 循环子节点找到名称一样的子节点 否则 递归 当前子节点
  this.$children.map(function (child) {
    if (componentName === child.$options.name) {
      child.$emit.apply(child, [eventName].concat(params));
    } else {
      _broadcast.apply(child, [componentName, eventName].concat(params));
    }
  });
}
var _default = {
  methods: {
    /**
     * 派发 (向上查找) (一个)
     * @param componentName // 需要找的组件的名称
     * @param eventName // 事件名称
     * @param params // 需要传递的参数
     */
    dispatch: function dispatch(componentName, eventName, params) {
      var parent = this.$parent || this.$root; //$parent 找到最近的父节点 $root 根节点
      var name = parent.$options.name; // 获取当前组件实例的name
      // 如果当前有节点 && 当前没名称 且 当前名称等于需要传进来的名称的时候就去查找当前的节点
      // 循环出当前名称的一样的组件实例
      while (parent && (!name || name !== componentName)) {
        parent = parent.$parent;
        if (parent) {
          name = parent.$options.name;
        }
      }
      // 有节点表示当前找到了name一样的实例
      if (parent) {
        parent.$emit.apply(parent, [eventName].concat(params));
      }
    },
    /**
     * 广播 (向下查找) (广播多个)
     * @param componentName // 需要找的组件的名称
     * @param eventName // 事件名称
     * @param params // 需要传递的参数
     */
    broadcast: function broadcast(componentName, eventName, params) {
      _broadcast.call(this, componentName, eventName, params);
    }
  }
};
exports.default = _default;

/***/ }),

/***/ 1278:
/*!*******************************************************************!*\
  !*** /Users/lisicheng/project/lijian/static/images/icon_list.png ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABIBAMAAACnw650AAAAIVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABt0UjBAAAACnRSTlMA9Qrs0caTehoUGVIRjQAAAFBJREFUSMdjGAUgoIQXgJVwlgjiBe4TgIpaVxEAEUBFWVL41SxcxsDAZEXIpMUKRCkixjpiHU44CIgJzFEwCkbz3Wi+GwXEg9F8N5rvhjQAAM0xuFaHADaHAAAAAElFTkSuQmCC"

/***/ }),

/***/ 1281:
/*!*******************************************************************!*\
  !*** /Users/lisicheng/project/lijian/static/images/icon_home.png ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAABYCAMAAABGS8AGAAAAYFBMVEX19fV5eXkAAABfX18zMzMzMzM0NDQzMzM6Ojo0NDQzMzMyMjIzMzMyMjIzMzM8PDw3Nzc0NDQzMzNBQUE1NTVDQ0MxMTE6OjozMzM0NDQ1NTUzMzNBQUE0NDQ2NjYzMzMumXzHAAAAH3RSTlMDBgAN9c6HfTVcnOGl+NgnR7LoGHUTxDjJunLtH49g7HtXvAAAAjNJREFUWMPtmduyojAQRdmdCIIC3vCu+f+/HMYYm6lkDpqOT4f1aMkq3LWkTJlN/A6ApDrWEgFf8V47NifUtmujCxBSe1cb07PeJjWDsKvNg2ZOQDqvqoxDl2yWz7s3A3JFSDTvgq08tNx7ro1l48zNgYB08+7bUhvLxQ4tmvfovJUimjevoUEQ1mupd70J1J2EQ3O9ls3q8dmRITc9XLRw3mP7lABU6mHRsnorLhfgobnouHrr8z93BrquvaFj6l3YeRkAuVd0TL3+paC7V3REvQi8xSs6pt4sgFd0VL0+EUX79YYZL3q8Xp9w0XH1MhFF+/WOMFb0eL3MSNER9TIjRcfUG1E019uTf/r9b4JF87yOgvDZE2v2v18dXG+MOHNir2iuVyL2hwbNtZGL2YwMT/HN1PalpUCsbxdjWbnraWnFSyokd9y2zSPWlxhU2noV5RLx4Vn0rHPiDMVGz1YkFPcNP0SHYRbXQ0eAXNyLOLceeyCSi/+KbBIO9N4EYivySCFmxsXwSSEGKAAgFhNUAJKKQe1J+1zyXi0Rg9TMBCmk4pUJ04Bk4rsJoxVBJC6/LNYDUoqXitnqlGJiVFoxHKnF2ZNJPIkn8SRmsYJF0d2KM7zorLjDC/WueEcgi7vjKvTYfIHjm+J9kTsKe1huqgH2LJgP2LwhjmNUXH1LvJSIy6CYj0+x1O0P4m1joqnYGzC3t5nHwqfx3nQ6q7CYzyIeKgA8CJ/+nUQhgldOTIzwB8uix6js5wfPAAAAAElFTkSuQmCC"

/***/ }),

/***/ 1282:
/*!*********************************************************************!*\
  !*** /Users/lisicheng/project/lijian/static/images/icon_search.png ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAABYCAMAAABGS8AGAAAAdVBMVEXu7u4zMzMAAABSUlJMTEwzMzM1NTU0NDQzMzMzMzM9PT0zMzMzMzMzMzMzMzM0NDQ5OTkzMzM0NDQ2NjY4ODg/Pz8/Pz8zMzM2NjZEREQ0NDQyMjIzMzM0NDQ0NDQzMzM2NjY1NTUzMzM2NjY3Nzc0NDQ2NjYOcGcpAAAAJ3RSTlMD/gAJD/ZptvHZKKawypd/MuBwUzshG+tMGIjlwqyg0V54u1hGkECkaGvdAAAD10lEQVRYw+2Z2XajMBBEocS+72BswEvs///EmbHATTAIRPw0J/WUw5EvrV4KRJRfbRW+6XNQlmdpUt/bNqgv54ejfQIO5Ebrx+pIpd+E0c/YgJY2ljqnk5HvR0MzOnVRxzrHPiy72TM8nf60Qg07uNFVXZWdQpqb6OMwfbMJQsMI7655KsfoVi5oaO5ox9ck00Zd7JzdEduPIMF1/FeszbmYDAUArQqOr/t+YXt641c8D4J+Zzvu695nbORm5RDMRcFyj1ev2xvYlodhl8cMwoX5q29u2MAt7GG41gYALBiyUW0ge/3iYNJIc9YGQ+83tzqFCHvuBROHK5wsc/KJs6HqyeYa92uIF2Msq+6+/Tf1Zdy5twOhmYKzyhVCnDW/D4CNpyX5yyRZgTOC4NJfFQwKrbIL0LV3LyrH7oOWX/Qg4B5K/kO6O5RandH1ANpQv8sKq5WjfIE1C74WYVoXE2stHGugfVJqbd/vSiKPYu6ne9E0YNCETqfwakQFY5qTuoOdpiBv4Y8vdxF84sbDRuCSh1cBAB+SyOQPkpQwCPieCiyYxLulwHtmTxtfUsK3xnF0kRkh4fc9jClFG9shmwzyuYtPGd736i2A3ZniAgWFSx2WM0xiooK+r+5m9zNv9FML51l8zIIj/VmVCIq8mL+cZFTcheWp1Bc1lrvYwy5wstzJqMkvZTW4py+7G5LYx22GxW5L9oEj/oSaBXv0wJUHH/TncAnA6T6wxsHacioMeTD5TDkbcUsmLycavXgWfP9Ju6XPH3eCHm9kweLpopua8mB6Wt5nwRlZnzy4ocovPUq/sIObx4LfwqSZ3le7OJ8H1/2873bNK0S9qGaQn7tYPAMdmeoeN1YdiF8JH5DkFrYoE/RGY0K+icU2A1eVdjh6R+00COyalsi2hJpgfY0L+cp1bGWCJM0TlcpVYcWluDYfY53jlk1S/awHthXOp/fwlZV2T04h8ZlAX48DD4uOkKtvE7FKHbHuVPpwiGTievQH3umr+XoB1VMGLGPzViWZTAwlz+ByI2Aeewh5yuRiPtMh7F4AmFKhJTy70jFXFqE9I2IYSXFu7ZGAtfkib+4j+jrW1kaaFVpUGWFwLVXSMYU2kL1NMbP7UHLi6+pUZg5FYUTGFnR2UlcUn5V/JMmYFSg3Idq+9I0gHbMCVrnWAvZk0JcWmZjp/JiYb51l+bWj9NhpzM2mmNmzafMqdH1L57K9+uYw4G1z3hCz3Kd/hWlcCkDU2ZhdtusfCwRdjNmF8lm9yMaHyWANfdD6eMx03Ph8zKUD5fMymuDjXOrNX/3qv9IfmBMtl0d3jZMAAAAASUVORK5CYII="

/***/ }),

/***/ 1283:
/*!********************************************************************!*\
  !*** /Users/lisicheng/project/lijian/static/images/icon_carts.png ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAABYCAMAAABGS8AGAAAAZlBMVEX4+PgAAACWlpYzMzM+Pj4zMzM0NDQzMzMyMjIzMzMzMzM/Pz82NjYzMzM4ODgzMzNiYmI2NjYzMzM2NjZISEgzMzMzMzM2NjYzMzM1NTU0NDQyMjIzMzMzMzMzMzM2NjYzMzMzMzNuKTMXAAAAIXRSTlMDAAb8IOFdpfTnwCdSySygDHXuTRbdkGYzmITXuNB+Q66PpAHBAAACTklEQVRYw+2Y6W7qQAyFxydhyb4Q4La3tM37v2TbmbRWIZITe4pUqYcfIOVgPPZnQ3B/+u1CUPSwjiZFjk1og0AUM196ueyDNqc2ZtwiG5PRKxmfCfECn33cELhqHSIHDtr/I8QsBae8JcRuXuIDPxAi4+a2Puf/oNgDMux9MQpC3JF2lPtSnwlG3ZT6cUzeHw0ZBVwHPvjAlyK1CYRZ7JJsY1P+8j0y4Its1u2QgU4+cGLV+HgduPycP62m6T1dBfYkGzW/FhCK3G+0yrjGcyS/DkrihrN/f9USZkmuQEo9TyOGuQUajqLT11JwLCZZu5Mxu8aYZMVOZlx58cqXZMlpQbuT5ULyTlZ+dzLF8ztZFfjAFAsXRclJyceRxWUUGqCnWEBGTbF82U6xnWS5iNwCNcUSNHqKZYOdYjvJXEK5CXaK7STLmMoWOR35UEaK5TbYKZbBkSnWm+Rk5GMpKZYboaRYRmepGNFFsNNicSqLDtZtl6q8cPGkVmjvPWR4VooBlXBfqSUjBUo3ihucBXzC/zRfm3DeOlFw5UOzW6WmGxzkJUg0DKAVgvdD4Bjlrjoeq6YEV83uB9X5OCmv2an2M2vZFxJjdmCnzQ+qs+lW3bc64xys/qcxWKanJ75i8fM/AH0/BpWcgsEP2oVP7oqiS24GVe0HtZVfgB29q5vurBl8tR+UHj/a0NcEUN1/vD6mnILC/9OBHYSjaf2gRmiGwh8Zt/gDcu+Rti+he65NXtyNsLh1foAIaSp81aj8gCNygk3nB25ssv9Pd9YbAiCdCMQd3WMAAAAASUVORK5CYII="

/***/ }),

/***/ 1284:
/*!*******************************************************************!*\
  !*** /Users/lisicheng/project/lijian/static/images/icon_user.png ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAABYCAMAAABGS8AGAAAAaVBMVEUAAAAzMzMqKioyMjIyMjIxMTExMTEwMDAyMjIzMzMwMDAyMjIyMjIzMzMyMjIyMjIyMjIvLy8yMjIxMTEyMjIyMjIzMzMzMzMyMjIzMzMyMjIzMzMyMjIxMTEvLy8yMjIxMTEzMzMzMzMmmSrTAAAAInRSTlMA+QjZvBbNIW3lKMdI4HtD8xtiWZDTmXVSqzbrpTAPPISJbdmu1wAAAz1JREFUWMPtmdnWmyAQgEUWUeO+JVFjft//IVsYsI1GS8CLXHTOSY5C+IRxNohnLn5R+N7ZEnU3EmMck4FH51FpitG8CMIpPQXrcyx5CMHXb8HcP0EJbJ4lTYu8Zc4KuYSA1XB9E17cuGUuUPBBYYiWmzkvneaL9EzjNLsHwT1LYz1z5DDnSOkBkb8gGUFKG9Z69mPF5a/tPAdybGsbHLh9tu7IeiBzS7+Q9rvVpS91LwTbeUoKE+ZvFwNTTq3AWI4l7zuJfCq2MglY7mXHEEFNkZUmhMR73Ux2dxbgm3CC/ZGp7L5ZgEGL2V53Bm/AwjuYAOf3vf47svSRIhE6DIO9/iCUllx8D9hUFd/z8gzN7ZscxMGl3YNQc3rY7FTYPDXQeweB3j01SeEnJ9NOpWniu6f/7F36D04tWNifguUbSyyLotCxjI2D7y28zbYK7pubW2cRd0y2Y/9FaAI+50OX67PZD1oU9HEqNiqfA2EMJwlmjAzP8gyLK651g+aVoKa+Fk7Lr24JkIS8XMzJUNmqhXJBlRwQfaVbMbfybcBqjobqS+hK+MfYjCnqgsz7MOzzBa/j5/QR9tEiMVazmyGtpjEKgmicqnRooBX4qP5A1SObl7G4vRZbU2nx8tSZjeaJbuGSC915sxeykHvD9Pdc9ApZf08EWsnThPujJ5L8ayJ+qesOE3KtE3FLDUy91Vn7x7DEnPPKM5Iqn40KT65+hkdjC8JqKvzw+YrLAs83DdQBU+TqqAgELqEfxZQYyPtnRD6BXzDgmpPZUVkLBiHN7OPyKUhgZP2+e1L2cPc+lruyjWlnI6TegYWUylUPzo9az0patcXa3SMlDzswhRzW0DeLQbaKgPGw4HJjao3Nbn67V2Xr5ito/2LN1YTr9hAB9vr2Ess139YmLlsrF3AFiTvYbTQXg8m18rxk8JxkmNHGr5u109m7X/OyCkhdNpo4poCpMM9R2MbgunkV9VwCRrd5d9wVzCWmXbkj0mtwcT60Cgsya6HJFTzBvxibc8zRFTzmAsz+pD7aCHAfuYKjXoAbujrSNXdo46PfRyMKTPZwBW85tXjSjxsVOOiV49cY174l7ZhDqRNxy/kFb82KEHfmVQgAAAAASUVORK5CYII="

/***/ }),

/***/ 1285:
/*!************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/static/images sync ^\.\/.*\.png$ ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./address_icon_del.png": 1286,
	"./address_icon_edit.png": 1287,
	"./bg_user.png": 1288,
	"./bg_user_grade.png": 1289,
	"./coupon_receive.png": 1290,
	"./coupon_wrap_bg.png": 1291,
	"./delivery_die.png": 1292,
	"./empty/address.png": 1293,
	"./empty/bank.png": 1294,
	"./empty/cart.png": 1295,
	"./empty/collect.png": 1296,
	"./empty/coupon.png": 1297,
	"./empty/coupon_icon.png": 1298,
	"./empty/evaluate.png": 1299,
	"./empty/gift.png": 1300,
	"./empty/money.png": 1301,
	"./empty/notice.png": 1302,
	"./empty/order.png": 1303,
	"./empty/shop.png": 1304,
	"./icon_back.png": 1305,
	"./icon_carts.png": 1283,
	"./icon_del.png": 1306,
	"./icon_fail.png": 1307,
	"./icon_generate_poster.png": 1308,
	"./icon_gou.png": 1309,
	"./icon_home.png": 1281,
	"./icon_list.png": 1278,
	"./icon_play.png": 1310,
	"./icon_portrait.png": 1129,
	"./icon_search.png": 1282,
	"./icon_success.png": 1311,
	"./icon_toutiao.png": 1312,
	"./icon_user.png": 1284,
	"./icon_wait.png": 1313,
	"./icon_wechat.png": 1314,
	"./icon_zhekou.png": 1315,
	"./notice_icon.png": 969,
	"./payment/icon_succeed.png": 1316,
	"./payment/icon_waiting.png": 1317,
	"./share_arrow.png": 1318,
	"./shop_stop.png": 1319
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = 1285;

/***/ }),

/***/ 1286:
/*!**************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/static/images/address_icon_del.png ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAAY1BMVEUAAABMTExUVFRLS0tJSUlUVFRTU1NQUFBTU1NUVFRUVFRTU1NTU1NSUlJUVFRTU1NTU1NSUlJRUVFUVFRQUFBUVFRRUVFUVFRUVFRTU1NTU1NRUVFTU1NSUlJPT09SUlJUVFTkY74MAAAAIHRSTlMABOgICu9qH39m3YLCJNOa4zIS7B3aKfTItXY4pk4YWeYK6XoAAADtSURBVDjL7ZKLasMwDEUly4m9LN3iPJum6/T/Xzl5D+bGTkKhlEJ7wBdkHQTGggeDWhPQ0po7dXxGMa3IJY/vASPvl91asQvrHTf1uox/FS7LRIR1wRNo+kVDz+qEvnGuYpkpgblRIcw+sz1FsnhVFao/dRPJgBrlJMDv1hxzdJCgP+5gDsILvwLG15ZzwJvLxoHQ9z5duyGXQy1FV0j/xOOG/MYGgJTSfjPKTbm9RDZP+XZydf0f/LQg5LlP+3HNfUbf+E+EQ1LO2UrGMxYnE86g1GTB8dAVEd3A/pkRhyxFZSEJJdAIl4Bwb3wBJNEbC5SX4qIAAAAASUVORK5CYII="

/***/ }),

/***/ 1287:
/*!***************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/static/images/address_icon_edit.png ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAATlBMVEUAAABiYmJaWlpISEhUVFRUVFRUVFRUVFRUVFRUVFRUVFRTU1NUVFRUVFRTU1NbW1tNTU1TU1NUVFRUVFRUVFRTU1NUVFRUVFRTU1NUVFTco7PoAAAAGXRSTlMAAg4G9+POF8bs4BPyuVULCVBL772CarFbWOf/6AAAAPlJREFUOMvl1M1ugzAQBGD/QWoXY0NI2n3/F61VJ5qsNrDHKMoIDvZ8+IDkNZ8Uy3NMdxtRtXV1LB6nCLtuMTxkosX43rifq7HMXoimNCBpWv+FNWWj3PHdLhTn6lns7dyNxhPHmWZsIM1+CVvi2clfB8u/D8mLk5lleADG9jesgmF1DKtjWAVz672CYRGJpbW/V/8MY30au21PHYJDBYxz77a9Pk0HuPXd3hZDOMR17PYQY9lrBePmGhVDGx0jr8JpFydgfgdljDvHAixvN2tmymgwN4qXKXOkBVhOJDaXiC6wmHU5BpmYV1g+RWVqa5T5rG/v/Lo3zx+WJwxUgI4XlwAAAABJRU5ErkJggg=="

/***/ }),

/***/ 1288:
/*!*****************************************************************!*\
  !*** /Users/lisicheng/project/lijian/static/images/bg_user.png ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAu4AAAGQAgMAAACMsw11AAAADFBMVEX///8AAAD///////8Il07uAAAABHRSTlMQAAsG6R1N+wAACLJJREFUeNrs2bFu1EAQgOGRTxQmcnmP4AZ0okrPI1AwhAIBj0CJqPIS26dx4VgW1ZZIvMT0lBF9GgqCrCgaInTxzs7s3qDc/wSfTrOz6wQulQ14sF49bnzE1I54W3zA1I54Wzxhag7xmNwRb4qfMLkj3hQ/YnL+8DMmd8Tn4329y4R4X08bGd7Z6+CR4wmT84fH9I74XLy314EI7+118LjxM6bnDj9geu7wEdNzhw+Ynjs8YXpHfB7e3wUrwPu7YAV4f3eUAO/vjhLg/d1RjxofUZA3fEBB3vCEgrzhUZIz/ISSnOFHlOQMP6MkZ3jZmneGjyjJGT6gJGd4QknO8CjKF35CUb7wI+Z1dvPz8gIAnl1ONyhIi9ev+Q+/zuHvnn4lFKTAq9f87wv4t2fy31+PDyjsA9Pv9/waZenxhKLOrmB/X1GUHo+i3p/DQz29Rs4Wr9+UX2Ctb8hZ4vWb8grWe4GcGV6/Kc8uIKXnyBnh9Zvy7BzSOiGshI+GdtZXwgdDO+sr4VPtP0DSiSleuyl/gKydIV67KT+DtF0F/GBs56IZXrds3kNGDRXHB+tFw50Ux5P5YeV2hfFTgYHnogVetWzeQHYNFcXPJYaGa4vihyJDw8WS+LC6aUBVUxJPZYaG2xXE40rvQFvQ4TXL5hy0nRTDz8VOKxdL4aP4XSCv0eAVy+YTWLQrhFfcrcp7Vo+f8ME+gk27Ivixwg/PP70xfij6w3NdCXwUfD6pogJ4EjwMVHUF8KUnniNz/Fh64rnOHD9U++GhIWt8LH65cr01ngTfINoaa3yFH547tcWPgne8vo0CLzuvb8G+oMCLzut3sK81xVOVPcmRJb7OceV6Q/xYZ09yjSF+qHRcuVM7fKh0XLnWDk+1jitHVvip2nHleiv8XO125TZW+Cj/86S+YIQP8q8QfZ0RvuKS5xob/FhzyXNbE/xQc2q4zgQfak4N15jgqerUcFsD/FR3arjOAD/XnRquMcDHylPDbQV44ci/hNJ1avxUe2q4Ro2fq79ruKDFx+q7hnuixVP11zC3EeAlI/8aakQ6/Kz4htLX6/BBMTX6Wh1e9eWtT4UfVdervlMNflAtSn3dOl4+8lCpjQavvF71hX1474tyqc/HR+WfKPW1+XhSvij1Ndn46eAjDxDu4f+rkQfoc/Hh4CMP0Obi8eAjD9Bk4mfd28B+6Bnv+yOK6/Pwin8pGNZm4UfFc9iyLHx0sOWXQg6eHGz5pT4DP6KDLb/UZuCjhy2/1GTgycnIAwTGa6fmFdSuF+Mj7ukl1K4T4wn3BNXbSPEjOrmilkiIj+jiVXbbVohHdHJFLfUy/IxerqilVoaP6Oe8AmxE+An39RoOEUnwM3o6rwBbCZ4QXXxF3fVEgJ/Q1XkFaAX4iOjlSXlbI8CTs/MKQMn4GZ2dV4BtMj6gq/t1qWf8+nH18x6+rWP8+nH18ScbbsP41R/e03v4NsavH1c33693Bcav7Uk/369/qDlj24aBGIo+R3ChIkAajeA+TfZgk73SaAoXHiErZIGMkTJQcviQDQsnHuDq35/ggaAeySu05m2FbxbebDkoOQq+7Um35UALguDbn6vVMq8Mgm950lI2IPhW4S1lI90ErcJbyka6CQz+bvCoboJG4T1lI90EeeFNZSPdBHnhXWUDgm8V3u6MUmbB54X3O6OUSfD5VuN3RiknwafrpOEZpTwX+KzwvqaEMYE//xfe2JQwFPjka3U2JQh+r2msTQmz4He+VmtTwiT4etN4m7K4Mkiaxnen1F4Z7O0F5qaEUfBJwxu+lq05CD5reLen+VueBF9reHvNQwX+cuOzvb6VOaiz+2sepqAqmg40D6cN/EWi6UHzcLyH/xRXF5qH8Q7+913pQvNwCHZaxnybLxmu8OeflaoXzUOgZt+g+2/zJV8sy/K9AetjRsEHFbA+ZhS81OD7mFHwWoPvY0Y14H1fnNrw5gM2hzcfsH/s2bERgDAQA8H+u6YCDjLWI6hgM93jB7w9sI3XBzbx+sAmXh/YxOsDm3j1/fgVXq+DxOt1UHi+DgrP10Hh+ToIvF8Hk/jP/28/4P0uC7zfZYH3uyzwfpcF3u+ySTwRlYH3o3ISTxTxJJ7I+Xv8ATl/iz+hiBfxRs4v4o1bZBFvHFKLeOMKXMQbJ+yPf/sh+IudOzYCAAZhGLj/1tkgRymd5Qm+BEJg9N/hr4HgGZOP8NeEv+ANM6fw14QfxzNGleGvCR+ekPDHhA9PSPhjwocnZBCv7qTCh1/Dq2eV4XvWCX9J+PEXcDVevbKixqvXtNR49WqiGq9ex1Xj1Svobrz624X6wwtj3reIZwxuFvGM2cfiZ141ntHELp4OYLRSi+cyGAX94okYNx5R0E8epELUxJNH2BBl5eThQURlNnlsE1HcfPD84mbytO8r726NJIZhMAxP7AkwMHQJ4ke2jyPq64hLSz9H1yT6IXk96eAB0ifJO5NF7Afv/Jw1YT945yfcCSP255V/W0AYsX+3ePjjx+8dHj5iyz2ePWLrPZ49Yg8Dj55S3cCjp9Rp4NFXrBh49JQaBh49paaBRx+CauDJU6pYeHLQHyYeHPTNxnOD/rTx3HNEbDw36IeN5270l43HZmVRG4/d6KsHT313ah48NStPFx6aleLCQ7NyuPDQrLxceGZWFnXhmXvl4cYD98ruxRNvcPHiiXEz/Hhe3Ew3HniDqxvPi5sawdPipgXwuNXsjOBpq9kngqfFzYzgYdtN0QgeFjdHEI+Kmx7Ds7YbieFZj/QzhmctCBrFg95uahgP6tgWxZM6VqJ40j0yonhSx2oCT+nYmsFTOrYn8JiOlQQeM2NnAo/pWM3gIVvxkcJD7tiewkPG1CePf/6OvfL4x8dU1Swe8KNgS+MBY0rSeMCYmnn84483Rb/xmxV9W/CbFb0s+M2Kfi74vYq+6ILfq+jbit+r6GXF71X0c8VvVfRFV/xWRd8W/D81nIc9wh8hJQAAAABJRU5ErkJggg=="

/***/ }),

/***/ 1289:
/*!***********************************************************************!*\
  !*** /Users/lisicheng/project/lijian/static/images/bg_user_grade.png ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAsYAAABSCAMAAABg3uL7AAAAY1BMVEUAAAAeIS4bHy8gIi8gIi8gIS4gIi4fIC4gIS4iJC02Njc0NDYsLTMoKTIyMjUiJDAfIS4vMDQkJjEtLjQqKzImKDEhIy8+OTk5Nzk4NTkzMTg2NDhBPTk8ODk0MzhEPzo/PDnxJVVsAAAACnRSTlMAgxX038KpWThyAjX/fQAAA71JREFUeNrs1k1vwjAMgOGkX8DUzMahlkik/P+fObVDqGSNxQ7kEj8991K/cm1edGc7jkOP6mPcfMQDltFc5glb0w/jaM+dKensqAV/mk/hQBJqhCDwjE3qR9sVIl4b5kY/SzU+HCIsYR/Krm2Oa6u0Pwr5NCCzRvxhxW28SC+UATZqa3U4mYxFBm24oELGDgtmoeK0YLN4C9aavW7Sa+IfKmbspIodtovXh3HaHxYTNvt3qg1W9GaRcsUzNg9wMk+WgVUduOKQMg75L6QQUtGVFQNb83BCVnXldcbDjEGIOAbQsa3wZDbdoMu4MngnY4QQUxlpxSvgoXucFMRKViXj3FWq2LHaEF9+lzGo2lImOoacFyqOM4N62NaxBQJVWYqv7n8znqPAa8VPBNYYM2rG9aWYyTNmFwVBR7bPeDTm3IOqQd7GN/5HxUkrftGfzQUWUJVRlDOGJUWBA7WzwMVMelO8oXLGFL5i0dcN1B7BpKfxO2pn/C1V7EFlGY9mIFVfvGduQE/g74JvUrnB9KSqW6SM5YoTqdzSG1LVyRnPd0F0pH7Yr2PciGEYCqLuLRqwREIUDO79jxkESIqsRNqpuMV/Z5hmZsg4wZyxlvqLrhHgChNknCHMOK64VVjZBBIsMpZvVXYdLj2rwAoyTuBnLEdU8S6wgoxz0NA3PxmfGrhIABl/Difj2jQwWMCxESSYMm5CJEUjRQgcyDjBOmNhjZwEDmScRN9YI+KhPjsIPMg4yZyx0GXqsheBCxmnWGb8snDvCFzIOAer/dXb0c3VtRD4kHGKOWPb1QKNIICMc8wZd/Nh725tDAms/8POcAMZp7Dn+mCIIeMk9ljXwhBDxknsucZwayuQoD92coFbyDjF871DxfeQ8Vf7dYwiMQwEUdSxZQRCgRx4sO5/ys0XWe7WLhTT/HeGT0GJNKOdig3IWKTZnAcMyFik2dQDBmQs0kzyAQsy1qhU/J/IWMGWcd8PWG0VAq2/OivMyFjAkvGnVBiRsYQh41aOCiMy1iivGecKh61AoF9zqRY4kLHAa8Z7gQMZi8wz/rDFLmSsMc+45QIPMtbI10SnYjL+CtOMU4HXliEwvXcZXmQscT25Typ2I2ORx4pbhhsZizxV3DP8yFjkuoeulOFHxhKPGe8ZC8hYZJzxmbFmSxC4R1rCIjKWuAd6whoyFhnfu4QlZCwyuncJi8hYZHDvElaRsUjrv1DxH5AxQiBjBEDGCGDbga9HxgiAjBEAGSMAMkYAZIwAyBgBkDECIGME8AMa0qaOxv/rMAAAAABJRU5ErkJggg=="

/***/ }),

/***/ 1290:
/*!************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/static/images/coupon_receive.png ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,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"

/***/ }),

/***/ 1291:
/*!************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/static/images/coupon_wrap_bg.png ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,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"

/***/ }),

/***/ 1292:
/*!**********************************************************************!*\
  !*** /Users/lisicheng/project/lijian/static/images/delivery_die.png ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,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"

/***/ }),

/***/ 1293:
/*!***********************************************************************!*\
  !*** /Users/lisicheng/project/lijian/static/images/empty/address.png ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,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"

/***/ }),

/***/ 1294:
/*!********************************************************************!*\
  !*** /Users/lisicheng/project/lijian/static/images/empty/bank.png ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,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"

/***/ }),

/***/ 1295:
/*!********************************************************************!*\
  !*** /Users/lisicheng/project/lijian/static/images/empty/cart.png ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,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"

/***/ }),

/***/ 1296:
/*!***********************************************************************!*\
  !*** /Users/lisicheng/project/lijian/static/images/empty/collect.png ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,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"

/***/ }),

/***/ 1297:
/*!**********************************************************************!*\
  !*** /Users/lisicheng/project/lijian/static/images/empty/coupon.png ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,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"

/***/ }),

/***/ 1298:
/*!***************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/static/images/empty/coupon_icon.png ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,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"

/***/ }),

/***/ 1299:
/*!************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/static/images/empty/evaluate.png ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,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"

/***/ }),

/***/ 13:
/*!*******************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/typeof.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function _typeof(o) {
  "@babel/helpers - typeof";

  return (module.exports = _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) {
    return typeof o;
  } : function (o) {
    return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o;
  }, module.exports.__esModule = true, module.exports["default"] = module.exports), _typeof(o);
}
module.exports = _typeof, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 1300:
/*!********************************************************************!*\
  !*** /Users/lisicheng/project/lijian/static/images/empty/gift.png ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,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"

/***/ }),

/***/ 1301:
/*!*********************************************************************!*\
  !*** /Users/lisicheng/project/lijian/static/images/empty/money.png ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,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"

/***/ }),

/***/ 1302:
/*!**********************************************************************!*\
  !*** /Users/lisicheng/project/lijian/static/images/empty/notice.png ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,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"

/***/ }),

/***/ 1303:
/*!*********************************************************************!*\
  !*** /Users/lisicheng/project/lijian/static/images/empty/order.png ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,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"

/***/ }),

/***/ 1304:
/*!********************************************************************!*\
  !*** /Users/lisicheng/project/lijian/static/images/empty/shop.png ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,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"

/***/ }),

/***/ 1305:
/*!*******************************************************************!*\
  !*** /Users/lisicheng/project/lijian/static/images/icon_back.png ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABIBAMAAACnw650AAAAIVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABt0UjBAAAACnRSTlMA+rcNvxN/B5GMuwdx/wAAAHJJREFUSMdjGHagnAg1zB5EKDJalUDYIC3BZYQNWrhKKoGgQVKrpNQJG7RwkQERBimPGjRq0FAyKIgIg1i9iDAohFoGmSAMIqyIcusYQig1CjMwKY8WBqNRo0aNGi5GqVNYUSOqfMoaDwijPIlr0AwDAAAH0HXYvA7xbgAAAABJRU5ErkJggg=="

/***/ }),

/***/ 1306:
/*!******************************************************************!*\
  !*** /Users/lisicheng/project/lijian/static/images/icon_del.png ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAMAAACfWMssAAABDlBMVEUAAADy8vL////y8vLy8vLy8vLx8fHu7u7y8vLy8vLx8fH09PTy8vLx8fH////y8vLz8/Pz8/Pz8/Py8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLz8/Pv7+/y8vLx8fHw8PDz8/Py8vLy8vLy8vLx8fHx8fH29vb19fXx8fHv7+/y8vLw8PD29vbz8/P6+vr4+Pjd3d1fX1+fn59paWn7+/uVlZWRkZFra2tgYGDr6+vl5eXi4uKnp6d7e3vX19e1tbV4eHhjY2NbW1vf39/c3NxcXFyhoaFwcHD////9/f3p6enExMRUVFTn5+eYmJiKiorQ0NC6urp1dXWqqqqjo6OcnJyMjIyFhYWysrLaQfoEAAAAK3RSTlMA+wLr3d8RDch3Ri7jCQjWWT+m7+3nzrSalIZ5UR6KgSH1w6qjg4IcGakgXafTaAAAAwJJREFUSMel1odW4kAUBuAJCXWp0u1dd2cmhBIQUXSR3sTuvv+L7PUQnMlllD3sfyCH9p1/ICG5BMcDd19o7yhg6JqmG4GjvZBv/jIOZpF4Nk1dSWfjEUQx8xBf0EshmkYh4pE36IN3v66LbukykrEejIpSXBeKUSqU21IaCzmluM6zixmmu/ChZXd+iBapoIfnxIPdDwPVKaXxw5HC6dippQ5SdvvhuVstw/uy9GeEWyUzfqkwhx2Tg2QOgOPiyDGTy8EyvpA+A9VxdiVlxKk7ht8p3KSa27WbrbpI5ZEzd+UmILid6ajQfp28PN5+pl+ZotXqZ8A85EQuZBD+VuoMrMI81vCtdMMZRKrcA0b8XirFhgyq3c6AW06Gs9Z0YNtDudX78S235UL657Vc7jXr1V55kd5T6/7jWftTAtgGuCFBk/XvSt1Sq1IvicCzbrc+GdsS3IB9EaZSzGmx0Wh3OkU5neJVo90GJhL2kwR1xRyOny2OMnzomRZ1JUGCeCfOWiOTuWPfT4pcagSyRX4iaNUuLs35j7/YMLtcbyO4QQKUIli5NCnnJv3cACzNG0UCJK2C/LrHmfVYY8waz0ZUAdMkqYCcPvUZK9TqDdN+mdzwwjJMEk0FWfM3wGplatrXXSXUvocNgHdfwOR6MEnC60EvCawHA+IYXwXxARBcDwZJQrkfVRAd5P7wt9+xgPejOAUcUw1D02w+mfCfaI2gcdLBEMCxc+rAkD88cMY7Y5PxqzFTHOTbAP1hxVIti1HGLQqbAhVQWik+HzM+q4woc6dwXWpLUKMnwDxkJ0Vl+N6ntlWQYw2e3Y2pnfmpfFeqhGV1a1V3avf9VoMzdAlAFx3GG++VC5z+rVxo+OTLnJCULcfClzlH5mVJzeUwyeUBLBIJSFLRKPcFIvLwsGP86/BgwC/6X+OKkF4klc4rnBh1MkgqXOaXcEJG86uGwHxUuDXHTlwagUEXW+cFfQvXrT9a42E+lDPQQJQL4WFeTUk0cZqNpQ4oPUjFsqeJKFGwv/cHq+lgM8RZAAAAAElFTkSuQmCC"

/***/ }),

/***/ 1307:
/*!*******************************************************************!*\
  !*** /Users/lisicheng/project/lijian/static/images/icon_fail.png ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFIAAABSCAMAAADw8nOpAAAAM1BMVEUAAAD/Kjr/LDv/IDD/Kzv/LDz/Kzr/Kjr/LDz/KDj/Kzv/LDz/KTn/Kzv/Kzv/Kzv/LDwcRWuTAAAAEHRSTlMAYPAQ0ICQMEAg4MBQsKBwrOv8QgAAAexJREFUWMPN2UtuwzAMBFD9q5/Tuf9pC3TDAhatccyinWWMvDCKpUi026XVXMboANDHKLk29yTRvzpO6a8Z3wTnATXHfKPAHHCZkO+V2oqAOloaL0qFu0pJsHbQ6ZURC26lbMGWcDNpM6I14HZCvRI93oq3E8W0E8VURWNz4lHqWWzhGRnaiUx4mETNmUfzqEJiNJzdguw/xQyTZOXXtvnVC2BcZlwWmY6kl3OM9etRRnL9gZ+KmKJzH+GqzKDeuF4R1ULCxeQ+nJhnUb+V5/e142p6eU10BWopEct8irkQtbEE4sUy6cXkRPnmL+xNXkSR6b0x96JM9Abszb0oaa6CMXkR1WVQJi0iuwLOZEUUN8CZkxQxhNyZIu7IAMbkRXSHfTwjShgSU9ZqIzLFW9smx4q86QIn8mZ3gxQja44dKXPGi7khCykCpFlcZkXWzK6SIm1W1ziRN5tznRF5M8nf2UakzSIXNyJtTnVrEBRRzGNNRvXaIaJizqV46NeGiIrpr9bB5fs+RFybSdsM6jvFXEvQezp+KSLLYm2UEO23/793SLE/Stkf+OyPpfaHZ/sjvn0jwnI4q9LU+U+Noqt21n9punn7ZqN9S9S8cWvfXjZvglu36nMzf6Dw9489vhNn6Weul7kp0PwR0hffXydNUasjygAAAABJRU5ErkJggg=="

/***/ }),

/***/ 1308:
/*!******************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/static/images/icon_generate_poster.png ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,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"

/***/ }),

/***/ 1309:
/*!******************************************************************!*\
  !*** /Users/lisicheng/project/lijian/static/images/icon_gou.png ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUCAMAAAArteDzAAAA/1BMVEUAAABUVFRJSUlUVFRUVFRUVFRUVFRUVFRUVFRTU1NPT09TU1NTU1NUVFRUVFRUVFRRUVFTU1NUVFRUVFRUVFRTU1NUVFRTU1NWVlZUVFRXV1dUVFRUVFRUVFRTU1NTU1NVVVVSUlJUVFT///9VVVX9/f1KSkpTU1NMTExQUFBOTk5XV1f4+Pju7u5iYmLx8fGGhoavr6+ampplZWX19fXg4ODDw8OXl5dzc3Nubm5qampdXV3p6enk5OTU1NTS0tLOzs67u7uqqqqUlJSAgIB9fX13d3f6+vrb29vX19fIyMjAwMC0tLSlpaWgoKCLi4taWlpYWFiQkJDd3d24uLix6dJBAAAAInRSTlMA/QT7ioL1ysIMGfHt2nxaHbT349+sqng4PBXWp2+xZFY3w0+bgAAAA3lJREFUWMO1mYlSIjEQhkcEkVM8EM89kp5khgFEARHQ9b7Pdff9n2VbKOiAuFPJhLZACopv/j9pQtPtjCKGt9RGfjm5tsA0YmEtuZzfSDlfRSGeVHha5GS8QBxFZzqRwZfn5jR5w/dkE2mETDCXVvHVeWYY88hdXZqgxhKSEdGMy2RiDJoqkm/jQEIxpehcJ5nRxK6T1gQxo1IToz1iFuPHYLe2ttmcJSKCtrf6UvNk3sYClD6kprPMamTTKDRO5u0sQBz3adE2dDHmbK4wy5H56ezSNtmSuuvsGLsH+AK64xgvKfg+fLGoTo6ZMmsNMV1szlkxhXrne6/lqWIzjilT1Dnnh9PFGkJB9k74rcurlyQ2OlQ8cZdz1+UPXWEJCt4Vx+hTq22IBiXzLRTaD6R2y2ADKvYRNoS+CLCgFLxrRA6Zp9LGmoL8/YfMN288sAEVF4r5Z2EjpcC7UczfIzI6FBjck/kKmY8EFc+K+QsRWFAK5aMKmb8LJIsOBSZPFfPXHtiAihfF/L4ApgmFaeY7TRLaepOaUJBl+fky/hkx3Ss0rwUFnz22BUyaP1DMPyFTCxqUa6e8ciWC8Qt190joSc/Xg4LXafFbXu2MiYHyAwl16+hDAwog6igJ/1o1RQ2IS8X8OV5PBypFu/LxdrydgYSR+UaVzB/XpCb0At2RIBiaP1SEvqJ5DSiINjI/HW2BeFeYj2VgWlBZ+8WVw+1SBIOC5JjMV2u+HhR91k5IFCaWF/QLEuW5d5SvB0XA0SAf6dsSxKvyzCHuvC4U169eURh3PV/2VPMN3wCqfh4HiSX+4j9aZWC6UPpmp4953SWhD7jzZlDmU1YiqUkX2OuaQhnIt7HEokcHaF4XSonVOFaotL4+M4eyQEksYjc7aN4YqibWhHkjKFHbIyhVYxGhDLxBYpH5IzQfFUqJRaWoOZSqRkwspRqTkaB03NOJdXuD5qNC6cQaVmPAbEApsfCwAmkJSieWS9VYNCidWGo1Fg7NhEOZ/8ipGguPDP00D0ksMh8auf83EagKOvDDmdREKOJ9ONWnBQ2HrjslvNfql4RDSzNoIa1szqTZNZu2nFOw3UAszKDVmXc+Ip2z2ZTNbQ3ax99truqo2R+31+iOz6AlX4wpw4NvdoYHy6kZjznsD2RodJSNMjrK0OhoRkMuCvNxXGliHPcP5reI/jgUrzoAAAAASUVORK5CYII="

/***/ }),

/***/ 1310:
/*!*******************************************************************!*\
  !*** /Users/lisicheng/project/lijian/static/images/icon_play.png ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAMAAAAPdrEwAAAAnFBMVEUgICAAAAAfHx8VFRUeHh4fHx8TExMAAAAfHx8eHh4dHR0fHx8eHh4dHR0fHx8cHBwfHx8fHx8YGBgAAAA0NDQfHx/+/v4aGhocHBz6+vp8fHwfHx8eHh739/f09PTy8vLu7u7n5+fX19fOzs7Ly8vAwMCioqKXl5dlZWVWVlZISEgnJyfh4eG2trbs7Oze3t7IyMixsbGIiIj////hggZAAAAAM3RSTlNmAFYMXFkHAl86M1FMJ2MSMCAWBGw//Bwt9YdJR/Hv6uXbyMC8spyVfHdyaNWr48+6po3JigE2AAACkklEQVRYw83Zi3KcIBQG4F9EUMF7jCa7Sdo0vaXp1fd/t2bbnTEXXQ4Inf4P8A3DeBDOQWRONxR5r1WSAmmidJ8XQxeZY6SrUZd4lVKP8TY6rhlWw+rYlRaFhiG6EC50kYAQVljTM2zGrehWwSKqJdNxD8v0MY1uUlgnHSh0BqfkRrrbwzH77jQtFJyjxCk6TrAhSbxOtxybklRL9LzmbetepjuGzWHdEi01PETLBTqDl2Sv6QaeMrykReqL5vELeg9v2T+nB3jM8JSWzCfN5BM6x6mc3V3f3N1b2PVMixKncjc95voXnU7FkTYtGlfTIefvv9gd3iB8eNMxbz+Tly2PdA0aPV18pNrjkWYmes67MxrN/tIV6PT05hPNrv7QmQ09XXwg0dmBlpxEz7mlbAo/0C0s6enmkmC3j3RuTU/nXykViUjT6TkP9+bzD7J0oaerS+Nmo4ITba77Co0bba77Brkbba77Gr0bba77HsqNNte9QrKJns5X6z4Bd6PNdc9RbqWnH1hMCmymb7CY0sOqv63R6Wb659pe863099UvhIX6+Bh0qJLRyEIVeoYx1PE0BjxUA/4Kgv3AShnst7sLd1kYw11xqkc6CnMxC3idDHgJDn11j3L/D4484DMp9OPO/CR9OMjXlyCnFBYP6en23qqdONNdAo9J5BM6anzSzfNWy86fvIue03HqS07jYG2t5l824yKpfMhKzrTPliqQxCvtWu67XTun2mjz+ERrnPlujc8RzHtDf7a1q6w70/BEZm5yJgkjn4E7bPNAG1QJ+0GVoI/XmA3MWquhYJ1S4XS0HWWKnFNgXguHAawsmAlWhfzfxsZHvejZApsVW4bdc7q2yHaKcYAztcuKtosI+Q3g0LuNbt8M2gAAAABJRU5ErkJggg=="

/***/ }),

/***/ 1311:
/*!**********************************************************************!*\
  !*** /Users/lisicheng/project/lijian/static/images/icon_success.png ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOAAAADgCAMAAAAt85rTAAABVlBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8Mwmf///8VxGwrynqr6soYxW/h9+wmyXfk+O4dx3LJ8t0Pw2np+vH1/fmy7M+N4rfZ9ecuy337/v2n6chj2Z45zoMxzH4hyHR9367m+e/z/Pfs+vPQ8+JA0Ih53qxZ1pdG0YwzzIDb9+mk6Mbw+/XG8dzD8Nqb5sCH4bR03ahf2JtR1JPW9eXA8Nj4/vu67tTU9OSS5Ltx3KZo2qFM049t26S27dGg58SB4LGE4bLd4bK+AAAAOHRSTlMACMgT/taJdu97znEF48GyjT3r504xGA+gQgvfq/Xbgg22amJfJvfy0h+5pppUSSzavVlG6ZU0+Wg8eZgAAAweSURBVHja3d3pWhpJFAbgA4igILjivsU1Jq5JzDkoICpBCSDBuBH3xDUxce7/zzwzmRm6urqh9y7mvYA8fqmi9q4C2/Wuzgea3/UNjUdal9qCRMG2pdbI+FDfu+bAfM8YNDJff6jPG6SaOr19of5eaDie/pbxLtKsLRrogIbh6W73kgHe5jcgvsXA8nsybHg8NAUCW20fJNOWRntASB3tbWSRkeZFEIwv4CdLtb4QqWldiJINhhZACOEJP9nEPxEGt/W2dJGNugLu1tSx0Rmy2UzLALjF0xKk+sqV8/Xs4fVxMY7/iRePrw+z6+eVDNUXDIA7XrylOvbvLr/uYU2po8u7/boV9QU4b2WQajm9yR6lUKO16+xNmWpZmgdnLcxSDTvZA9Tt+CFJNbR2gHNiUVK3WTpBgwp/3JO6Vz5wyGSQVORurlJoytrhWROpeNsNToiNk4r7wzRaYK+0QyqGHCjEFZXiy/w6QMsc/Mq4VIg+leLbKCXQUonSJ1LUNwY26lbu+r7l0QZ55Zra1g+2aScllTzaJJ8kBU0tYI+xOcXK+bSFttl6VKyoQx6wwdQI8U5LcbRV/LlM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"

/***/ }),

/***/ 1312:
/*!**********************************************************************!*\
  !*** /Users/lisicheng/project/lijian/static/images/icon_toutiao.png ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAA8FBMVEUAAAA8jP88jP88jP85jf86kv88jP88jP88jP86jP88jP88i/86jP82jP8jh/88jP88i/88i/87i/89jf87iv88i/88i/88i/88jP83iv88i/88i/87jP86i/85jv88jv88jP88jP88i/89i/88i/88jP87jP88i/89jP88jP89i/85jf88jP89jP////+Qvf9DkP/p8v+szv/C2//U5v9ppv9rp/9Tmf+Ft/9sqP9Ik//8/v/Q5P+61/+y0f+qzf+Svv9io//s9P+lyv9anv/h7f+hx/+Xwv+Juf99sv90rf/z+P/Y6P/M4f95r//w9v8szIIAAAAALXRSTlMA/uCgGAnI+dIk8tgxDgP27cJxYCjml49AHKqBeTQgFPvpzbGJazncqFlMLLY8bMZnAAADSElEQVRo3rXaWVPiQBDA8c4NJJxRTgE5vbbxXhBFxVvXdb//t9la2KqpQHAmM9P/J33Q30OnQqYJiOY0Dxr1YsosIBbMVLHeOAgc0Jlz2O8auJbR7Vf1QLnhTtHDjXnFnWFOkUiXXAM5GW6ppkJYHgrlWVuSRFA3UDij3pQg7Domy7DspOMuZTBxmUEuiVErolTFmrhxWEDJCoeCRLaMCpUdIcNFpdyswDhSqFiqzTPSJirnp783jjqooc7Rd0ZrG7W03dps2Huoqb2Nc8lGZk50jfVQY714o4RaK8UZgacX8ZoxQzdRc+b6WCzUnrVqVJGgatRwfFTo6+VjijH5TgRpoEr3o9H15937OrQTuS1Gr6zJ6zwhsuz5djKOfiDXNk/9bjT6dX78JIwcj1gnm2af3l1FFj3MJmNFZJfd9csY7Yz9zY0agmX4n53fjJwqInkblu0gGcJuYSlKJLU0AqREMFggFVqkv0BMWsT/Z7SQFsEWAITUSAgAFjVisZHQISaAjdQI2lCVRcZXk5fZxcMVH6nCQAIZ3/4+vR4tE0BCqEgglyPWTz7Shx490gOXHnHBp0d86NAjJmQEkMez1/f5VBrpgCeA3Cx+/PM5e3ybSyCeEHLBfj+XQjr0SAdMesQEnx7xwaVHXOjRIz3o0yN9COmREKr0yBBseiQLYFIjJgBY1IgFACE1EgJAixppseMJGZJiB61EyPT9dfFQxH0kYmf5tJEQYY93by+zOQcx0rDIlUBYHMRlB1MqhB1M0wYdYtj8ZcHpoyJS5qw9HmZvY0QFJLr2gP1VJLq/uRktu34+n3CQ0yiyD6xmdCpXl7iIIQ83t/cfjF3pfsMmCo0AgLWP3/U05e27ri8ev6bI2ULWMqjQ/OME48q0CTbPvP1zztVvdHOw0lZet5HfgrVC3UgIMe3rNSyIK2vqNFIOxLa1jRpiXzhRK9ts6OtKgc5gBVqUAjNiq+2pG3s14NR2VY1uG7g5RTXjhwMC5Rq78sRuIwdiDU3py2oIwmUrhgxhlLOQpKArMfEAEpYbZJCT/LserHYlL07kK22Qy2YMj7BBPrvsERKsqpX5dhRWFXTkNAeWH/cSmW8Nmg5ozAlWX4cT//9/AXmtas5o4cb3AAAAAElFTkSuQmCC"

/***/ }),

/***/ 1313:
/*!*******************************************************************!*\
  !*** /Users/lisicheng/project/lijian/static/images/icon_wait.png ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHAAAABwCAMAAADxPgR5AAABQVBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////3nAz////4qCr+8uD3oBX6xG/5u1j3ohr//vz//Pj3nxL96sv+9ef+8dv97tX97M/7z4j6wWf4sDz+9+r958X95b/4sUD4pyf4piP3ox7++O/+8+L97dL70pH5uVP4rDL83Kj715z6v2L5s0X4qSz72aH70Y76x3X5vV34rjj979j84rf71Zf7y4D5t0384LT6yXv6wmr97teGZwg2AAAAOHRSTlMAA/3Py9evlfGnVjLagSwYB/l3X1MTvVlC9uzl06GQDcaaiYROH+LBnntbRyPe3LRmTzfnbihMPnQF3ewAAAU+SURBVGjevZpnWxpBEMePAyNKSQgQo0aNGmOJmmjarNIEbKCCvfcSk+//AZLsDNxJOfa4G39vToF5/s/u7c7Mzo5mi1eB6GjXuDfY79d1f3/QO941Gg280nh4OdXp1UUDIt7OnpduqwVGUKwZum804J7a9OiMUCAYGnNF7sMbocybD07VPNEOYYuOqMeJXk9QPCV/u5Y8KJRBUi4cJNdui7WSsbblPnmFmZuLVAkaUErtLwszvrftbYMXwkTu/hAsOLxfFSa64m3MZp9hv7t2Bi05W8sbFl/tzmvcNLzVK1DkyjTMAVuDDHysGq6kwAaplarhbFhdr7u3OpknYJP1XUH4lTflpCAyF1mwTXY/Q+b6N7W9PiCI5S1oi9NFQXSqRKDqcjlOQJskjqr7w9NyfBW9pRNwwO8lgbzwtNDrEsjiNThiK18Zo7Vgp0A2tsEh5ZzKe3wtkM0sOCaxKZDXFu5MRc++YnczvXAvzWcCXCGxQR6gic8ZCpLvTINLpPcoRA41FJygGFsC1ygVLRbOHO2/ArjIFu3HTw0m9Ct+tQ6ukhSSj0PNJvRYwVX++vNL3cseNZnUnxT9Eq1DXuZ/HHlQXqqU7wRqXNo7jEcKDg1DbE79NaLg+6eCX/DTO2gNrS1Q5hwtep7EpBncEWkVQQSU2d7BzeipH+AJcAhCst7DdaCLAR5BwHXjM6XYQpLiElxHEyMhxyi/AlyC2UWM/tWkXkcfwyZIbzHy8klaWMzyCWaLFIrNS2Yf+ARhX9p4Ke4KySGn4CEafZeCo+SrOAUBjzmTUtAn/37kFbw3HGpcSM5YBWlO9fj/oxKeI4BXEHArxqq57x234LG0Gvwn6EW3xi14UvGnr9DNbHMLLqCz8WgBPOkCtyBgVAxrUfm85RfcpKAYQr/GL3hH7hQP2El+wUdKF7FWeMAveCXNPmuYH17zC56Sc+uXzxK7IDm3WQ3PhAl+wbI069Mi8pnlF0zj4VTT0ZxdkAz15xfsfa4pTUizXs0vn+nneod9GlZGF2wLLtazbHlOPZNmMxQOCzYELcg8tDon+tpwbRZY5X4pcm0Ttp23BVbn1Ev5g2EKTxd2siELlluHpym7AfjSSvCyZQC2n2LA404zuR0LPShism8viSJKCw0pW9rgvvdoFBBTwIuRJmrDlNQwYyTCUTpvM7NYrWSMCYr5rNABUR6639GCZuXeVDkZwbozsIK14ZAUnBcUMBi5Rg0sflPitgaM7GO5DfVoTvNZ4KG+bDJtFIaYWK8UhojP8v89YGOPSl8V3gpe95YyinuEl3eIK1SHMuhhuEKwLNBSjb2YBgaoBP1OMxOr3FowQEX2mjvv95jmFcB1tqjzRXvKvG5clLgKXZToAa2GYSE5B5c5EhR5axnqZ77squMHx3XeacbY83UM0oVlGVxjgTLKkcY9Cj7Xr2Rv6KLLozVkrI/n0rm/aZvdW52u1RNuXqtH5rWmfBNIbtuF+cwJJKrSGnGz4Hi93AhkRK35I38NjijkBTLwPO0t62rtLTRG5w0852oNPKQ4IYjlU6ctSsMKetjkgmTOt9uIt+iuMS1UJOYXRPG3bW+9Iwj/nI0WVqMNcu+gzUY677St7uNhU+2lnVZBvdNur3K3/WbIXcOiL+a03XMjmbb0Y8kNhXZPew2tmdzFQ6Lhrnu4yGUcNrQSnqnZmsrW6lFty+7R3pI7Lbsk+SUoDJibkok5jrZra8ZCOEz+xnKDQMjXonU+FNZcJt496Is0Eov4BmNxjQdPeCo0MB70k7PsGB+Y7AnbWyV/AYyCgUW2546PAAAAAElFTkSuQmCC"

/***/ }),

/***/ 1314:
/*!*********************************************************************!*\
  !*** /Users/lisicheng/project/lijian/static/images/icon_wechat.png ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,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"

/***/ }),

/***/ 1315:
/*!*********************************************************************!*\
  !*** /Users/lisicheng/project/lijian/static/images/icon_zhekou.png ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAMAAADVRocKAAAArlBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8tivQqAAAAOXRSTlMACvUD+/gH7xbm1UYpDi/qwKhpJRzyrMuiWjMhEs+4m3VlVd2FeXFtX0w2sD7ix31QvLSM2ZaTOsLRXgA3AAAFIElEQVRo3u1Zh3LaQBBF7SS66B2DaTYYDI6Dc///Y3m7EqqcMknETCajHQ9z9e3ddp1LBRVUUEEFFRQjw3gkFg8ZQsuFhJFmgW5n565sPQeyV+5uAsg4fufJljlS+fsEoBH8F11Ky8wL3rSktEeADfAXGDRpQs+BLNND2wHYx3+WEgODzdjRciBnvBkQoPl64zBpoqu3RSk30nY6II+Of4EndKxqycjJExjo1QToN4Djr9FDu523oy0AWu4A3ii1pSXd30X/5X21AWBfWAsf3gX+AEpNgHsH7JCaogKV19QLmVL8687U0TIZfMEwT7RNgwvrUzV+d1/dO0kO9cPq89TFoJq6FhxaEAMdDDQVg2dXhz30Pqpxz19CwNcM/BA3m4EYSnYZ/K5jF/jE6XCtv2bwnX1eZ9dfRPSxkRb1/44B6wnAg3NjdMQl7G4wPjlKWZn+FoP63TV9cpZaSZTO8uaXzGCN3jIb30je4N7yGkn/e0nAEX6g9en4izo9REaR7YWJG5hfKUvnIAtCWPe9Rt+jcYtd5yzPxI5xuy9DBmjNKdglGGzJfN6YwQupGUtoeI+Af8mUTun1g0CjNwDSk5NMo1ey0AYzOEszEHtfMi81/qRFucsMGNim16+Mw12BKMwaN1+JQZt5VTHayjr/W9mDN3XLZuuc1kYHmwCa+7i7bojBF6OOaN7LUBccDEdR4ld7tNbuj2pT0Q2WNVo0uopEF0YFnZnB1ucFzbNlqfE7ZUIaNlJW9S4TV4c2OSuRmbLcj1SJCKRbe1JS05yOsiDMJIsNcX6OCemExeyxjR5zN7zstPbMFYxFHMUzNym3IXx0boi9l4QjgGe/U28M6FgkeKciWZCRmieVx+5LEGNjHTBv0UlxYX3NeizWm963jO8shx/z1qITWe+bWLN2X0UQNLjvYpNdSNwvow51zHSbiHIaLV6iRWSttSjEGhDDFH6YRSDo+FB97QGVtxp1v0mTEjmAmCt+EjtcGeoxTQ1smaWS7+vufVfVmF3NRpoVN7/rHVrHMFEwiU/cqVNSkcNZNGldYSOMchc07DfUhJ+RKBvm9ywGTS0lOiLfL0z54QUO1rUQnp1tQwYQqIVUmiGiSkacPwANVsaq4HABra/QnPNsUALBiTOUPFehswn6FtK6OaDBjhseirpczqnNdKMOMy6u3+CUQH43EP4eaLseqwb6DKF0NCX7UZCWRRlN13d/DumxW/b4FIpQ4WYVs1wts6QBc+IbkLSiahUngDzdYWBw2lU7iRfl3v3ZA1BnUxrmynklosEOA4s7sZR9E0aoovpKyuPNwq9BxKnPSFqpcL1JhesxruptUhbjll/j30qAEfnBF9AofGcmnGnt5eClOaWGuZab+cbin7vS5XCLbThWRsoMk355r8D3oxwqpFAhJjgs2qjHkuEfSb8ZJv1o2eKSiSiopmM+GvgPvIU3zrqptOzGyxadFlaWhgqfCxgrXgrVnxgfNEemTpWl24pMFF7PaBmZQeKQmH+7zsrNyvAsUvvYus7ruUwWv2pqz1v9tIIMoQnVmdLl+5++ORmq2ZCBUMfw8KxCZM1npy9jxjE8dxoHCRgRl4uJXMl7S2gFn6RunvhhXF1yUmrY/JYg8n0M2QYB0fsO0PN+zrGkGXyqd8uUh5a5PkhZ4YMUFbn8MX/K60lt/06GKS18sDz6UfCRz5o9RPdHPsxeE0EWnc42t6flS3sCyIc9jgthKN7f/81/FRRUUEEFFfRf0E96mveP/NEw5AAAAABJRU5ErkJggg=="

/***/ }),

/***/ 1316:
/*!******************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/static/images/payment/icon_succeed.png ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHAAAABwCAMAAADxPgR5AAAA51BMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8AwWH///8GxGkDw2cAv10Oxm0pzH38//5E0oxr3KQWyHIfynfj+O7V9eX3/fvM8uCl6sjf9+szzoPF8dx03ary/Pfp+fGs68uR5bt5361Z15m/8Nhf2JzR8+Pt+/P1/fmd58I2z4SY5r+H47Xa9ulR1ZRL05C679TmVTbcAAAAJXRSTlMA/ATL1Vz1VjTx5b+TgNEWDqGY7LNROsSHeCYfnI1IK99kp0FzC9ReAwAABnVJREFUeF6922dX4zoQBmDHTq+0JRAS6pVrai/03vb//55rXtkRR6TYkpb5snA25zyMrLFlaaJFC13HP1vZVGm7YORz6UQincsbhXopld1in1AV0GqZRiGfMH9EIl9oZI5gKtSyBwa1EjS+/wjVOMjCVMIdHZYTACAhmn5AClyYh0cgJTn9eC9NMQox6vtvFE3vHesgJbhUGVqAhdDgaT5/GjSZuzDLKZCiXiaJ3KBB6t0939y2Xrxup9P1Xlq3N893PbjMTGYginD7VfOb1uxf33oucRyHhIFfXO/2ut/8ZpqFLMi43taOaS645vDtxfYp27a+wkYEP/qs/fI2bC5IM1HciiWiio9PGde7nhAfA8QHYB8lk+seI08vNF2PlV6Rcf22y2krTLfdB4kkG7qmR/dOkguvf287hGnrTOLY9/1FkuUaxEheKud74Hpt27GZtsn0P9zuhUnm/kCM4JWC9Mzmq8u4qKT72jSDJP+LJtbD9MYth4CLRRKnNQ6TLEbxtkNv5DrgYpOOexWK9UgehvOpzdKLn2R7YFJxe1M97ATeeMLSE0nypUcvpLmj6eu8g8AbduBJiJ1hIB5AXOH9F3h3FoEnIRJ3ChFzdZWXQT0o8CBa0+A6rqzHk10T3tCV95DjEKK5W1vubRnU68NTIXb6VDT0pQNapN5lF54S0bukYkPTf3p/UBDmoIV6UCM6LSwHll7GyilNcAZPmTijKZ5WfiRYp94InkLxCmJY/8y7oN7YJbbSIO6YivvcoFYp+IkElab4ScEC98il3jM8xeKIihmfYWLSB1ERtvIg3Udf9Ivxe4Jn6mao5QeX4g1NMfUtRQMJ9lUk5DgO4Uf1naXIat4H7+UTJKQ9em4RLsU2TfF4keIeEnxQcC+z/34tLm74Yu4jxb3FUyIBsO1Y0t4dXqWePPIzRR85YY951LytwjOXXRx3DLHkY6wm3hxLhQfwg4IsxTeAZR0J7tN1xYRYqry+y+c+aZrh/S0c0SlRlt/jz7+dTJEiFlQoQsws6flJvUusMPniZ6VYS6AKPaIoP3h8EA+VmKj5YIorQvUe4gEppnxwB+C1Y6m5fss9y3kFWFxcwluAyj0G3gOsaloFi9GBR5SO56qLuFvRLvDJd0u1x0ew1NjXzjCif4mlejz5z90Fs6bBzRnFHj9rStre2ieFZUmOJ1/658Ek/VgKWsRxiCWfH8BbgAUtiVt3i1jLvO7HhwtRygNIWgDL2u7KG5vlfMxN87LlWLIewAnqIq+lsYPQJSvWd/7/MZHzrMgeCnGAQtSwfJp3GMgt76golx/A7pMPmWke5B/TTJTzLNKZo/LXgZ8AmSjqIRZgGuDSNT4ZcaKwhxkPMK3lVkwaiFecKDZf2DVMmDktj7KYAFwnfkIUyI8rC1b4EURxD4X/BSa1Kru1bR5VkfHkb23nAGcA14sD5CiSH8BZcPM+4B5Pm0ZVzGOPJ+4BvFG0Y3v8A3ifbo/CizCqRMBDuL2vqkhk2SIqkng5FPHYIipfibRMZGJTxGPLRGyeFNmsiSAKeWzONCIu9Zko5LG37kzklxmIgh67saWPtMivaxDFPPYKXMUbcCPaCylEP+J6CDIMX/LZK7dHrM2imEdHFFUYb1OB3Dy8X3kC51HONRI02GlaxK1Sh1giB0TE7QE81PSYG0O+FZ9jG0M1TWDrSygeAO7JbO7Fva2xrX2Q5X+bYj+cMvwGbVtpivzu5VmYIKuMXoeoB0mnxzba+E3213+xyf7M70AjClRs/c4xAjsoef+VgxKIdXZyofrUYvlRcCXPilH9DM1XmMTNm/kEoiLv5YnNmB/iNhXHHXUHlt0e9erw+KgkqTi1ICo8BC5vaUsjm6PiHURlx9xm7mTNsbqJHF2IsvmtP1aHeLhoVIAo5XWGrHFgcyvGuyfbGuG9B14R3qZmE2xAyXity8CrA4ggNqXaW2bNwNv+1QYeeJtjR7ZF6XMcejtRPMzVYFhHnfhNWN2RSYcTy8JoYmbRZvbYJjHbzGaPYXq5DLy4jXQP90SskS5ZgyfQKviAVsENJN8qaKIf8pebIaXaPaczj6xu9yTebMq3e0o3tA6GqxtahwPxhlb5lt0/Mk3C+lnZhKmyKVl927V8Y7kh0Fgu2TpfqqbXtc6nq6Ws6nb9o0zR2IXEAu6uUVT25QD+6w+VbKZ0biTDrz8kjfNSJluJ9fWH/wFAd+O6l6b9wgAAAABJRU5ErkJggg=="

/***/ }),

/***/ 1317:
/*!******************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/static/images/payment/icon_waiting.png ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHAAAABwCAMAAADxPgR5AAAA21BMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////3mAD3mwH3nQT//fr4oxH4rCr5sTj/+fD+8uD+8Nb5tEL4pBj6w2j/+/T96Mb6vVn4qR/5rzL9683+9eX82Z/7yXn6x3P95r/70Yz805L6v2D6t0n83ar81pj7zID6xW797dD84bRmxL6mAAAAJnRSTlMA+wTvk8j2KFHkFdTRxKSBVzuaNIkN11tfHsy/tXVHQa6fe2XdbaNEuoAAAAXiSURBVHhevdvXcts6EAZgsEiymi1b7j1tFwDVe3d38v5PdAaFhmNaJhkS579KZiR/s5AAguCKJIvrEpHKzS//tnBc9ooARa98XLj1f91UzCvyitTOGn7Bg0/iFfzGmTTz09z9vUJRAo7jGMr8t1jfa8oX5sKVDn8qC7ZEqceHJUFm5dzrS8doXMRIXMSYzuW1eEcm7rQmtBB7g0adzugNDlFh1k4jZBqvcRxyCuPdzXI16bdb08Fg2mr3J6vlZsEVGpLVHS2m5/brcqi0xnv3k1ZAUYSK6H8Grcl9jytTvb7eFGRq7+jAFAd8/tIWAGWRCJe1X+bckOAfpRRdl1yXTXWLuxlFZF8Ekc7uF4b8eUNcN1V5PkDI9YaB0b4yg2EvJAF8l7jJvVJVciC4B4qUJQpF9iBIkGStZMQ4r+GF5S2GFFmKIB0uwiK9HSXGe99BecCfA2Qpg8EzByXCVTLxIBzObh8pSx2Kj91wWP0k3m44nE+mvLRFPoXD+i2xB6OhKS99ka/hsO7GzYcD7XVnyDIE210tHhD3K+9Qe+MBskzBwVyLh0aMelfa2zDKMoYGYy3+CsWotwNgvMwiUyLA1vlY8pQ3D6SXvca5Er3S595RARzh9YyXVewJ0YGC++mA+spbTJHlFGx1lOgTN+rt6AWmjyy3YJ/Dto+xUpYcrGM9RIqYVFyDJH9WPp/xHJ7ivf6f+Z9+YvEpMqjKu9HrdUDjvEeeZuBpoFfyfSma1NUn+BhbIB3LbeGGJi3xUZV48XeBp2pAl/Fe0AGRTpBYXCqx8b5Et6r+yoDmD9Kpesf5+wJ/gKO/ofmDDFeqxJN3JZ6D8HqM2QAp6wkRCh8WbQ4PaAVkOAT+9+y/BAc4/KbMDshkiQ5cEp2SuggO0QpoSnRKekT3wFFz3gZoZr8De8R9mxMc7pDZAhneyRJr6q58H0T4zCY446DXN71x4jCmzApoFkS9oQon4QptgrgyU7Gkrrstu2CLQ/g9PTWT0Aqo8xu4XN4I8SV4j3ZBfAau724KclJMbIMPEqwTUvHUR0gtguZD9CrkRl8oLIOUqa3GvrwUctggswsy3EjwVE/7e/vgs15ObyX4ah9cSXDXfEltgxM5pBfkGET69sG+hGpEzwq7oLlglElRgKMptQ1SPRGJozak9sHpSEhFot9uHxyoN2pw8L+Bkc/Q+pB6OYKIsaBHynoHlRLkv6MR96nx06KafuJvD+9jzMSvkvq/LW3APwtsaOzStisX73X2CmNmC67V4m0uT2luTLaEQy/28pT2Asxw9RW4xpgL8AnZV6cXyY/z6N1oGzi6ozGnGU7zbROFKY5C21sywLhNVLmSfJtoQnFLaOw28SKyEc6c+I3widnq20xPgjuRmxlLwRmIFM+IuV2zC76EO31zQ2oVpOPwJt/ccrfQ+ohCk0QOFSzEHCoUIscmVmKOTb4TN3IwZCX6YKhYIn8ffdmehJcxh3u5BR8+Hu65NQCbJfYkWIse0L5aKRFfhefAD+J+PIJe2Pii0sECQB+0mRJPVInPFkrEZeQEWuTCPEbInPjHCGp9S/lkLdODEvMoaIl2BjT6KLhStjEZcQjhXkYm8r0BGM1yFLEtOPWNiYrf1KB2BzQ3b9o1AxpNparEMctJpMFcebUj8mmaXuQhdy6Pub3S1rYWUOI4oHnUJz1HLtrbG1sc/WAds3oYhK0KV8SNb8XotTKK2OppzxdefLNJp59JxH4HEjW4GJGvs7S3rE17S2y+WW7gicZ/a1F6tNuiFG3CguUgLUlx+gQpm7BcsvPWZtZ5YZhuNF86kTazNI10HLrDNI10w67gpFctETd9qyCkbhWUXKQfMm0z5P0spkwa0wyZvt1zvG590e5JW+txlnZP09BqSODzu0krwE8bWufxDa32W3btNyU7mZqSDXl9W0zadl28vc7EaZKcXZ0naSw/vzrLrZedNPfqxfCPRyjdOi9fnPePA4xmzAw/Doj/+UOzsbf7/ucPu98bzXQ/f/gPkJwLNzyuJv0AAAAASUVORK5CYII="

/***/ }),

/***/ 1318:
/*!*********************************************************************!*\
  !*** /Users/lisicheng/project/lijian/static/images/share_arrow.png ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIwAAAD6CAMAAABEZV/QAAAAflBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////vroaSAAAAKXRSTlMACQITJnpdNS4gSYpVGQ5DhYBx9JNoUM+YPjpsG+XgwGPZjsic67eqojvH7usAAAY4SURBVHjazNnLdqpAFITh4g4ajKZDODECISJQ7/+CR7xtFB3S3d9Il5Na+KutwhJZ3qewxJJkAys4HY8q2MDfc1A5MG9R8KS1YEzGixbGrTmwohmv58CKZpKcolrBDElXVC4M+lU8sqOZDc+uk/bGmpF0i+o6xoMh/p4X69z0lZF0g8B0wCGv+uTAi9yBCRvKgEZum2jG6Xil0i2NjpF0yTfIHRMBfxe8CZBR5CtoFiredFiVFLUHvTYUuYMlR+oUOnk9RekjVqSpgJM9RxZAQ+pvRtIVP8A7aeppCjm2BFAZGxNwrJV1MmYHPVYd+fAq9nIKnQEnOcfUu1wqUabQISp553fYV0zGJNAgVLwT4KihkTFr3utxtKXQ92pyOgr5etSR+pvxK947+Dj6ohg9Mq9okukCR27OqWLWMZKuyDD44RPlrGPcDR/9wyAtn47ZYT5Oz0et/II3pXzMRQ4Mok4wiBWpN2C/pJBPgUHPp4oYc2k48YaTdwpN78BrPgpw1pK6m9n1Je80csh6TsWYjxdnn3v1eML1ar5wiDAvZ/cWtPW4zoBiErAGzva3+cZZWpCvm9Hsj69F0Gur+JLSPaal0BvwlFvxpqyV1vPM1CdvFm6U/VUFxRZ6yUGmw8D1v4IuV2auzOJZrWkULttCBdDMP/DsE/ecxIduTn77fmuBjicZbLDmYO/CBiEHIazwbclfoydpTTKCJT7ID9jCjWM76v3Prr2uRggDUQA+kzEXYzQq7uLth5S+/zOWUgoLdXddNuJQ/J5AMpmMR3M6nf6l+SLmkheQtzlO0mVR0FQytZyHqRoPMVwvqJdcEHAr8PTEECEGNULC0rfsQ1AvmUbOiQfrcJKOF0FVGrsMYlzkhH3wxwAxyFY4rSBJ6xIEbV/SC8SwnaCBfW0FDWxR+1cQ5UT8QfnhCkED22iIMXeCIso8MXZCQ1h0DsRgWWEThR2w9QTW7WWaAa/r/oqjlFPTtQT1ux5UDhkwGMZjfkRaioC8jSt1iUVhSjyQdx5JUWhy3FHFIuCBUBNSsnXhCXdVBEW4gwuPlNT0tDfzxmEdRUZSpPAELZ3F/sqFsYX5dFjBFdLhRjO2UFeHFZNBMqzf64UsZfVsnWEzLlcyrUI6jO2Cpj9FtkggTU1URUjFeoVXLHtmAN3iJbZg3BocgKNeXYkVbpR9hJhPpUYTkhntW1kt60ccabg9rudY4Uj2q51z63EUhqHwiXMhJOFWlYgpfahQ//9vXGnZ68xoFiqgZ6V+T32rJduxfXDSldiHosBaTGfwA6kEG3Lq1xsz+d9pfsWG2IS11F5jRuyIDZGY8ThhWwlabgUeJydsigjWYpLGDIFQ1bR6J1NKjbVkq2YPB8w8M5tOdq4jQ4GNGd2D34qrKWFr3KOtUmNrbE2wikdnrSv5r1d1rEBcgz1Qau16QQCaocAepBtW4e8GfkjYhTwprME4hXxS2IUq5l1d+5FNFbBasBu1ESzHF0VL84lrnKIT7IgKBgsp4zAK9kTZTmEZKWaNfdHt0ly9XLA75bToTyp3xQFUaonJC3TIoxpQH+N4kDGq+1dn47PrahyDab8SPXUN1G3AUegvBLViCkAzaRyG0hAt+Iix56SByuBQ5HR6X6oEuFiDZ+DH859akDLOCUS+/xQcjRhXAq7PyQNFF9ssP8OmwnNI9tQGwAQjmBHb42nIu3auodrUSXjxFzy60C8ax2ONjkRb6q7lWWHSLdFVGClft08+QzVX0NAMPHvhOhIVAtcSRa/ncRIVhqiL0ZHo7O07nuh9uxOt1XoiJzFREt1HVy1Re5ciT7X2A9FdJRN4BgImSp54Qd0ydVSRZ1B6G2jePgLMqyZ9iifq7sozj5OUJbra5s48WQ1P1GkSoRoiH2WiF1KKgedim3QcDzjOGKKIIcI7nrlaR56AUZZIcPAdkVwmmqZW81gC1Jann4KLPCUpEwnyCEROIkIXRJl0Ixqrw5lnrGaa2KAKnvJIhDieeEEeeKbHcCdSem9EIiIUzdGreZoGoLc8B0wiemvuwpRIJdFpR4R2PJkklmedS/UTz7ekq+WpjgDPYccklBmilreKI42TxBJVR/E8qxY0vRQgjqjLTMMFLAQiW6gEoW8P5wBYemSG1AAAAABJRU5ErkJggg=="

/***/ }),

/***/ 1319:
/*!*******************************************************************!*\
  !*** /Users/lisicheng/project/lijian/static/images/shop_stop.png ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,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"

/***/ }),

/***/ 1327:
/*!***********************************************************************!*\
  !*** /Users/lisicheng/project/lijian/components/tki-qrcode/qrcode.js ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {

var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _typeof2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/typeof */ 13));
var QRCode = {};
(function () {
  /**
   * 获取单个字符的utf8编码
   * unicode BMP平面约65535个字符
   * @param {num} code
   * return {array}
   */
  function unicodeFormat8(code) {
    // 1 byte
    var c0, c1, c2;
    if (code < 128) {
      return [code];
      // 2 bytes
    } else if (code < 2048) {
      c0 = 192 + (code >> 6);
      c1 = 128 + (code & 63);
      return [c0, c1];
      // 3 bytes
    } else {
      c0 = 224 + (code >> 12);
      c1 = 128 + (code >> 6 & 63);
      c2 = 128 + (code & 63);
      return [c0, c1, c2];
    }
  }
  /**
   * 获取字符串的utf8编码字节串
   * @param {string} string
   * @return {array}
   */
  function getUTF8Bytes(string) {
    var utf8codes = [];
    for (var i = 0; i < string.length; i++) {
      var code = string.charCodeAt(i);
      var utf8 = unicodeFormat8(code);
      for (var j = 0; j < utf8.length; j++) {
        utf8codes.push(utf8[j]);
      }
    }
    return utf8codes;
  }
  /**
   * 二维码算法实现
   * @param {string} data              要编码的信息字符串
   * @param {num} errorCorrectLevel 纠错等级
   */
  function QRCodeAlg(data, errorCorrectLevel) {
    this.typeNumber = -1; //版本
    this.errorCorrectLevel = errorCorrectLevel;
    this.modules = null; //二维矩阵，存放最终结果
    this.moduleCount = 0; //矩阵大小
    this.dataCache = null; //数据缓存
    this.rsBlocks = null; //版本数据信息
    this.totalDataCount = -1; //可使用的数据量
    this.data = data;
    this.utf8bytes = getUTF8Bytes(data);
    this.make();
  }
  QRCodeAlg.prototype = {
    constructor: QRCodeAlg,
    /**
     * 获取二维码矩阵大小
     * @return {num} 矩阵大小
     */
    getModuleCount: function getModuleCount() {
      return this.moduleCount;
    },
    /**
     * 编码
     */
    make: function make() {
      this.getRightType();
      this.dataCache = this.createData();
      this.createQrcode();
    },
    /**
     * 设置二位矩阵功能图形
     * @param  {bool} test 表示是否在寻找最好掩膜阶段
     * @param  {num} maskPattern 掩膜的版本
     */
    makeImpl: function makeImpl(maskPattern) {
      this.moduleCount = this.typeNumber * 4 + 17;
      this.modules = new Array(this.moduleCount);
      for (var row = 0; row < this.moduleCount; row++) {
        this.modules[row] = new Array(this.moduleCount);
      }
      this.setupPositionProbePattern(0, 0);
      this.setupPositionProbePattern(this.moduleCount - 7, 0);
      this.setupPositionProbePattern(0, this.moduleCount - 7);
      this.setupPositionAdjustPattern();
      this.setupTimingPattern();
      this.setupTypeInfo(true, maskPattern);
      if (this.typeNumber >= 7) {
        this.setupTypeNumber(true);
      }
      this.mapData(this.dataCache, maskPattern);
    },
    /**
     * 设置二维码的位置探测图形
     * @param  {num} row 探测图形的中心横坐标
     * @param  {num} col 探测图形的中心纵坐标
     */
    setupPositionProbePattern: function setupPositionProbePattern(row, col) {
      for (var r = -1; r <= 7; r++) {
        if (row + r <= -1 || this.moduleCount <= row + r) continue;
        for (var c = -1; c <= 7; c++) {
          if (col + c <= -1 || this.moduleCount <= col + c) continue;
          if (0 <= r && r <= 6 && (c == 0 || c == 6) || 0 <= c && c <= 6 && (r == 0 || r == 6) || 2 <= r && r <= 4 && 2 <= c && c <= 4) {
            this.modules[row + r][col + c] = true;
          } else {
            this.modules[row + r][col + c] = false;
          }
        }
      }
    },
    /**
     * 创建二维码
     * @return {[type]} [description]
     */
    createQrcode: function createQrcode() {
      var minLostPoint = 0;
      var pattern = 0;
      var bestModules = null;
      for (var i = 0; i < 8; i++) {
        this.makeImpl(i);
        var lostPoint = QRUtil.getLostPoint(this);
        if (i == 0 || minLostPoint > lostPoint) {
          minLostPoint = lostPoint;
          pattern = i;
          bestModules = this.modules;
        }
      }
      this.modules = bestModules;
      this.setupTypeInfo(false, pattern);
      if (this.typeNumber >= 7) {
        this.setupTypeNumber(false);
      }
    },
    /**
     * 设置定位图形
     * @return {[type]} [description]
     */
    setupTimingPattern: function setupTimingPattern() {
      for (var r = 8; r < this.moduleCount - 8; r++) {
        if (this.modules[r][6] != null) {
          continue;
        }
        this.modules[r][6] = r % 2 == 0;
        if (this.modules[6][r] != null) {
          continue;
        }
        this.modules[6][r] = r % 2 == 0;
      }
    },
    /**
     * 设置矫正图形
     * @return {[type]} [description]
     */
    setupPositionAdjustPattern: function setupPositionAdjustPattern() {
      var pos = QRUtil.getPatternPosition(this.typeNumber);
      for (var i = 0; i < pos.length; i++) {
        for (var j = 0; j < pos.length; j++) {
          var row = pos[i];
          var col = pos[j];
          if (this.modules[row][col] != null) {
            continue;
          }
          for (var r = -2; r <= 2; r++) {
            for (var c = -2; c <= 2; c++) {
              if (r == -2 || r == 2 || c == -2 || c == 2 || r == 0 && c == 0) {
                this.modules[row + r][col + c] = true;
              } else {
                this.modules[row + r][col + c] = false;
              }
            }
          }
        }
      }
    },
    /**
     * 设置版本信息（7以上版本才有）
     * @param  {bool} test 是否处于判断最佳掩膜阶段
     * @return {[type]}      [description]
     */
    setupTypeNumber: function setupTypeNumber(test) {
      var bits = QRUtil.getBCHTypeNumber(this.typeNumber);
      for (var i = 0; i < 18; i++) {
        var mod = !test && (bits >> i & 1) == 1;
        this.modules[Math.floor(i / 3)][i % 3 + this.moduleCount - 8 - 3] = mod;
        this.modules[i % 3 + this.moduleCount - 8 - 3][Math.floor(i / 3)] = mod;
      }
    },
    /**
     * 设置格式信息（纠错等级和掩膜版本）
     * @param  {bool} test
     * @param  {num} maskPattern 掩膜版本
     * @return {}
     */
    setupTypeInfo: function setupTypeInfo(test, maskPattern) {
      var data = QRErrorCorrectLevel[this.errorCorrectLevel] << 3 | maskPattern;
      var bits = QRUtil.getBCHTypeInfo(data);
      // vertical
      for (var i = 0; i < 15; i++) {
        var mod = !test && (bits >> i & 1) == 1;
        if (i < 6) {
          this.modules[i][8] = mod;
        } else if (i < 8) {
          this.modules[i + 1][8] = mod;
        } else {
          this.modules[this.moduleCount - 15 + i][8] = mod;
        }
        // horizontal
        var mod = !test && (bits >> i & 1) == 1;
        if (i < 8) {
          this.modules[8][this.moduleCount - i - 1] = mod;
        } else if (i < 9) {
          this.modules[8][15 - i - 1 + 1] = mod;
        } else {
          this.modules[8][15 - i - 1] = mod;
        }
      }
      // fixed module
      this.modules[this.moduleCount - 8][8] = !test;
    },
    /**
     * 数据编码
     * @return {[type]} [description]
     */
    createData: function createData() {
      var buffer = new QRBitBuffer();
      var lengthBits = this.typeNumber > 9 ? 16 : 8;
      buffer.put(4, 4); //添加模式
      buffer.put(this.utf8bytes.length, lengthBits);
      for (var i = 0, l = this.utf8bytes.length; i < l; i++) {
        buffer.put(this.utf8bytes[i], 8);
      }
      if (buffer.length + 4 <= this.totalDataCount * 8) {
        buffer.put(0, 4);
      }
      // padding
      while (buffer.length % 8 != 0) {
        buffer.putBit(false);
      }
      // padding
      while (true) {
        if (buffer.length >= this.totalDataCount * 8) {
          break;
        }
        buffer.put(QRCodeAlg.PAD0, 8);
        if (buffer.length >= this.totalDataCount * 8) {
          break;
        }
        buffer.put(QRCodeAlg.PAD1, 8);
      }
      return this.createBytes(buffer);
    },
    /**
     * 纠错码编码
     * @param  {buffer} buffer 数据编码
     * @return {[type]}
     */
    createBytes: function createBytes(buffer) {
      var offset = 0;
      var maxDcCount = 0;
      var maxEcCount = 0;
      var length = this.rsBlock.length / 3;
      var rsBlocks = new Array();
      for (var i = 0; i < length; i++) {
        var count = this.rsBlock[i * 3 + 0];
        var totalCount = this.rsBlock[i * 3 + 1];
        var dataCount = this.rsBlock[i * 3 + 2];
        for (var j = 0; j < count; j++) {
          rsBlocks.push([dataCount, totalCount]);
        }
      }
      var dcdata = new Array(rsBlocks.length);
      var ecdata = new Array(rsBlocks.length);
      for (var r = 0; r < rsBlocks.length; r++) {
        var dcCount = rsBlocks[r][0];
        var ecCount = rsBlocks[r][1] - dcCount;
        maxDcCount = Math.max(maxDcCount, dcCount);
        maxEcCount = Math.max(maxEcCount, ecCount);
        dcdata[r] = new Array(dcCount);
        for (var i = 0; i < dcdata[r].length; i++) {
          dcdata[r][i] = 0xff & buffer.buffer[i + offset];
        }
        offset += dcCount;
        var rsPoly = QRUtil.getErrorCorrectPolynomial(ecCount);
        var rawPoly = new QRPolynomial(dcdata[r], rsPoly.getLength() - 1);
        var modPoly = rawPoly.mod(rsPoly);
        ecdata[r] = new Array(rsPoly.getLength() - 1);
        for (var i = 0; i < ecdata[r].length; i++) {
          var modIndex = i + modPoly.getLength() - ecdata[r].length;
          ecdata[r][i] = modIndex >= 0 ? modPoly.get(modIndex) : 0;
        }
      }
      var data = new Array(this.totalDataCount);
      var index = 0;
      for (var i = 0; i < maxDcCount; i++) {
        for (var r = 0; r < rsBlocks.length; r++) {
          if (i < dcdata[r].length) {
            data[index++] = dcdata[r][i];
          }
        }
      }
      for (var i = 0; i < maxEcCount; i++) {
        for (var r = 0; r < rsBlocks.length; r++) {
          if (i < ecdata[r].length) {
            data[index++] = ecdata[r][i];
          }
        }
      }
      return data;
    },
    /**
     * 布置模块，构建最终信息
     * @param  {} data
     * @param  {} maskPattern
     * @return {}
     */
    mapData: function mapData(data, maskPattern) {
      var inc = -1;
      var row = this.moduleCount - 1;
      var bitIndex = 7;
      var byteIndex = 0;
      for (var col = this.moduleCount - 1; col > 0; col -= 2) {
        if (col == 6) col--;
        while (true) {
          for (var c = 0; c < 2; c++) {
            if (this.modules[row][col - c] == null) {
              var dark = false;
              if (byteIndex < data.length) {
                dark = (data[byteIndex] >>> bitIndex & 1) == 1;
              }
              var mask = QRUtil.getMask(maskPattern, row, col - c);
              if (mask) {
                dark = !dark;
              }
              this.modules[row][col - c] = dark;
              bitIndex--;
              if (bitIndex == -1) {
                byteIndex++;
                bitIndex = 7;
              }
            }
          }
          row += inc;
          if (row < 0 || this.moduleCount <= row) {
            row -= inc;
            inc = -inc;
            break;
          }
        }
      }
    }
  };
  /**
   * 填充字段
   */
  QRCodeAlg.PAD0 = 0xEC;
  QRCodeAlg.PAD1 = 0x11;
  //---------------------------------------------------------------------
  // 纠错等级对应的编码
  //---------------------------------------------------------------------
  var QRErrorCorrectLevel = [1, 0, 3, 2];
  //---------------------------------------------------------------------
  // 掩膜版本
  //---------------------------------------------------------------------
  var QRMaskPattern = {
    PATTERN000: 0,
    PATTERN001: 1,
    PATTERN010: 2,
    PATTERN011: 3,
    PATTERN100: 4,
    PATTERN101: 5,
    PATTERN110: 6,
    PATTERN111: 7
  };
  //---------------------------------------------------------------------
  // 工具类
  //---------------------------------------------------------------------
  var QRUtil = {
    /*
    每个版本矫正图形的位置
     */
    PATTERN_POSITION_TABLE: [[], [6, 18], [6, 22], [6, 26], [6, 30], [6, 34], [6, 22, 38], [6, 24, 42], [6, 26, 46], [6, 28, 50], [6, 30, 54], [6, 32, 58], [6, 34, 62], [6, 26, 46, 66], [6, 26, 48, 70], [6, 26, 50, 74], [6, 30, 54, 78], [6, 30, 56, 82], [6, 30, 58, 86], [6, 34, 62, 90], [6, 28, 50, 72, 94], [6, 26, 50, 74, 98], [6, 30, 54, 78, 102], [6, 28, 54, 80, 106], [6, 32, 58, 84, 110], [6, 30, 58, 86, 114], [6, 34, 62, 90, 118], [6, 26, 50, 74, 98, 122], [6, 30, 54, 78, 102, 126], [6, 26, 52, 78, 104, 130], [6, 30, 56, 82, 108, 134], [6, 34, 60, 86, 112, 138], [6, 30, 58, 86, 114, 142], [6, 34, 62, 90, 118, 146], [6, 30, 54, 78, 102, 126, 150], [6, 24, 50, 76, 102, 128, 154], [6, 28, 54, 80, 106, 132, 158], [6, 32, 58, 84, 110, 136, 162], [6, 26, 54, 82, 110, 138, 166], [6, 30, 58, 86, 114, 142, 170]],
    G15: 1 << 10 | 1 << 8 | 1 << 5 | 1 << 4 | 1 << 2 | 1 << 1 | 1 << 0,
    G18: 1 << 12 | 1 << 11 | 1 << 10 | 1 << 9 | 1 << 8 | 1 << 5 | 1 << 2 | 1 << 0,
    G15_MASK: 1 << 14 | 1 << 12 | 1 << 10 | 1 << 4 | 1 << 1,
    /*
    BCH编码格式信息
     */
    getBCHTypeInfo: function getBCHTypeInfo(data) {
      var d = data << 10;
      while (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G15) >= 0) {
        d ^= QRUtil.G15 << QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G15);
      }
      return (data << 10 | d) ^ QRUtil.G15_MASK;
    },
    /*
    BCH编码版本信息
     */
    getBCHTypeNumber: function getBCHTypeNumber(data) {
      var d = data << 12;
      while (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G18) >= 0) {
        d ^= QRUtil.G18 << QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G18);
      }
      return data << 12 | d;
    },
    /*
    获取BCH位信息
     */
    getBCHDigit: function getBCHDigit(data) {
      var digit = 0;
      while (data != 0) {
        digit++;
        data >>>= 1;
      }
      return digit;
    },
    /*
    获取版本对应的矫正图形位置
     */
    getPatternPosition: function getPatternPosition(typeNumber) {
      return QRUtil.PATTERN_POSITION_TABLE[typeNumber - 1];
    },
    /*
    掩膜算法
     */
    getMask: function getMask(maskPattern, i, j) {
      switch (maskPattern) {
        case QRMaskPattern.PATTERN000:
          return (i + j) % 2 == 0;
        case QRMaskPattern.PATTERN001:
          return i % 2 == 0;
        case QRMaskPattern.PATTERN010:
          return j % 3 == 0;
        case QRMaskPattern.PATTERN011:
          return (i + j) % 3 == 0;
        case QRMaskPattern.PATTERN100:
          return (Math.floor(i / 2) + Math.floor(j / 3)) % 2 == 0;
        case QRMaskPattern.PATTERN101:
          return i * j % 2 + i * j % 3 == 0;
        case QRMaskPattern.PATTERN110:
          return (i * j % 2 + i * j % 3) % 2 == 0;
        case QRMaskPattern.PATTERN111:
          return (i * j % 3 + (i + j) % 2) % 2 == 0;
        default:
          throw new Error("bad maskPattern:" + maskPattern);
      }
    },
    /*
    获取RS的纠错多项式
     */
    getErrorCorrectPolynomial: function getErrorCorrectPolynomial(errorCorrectLength) {
      var a = new QRPolynomial([1], 0);
      for (var i = 0; i < errorCorrectLength; i++) {
        a = a.multiply(new QRPolynomial([1, QRMath.gexp(i)], 0));
      }
      return a;
    },
    /*
    获取评价
     */
    getLostPoint: function getLostPoint(qrCode) {
      var moduleCount = qrCode.getModuleCount(),
        lostPoint = 0,
        darkCount = 0;
      for (var row = 0; row < moduleCount; row++) {
        var sameCount = 0;
        var head = qrCode.modules[row][0];
        for (var col = 0; col < moduleCount; col++) {
          var current = qrCode.modules[row][col];
          //level 3 评价
          if (col < moduleCount - 6) {
            if (current && !qrCode.modules[row][col + 1] && qrCode.modules[row][col + 2] && qrCode.modules[row][col + 3] && qrCode.modules[row][col + 4] && !qrCode.modules[row][col + 5] && qrCode.modules[row][col + 6]) {
              if (col < moduleCount - 10) {
                if (qrCode.modules[row][col + 7] && qrCode.modules[row][col + 8] && qrCode.modules[row][col + 9] && qrCode.modules[row][col + 10]) {
                  lostPoint += 40;
                }
              } else if (col > 3) {
                if (qrCode.modules[row][col - 1] && qrCode.modules[row][col - 2] && qrCode.modules[row][col - 3] && qrCode.modules[row][col - 4]) {
                  lostPoint += 40;
                }
              }
            }
          }
          //level 2 评价
          if (row < moduleCount - 1 && col < moduleCount - 1) {
            var count = 0;
            if (current) count++;
            if (qrCode.modules[row + 1][col]) count++;
            if (qrCode.modules[row][col + 1]) count++;
            if (qrCode.modules[row + 1][col + 1]) count++;
            if (count == 0 || count == 4) {
              lostPoint += 3;
            }
          }
          //level 1 评价
          if (head ^ current) {
            sameCount++;
          } else {
            head = current;
            if (sameCount >= 5) {
              lostPoint += 3 + sameCount - 5;
            }
            sameCount = 1;
          }
          //level 4 评价
          if (current) {
            darkCount++;
          }
        }
      }
      for (var col = 0; col < moduleCount; col++) {
        var sameCount = 0;
        var head = qrCode.modules[0][col];
        for (var row = 0; row < moduleCount; row++) {
          var current = qrCode.modules[row][col];
          //level 3 评价
          if (row < moduleCount - 6) {
            if (current && !qrCode.modules[row + 1][col] && qrCode.modules[row + 2][col] && qrCode.modules[row + 3][col] && qrCode.modules[row + 4][col] && !qrCode.modules[row + 5][col] && qrCode.modules[row + 6][col]) {
              if (row < moduleCount - 10) {
                if (qrCode.modules[row + 7][col] && qrCode.modules[row + 8][col] && qrCode.modules[row + 9][col] && qrCode.modules[row + 10][col]) {
                  lostPoint += 40;
                }
              } else if (row > 3) {
                if (qrCode.modules[row - 1][col] && qrCode.modules[row - 2][col] && qrCode.modules[row - 3][col] && qrCode.modules[row - 4][col]) {
                  lostPoint += 40;
                }
              }
            }
          }
          //level 1 评价
          if (head ^ current) {
            sameCount++;
          } else {
            head = current;
            if (sameCount >= 5) {
              lostPoint += 3 + sameCount - 5;
            }
            sameCount = 1;
          }
        }
      }
      // LEVEL4
      var ratio = Math.abs(100 * darkCount / moduleCount / moduleCount - 50) / 5;
      lostPoint += ratio * 10;
      return lostPoint;
    }
  };
  //---------------------------------------------------------------------
  // QRMath使用的数学工具
  //---------------------------------------------------------------------
  var QRMath = {
    /*
    将n转化为a^m
     */
    glog: function glog(n) {
      if (n < 1) {
        throw new Error("glog(" + n + ")");
      }
      return QRMath.LOG_TABLE[n];
    },
    /*
    将a^m转化为n
     */
    gexp: function gexp(n) {
      while (n < 0) {
        n += 255;
      }
      while (n >= 256) {
        n -= 255;
      }
      return QRMath.EXP_TABLE[n];
    },
    EXP_TABLE: new Array(256),
    LOG_TABLE: new Array(256)
  };
  for (var i = 0; i < 8; i++) {
    QRMath.EXP_TABLE[i] = 1 << i;
  }
  for (var i = 8; i < 256; i++) {
    QRMath.EXP_TABLE[i] = QRMath.EXP_TABLE[i - 4] ^ QRMath.EXP_TABLE[i - 5] ^ QRMath.EXP_TABLE[i - 6] ^ QRMath.EXP_TABLE[i - 8];
  }
  for (var i = 0; i < 255; i++) {
    QRMath.LOG_TABLE[QRMath.EXP_TABLE[i]] = i;
  }
  //---------------------------------------------------------------------
  // QRPolynomial 多项式
  //---------------------------------------------------------------------
  /**
   * 多项式类
   * @param {Array} num   系数
   * @param {num} shift a^shift
   */
  function QRPolynomial(num, shift) {
    if (num.length == undefined) {
      throw new Error(num.length + "/" + shift);
    }
    var offset = 0;
    while (offset < num.length && num[offset] == 0) {
      offset++;
    }
    this.num = new Array(num.length - offset + shift);
    for (var i = 0; i < num.length - offset; i++) {
      this.num[i] = num[i + offset];
    }
  }
  QRPolynomial.prototype = {
    get: function get(index) {
      return this.num[index];
    },
    getLength: function getLength() {
      return this.num.length;
    },
    /**
     * 多项式乘法
     * @param  {QRPolynomial} e 被乘多项式
     * @return {[type]}   [description]
     */
    multiply: function multiply(e) {
      var num = new Array(this.getLength() + e.getLength() - 1);
      for (var i = 0; i < this.getLength(); i++) {
        for (var j = 0; j < e.getLength(); j++) {
          num[i + j] ^= QRMath.gexp(QRMath.glog(this.get(i)) + QRMath.glog(e.get(j)));
        }
      }
      return new QRPolynomial(num, 0);
    },
    /**
     * 多项式模运算
     * @param  {QRPolynomial} e 模多项式
     * @return {}
     */
    mod: function mod(e) {
      var tl = this.getLength(),
        el = e.getLength();
      if (tl - el < 0) {
        return this;
      }
      var num = new Array(tl);
      for (var i = 0; i < tl; i++) {
        num[i] = this.get(i);
      }
      while (num.length >= el) {
        var ratio = QRMath.glog(num[0]) - QRMath.glog(e.get(0));
        for (var i = 0; i < e.getLength(); i++) {
          num[i] ^= QRMath.gexp(QRMath.glog(e.get(i)) + ratio);
        }
        while (num[0] == 0) {
          num.shift();
        }
      }
      return new QRPolynomial(num, 0);
    }
  };

  //---------------------------------------------------------------------
  // RS_BLOCK_TABLE
  //---------------------------------------------------------------------
  /*
  二维码各个版本信息[块数, 每块中的数据块数, 每块中的信息块数]
   */
  var RS_BLOCK_TABLE = [
  // L
  // M
  // Q
  // H
  // 1
  [1, 26, 19], [1, 26, 16], [1, 26, 13], [1, 26, 9],
  // 2
  [1, 44, 34], [1, 44, 28], [1, 44, 22], [1, 44, 16],
  // 3
  [1, 70, 55], [1, 70, 44], [2, 35, 17], [2, 35, 13],
  // 4
  [1, 100, 80], [2, 50, 32], [2, 50, 24], [4, 25, 9],
  // 5
  [1, 134, 108], [2, 67, 43], [2, 33, 15, 2, 34, 16], [2, 33, 11, 2, 34, 12],
  // 6
  [2, 86, 68], [4, 43, 27], [4, 43, 19], [4, 43, 15],
  // 7
  [2, 98, 78], [4, 49, 31], [2, 32, 14, 4, 33, 15], [4, 39, 13, 1, 40, 14],
  // 8
  [2, 121, 97], [2, 60, 38, 2, 61, 39], [4, 40, 18, 2, 41, 19], [4, 40, 14, 2, 41, 15],
  // 9
  [2, 146, 116], [3, 58, 36, 2, 59, 37], [4, 36, 16, 4, 37, 17], [4, 36, 12, 4, 37, 13],
  // 10
  [2, 86, 68, 2, 87, 69], [4, 69, 43, 1, 70, 44], [6, 43, 19, 2, 44, 20], [6, 43, 15, 2, 44, 16],
  // 11
  [4, 101, 81], [1, 80, 50, 4, 81, 51], [4, 50, 22, 4, 51, 23], [3, 36, 12, 8, 37, 13],
  // 12
  [2, 116, 92, 2, 117, 93], [6, 58, 36, 2, 59, 37], [4, 46, 20, 6, 47, 21], [7, 42, 14, 4, 43, 15],
  // 13
  [4, 133, 107], [8, 59, 37, 1, 60, 38], [8, 44, 20, 4, 45, 21], [12, 33, 11, 4, 34, 12],
  // 14
  [3, 145, 115, 1, 146, 116], [4, 64, 40, 5, 65, 41], [11, 36, 16, 5, 37, 17], [11, 36, 12, 5, 37, 13],
  // 15
  [5, 109, 87, 1, 110, 88], [5, 65, 41, 5, 66, 42], [5, 54, 24, 7, 55, 25], [11, 36, 12],
  // 16
  [5, 122, 98, 1, 123, 99], [7, 73, 45, 3, 74, 46], [15, 43, 19, 2, 44, 20], [3, 45, 15, 13, 46, 16],
  // 17
  [1, 135, 107, 5, 136, 108], [10, 74, 46, 1, 75, 47], [1, 50, 22, 15, 51, 23], [2, 42, 14, 17, 43, 15],
  // 18
  [5, 150, 120, 1, 151, 121], [9, 69, 43, 4, 70, 44], [17, 50, 22, 1, 51, 23], [2, 42, 14, 19, 43, 15],
  // 19
  [3, 141, 113, 4, 142, 114], [3, 70, 44, 11, 71, 45], [17, 47, 21, 4, 48, 22], [9, 39, 13, 16, 40, 14],
  // 20
  [3, 135, 107, 5, 136, 108], [3, 67, 41, 13, 68, 42], [15, 54, 24, 5, 55, 25], [15, 43, 15, 10, 44, 16],
  // 21
  [4, 144, 116, 4, 145, 117], [17, 68, 42], [17, 50, 22, 6, 51, 23], [19, 46, 16, 6, 47, 17],
  // 22
  [2, 139, 111, 7, 140, 112], [17, 74, 46], [7, 54, 24, 16, 55, 25], [34, 37, 13],
  // 23
  [4, 151, 121, 5, 152, 122], [4, 75, 47, 14, 76, 48], [11, 54, 24, 14, 55, 25], [16, 45, 15, 14, 46, 16],
  // 24
  [6, 147, 117, 4, 148, 118], [6, 73, 45, 14, 74, 46], [11, 54, 24, 16, 55, 25], [30, 46, 16, 2, 47, 17],
  // 25
  [8, 132, 106, 4, 133, 107], [8, 75, 47, 13, 76, 48], [7, 54, 24, 22, 55, 25], [22, 45, 15, 13, 46, 16],
  // 26
  [10, 142, 114, 2, 143, 115], [19, 74, 46, 4, 75, 47], [28, 50, 22, 6, 51, 23], [33, 46, 16, 4, 47, 17],
  // 27
  [8, 152, 122, 4, 153, 123], [22, 73, 45, 3, 74, 46], [8, 53, 23, 26, 54, 24], [12, 45, 15, 28, 46, 16],
  // 28
  [3, 147, 117, 10, 148, 118], [3, 73, 45, 23, 74, 46], [4, 54, 24, 31, 55, 25], [11, 45, 15, 31, 46, 16],
  // 29
  [7, 146, 116, 7, 147, 117], [21, 73, 45, 7, 74, 46], [1, 53, 23, 37, 54, 24], [19, 45, 15, 26, 46, 16],
  // 30
  [5, 145, 115, 10, 146, 116], [19, 75, 47, 10, 76, 48], [15, 54, 24, 25, 55, 25], [23, 45, 15, 25, 46, 16],
  // 31
  [13, 145, 115, 3, 146, 116], [2, 74, 46, 29, 75, 47], [42, 54, 24, 1, 55, 25], [23, 45, 15, 28, 46, 16],
  // 32
  [17, 145, 115], [10, 74, 46, 23, 75, 47], [10, 54, 24, 35, 55, 25], [19, 45, 15, 35, 46, 16],
  // 33
  [17, 145, 115, 1, 146, 116], [14, 74, 46, 21, 75, 47], [29, 54, 24, 19, 55, 25], [11, 45, 15, 46, 46, 16],
  // 34
  [13, 145, 115, 6, 146, 116], [14, 74, 46, 23, 75, 47], [44, 54, 24, 7, 55, 25], [59, 46, 16, 1, 47, 17],
  // 35
  [12, 151, 121, 7, 152, 122], [12, 75, 47, 26, 76, 48], [39, 54, 24, 14, 55, 25], [22, 45, 15, 41, 46, 16],
  // 36
  [6, 151, 121, 14, 152, 122], [6, 75, 47, 34, 76, 48], [46, 54, 24, 10, 55, 25], [2, 45, 15, 64, 46, 16],
  // 37
  [17, 152, 122, 4, 153, 123], [29, 74, 46, 14, 75, 47], [49, 54, 24, 10, 55, 25], [24, 45, 15, 46, 46, 16],
  // 38
  [4, 152, 122, 18, 153, 123], [13, 74, 46, 32, 75, 47], [48, 54, 24, 14, 55, 25], [42, 45, 15, 32, 46, 16],
  // 39
  [20, 147, 117, 4, 148, 118], [40, 75, 47, 7, 76, 48], [43, 54, 24, 22, 55, 25], [10, 45, 15, 67, 46, 16],
  // 40
  [19, 148, 118, 6, 149, 119], [18, 75, 47, 31, 76, 48], [34, 54, 24, 34, 55, 25], [20, 45, 15, 61, 46, 16]];

  /**
   * 根据数据获取对应版本
   * @return {[type]} [description]
   */
  QRCodeAlg.prototype.getRightType = function () {
    for (var typeNumber = 1; typeNumber < 41; typeNumber++) {
      var rsBlock = RS_BLOCK_TABLE[(typeNumber - 1) * 4 + this.errorCorrectLevel];
      if (rsBlock == undefined) {
        throw new Error("bad rs block @ typeNumber:" + typeNumber + "/errorCorrectLevel:" + this.errorCorrectLevel);
      }
      var length = rsBlock.length / 3;
      var totalDataCount = 0;
      for (var i = 0; i < length; i++) {
        var count = rsBlock[i * 3 + 0];
        var dataCount = rsBlock[i * 3 + 2];
        totalDataCount += dataCount * count;
      }
      var lengthBytes = typeNumber > 9 ? 2 : 1;
      if (this.utf8bytes.length + lengthBytes < totalDataCount || typeNumber == 40) {
        this.typeNumber = typeNumber;
        this.rsBlock = rsBlock;
        this.totalDataCount = totalDataCount;
        break;
      }
    }
  };

  //---------------------------------------------------------------------
  // QRBitBuffer
  //---------------------------------------------------------------------
  function QRBitBuffer() {
    this.buffer = new Array();
    this.length = 0;
  }
  QRBitBuffer.prototype = {
    get: function get(index) {
      var bufIndex = Math.floor(index / 8);
      return this.buffer[bufIndex] >>> 7 - index % 8 & 1;
    },
    put: function put(num, length) {
      for (var i = 0; i < length; i++) {
        this.putBit(num >>> length - i - 1 & 1);
      }
    },
    putBit: function putBit(bit) {
      var bufIndex = Math.floor(this.length / 8);
      if (this.buffer.length <= bufIndex) {
        this.buffer.push(0);
      }
      if (bit) {
        this.buffer[bufIndex] |= 0x80 >>> this.length % 8;
      }
      this.length++;
    }
  };

  // xzedit
  var qrcodeAlgObjCache = [];
  /**
   * 二维码构造函数，主要用于绘制
   * @param  {参数列表} opt 传递参数
   * @return {}
   */
  QRCode = function QRCode(opt) {
    //设置默认参数
    this.options = {
      text: '',
      size: 256,
      correctLevel: 3,
      background: '#ffffff',
      foreground: '#000000',
      pdground: '#000000',
      image: '',
      imageSize: 30,
      canvasId: opt.canvasId,
      context: opt.context,
      usingComponents: opt.usingComponents,
      showLoading: opt.showLoading,
      loadingText: opt.loadingText
    };
    if (typeof opt === 'string') {
      // 只编码ASCII字符串
      opt = {
        text: opt
      };
    }
    if (opt) {
      for (var i in opt) {
        this.options[i] = opt[i];
      }
    }
    //使用QRCodeAlg创建二维码结构
    var qrCodeAlg = null;
    for (var i = 0, l = qrcodeAlgObjCache.length; i < l; i++) {
      if (qrcodeAlgObjCache[i].text == this.options.text && qrcodeAlgObjCache[i].text.correctLevel == this.options.correctLevel) {
        qrCodeAlg = qrcodeAlgObjCache[i].obj;
        break;
      }
    }
    if (i == l) {
      qrCodeAlg = new QRCodeAlg(this.options.text, this.options.correctLevel);
      qrcodeAlgObjCache.push({
        text: this.options.text,
        correctLevel: this.options.correctLevel,
        obj: qrCodeAlg
      });
    }
    /**
     * 计算矩阵点的前景色
     * @param {Obj} config
     * @param {Number} config.row 点x坐标
     * @param {Number} config.col 点y坐标
     * @param {Number} config.count 矩阵大小
     * @param {Number} config.options 组件的options
     * @return {String}
     */
    var getForeGround = function getForeGround(config) {
      var options = config.options;
      if (options.pdground && (config.row > 1 && config.row < 5 && config.col > 1 && config.col < 5 || config.row > config.count - 6 && config.row < config.count - 2 && config.col > 1 && config.col < 5 || config.row > 1 && config.row < 5 && config.col > config.count - 6 && config.col < config.count - 2)) {
        return options.pdground;
      }
      return options.foreground;
    };
    // 创建canvas
    var createCanvas = function createCanvas(options) {
      if (options.showLoading) {
        uni.showLoading({
          title: options.loadingText,
          mask: true
        });
      }
      var ctx = uni.createCanvasContext(options.canvasId, options.context);
      var count = qrCodeAlg.getModuleCount();
      var ratioSize = options.size;
      var ratioImgSize = options.imageSize;
      //计算每个点的长宽
      var tileW = (ratioSize / count).toPrecision(4);
      var tileH = (ratioSize / count).toPrecision(4);
      //绘制
      for (var row = 0; row < count; row++) {
        for (var col = 0; col < count; col++) {
          var w = Math.ceil((col + 1) * tileW) - Math.floor(col * tileW);
          var h = Math.ceil((row + 1) * tileW) - Math.floor(row * tileW);
          var foreground = getForeGround({
            row: row,
            col: col,
            count: count,
            options: options
          });
          ctx.setFillStyle(qrCodeAlg.modules[row][col] ? foreground : options.background);
          ctx.fillRect(Math.round(col * tileW), Math.round(row * tileH), w, h);
        }
      }
      if (options.image) {
        // 画圆角矩形
        var drawRoundedRect = function drawRoundedRect(ctxi, x, y, width, height, r, lineWidth, fill, stroke) {
          ctxi.setLineWidth(lineWidth);
          ctxi.setFillStyle(options.background);
          ctxi.setStrokeStyle(options.background);
          ctxi.beginPath(); // draw top and top right corner 
          ctxi.moveTo(x + r, y);
          ctxi.arcTo(x + width, y, x + width, y + r, r); // draw right side and bottom right corner 
          ctxi.arcTo(x + width, y + height, x + width - r, y + height, r); // draw bottom and bottom left corner 
          ctxi.arcTo(x, y + height, x, y + height - r, r); // draw left and top left corner 
          ctxi.arcTo(x, y, x + r, y, r);
          ctxi.closePath();
          if (fill) {
            ctxi.fill();
          }
          if (stroke) {
            ctxi.stroke();
          }
        };
        var x = Number(((ratioSize - ratioImgSize) / 2).toFixed(2));
        var y = Number(((ratioSize - ratioImgSize) / 2).toFixed(2));
        drawRoundedRect(ctx, x, y, ratioImgSize, ratioImgSize, 2, 6, true, true);
        ctx.drawImage(options.image, x, y, ratioImgSize, ratioImgSize);
      }
      setTimeout(function () {
        ctx.draw(true, function () {
          // 保存到临时区域
          setTimeout(function () {
            uni.canvasToTempFilePath({
              width: options.width,
              height: options.height,
              destWidth: options.width,
              destHeight: options.height,
              canvasId: options.canvasId,
              quality: Number(1),
              success: function success(res) {
                if (options.cbResult) {
                  options.cbResult(res.tempFilePath);
                }
              },
              fail: function fail(res) {
                if (options.cbResult) {
                  options.cbResult(res);
                }
              },
              complete: function complete() {
                if (options.showLoading) {
                  uni.hideLoading();
                }
              }
            }, options.context);
          }, options.text.length + 100);
        });
      }, options.usingComponents ? 0 : 150);
    };
    createCanvas(this.options);
    // 空判定
    var empty = function empty(v) {
      var tp = (0, _typeof2.default)(v),
        rt = false;
      if (tp == "number" && String(v) == "") {
        rt = true;
      } else if (tp == "undefined") {
        rt = true;
      } else if (tp == "object") {
        if (JSON.stringify(v) == "{}" || JSON.stringify(v) == "[]" || v == null) rt = true;
      } else if (tp == "string") {
        if (v == "" || v == "undefined" || v == "null" || v == "{}" || v == "[]") rt = true;
      } else if (tp == "function") {
        rt = false;
      }
      return rt;
    };
  };
  QRCode.prototype.clear = function (fn) {
    var ctx = uni.createCanvasContext(this.options.canvasId, this.options.context);
    ctx.clearRect(0, 0, this.options.size, this.options.size);
    ctx.draw(false, function () {
      if (fn) {
        fn();
      }
    });
  };
})();
var _default = QRCode;
exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 2)["default"]))

/***/ }),

/***/ 14:
/*!************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/toPrimitive.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var _typeof = __webpack_require__(/*! ./typeof.js */ 13)["default"];
function toPrimitive(t, r) {
  if ("object" != _typeof(t) || !t) return t;
  var e = t[Symbol.toPrimitive];
  if (void 0 !== e) {
    var i = e.call(t, r || "default");
    if ("object" != _typeof(i)) return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return ("string" === r ? String : Number)(t);
}
module.exports = toPrimitive, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 1400:
/*!***************************************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/components/uview-ui/components/u-parse/libs/MpHtmlParser.js ***!
  \***************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(uni) {/**
 * html 解析器
 * @tutorial https://github.com/jin-yufeng/Parser
 * @version 20201029
 * @author JinYufeng
 * @listens MIT
 */
var cfg = __webpack_require__(/*! ./config.js */ 1401),
  blankChar = cfg.blankChar,
  CssHandler = __webpack_require__(/*! ./CssHandler.js */ 1402),
  windowWidth = uni.getSystemInfoSync().windowWidth;
var emoji;
function MpHtmlParser(data) {
  var _this = this;
  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  this.attrs = {};
  this.CssHandler = new CssHandler(options.tagStyle, windowWidth);
  this.data = data;
  this.domain = options.domain;
  this.DOM = [];
  this.i = this.start = this.audioNum = this.imgNum = this.videoNum = 0;
  options.prot = (this.domain || '').includes('://') ? this.domain.split('://')[0] : 'http';
  this.options = options;
  this.state = this.Text;
  this.STACK = [];
  // 工具函数
  this.bubble = function () {
    for (var i = _this.STACK.length, item; item = _this.STACK[--i];) {
      if (cfg.richOnlyTags[item.name]) return false;
      item.c = 1;
    }
    return true;
  };
  this.decode = function (val, amp) {
    var i = -1,
      j,
      en;
    while (1) {
      if ((i = val.indexOf('&', i + 1)) == -1) break;
      if ((j = val.indexOf(';', i + 2)) == -1) break;
      if (val[i + 1] == '#') {
        en = parseInt((val[i + 2] == 'x' ? '0' : '') + val.substring(i + 2, j));
        if (!isNaN(en)) val = val.substr(0, i) + String.fromCharCode(en) + val.substr(j + 1);
      } else {
        en = val.substring(i + 1, j);
        if (cfg.entities[en] || en == amp) val = val.substr(0, i) + (cfg.entities[en] || '&') + val.substr(j + 1);
      }
    }
    return val;
  };
  this.getUrl = function (url) {
    if (url[0] == '/') {
      if (url[1] == '/') url = _this.options.prot + ':' + url;else if (_this.domain) url = _this.domain + url;
    } else if (_this.domain && url.indexOf('data:') != 0 && !url.includes('://')) url = _this.domain + '/' + url;
    return url;
  };
  this.isClose = function () {
    return _this.data[_this.i] == '>' || _this.data[_this.i] == '/' && _this.data[_this.i + 1] == '>';
  };
  this.section = function () {
    return _this.data.substring(_this.start, _this.i);
  };
  this.parent = function () {
    return _this.STACK[_this.STACK.length - 1];
  };
  this.siblings = function () {
    return _this.STACK.length ? _this.parent().children : _this.DOM;
  };
}
MpHtmlParser.prototype.parse = function () {
  if (emoji) this.data = emoji.parseEmoji(this.data);
  for (var c; c = this.data[this.i]; this.i++) {
    this.state(c);
  }
  if (this.state == this.Text) this.setText();
  while (this.STACK.length) {
    this.popNode(this.STACK.pop());
  }
  return this.DOM;
};
// 设置属性
MpHtmlParser.prototype.setAttr = function () {
  var name = this.attrName.toLowerCase(),
    val = this.attrVal;
  if (cfg.boolAttrs[name]) this.attrs[name] = 'T';else if (val) {
    if (name == 'src' || name == 'data-src' && !this.attrs.src) this.attrs.src = this.getUrl(this.decode(val, 'amp'));else if (name == 'href' || name == 'style') this.attrs[name] = this.decode(val, 'amp');else if (name.substr(0, 5) != 'data-') this.attrs[name] = val;
  }
  this.attrVal = '';
  while (blankChar[this.data[this.i]]) {
    this.i++;
  }
  if (this.isClose()) this.setNode();else {
    this.start = this.i;
    this.state = this.AttrName;
  }
};
// 设置文本节点
MpHtmlParser.prototype.setText = function () {
  var back,
    text = this.section();
  if (!text) return;
  text = cfg.onText && cfg.onText(text, function () {
    return back = true;
  }) || text;
  if (back) {
    this.data = this.data.substr(0, this.start) + text + this.data.substr(this.i);
    var j = this.start + text.length;
    for (this.i = this.start; this.i < j; this.i++) {
      this.state(this.data[this.i]);
    }
    return;
  }
  if (!this.pre) {
    // 合并空白符
    var flag,
      tmp = [];
    for (var i = text.length, c; c = text[--i];) {
      if (!blankChar[c]) {
        tmp.unshift(c);
        if (!flag) flag = 1;
      } else {
        if (tmp[0] != ' ') tmp.unshift(' ');
        if (c == '\n' && flag == void 0) flag = 0;
      }
    }
    if (flag == 0) return;
    text = tmp.join('');
  }
  this.siblings().push({
    type: 'text',
    text: this.decode(text)
  });
};
// 设置元素节点
MpHtmlParser.prototype.setNode = function () {
  var node = {
      name: this.tagName.toLowerCase(),
      attrs: this.attrs
    },
    close = cfg.selfClosingTags[node.name];
  if (this.options.nodes.length) node.type = 'node';
  this.attrs = {};
  if (!cfg.ignoreTags[node.name]) {
    // 处理属性
    var attrs = node.attrs,
      style = this.CssHandler.match(node.name, attrs, node) + (attrs.style || ''),
      styleObj = {};
    if (attrs.id) {
      if (this.options.compress & 1) attrs.id = void 0;else if (this.options.useAnchor) this.bubble();
    }
    if (this.options.compress & 2 && attrs.class) attrs.class = void 0;
    switch (node.name) {
      case 'a':
      case 'ad':
        this.bubble();
        break;
      case 'font':
        if (attrs.color) {
          styleObj['color'] = attrs.color;
          attrs.color = void 0;
        }
        if (attrs.face) {
          styleObj['font-family'] = attrs.face;
          attrs.face = void 0;
        }
        if (attrs.size) {
          var size = parseInt(attrs.size);
          if (size < 1) size = 1;else if (size > 7) size = 7;
          var map = ['xx-small', 'x-small', 'small', 'medium', 'large', 'x-large', 'xx-large'];
          styleObj['font-size'] = map[size - 1];
          attrs.size = void 0;
        }
        break;
      case 'embed':
        var src = node.attrs.src || '',
          type = node.attrs.type || '';
        if (type.includes('video') || src.includes('.mp4') || src.includes('.3gp') || src.includes('.m3u8')) node.name = 'video';else if (type.includes('audio') || src.includes('.m4a') || src.includes('.wav') || src.includes('.mp3') || src.includes('.aac')) node.name = 'audio';else break;
        if (node.attrs.autostart) node.attrs.autoplay = 'T';
        node.attrs.controls = 'T';
      case 'video':
      case 'audio':
        if (!attrs.id) attrs.id = node.name + ++this["".concat(node.name, "Num")];else this["".concat(node.name, "Num")]++;
        if (node.name == 'video') {
          if (this.videoNum > 3) node.lazyLoad = 1;
          if (attrs.width) {
            styleObj.width = parseFloat(attrs.width) + (attrs.width.includes('%') ? '%' : 'px');
            attrs.width = void 0;
          }
          if (attrs.height) {
            styleObj.height = parseFloat(attrs.height) + (attrs.height.includes('%') ? '%' : 'px');
            attrs.height = void 0;
          }
        }
        if (!attrs.controls && !attrs.autoplay) attrs.controls = 'T';
        attrs.source = [];
        if (attrs.src) {
          attrs.source.push(attrs.src);
          attrs.src = void 0;
        }
        this.bubble();
        break;
      case 'td':
      case 'th':
        if (attrs.colspan || attrs.rowspan) for (var k = this.STACK.length, item; item = this.STACK[--k];) {
          if (item.name == 'table') {
            item.flag = 1;
            break;
          }
        }
    }
    if (attrs.align) {
      if (node.name == 'table') {
        if (attrs.align == 'center') styleObj['margin-inline-start'] = styleObj['margin-inline-end'] = 'auto';else styleObj['float'] = attrs.align;
      } else styleObj['text-align'] = attrs.align;
      attrs.align = void 0;
    }
    // 压缩 style
    var styles = style.split(';');
    style = '';
    for (var i = 0, len = styles.length; i < len; i++) {
      var info = styles[i].split(':');
      if (info.length < 2) continue;
      var _key = info[0].trim().toLowerCase(),
        _value = info.slice(1).join(':').trim();
      if (_value[0] == '-' || _value.includes('safe')) style += ";".concat(_key, ":").concat(_value);else if (!styleObj[_key] || _value.includes('import') || !styleObj[_key].includes('import')) styleObj[_key] = _value;
    }
    if (node.name == 'img') {
      if (attrs.src && !attrs.ignore) {
        if (this.bubble()) attrs.i = (this.imgNum++).toString();else attrs.ignore = 'T';
      }
      if (attrs.ignore) {
        style += ';-webkit-touch-callout:none';
        styleObj['max-width'] = '100%';
      }
      var width;
      if (styleObj.width) width = styleObj.width;else if (attrs.width) width = attrs.width.includes('%') ? attrs.width : parseFloat(attrs.width) + 'px';
      if (width) {
        styleObj.width = width;
        attrs.width = '100%';
        if (parseInt(width) > windowWidth) {
          styleObj.height = '';
          if (attrs.height) attrs.height = void 0;
        }
      }
      if (styleObj.height) {
        attrs.height = styleObj.height;
        styleObj.height = '';
      } else if (attrs.height && !attrs.height.includes('%')) attrs.height = parseFloat(attrs.height) + 'px';
    }
    for (var key in styleObj) {
      var value = styleObj[key];
      if (!value) continue;
      if (key.includes('flex') || key == 'order' || key == 'self-align') node.c = 1;
      // 填充链接
      if (value.includes('url')) {
        var j = value.indexOf('(');
        if (j++ != -1) {
          while (value[j] == '"' || value[j] == "'" || blankChar[value[j]]) {
            j++;
          }
          value = value.substr(0, j) + this.getUrl(value.substr(j));
        }
      }
      // 转换 rpx
      else if (value.includes('rpx')) value = value.replace(/[0-9.]+\s*rpx/g, function ($) {
        return parseFloat($) * windowWidth / 750 + 'px';
      });else if (key == 'white-space' && value.includes('pre') && !close) this.pre = node.pre = true;
      style += ";".concat(key, ":").concat(value);
    }
    style = style.substr(1);
    if (style) attrs.style = style;
    if (!close) {
      node.children = [];
      if (node.name == 'pre' && cfg.highlight) {
        this.remove(node);
        this.pre = node.pre = true;
      }
      this.siblings().push(node);
      this.STACK.push(node);
    } else if (!cfg.filter || cfg.filter(node, this) != false) this.siblings().push(node);
  } else {
    if (!close) this.remove(node);else if (node.name == 'source') {
      var parent = this.parent();
      if (parent && (parent.name == 'video' || parent.name == 'audio') && node.attrs.src) parent.attrs.source.push(node.attrs.src);
    } else if (node.name == 'base' && !this.domain) this.domain = node.attrs.href;
  }
  if (this.data[this.i] == '/') this.i++;
  this.start = this.i + 1;
  this.state = this.Text;
};
// 移除标签
MpHtmlParser.prototype.remove = function (node) {
  var _this2 = this;
  var name = node.name,
    j = this.i;
  // 处理 svg
  var handleSvg = function handleSvg() {
    var src = _this2.data.substring(j, _this2.i + 1);
    node.attrs.xmlns = 'http://www.w3.org/2000/svg';
    for (var key in node.attrs) {
      if (key == 'viewbox') src = " viewBox=\"".concat(node.attrs.viewbox, "\"") + src;else if (key != 'style') src = " ".concat(key, "=\"").concat(node.attrs[key], "\"") + src;
    }
    src = '<svg' + src;
    var parent = _this2.parent();
    if (node.attrs.width == '100%' && parent && (parent.attrs.style || '').includes('inline')) parent.attrs.style = 'width:300px;max-width:100%;' + parent.attrs.style;
    _this2.siblings().push({
      name: 'img',
      attrs: {
        src: 'data:image/svg+xml;utf8,' + src.replace(/#/g, '%23'),
        style: node.attrs.style,
        ignore: 'T'
      }
    });
  };
  if (node.name == 'svg' && this.data[j] == '/') return handleSvg(this.i++);
  while (1) {
    if ((this.i = this.data.indexOf('</', this.i + 1)) == -1) {
      if (name == 'pre' || name == 'svg') this.i = j;else this.i = this.data.length;
      return;
    }
    this.start = this.i += 2;
    while (!blankChar[this.data[this.i]] && !this.isClose()) {
      this.i++;
    }
    if (this.section().toLowerCase() == name) {
      // 代码块高亮
      if (name == 'pre') {
        this.data = this.data.substr(0, j + 1) + cfg.highlight(this.data.substring(j + 1, this.i - 5), node.attrs) + this.data.substr(this.i - 5);
        return this.i = j;
      } else if (name == 'style') this.CssHandler.getStyle(this.data.substring(j + 1, this.i - 7));else if (name == 'title') this.DOM.title = this.data.substring(j + 1, this.i - 7);
      if ((this.i = this.data.indexOf('>', this.i)) == -1) this.i = this.data.length;
      if (name == 'svg') handleSvg();
      return;
    }
  }
};
// 节点出栈处理
MpHtmlParser.prototype.popNode = function (node) {
  // 空白符处理
  if (node.pre) {
    node.pre = this.pre = void 0;
    for (var i = this.STACK.length; i--;) {
      if (this.STACK[i].pre) this.pre = true;
    }
  }
  var siblings = this.siblings(),
    len = siblings.length,
    childs = node.children;
  if (node.name == 'head' || cfg.filter && cfg.filter(node, this) == false) return siblings.pop();
  var attrs = node.attrs;
  // 替换一些标签名
  if (cfg.blockTags[node.name]) node.name = 'div';else if (!cfg.trustTags[node.name]) node.name = 'span';
  // 处理列表
  if (node.c && (node.name == 'ul' || node.name == 'ol')) {
    if ((node.attrs.style || '').includes('list-style:none')) {
      for (var _i = 0, child; child = childs[_i++];) {
        if (child.name == 'li') child.name = 'div';
      }
    } else if (node.name == 'ul') {
      var floor = 1;
      for (var _i2 = this.STACK.length; _i2--;) {
        if (this.STACK[_i2].name == 'ul') floor++;
      }
      if (floor != 1) for (var _i3 = childs.length; _i3--;) {
        childs[_i3].floor = floor;
      }
    } else {
      for (var _i4 = 0, num = 1, _child; _child = childs[_i4++];) {
        if (_child.name == 'li') {
          _child.type = 'ol';
          _child.num = function (num, type) {
            if (type == 'a') return String.fromCharCode(97 + (num - 1) % 26);
            if (type == 'A') return String.fromCharCode(65 + (num - 1) % 26);
            if (type == 'i' || type == 'I') {
              num = (num - 1) % 99 + 1;
              var one = ['I', 'II', 'III', 'IV', 'V', 'VI', 'VII', 'VIII', 'IX'],
                ten = ['X', 'XX', 'XXX', 'XL', 'L', 'LX', 'LXX', 'LXXX', 'XC'],
                res = (ten[Math.floor(num / 10) - 1] || '') + (one[num % 10 - 1] || '');
              if (type == 'i') return res.toLowerCase();
              return res;
            }
            return num;
          }(num++, attrs.type) + '.';
        }
      }
    }
  }
  // 处理表格
  if (node.name == 'table') {
    var padding = parseFloat(attrs.cellpadding),
      spacing = parseFloat(attrs.cellspacing),
      border = parseFloat(attrs.border);
    if (node.c) {
      if (isNaN(padding)) padding = 2;
      if (isNaN(spacing)) spacing = 2;
    }
    if (border) attrs.style = "border:".concat(border, "px solid gray;").concat(attrs.style || '');
    if (node.flag && node.c) {
      // 有 colspan 或 rowspan 且含有链接的表格转为 grid 布局实现
      attrs.style = "".concat(attrs.style || '', ";").concat(spacing ? ";grid-gap:".concat(spacing, "px") : ';border-left:0;border-top:0');
      var row = 1,
        col = 1,
        colNum,
        trs = [],
        children = [],
        map = {};
      (function f(ns) {
        for (var i = 0; i < ns.length; i++) {
          if (ns[i].name == 'tr') trs.push(ns[i]);else f(ns[i].children || []);
        }
      })(node.children);
      for (var _i5 = 0; _i5 < trs.length; _i5++) {
        for (var j = 0, td; td = trs[_i5].children[j]; j++) {
          if (td.name == 'td' || td.name == 'th') {
            while (map[row + '.' + col]) {
              col++;
            }
            var cell = {
              name: 'div',
              c: 1,
              attrs: {
                style: (td.attrs.style || '') + (border ? ";border:".concat(border, "px solid gray") + (spacing ? '' : ';border-right:0;border-bottom:0') : '') + (padding ? ";padding:".concat(padding, "px") : '')
              },
              children: td.children
            };
            if (td.attrs.colspan) {
              cell.attrs.style += ';grid-column-start:' + col + ';grid-column-end:' + (col + parseInt(td.attrs.colspan));
              if (!td.attrs.rowspan) cell.attrs.style += ';grid-row-start:' + row + ';grid-row-end:' + (row + 1);
              col += parseInt(td.attrs.colspan) - 1;
            }
            if (td.attrs.rowspan) {
              cell.attrs.style += ';grid-row-start:' + row + ';grid-row-end:' + (row + parseInt(td.attrs.rowspan));
              if (!td.attrs.colspan) cell.attrs.style += ';grid-column-start:' + col + ';grid-column-end:' + (col + 1);
              for (var k = 1; k < td.attrs.rowspan; k++) {
                map[row + k + '.' + col] = 1;
              }
            }
            children.push(cell);
            col++;
          }
        }
        if (!colNum) {
          colNum = col - 1;
          attrs.style += ";grid-template-columns:repeat(".concat(colNum, ",auto)");
        }
        col = 1;
        row++;
      }
      node.children = children;
    } else {
      attrs.style = "border-spacing:".concat(spacing, "px;").concat(attrs.style || '');
      if (border || padding) (function f(ns) {
        for (var i = 0, n; n = ns[i]; i++) {
          if (n.name == 'th' || n.name == 'td') {
            if (border) n.attrs.style = "border:".concat(border, "px solid gray;").concat(n.attrs.style || '');
            if (padding) n.attrs.style = "padding:".concat(padding, "px;").concat(n.attrs.style || '');
          } else f(n.children || []);
        }
      })(childs);
    }
    if (this.options.autoscroll) {
      var table = Object.assign({}, node);
      node.name = 'div';
      node.attrs = {
        style: 'overflow:scroll'
      };
      node.children = [table];
    }
  }
  this.CssHandler.pop && this.CssHandler.pop(node);
  // 自动压缩
  if (node.name == 'div' && !Object.keys(attrs).length && childs.length == 1 && childs[0].name == 'div') siblings[len - 1] = childs[0];
};
// 状态机
MpHtmlParser.prototype.Text = function (c) {
  if (c == '<') {
    var next = this.data[this.i + 1],
      isLetter = function isLetter(c) {
        return c >= 'a' && c <= 'z' || c >= 'A' && c <= 'Z';
      };
    if (isLetter(next)) {
      this.setText();
      this.start = this.i + 1;
      this.state = this.TagName;
    } else if (next == '/') {
      this.setText();
      if (isLetter(this.data[++this.i + 1])) {
        this.start = this.i + 1;
        this.state = this.EndTag;
      } else this.Comment();
    } else if (next == '!' || next == '?') {
      this.setText();
      this.Comment();
    }
  }
};
MpHtmlParser.prototype.Comment = function () {
  var key;
  if (this.data.substring(this.i + 2, this.i + 4) == '--') key = '-->';else if (this.data.substring(this.i + 2, this.i + 9) == '[CDATA[') key = ']]>';else key = '>';
  if ((this.i = this.data.indexOf(key, this.i + 2)) == -1) this.i = this.data.length;else this.i += key.length - 1;
  this.start = this.i + 1;
  this.state = this.Text;
};
MpHtmlParser.prototype.TagName = function (c) {
  if (blankChar[c]) {
    this.tagName = this.section();
    while (blankChar[this.data[this.i]]) {
      this.i++;
    }
    if (this.isClose()) this.setNode();else {
      this.start = this.i;
      this.state = this.AttrName;
    }
  } else if (this.isClose()) {
    this.tagName = this.section();
    this.setNode();
  }
};
MpHtmlParser.prototype.AttrName = function (c) {
  if (c == '=' || blankChar[c] || this.isClose()) {
    this.attrName = this.section();
    if (blankChar[c]) while (blankChar[this.data[++this.i]]) {
      ;
    }
    if (this.data[this.i] == '=') {
      while (blankChar[this.data[++this.i]]) {
        ;
      }
      this.start = this.i--;
      this.state = this.AttrValue;
    } else this.setAttr();
  }
};
MpHtmlParser.prototype.AttrValue = function (c) {
  if (c == '"' || c == "'") {
    this.start++;
    if ((this.i = this.data.indexOf(c, this.i + 1)) == -1) return this.i = this.data.length;
    this.attrVal = this.section();
    this.i++;
  } else {
    for (; !blankChar[this.data[this.i]] && !this.isClose(); this.i++) {
      ;
    }
    this.attrVal = this.section();
  }
  this.setAttr();
};
MpHtmlParser.prototype.EndTag = function (c) {
  if (blankChar[c] || c == '>' || c == '/') {
    var name = this.section().toLowerCase();
    for (var i = this.STACK.length; i--;) {
      if (this.STACK[i].name == name) break;
    }
    if (i != -1) {
      var node;
      while ((node = this.STACK.pop()).name != name) {
        this.popNode(node);
      }
      this.popNode(node);
    } else if (name == 'p' || name == 'br') this.siblings().push({
      name: name,
      attrs: {}
    });
    this.i = this.data.indexOf('>', this.i);
    this.start = this.i + 1;
    if (this.i == -1) this.i = this.data.length;else this.state = this.Text;
  }
};
module.exports = MpHtmlParser;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 2)["default"]))

/***/ }),

/***/ 1401:
/*!*********************************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/components/uview-ui/components/u-parse/libs/config.js ***!
  \*********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(wx) {/* 配置文件 */
var cfg = {
  // 出错占位图
  errorImg: null,
  // 过滤器函数
  filter: null,
  // 代码高亮函数
  highlight: null,
  // 文本处理函数
  onText: null,
  // 实体编码列表
  entities: {
    quot: '"',
    apos: "'",
    semi: ';',
    nbsp: '\xA0',
    ensp: "\u2002",
    emsp: "\u2003",
    ndash: '–',
    mdash: '—',
    middot: '·',
    lsquo: '‘',
    rsquo: '’',
    ldquo: '“',
    rdquo: '”',
    bull: '•',
    hellip: '…'
  },
  blankChar: makeMap(' ,\xA0,\t,\r,\n,\f'),
  boolAttrs: makeMap('allowfullscreen,autoplay,autostart,controls,ignore,loop,muted'),
  // 块级标签，将被转为 div
  blockTags: makeMap('address,article,aside,body,caption,center,cite,footer,header,html,nav,pre,section'),
  // 将被移除的标签
  ignoreTags: makeMap('area,base,canvas,frame,iframe,input,link,map,meta,param,script,source,style,svg,textarea,title,track,wbr'),
  // 只能被 rich-text 显示的标签
  richOnlyTags: makeMap('a,colgroup,fieldset,legend'),
  // 自闭合的标签
  selfClosingTags: makeMap('area,base,br,col,circle,ellipse,embed,frame,hr,img,input,line,link,meta,param,path,polygon,rect,source,track,use,wbr'),
  // 信任的标签
  trustTags: makeMap('a,abbr,ad,audio,b,blockquote,br,code,col,colgroup,dd,del,dl,dt,div,em,fieldset,h1,h2,h3,h4,h5,h6,hr,i,img,ins,label,legend,li,ol,p,q,source,span,strong,sub,sup,table,tbody,td,tfoot,th,thead,tr,title,ul,video'),
  // 默认的标签样式
  userAgentStyles: {
    address: 'font-style:italic',
    big: 'display:inline;font-size:1.2em',
    blockquote: 'background-color:#f6f6f6;border-left:3px solid #dbdbdb;color:#6c6c6c;padding:5px 0 5px 10px',
    caption: 'display:table-caption;text-align:center',
    center: 'text-align:center',
    cite: 'font-style:italic',
    dd: 'margin-left:40px',
    mark: 'background-color:yellow',
    pre: 'font-family:monospace;white-space:pre;overflow:scroll',
    s: 'text-decoration:line-through',
    small: 'display:inline;font-size:0.8em',
    u: 'text-decoration:underline'
  }
};
function makeMap(str) {
  var map = Object.create(null),
    list = str.split(',');
  for (var i = list.length; i--;) {
    map[list[i]] = true;
  }
  return map;
}
if (wx.canIUse('editor')) {
  cfg.blockTags.pre = void 0;
  cfg.ignoreTags.rp = true;
  Object.assign(cfg.richOnlyTags, makeMap('bdi,bdo,caption,rt,ruby'));
  Object.assign(cfg.trustTags, makeMap('bdi,bdo,caption,pre,rt,ruby'));
}
module.exports = cfg;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/wx.js */ 1)["default"]))

/***/ }),

/***/ 1402:
/*!*************************************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/components/uview-ui/components/u-parse/libs/CssHandler.js ***!
  \*************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var cfg = __webpack_require__(/*! ./config.js */ 1401),
  isLetter = function isLetter(c) {
    return c >= 'a' && c <= 'z' || c >= 'A' && c <= 'Z';
  };
function CssHandler(tagStyle) {
  var styles = Object.assign(Object.create(null), cfg.userAgentStyles);
  for (var item in tagStyle) {
    styles[item] = (styles[item] ? styles[item] + ';' : '') + tagStyle[item];
  }
  this.styles = styles;
}
CssHandler.prototype.getStyle = function (data) {
  this.styles = new parser(data, this.styles).parse();
};
CssHandler.prototype.match = function (name, attrs) {
  var tmp,
    matched = (tmp = this.styles[name]) ? tmp + ';' : '';
  if (attrs.class) {
    var items = attrs.class.split(' ');
    for (var i = 0, item; item = items[i]; i++) {
      if (tmp = this.styles['.' + item]) matched += tmp + ';';
    }
  }
  if (tmp = this.styles['#' + attrs.id]) matched += tmp + ';';
  return matched;
};
module.exports = CssHandler;
function parser(data, init) {
  this.data = data;
  this.floor = 0;
  this.i = 0;
  this.list = [];
  this.res = init;
  this.state = this.Space;
}
parser.prototype.parse = function () {
  for (var c; c = this.data[this.i]; this.i++) {
    this.state(c);
  }
  return this.res;
};
parser.prototype.section = function () {
  return this.data.substring(this.start, this.i);
};
// 状态机
parser.prototype.Space = function (c) {
  if (c == '.' || c == '#' || isLetter(c)) {
    this.start = this.i;
    this.state = this.Name;
  } else if (c == '/' && this.data[this.i + 1] == '*') this.Comment();else if (!cfg.blankChar[c] && c != ';') this.state = this.Ignore;
};
parser.prototype.Comment = function () {
  this.i = this.data.indexOf('*/', this.i) + 1;
  if (!this.i) this.i = this.data.length;
  this.state = this.Space;
};
parser.prototype.Ignore = function (c) {
  if (c == '{') this.floor++;else if (c == '}' && ! --this.floor) {
    this.list = [];
    this.state = this.Space;
  }
};
parser.prototype.Name = function (c) {
  if (cfg.blankChar[c]) {
    this.list.push(this.section());
    this.state = this.NameSpace;
  } else if (c == '{') {
    this.list.push(this.section());
    this.Content();
  } else if (c == ',') {
    this.list.push(this.section());
    this.Comma();
  } else if (!isLetter(c) && (c < '0' || c > '9') && c != '-' && c != '_') this.state = this.Ignore;
};
parser.prototype.NameSpace = function (c) {
  if (c == '{') this.Content();else if (c == ',') this.Comma();else if (!cfg.blankChar[c]) this.state = this.Ignore;
};
parser.prototype.Comma = function () {
  while (cfg.blankChar[this.data[++this.i]]) {
    ;
  }
  if (this.data[this.i] == '{') this.Content();else {
    this.start = this.i--;
    this.state = this.Name;
  }
};
parser.prototype.Content = function () {
  this.start = ++this.i;
  if ((this.i = this.data.indexOf('}', this.i)) == -1) this.i = this.data.length;
  var content = this.section();
  for (var i = 0, item; item = this.list[i++];) {
    if (this.res[item]) this.res[item] += ';' + content;else this.res[item] = content;
  }
  this.list = [];
  this.state = this.Space;
};

/***/ }),

/***/ 1438:
/*!*********************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/components/uview-ui/libs/util/province.js ***!
  \*********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _default = [{
  "value": 110000,
  "label": "北京"
}, {
  "value": 120000,
  "label": "天津"
}, {
  "value": 130000,
  "label": "河北省"
}, {
  "value": 140000,
  "label": "山西省"
}, {
  "value": 150000,
  "label": "内蒙古自治区"
}, {
  "value": 210000,
  "label": "辽宁省"
}, {
  "value": 220000,
  "label": "吉林省"
}, {
  "value": 230000,
  "label": "黑龙江省"
}, {
  "value": 310000,
  "label": "上海"
}, {
  "value": 320000,
  "label": "江苏省"
}, {
  "value": 330000,
  "label": "浙江省"
}, {
  "value": 340000,
  "label": "安徽省"
}, {
  "value": 350000,
  "label": "福建省"
}, {
  "value": 360000,
  "label": "江西省"
}, {
  "value": 370000,
  "label": "山东省"
}, {
  "value": 410000,
  "label": "河南省"
}, {
  "value": 420000,
  "label": "湖北省"
}, {
  "value": 430000,
  "label": "湖南省"
}, {
  "value": 440000,
  "label": "广东省"
}, {
  "value": 450000,
  "label": "广西壮族自治区"
}, {
  "value": 460000,
  "label": "海南省"
}, {
  "value": 500000,
  "label": "重庆"
}, {
  "value": 510000,
  "label": "四川省"
}, {
  "value": 520000,
  "label": "贵州省"
}, {
  "value": 530000,
  "label": "云南省"
}, {
  "value": 540000,
  "label": "西藏自治区"
}, {
  "value": 610000,
  "label": "陕西省"
}, {
  "value": 620000,
  "label": "甘肃省"
}, {
  "value": 630000,
  "label": "青海省"
}, {
  "value": 640000,
  "label": "宁夏回族自治区"
}, {
  "value": 650000,
  "label": "新疆维吾尔自治区"
}, {
  "value": 710000,
  "label": "台湾"
}, {
  "value": 810000,
  "label": "香港特别行政区"
}, {
  "value": 820000,
  "label": "澳门特别行政区"
}];
exports.default = _default;

/***/ }),

/***/ 1439:
/*!*****************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/components/uview-ui/libs/util/city.js ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _default = [[{
  "label": "北京市",
  "value": 110100
}], [{
  "label": "天津市",
  "value": 120100
}], [{
  "label": "石家庄市",
  "value": 130100
}, {
  "label": "唐山市",
  "value": 130200
}, {
  "label": "秦皇岛市",
  "value": 130300
}, {
  "label": "邯郸市",
  "value": 130400
}, {
  "label": "邢台市",
  "value": 130500
}, {
  "label": "保定市",
  "value": 130600
}, {
  "label": "张家口市",
  "value": 130700
}, {
  "label": "承德市",
  "value": 130800
}, {
  "label": "沧州市",
  "value": 130900
}, {
  "label": "廊坊市",
  "value": 131000
}, {
  "label": "衡水市",
  "value": 131100
}], [{
  "label": "太原市",
  "value": 140100
}, {
  "label": "大同市",
  "value": 140200
}, {
  "label": "阳泉市",
  "value": 140300
}, {
  "label": "长治市",
  "value": 140400
}, {
  "label": "晋城市",
  "value": 140500
}, {
  "label": "朔州市",
  "value": 140600
}, {
  "label": "晋中市",
  "value": 140700
}, {
  "label": "运城市",
  "value": 140800
}, {
  "label": "忻州市",
  "value": 140900
}, {
  "label": "临汾市",
  "value": 141000
}, {
  "label": "吕梁市",
  "value": 141100
}], [{
  "label": "呼和浩特市",
  "value": 150100
}, {
  "label": "包头市",
  "value": 150200
}, {
  "label": "乌海市",
  "value": 150300
}, {
  "label": "赤峰市",
  "value": 150400
}, {
  "label": "通辽市",
  "value": 150500
}, {
  "label": "鄂尔多斯市",
  "value": 150600
}, {
  "label": "呼伦贝尔市",
  "value": 150700
}, {
  "label": "巴彦淖尔市",
  "value": 150800
}, {
  "label": "乌兰察布市",
  "value": 150900
}, {
  "label": "兴安盟",
  "value": 152200
}, {
  "label": "锡林郭勒盟",
  "value": 152500
}, {
  "label": "阿拉善盟",
  "value": 152900
}], [{
  "label": "沈阳市",
  "value": 210100
}, {
  "label": "大连市",
  "value": 210200
}, {
  "label": "鞍山市",
  "value": 210300
}, {
  "label": "抚顺市",
  "value": 210400
}, {
  "label": "本溪市",
  "value": 210500
}, {
  "label": "丹东市",
  "value": 210600
}, {
  "label": "锦州市",
  "value": 210700
}, {
  "label": "营口市",
  "value": 210800
}, {
  "label": "阜新市",
  "value": 210900
}, {
  "label": "辽阳市",
  "value": 211000
}, {
  "label": "盘锦市",
  "value": 211100
}, {
  "label": "铁岭市",
  "value": 211200
}, {
  "label": "朝阳市",
  "value": 211300
}, {
  "label": "葫芦岛市",
  "value": 211400
}], [{
  "label": "长春市",
  "value": 220100
}, {
  "label": "吉林市",
  "value": 220200
}, {
  "label": "四平市",
  "value": 220300
}, {
  "label": "辽源市",
  "value": 220400
}, {
  "label": "通化市",
  "value": 220500
}, {
  "label": "白山市",
  "value": 220600
}, {
  "label": "松原市",
  "value": 220700
}, {
  "label": "白城市",
  "value": 220800
}, {
  "label": "延边朝鲜族自治州",
  "value": 222400
}], [{
  "label": "哈尔滨市",
  "value": 230100
}, {
  "label": "齐齐哈尔市",
  "value": 230200
}, {
  "label": "鸡西市",
  "value": 230300
}, {
  "label": "鹤岗市",
  "value": 230400
}, {
  "label": "双鸭山市",
  "value": 230500
}, {
  "label": "大庆市",
  "value": 230600
}, {
  "label": "伊春市",
  "value": 230700
}, {
  "label": "佳木斯市",
  "value": 230800
}, {
  "label": "七台河市",
  "value": 230900
}, {
  "label": "牡丹江市",
  "value": 231000
}, {
  "label": "黑河市",
  "value": 231100
}, {
  "label": "绥化市",
  "value": 231200
}, {
  "label": "大兴安岭地区",
  "value": 232700
}], [{
  "label": "上海市",
  "value": 310100
}], [{
  "label": "南京市",
  "value": 320100
}, {
  "label": "无锡市",
  "value": 320200
}, {
  "label": "徐州市",
  "value": 320300
}, {
  "label": "常州市",
  "value": 320400
}, {
  "label": "苏州市",
  "value": 320500
}, {
  "label": "南通市",
  "value": 320600
}, {
  "label": "连云港市",
  "value": 320700
}, {
  "label": "淮安市",
  "value": 320800
}, {
  "label": "盐城市",
  "value": 320900
}, {
  "label": "扬州市",
  "value": 321000
}, {
  "label": "镇江市",
  "value": 321100
}, {
  "label": "泰州市",
  "value": 321200
}, {
  "label": "宿迁市",
  "value": 321300
}], [{
  "label": "杭州市",
  "value": 330100
}, {
  "label": "宁波市",
  "value": 330200
}, {
  "label": "温州市",
  "value": 330300
}, {
  "label": "嘉兴市",
  "value": 330400
}, {
  "label": "湖州市",
  "value": 330500
}, {
  "label": "绍兴市",
  "value": 330600
}, {
  "label": "金华市",
  "value": 330700
}, {
  "label": "衢州市",
  "value": 330800
}, {
  "label": "舟山市",
  "value": 330900
}, {
  "label": "台州市",
  "value": 331000
}, {
  "label": "丽水市",
  "value": 331100
}, {
  "label": "舟山群岛新区",
  "value": 331200
}], [{
  "label": "合肥市",
  "value": 340100
}, {
  "label": "芜湖市",
  "value": 340200
}, {
  "label": "蚌埠市",
  "value": 340300
}, {
  "label": "淮南市",
  "value": 340400
}, {
  "label": "马鞍山市",
  "value": 340500
}, {
  "label": "淮北市",
  "value": 340600
}, {
  "label": "铜陵市",
  "value": 340700
}, {
  "label": "安庆市",
  "value": 340800
}, {
  "label": "黄山市",
  "value": 341000
}, {
  "label": "滁州市",
  "value": 341100
}, {
  "label": "阜阳市",
  "value": 341200
}, {
  "label": "宿州市",
  "value": 341300
}, {
  "label": "六安市",
  "value": 341500
}, {
  "label": "亳州市",
  "value": 341600
}, {
  "label": "池州市",
  "value": 341700
}, {
  "label": "宣城市",
  "value": 341800
}], [{
  "label": "福州市",
  "value": 350100
}, {
  "label": "厦门市",
  "value": 350200
}, {
  "label": "莆田市",
  "value": 350300
}, {
  "label": "三明市",
  "value": 350400
}, {
  "label": "泉州市",
  "value": 350500
}, {
  "label": "漳州市",
  "value": 350600
}, {
  "label": "南平市",
  "value": 350700
}, {
  "label": "龙岩市",
  "value": 350800
}, {
  "label": "宁德市",
  "value": 350900
}], [{
  "label": "南昌市",
  "value": 360100
}, {
  "label": "景德镇市",
  "value": 360200
}, {
  "label": "萍乡市",
  "value": 360300
}, {
  "label": "九江市",
  "value": 360400
}, {
  "label": "新余市",
  "value": 360500
}, {
  "label": "鹰潭市",
  "value": 360600
}, {
  "label": "赣州市",
  "value": 360700
}, {
  "label": "吉安市",
  "value": 360800
}, {
  "label": "宜春市",
  "value": 360900
}, {
  "label": "抚州市",
  "value": 361000
}, {
  "label": "上饶市",
  "value": 361100
}], [{
  "label": "济南市",
  "value": 370100
}, {
  "label": "青岛市",
  "value": 370200
}, {
  "label": "淄博市",
  "value": 370300
}, {
  "label": "枣庄市",
  "value": 370400
}, {
  "label": "东营市",
  "value": 370500
}, {
  "label": "烟台市",
  "value": 370600
}, {
  "label": "潍坊市",
  "value": 370700
}, {
  "label": "济宁市",
  "value": 370800
}, {
  "label": "泰安市",
  "value": 370900
}, {
  "label": "威海市",
  "value": 371000
}, {
  "label": "日照市",
  "value": 371100
}, {
  "label": "临沂市",
  "value": 371300
}, {
  "label": "德州市",
  "value": 371400
}, {
  "label": "聊城市",
  "value": 371500
}, {
  "label": "滨州市",
  "value": 371600
}, {
  "label": "菏泽市",
  "value": 371700
}], [{
  "label": "郑州市",
  "value": 410100
}, {
  "label": "开封市",
  "value": 410200
}, {
  "label": "洛阳市",
  "value": 410300
}, {
  "label": "平顶山市",
  "value": 410400
}, {
  "label": "安阳市",
  "value": 410500
}, {
  "label": "鹤壁市",
  "value": 410600
}, {
  "label": "新乡市",
  "value": 410700
}, {
  "label": "焦作市",
  "value": 410800
}, {
  "label": "濮阳市",
  "value": 410900
}, {
  "label": "许昌市",
  "value": 411000
}, {
  "label": "漯河市",
  "value": 411100
}, {
  "label": "三门峡市",
  "value": 411200
}, {
  "label": "南阳市",
  "value": 411300
}, {
  "label": "商丘市",
  "value": 411400
}, {
  "label": "信阳市",
  "value": 411500
}, {
  "label": "周口市",
  "value": 411600
}, {
  "label": "驻马店市",
  "value": 411700
}, {
  "label": "济源市",
  "value": 419001
}], [{
  "label": "武汉市",
  "value": 420100
}, {
  "label": "黄石市",
  "value": 420200
}, {
  "label": "十堰市",
  "value": 420300
}, {
  "label": "宜昌市",
  "value": 420500
}, {
  "label": "襄阳市",
  "value": 420600
}, {
  "label": "鄂州市",
  "value": 420700
}, {
  "label": "荆门市",
  "value": 420800
}, {
  "label": "孝感市",
  "value": 420900
}, {
  "label": "荆州市",
  "value": 421000
}, {
  "label": "黄冈市",
  "value": 421100
}, {
  "label": "咸宁市",
  "value": 421200
}, {
  "label": "随州市",
  "value": 421300
}, {
  "label": "恩施土家族苗族自治州",
  "value": 422800
}, {
  "label": "仙桃市",
  "value": 429004
}, {
  "label": "潜江市",
  "value": 429005
}, {
  "label": "天门市",
  "value": 429006
}, {
  "label": "神农架林区",
  "value": 429021
}], [{
  "label": "长沙市",
  "value": 430100
}, {
  "label": "株洲市",
  "value": 430200
}, {
  "label": "湘潭市",
  "value": 430300
}, {
  "label": "衡阳市",
  "value": 430400
}, {
  "label": "邵阳市",
  "value": 430500
}, {
  "label": "岳阳市",
  "value": 430600
}, {
  "label": "常德市",
  "value": 430700
}, {
  "label": "张家界市",
  "value": 430800
}, {
  "label": "益阳市",
  "value": 430900
}, {
  "label": "郴州市",
  "value": 431000
}, {
  "label": "永州市",
  "value": 431100
}, {
  "label": "怀化市",
  "value": 431200
}, {
  "label": "娄底市",
  "value": 431300
}, {
  "label": "湘西土家族苗族自治州",
  "value": 433100
}], [{
  "label": "广州市",
  "value": 440100
}, {
  "label": "韶关市",
  "value": 440200
}, {
  "label": "深圳市",
  "value": 440300
}, {
  "label": "珠海市",
  "value": 440400
}, {
  "label": "汕头市",
  "value": 440500
}, {
  "label": "佛山市",
  "value": 440600
}, {
  "label": "江门市",
  "value": 440700
}, {
  "label": "湛江市",
  "value": 440800
}, {
  "label": "茂名市",
  "value": 440900
}, {
  "label": "肇庆市",
  "value": 441200
}, {
  "label": "惠州市",
  "value": 441300
}, {
  "label": "梅州市",
  "value": 441400
}, {
  "label": "汕尾市",
  "value": 441500
}, {
  "label": "河源市",
  "value": 441600
}, {
  "label": "阳江市",
  "value": 441700
}, {
  "label": "清远市",
  "value": 441800
}, {
  "label": "东莞市",
  "value": 441900
}, {
  "label": "中山市",
  "value": 442000
}, {
  "label": "潮州市",
  "value": 445100
}, {
  "label": "揭阳市",
  "value": 445200
}, {
  "label": "云浮市",
  "value": 445300
}], [{
  "label": "南宁市",
  "value": 450100
}, {
  "label": "柳州市",
  "value": 450200
}, {
  "label": "桂林市",
  "value": 450300
}, {
  "label": "梧州市",
  "value": 450400
}, {
  "label": "北海市",
  "value": 450500
}, {
  "label": "防城港市",
  "value": 450600
}, {
  "label": "钦州市",
  "value": 450700
}, {
  "label": "贵港市",
  "value": 450800
}, {
  "label": "玉林市",
  "value": 450900
}, {
  "label": "百色市",
  "value": 451000
}, {
  "label": "贺州市",
  "value": 451100
}, {
  "label": "河池市",
  "value": 451200
}, {
  "label": "来宾市",
  "value": 451300
}, {
  "label": "崇左市",
  "value": 451400
}], [{
  "label": "海口市",
  "value": 460100
}, {
  "label": "三亚市",
  "value": 460200
}, {
  "label": "三沙市",
  "value": 460300
}, {
  "label": "儋州市",
  "value": 460400
}, {
  "label": "五指山市",
  "value": 469001
}, {
  "label": "琼海市",
  "value": 469002
}, {
  "label": "文昌市",
  "value": 469005
}, {
  "label": "万宁市",
  "value": 469006
}, {
  "label": "东方市",
  "value": 469007
}, {
  "label": "定安县",
  "value": 469021
}, {
  "label": "屯昌县",
  "value": 469022
}, {
  "label": "澄迈县",
  "value": 469023
}, {
  "label": "临高县",
  "value": 469024
}, {
  "label": "白沙黎族自治县",
  "value": 469025
}, {
  "label": "昌江黎族自治县",
  "value": 469026
}, {
  "label": "乐东黎族自治县",
  "value": 469027
}, {
  "label": "陵水黎族自治县",
  "value": 469028
}, {
  "label": "保亭黎族苗族自治县",
  "value": 469029
}, {
  "label": "琼中黎族苗族自治县",
  "value": 469030
}], [{
  "label": "重庆市",
  "value": 500100
}], [{
  "label": "成都市",
  "value": 510100
}, {
  "label": "自贡市",
  "value": 510300
}, {
  "label": "攀枝花市",
  "value": 510400
}, {
  "label": "泸州市",
  "value": 510500
}, {
  "label": "德阳市",
  "value": 510600
}, {
  "label": "绵阳市",
  "value": 510700
}, {
  "label": "广元市",
  "value": 510800
}, {
  "label": "遂宁市",
  "value": 510900
}, {
  "label": "内江市",
  "value": 511000
}, {
  "label": "乐山市",
  "value": 511100
}, {
  "label": "南充市",
  "value": 511300
}, {
  "label": "眉山市",
  "value": 511400
}, {
  "label": "宜宾市",
  "value": 511500
}, {
  "label": "广安市",
  "value": 511600
}, {
  "label": "达州市",
  "value": 511700
}, {
  "label": "雅安市",
  "value": 511800
}, {
  "label": "巴中市",
  "value": 511900
}, {
  "label": "资阳市",
  "value": 512000
}, {
  "label": "阿坝藏族羌族自治州",
  "value": 513200
}, {
  "label": "甘孜藏族自治州",
  "value": 513300
}, {
  "label": "凉山彝族自治州",
  "value": 513400
}], [{
  "label": "贵阳市",
  "value": 520100
}, {
  "label": "六盘水市",
  "value": 520200
}, {
  "label": "遵义市",
  "value": 520300
}, {
  "label": "安顺市",
  "value": 520400
}, {
  "label": "毕节市",
  "value": 520500
}, {
  "label": "铜仁市",
  "value": 520600
}, {
  "label": "黔西南布依族苗族自治州",
  "value": 522300
}, {
  "label": "黔东南苗族侗族自治州",
  "value": 522600
}, {
  "label": "黔南布依族苗族自治州",
  "value": 522700
}], [{
  "label": "昆明市",
  "value": 530100
}, {
  "label": "曲靖市",
  "value": 530300
}, {
  "label": "玉溪市",
  "value": 530400
}, {
  "label": "保山市",
  "value": 530500
}, {
  "label": "昭通市",
  "value": 530600
}, {
  "label": "丽江市",
  "value": 530700
}, {
  "label": "普洱市",
  "value": 530800
}, {
  "label": "临沧市",
  "value": 530900
}, {
  "label": "楚雄彝族自治州",
  "value": 532300
}, {
  "label": "红河哈尼族彝族自治州",
  "value": 532500
}, {
  "label": "文山壮族苗族自治州",
  "value": 532600
}, {
  "label": "西双版纳傣族自治州",
  "value": 532800
}, {
  "label": "大理白族自治州",
  "value": 532900
}, {
  "label": "德宏傣族景颇族自治州",
  "value": 533100
}, {
  "label": "怒江傈僳族自治州",
  "value": 533300
}, {
  "label": "迪庆藏族自治州",
  "value": 533400
}], [{
  "label": "拉萨市",
  "value": 540100
}, {
  "label": "日喀则市",
  "value": 540200
}, {
  "label": "昌都市",
  "value": 540300
}, {
  "label": "林芝市",
  "value": 540400
}, {
  "label": "山南市",
  "value": 540500
}, {
  "label": "那曲市",
  "value": 540600
}, {
  "label": "阿里地区",
  "value": 542500
}], [{
  "label": "西安市",
  "value": 610100
}, {
  "label": "铜川市",
  "value": 610200
}, {
  "label": "宝鸡市",
  "value": 610300
}, {
  "label": "咸阳市",
  "value": 610400
}, {
  "label": "渭南市",
  "value": 610500
}, {
  "label": "延安市",
  "value": 610600
}, {
  "label": "汉中市",
  "value": 610700
}, {
  "label": "榆林市",
  "value": 610800
}, {
  "label": "安康市",
  "value": 610900
}, {
  "label": "商洛市",
  "value": 611000
}], [{
  "label": "兰州市",
  "value": 620100
}, {
  "label": "嘉峪关市",
  "value": 620200
}, {
  "label": "金昌市",
  "value": 620300
}, {
  "label": "白银市",
  "value": 620400
}, {
  "label": "天水市",
  "value": 620500
}, {
  "label": "武威市",
  "value": 620600
}, {
  "label": "张掖市",
  "value": 620700
}, {
  "label": "平凉市",
  "value": 620800
}, {
  "label": "酒泉市",
  "value": 620900
}, {
  "label": "庆阳市",
  "value": 621000
}, {
  "label": "定西市",
  "value": 621100
}, {
  "label": "陇南市",
  "value": 621200
}, {
  "label": "临夏回族自治州",
  "value": 622900
}, {
  "label": "甘南藏族自治州",
  "value": 623000
}], [{
  "label": "西宁市",
  "value": 630100
}, {
  "label": "海东市",
  "value": 630200
}, {
  "label": "海北藏族自治州",
  "value": 632200
}, {
  "label": "黄南藏族自治州",
  "value": 632300
}, {
  "label": "海南藏族自治州",
  "value": 632500
}, {
  "label": "果洛藏族自治州",
  "value": 632600
}, {
  "label": "玉树藏族自治州",
  "value": 632700
}, {
  "label": "海西蒙古族藏族自治州",
  "value": 632800
}], [{
  "label": "银川市",
  "value": 640100
}, {
  "label": "石嘴山市",
  "value": 640200
}, {
  "label": "吴忠市",
  "value": 640300
}, {
  "label": "固原市",
  "value": 640400
}, {
  "label": "中卫市",
  "value": 640500
}], [{
  "label": "乌鲁木齐市",
  "value": 650100
}, {
  "label": "克拉玛依市",
  "value": 650200
}, {
  "label": "吐鲁番市",
  "value": 650400
}, {
  "label": "哈密市",
  "value": 650500
}, {
  "label": "昌吉回族自治州",
  "value": 652300
}, {
  "label": "博尔塔拉蒙古自治州",
  "value": 652700
}, {
  "label": "巴音郭楞蒙古自治州",
  "value": 652800
}, {
  "label": "阿克苏地区",
  "value": 652900
}, {
  "label": "克孜勒苏柯尔克孜自治州",
  "value": 653000
}, {
  "label": "喀什地区",
  "value": 653100
}, {
  "label": "和田地区",
  "value": 653200
}, {
  "label": "伊犁哈萨克自治州",
  "value": 654000
}, {
  "label": "塔城地区",
  "value": 654200
}, {
  "label": "阿勒泰地区",
  "value": 654300
}, {
  "label": "石河子市",
  "value": 659001
}, {
  "label": "阿拉尔市",
  "value": 659002
}, {
  "label": "图木舒克市",
  "value": 659003
}, {
  "label": "五家渠市",
  "value": 659004
}, {
  "label": "北屯市",
  "value": 659005
}, {
  "label": "铁门关市",
  "value": 659006
}, {
  "label": "双河市",
  "value": 659007
}, {
  "label": "可克达拉市",
  "value": 659008
}, {
  "label": "昆玉市",
  "value": 659009
}], [{
  "label": "台北市",
  "value": 710100
}, {
  "label": "高雄市",
  "value": 710200
}, {
  "label": "基隆市",
  "value": 710300
}, {
  "label": "台中市",
  "value": 710400
}, {
  "label": "台南市",
  "value": 710500
}, {
  "label": "新竹市",
  "value": 710600
}, {
  "label": "嘉义市",
  "value": 710700
}, {
  "label": "新北市",
  "value": 710800
}, {
  "label": "宜兰县",
  "value": 712200
}, {
  "label": "桃园市",
  "value": 712300
}, {
  "label": "新竹县",
  "value": 712400
}, {
  "label": "苗栗县",
  "value": 712500
}, {
  "label": "彰化县",
  "value": 712700
}, {
  "label": "南投县",
  "value": 712800
}, {
  "label": "云林县",
  "value": 712900
}, {
  "label": "嘉义县",
  "value": 713000
}, {
  "label": "屏东县",
  "value": 713300
}, {
  "label": "台东县",
  "value": 713400
}, {
  "label": "花莲县",
  "value": 713500
}, {
  "label": "澎湖县",
  "value": 713600
}, {
  "label": "金门县",
  "value": 713700
}, {
  "label": "连江县",
  "value": 713800
}], [{
  "label": "香港岛",
  "value": 810100
}, {
  "label": "九龙",
  "value": 810200
}, {
  "label": "新界",
  "value": 810300
}], [{
  "label": "澳门半岛",
  "value": 820100
}, {
  "label": "氹仔岛",
  "value": 820200
}, {
  "label": "路环岛",
  "value": 820300
}]];
exports.default = _default;

/***/ }),

/***/ 1440:
/*!*****************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/components/uview-ui/libs/util/area.js ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _default = [[[{
  label: '东城区',
  value: 110101
}, {
  label: '西城区',
  value: 110102
}, {
  label: '朝阳区',
  value: 110105
}, {
  label: '丰台区',
  value: 110106
}, {
  label: '石景山区',
  value: 110107
}, {
  label: '海淀区',
  value: 110108
}, {
  label: '门头沟区',
  value: 110109
}, {
  label: '房山区',
  value: 110111
}, {
  label: '通州区',
  value: 110112
}, {
  label: '顺义区',
  value: 110113
}, {
  label: '昌平区',
  value: 110114
}, {
  label: '大兴区',
  value: 110115
}, {
  label: '怀柔区',
  value: 110116
}, {
  label: '平谷区',
  value: 110117
}, {
  label: '密云区',
  value: 110118
}, {
  label: '延庆区',
  value: 110119
}, {
  label: '中关村科技园区',
  value: 110120
}]], [[{
  label: '和平区',
  value: 120101
}, {
  label: '河东区',
  value: 120102
}, {
  label: '河西区',
  value: 120103
}, {
  label: '南开区',
  value: 120104
}, {
  label: '河北区',
  value: 120105
}, {
  label: '红桥区',
  value: 120106
}, {
  label: '东丽区',
  value: 120110
}, {
  label: '西青区',
  value: 120111
}, {
  label: '津南区',
  value: 120112
}, {
  label: '北辰区',
  value: 120113
}, {
  label: '武清区',
  value: 120114
}, {
  label: '宝坻区',
  value: 120115
}, {
  label: '滨海新区',
  value: 120116
}, {
  label: '宁河区',
  value: 120117
}, {
  label: '静海区',
  value: 120118
}, {
  label: '蓟州区',
  value: 120119
}, {
  label: '滨海高新区',
  value: 120120
}]], [[{
  label: '长安区',
  value: 130102
}, {
  label: '桥西区',
  value: 130104
}, {
  label: '新华区',
  value: 130105
}, {
  label: '井陉矿区',
  value: 130107
}, {
  label: '裕华区',
  value: 130108
}, {
  label: '藁城区',
  value: 130109
}, {
  label: '鹿泉区',
  value: 130110
}, {
  label: '栾城区',
  value: 130111
}, {
  label: '井陉县',
  value: 130121
}, {
  label: '正定县',
  value: 130123
}, {
  label: '行唐县',
  value: 130125
}, {
  label: '灵寿县',
  value: 130126
}, {
  label: '高邑县',
  value: 130127
}, {
  label: '深泽县',
  value: 130128
}, {
  label: '赞皇县',
  value: 130129
}, {
  label: '无极县',
  value: 130130
}, {
  label: '平山县',
  value: 130131
}, {
  label: '元氏县',
  value: 130132
}, {
  label: '赵县',
  value: 130133
}, {
  label: '辛集市',
  value: 130181
}, {
  label: '晋州市',
  value: 130183
}, {
  label: '新乐市',
  value: 130184
}, {
  label: '高新区',
  value: 130185
}, {
  label: '经济开发区',
  value: 130186
}, {
  label: '循环化工园区',
  value: 130187
}], [{
  label: '路南区',
  value: 130202
}, {
  label: '路北区',
  value: 130203
}, {
  label: '古冶区',
  value: 130204
}, {
  label: '开平区',
  value: 130205
}, {
  label: '丰南区',
  value: 130207
}, {
  label: '丰润区',
  value: 130208
}, {
  label: '曹妃甸区',
  value: 130209
}, {
  label: '滦南县',
  value: 130224
}, {
  label: '乐亭县',
  value: 130225
}, {
  label: '迁西县',
  value: 130227
}, {
  label: '玉田县',
  value: 130229
}, {
  label: '遵化市',
  value: 130281
}, {
  label: '迁安市',
  value: 130283
}, {
  label: '滦州市',
  value: 130284
}, {
  label: '高新区',
  value: 130291
}, {
  label: '芦台开发区',
  value: 130292
}, {
  label: '海港经济开发区',
  value: 130293
}, {
  label: '汉沽管理区',
  value: 130294
}], [{
  label: '海港区',
  value: 130302
}, {
  label: '山海关区',
  value: 130303
}, {
  label: '北戴河区',
  value: 130304
}, {
  label: '抚宁区',
  value: 130306
}, {
  label: '青龙满族自治县',
  value: 130321
}, {
  label: '昌黎县',
  value: 130322
}, {
  label: '卢龙县',
  value: 130324
}, {
  label: '经济技术开发区',
  value: 130371
}, {
  label: '北戴河新区',
  value: 130372
}], [{
  label: '邯山区',
  value: 130402
}, {
  label: '丛台区',
  value: 130403
}, {
  label: '复兴区',
  value: 130404
}, {
  label: '峰峰矿区',
  value: 130406
}, {
  label: '肥乡区',
  value: 130407
}, {
  label: '永年区',
  value: 130408
}, {
  label: '临漳县',
  value: 130423
}, {
  label: '成安县',
  value: 130424
}, {
  label: '大名县',
  value: 130425
}, {
  label: '涉县',
  value: 130426
}, {
  label: '磁县',
  value: 130427
}, {
  label: '邱县',
  value: 130430
}, {
  label: '鸡泽县',
  value: 130431
}, {
  label: '广平县',
  value: 130432
}, {
  label: '馆陶县',
  value: 130433
}, {
  label: '魏县',
  value: 130434
}, {
  label: '曲周县',
  value: 130435
}, {
  label: '武安市',
  value: 130481
}, {
  label: '冀南新区',
  value: 130482
}, {
  label: '高新技术产业开发区',
  value: 130483
}], [{
  label: '桥东区',
  value: 130502
}, {
  label: '桥西区',
  value: 130503
}, {
  label: '邢台县',
  value: 130521
}, {
  label: '临城县',
  value: 130522
}, {
  label: '内丘县',
  value: 130523
}, {
  label: '柏乡县',
  value: 130524
}, {
  label: '隆尧县',
  value: 130525
}, {
  label: '任县',
  value: 130526
}, {
  label: '南和县',
  value: 130527
}, {
  label: '宁晋县',
  value: 130528
}, {
  label: '巨鹿县',
  value: 130529
}, {
  label: '新河县',
  value: 130530
}, {
  label: '广宗县',
  value: 130531
}, {
  label: '平乡县',
  value: 130532
}, {
  label: '威县',
  value: 130533
}, {
  label: '清河县',
  value: 130534
}, {
  label: '临西县',
  value: 130535
}, {
  label: '南宫市',
  value: 130581
}, {
  label: '沙河市',
  value: 130582
}, {
  label: '经济开发区',
  value: 130583
}], [{
  label: '竞秀区',
  value: 130602
}, {
  label: '莲池区',
  value: 130606
}, {
  label: '满城区',
  value: 130607
}, {
  label: '清苑区',
  value: 130608
}, {
  label: '徐水区',
  value: 130609
}, {
  label: '涞水县',
  value: 130623
}, {
  label: '阜平县',
  value: 130624
}, {
  label: '定兴县',
  value: 130626
}, {
  label: '唐县',
  value: 130627
}, {
  label: '高阳县',
  value: 130628
}, {
  label: '容城县',
  value: 130629
}, {
  label: '涞源县',
  value: 130630
}, {
  label: '望都县',
  value: 130631
}, {
  label: '安新县',
  value: 130632
}, {
  label: '易县',
  value: 130633
}, {
  label: '曲阳县',
  value: 130634
}, {
  label: '蠡县',
  value: 130635
}, {
  label: '顺平县',
  value: 130636
}, {
  label: '博野县',
  value: 130637
}, {
  label: '雄县',
  value: 130638
}, {
  label: '涿州市',
  value: 130681
}, {
  label: '定州市',
  value: 130682
}, {
  label: '安国市',
  value: 130683
}, {
  label: '高碑店市',
  value: 130684
}, {
  label: '雄安新区',
  value: 130685
}, {
  label: '高新区',
  value: 130686
}, {
  label: '白沟新城',
  value: 130687
}], [{
  label: '桥东区',
  value: 130702
}, {
  label: '桥西区',
  value: 130703
}, {
  label: '宣化区',
  value: 130705
}, {
  label: '下花园区',
  value: 130706
}, {
  label: '万全区',
  value: 130708
}, {
  label: '崇礼区',
  value: 130709
}, {
  label: '张北县',
  value: 130722
}, {
  label: '康保县',
  value: 130723
}, {
  label: '沽源县',
  value: 130724
}, {
  label: '尚义县',
  value: 130725
}, {
  label: '蔚县',
  value: 130726
}, {
  label: '阳原县',
  value: 130727
}, {
  label: '怀安县',
  value: 130728
}, {
  label: '怀来县',
  value: 130730
}, {
  label: '涿鹿县',
  value: 130731
}, {
  label: '赤城县',
  value: 130732
}, {
  label: '高新区',
  value: 130771
}, {
  label: '察北管理区',
  value: 130772
}, {
  label: '塞北管理区',
  value: 130773
}], [{
  label: '双桥区',
  value: 130802
}, {
  label: '双滦区',
  value: 130803
}, {
  label: '鹰手营子矿区',
  value: 130804
}, {
  label: '承德县',
  value: 130821
}, {
  label: '兴隆县',
  value: 130822
}, {
  label: '滦平县',
  value: 130824
}, {
  label: '隆化县',
  value: 130825
}, {
  label: '丰宁满族自治县',
  value: 130826
}, {
  label: '宽城满族自治县',
  value: 130827
}, {
  label: '围场满族蒙古族自治县',
  value: 130828
}, {
  label: '平泉市',
  value: 130881
}, {
  label: '高新区',
  value: 130882
}], [{
  label: '新华区',
  value: 130902
}, {
  label: '运河区',
  value: 130903
}, {
  label: '沧县',
  value: 130921
}, {
  label: '青县',
  value: 130922
}, {
  label: '东光县',
  value: 130923
}, {
  label: '海兴县',
  value: 130924
}, {
  label: '盐山县',
  value: 130925
}, {
  label: '肃宁县',
  value: 130926
}, {
  label: '南皮县',
  value: 130927
}, {
  label: '吴桥县',
  value: 130928
}, {
  label: '献县',
  value: 130929
}, {
  label: '孟村回族自治县',
  value: 130930
}, {
  label: '泊头市',
  value: 130981
}, {
  label: '任丘市',
  value: 130982
}, {
  label: '黄骅市',
  value: 130983
}, {
  label: '河间市',
  value: 130984
}, {
  label: '渤海新区',
  value: 130985
}, {
  label: '高新区',
  value: 130986
}, {
  label: '临港开发区',
  value: 130987
}], [{
  label: '安次区',
  value: 131002
}, {
  label: '广阳区',
  value: 131003
}, {
  label: '固安县',
  value: 131022
}, {
  label: '永清县',
  value: 131023
}, {
  label: '香河县',
  value: 131024
}, {
  label: '大城县',
  value: 131025
}, {
  label: '文安县',
  value: 131026
}, {
  label: '大厂回族自治县',
  value: 131028
}, {
  label: '霸州市',
  value: 131081
}, {
  label: '三河市',
  value: 131082
}, {
  label: '经济技术开发区',
  value: 131083
}], [{
  label: '桃城区',
  value: 131102
}, {
  label: '冀州区',
  value: 131103
}, {
  label: '枣强县',
  value: 131121
}, {
  label: '武邑县',
  value: 131122
}, {
  label: '武强县',
  value: 131123
}, {
  label: '饶阳县',
  value: 131124
}, {
  label: '安平县',
  value: 131125
}, {
  label: '故城县',
  value: 131126
}, {
  label: '景县',
  value: 131127
}, {
  label: '阜城县',
  value: 131128
}, {
  label: '深州市',
  value: 131182
}, {
  label: '经济开发区',
  value: 131183
}, {
  label: '滨湖新区',
  value: 131184
}]], [[{
  label: '小店区',
  value: 140105
}, {
  label: '迎泽区',
  value: 140106
}, {
  label: '杏花岭区',
  value: 140107
}, {
  label: '尖草坪区',
  value: 140108
}, {
  label: '万柏林区',
  value: 140109
}, {
  label: '晋源区',
  value: 140110
}, {
  label: '清徐县',
  value: 140121
}, {
  label: '阳曲县',
  value: 140122
}, {
  label: '娄烦县',
  value: 140123
}, {
  label: '古交市',
  value: 140181
}, {
  label: '高新阳曲园区',
  value: 140182
}, {
  label: '高新汾东园区',
  value: 140183
}, {
  label: '高新姚村园区',
  value: 140184
}], [{
  label: '新荣区',
  value: 140212
}, {
  label: '平城区',
  value: 140213
}, {
  label: '云冈区',
  value: 140214
}, {
  label: '云州区',
  value: 140215
}, {
  label: '阳高县',
  value: 140221
}, {
  label: '天镇县',
  value: 140222
}, {
  label: '广灵县',
  value: 140223
}, {
  label: '灵丘县',
  value: 140224
}, {
  label: '浑源县',
  value: 140225
}, {
  label: '左云县',
  value: 140226
}, {
  label: '经济开发区',
  value: 140228
}], [{
  label: '城区',
  value: 140302
}, {
  label: '矿区',
  value: 140303
}, {
  label: '郊区',
  value: 140311
}, {
  label: '平定县',
  value: 140321
}, {
  label: '盂县',
  value: 140322
}], [{
  label: '潞州区',
  value: 140403
}, {
  label: '上党区',
  value: 140404
}, {
  label: '屯留区',
  value: 140405
}, {
  label: '潞城区',
  value: 140406
}, {
  label: '襄垣县',
  value: 140423
}, {
  label: '平顺县',
  value: 140425
}, {
  label: '黎城县',
  value: 140426
}, {
  label: '壶关县',
  value: 140427
}, {
  label: '长子县',
  value: 140428
}, {
  label: '武乡县',
  value: 140429
}, {
  label: '沁县',
  value: 140430
}, {
  label: '沁源县',
  value: 140431
}], [{
  label: '城区',
  value: 140502
}, {
  label: '沁水县',
  value: 140521
}, {
  label: '阳城县',
  value: 140522
}, {
  label: '陵川县',
  value: 140524
}, {
  label: '泽州县',
  value: 140525
}, {
  label: '高平市',
  value: 140581
}, {
  label: '经济开发区',
  value: 140582
}], [{
  label: '朔城区',
  value: 140602
}, {
  label: '平鲁区',
  value: 140603
}, {
  label: '山阴县',
  value: 140621
}, {
  label: '应县',
  value: 140622
}, {
  label: '右玉县',
  value: 140623
}, {
  label: '怀仁市',
  value: 140681
}], [{
  label: '榆次区',
  value: 140702
}, {
  label: '榆社县',
  value: 140721
}, {
  label: '左权县',
  value: 140722
}, {
  label: '和顺县',
  value: 140723
}, {
  label: '昔阳县',
  value: 140724
}, {
  label: '寿阳县',
  value: 140725
}, {
  label: '太谷县',
  value: 140726
}, {
  label: '祁县',
  value: 140727
}, {
  label: '平遥县',
  value: 140728
}, {
  label: '灵石县',
  value: 140729
}, {
  label: '介休市',
  value: 140781
}], [{
  label: '盐湖区',
  value: 140802
}, {
  label: '临猗县',
  value: 140821
}, {
  label: '万荣县',
  value: 140822
}, {
  label: '闻喜县',
  value: 140823
}, {
  label: '稷山县',
  value: 140824
}, {
  label: '新绛县',
  value: 140825
}, {
  label: '绛县',
  value: 140826
}, {
  label: '垣曲县',
  value: 140827
}, {
  label: '夏县',
  value: 140828
}, {
  label: '平陆县',
  value: 140829
}, {
  label: '芮城县',
  value: 140830
}, {
  label: '永济市',
  value: 140881
}, {
  label: '河津市',
  value: 140882
}], [{
  label: '忻府区',
  value: 140902
}, {
  label: '定襄县',
  value: 140921
}, {
  label: '五台县',
  value: 140922
}, {
  label: '代县',
  value: 140923
}, {
  label: '繁峙县',
  value: 140924
}, {
  label: '宁武县',
  value: 140925
}, {
  label: '静乐县',
  value: 140926
}, {
  label: '神池县',
  value: 140927
}, {
  label: '五寨县',
  value: 140928
}, {
  label: '岢岚县',
  value: 140929
}, {
  label: '河曲县',
  value: 140930
}, {
  label: '保德县',
  value: 140931
}, {
  label: '偏关县',
  value: 140932
}, {
  label: '原平市',
  value: 140981
}], [{
  label: '尧都区',
  value: 141002
}, {
  label: '曲沃县',
  value: 141021
}, {
  label: '翼城县',
  value: 141022
}, {
  label: '襄汾县',
  value: 141023
}, {
  label: '洪洞县',
  value: 141024
}, {
  label: '古县',
  value: 141025
}, {
  label: '安泽县',
  value: 141026
}, {
  label: '浮山县',
  value: 141027
}, {
  label: '吉县',
  value: 141028
}, {
  label: '乡宁县',
  value: 141029
}, {
  label: '大宁县',
  value: 141030
}, {
  label: '隰县',
  value: 141031
}, {
  label: '永和县',
  value: 141032
}, {
  label: '蒲县',
  value: 141033
}, {
  label: '汾西县',
  value: 141034
}, {
  label: '侯马市',
  value: 141081
}, {
  label: '霍州市',
  value: 141082
}], [{
  label: '离石区',
  value: 141102
}, {
  label: '文水县',
  value: 141121
}, {
  label: '交城县',
  value: 141122
}, {
  label: '兴县',
  value: 141123
}, {
  label: '临县',
  value: 141124
}, {
  label: '柳林县',
  value: 141125
}, {
  label: '石楼县',
  value: 141126
}, {
  label: '岚县',
  value: 141127
}, {
  label: '方山县',
  value: 141128
}, {
  label: '中阳县',
  value: 141129
}, {
  label: '交口县',
  value: 141130
}, {
  label: '孝义市',
  value: 141181
}, {
  label: '汾阳市',
  value: 141182
}]], [[{
  label: '新城区',
  value: 150102
}, {
  label: '回民区',
  value: 150103
}, {
  label: '玉泉区',
  value: 150104
}, {
  label: '赛罕区',
  value: 150105
}, {
  label: '土默特左旗',
  value: 150121
}, {
  label: '托克托县',
  value: 150122
}, {
  label: '和林格尔县',
  value: 150123
}, {
  label: '清水河县',
  value: 150124
}, {
  label: '武川县',
  value: 150125
}, {
  label: '金海工业园区',
  value: 150171
}, {
  label: '经济技术开发区',
  value: 150172
}], [{
  label: '东河区',
  value: 150202
}, {
  label: '昆都仑区',
  value: 150203
}, {
  label: '青山区',
  value: 150204
}, {
  label: '石拐区',
  value: 150205
}, {
  label: '白云鄂博矿区',
  value: 150206
}, {
  label: '九原区',
  value: 150207
}, {
  label: '土默特右旗',
  value: 150221
}, {
  label: '固阳县',
  value: 150222
}, {
  label: '达尔罕茂明安联合旗',
  value: 150223
}], [{
  label: '海勃湾区',
  value: 150302
}, {
  label: '海南区',
  value: 150303
}, {
  label: '乌达区',
  value: 150304
}], [{
  label: '红山区',
  value: 150402
}, {
  label: '元宝山区',
  value: 150403
}, {
  label: '松山区',
  value: 150404
}, {
  label: '阿鲁科尔沁旗',
  value: 150421
}, {
  label: '巴林左旗',
  value: 150422
}, {
  label: '巴林右旗',
  value: 150423
}, {
  label: '林西县',
  value: 150424
}, {
  label: '克什克腾旗',
  value: 150425
}, {
  label: '翁牛特旗',
  value: 150426
}, {
  label: '喀喇沁旗',
  value: 150428
}, {
  label: '宁城县',
  value: 150429
}, {
  label: '敖汉旗',
  value: 150430
}], [{
  label: '科尔沁区',
  value: 150502
}, {
  label: '科尔沁左翼中旗',
  value: 150521
}, {
  label: '科尔沁左翼后旗',
  value: 150522
}, {
  label: '开鲁县',
  value: 150523
}, {
  label: '库伦旗',
  value: 150524
}, {
  label: '奈曼旗',
  value: 150525
}, {
  label: '扎鲁特旗',
  value: 150526
}, {
  label: '霍林郭勒市',
  value: 150581
}], [{
  label: '东胜区',
  value: 150602
}, {
  label: '康巴什区',
  value: 150603
}, {
  label: '达拉特旗',
  value: 150621
}, {
  label: '准格尔旗',
  value: 150622
}, {
  label: '鄂托克前旗',
  value: 150623
}, {
  label: '鄂托克旗',
  value: 150624
}, {
  label: '杭锦旗',
  value: 150625
}, {
  label: '乌审旗',
  value: 150626
}, {
  label: '伊金霍洛旗',
  value: 150627
}], [{
  label: '海拉尔区',
  value: 150702
}, {
  label: '扎赉诺尔区',
  value: 150703
}, {
  label: '阿荣旗',
  value: 150721
}, {
  label: '莫力达瓦达斡尔族自治旗',
  value: 150722
}, {
  label: '鄂伦春自治旗',
  value: 150723
}, {
  label: '鄂温克族自治旗',
  value: 150724
}, {
  label: '陈巴尔虎旗',
  value: 150725
}, {
  label: '新巴尔虎左旗',
  value: 150726
}, {
  label: '新巴尔虎右旗',
  value: 150727
}, {
  label: '满洲里市',
  value: 150781
}, {
  label: '牙克石市',
  value: 150782
}, {
  label: '扎兰屯市',
  value: 150783
}, {
  label: '额尔古纳市',
  value: 150784
}, {
  label: '根河市',
  value: 150785
}], [{
  label: '临河区',
  value: 150802
}, {
  label: '五原县',
  value: 150821
}, {
  label: '磴口县',
  value: 150822
}, {
  label: '乌拉特前旗',
  value: 150823
}, {
  label: '乌拉特中旗',
  value: 150824
}, {
  label: '乌拉特后旗',
  value: 150825
}, {
  label: '杭锦后旗',
  value: 150826
}], [{
  label: '集宁区',
  value: 150902
}, {
  label: '卓资县',
  value: 150921
}, {
  label: '化德县',
  value: 150922
}, {
  label: '商都县',
  value: 150923
}, {
  label: '兴和县',
  value: 150924
}, {
  label: '凉城县',
  value: 150925
}, {
  label: '察哈尔右翼前旗',
  value: 150926
}, {
  label: '察哈尔右翼中旗',
  value: 150927
}, {
  label: '察哈尔右翼后旗',
  value: 150928
}, {
  label: '四子王旗',
  value: 150929
}, {
  label: '丰镇市',
  value: 150981
}], [{
  label: '乌兰浩特市',
  value: 152201
}, {
  label: '阿尔山市',
  value: 152202
}, {
  label: '科尔沁右翼前旗',
  value: 152221
}, {
  label: '科尔沁右翼中旗',
  value: 152222
}, {
  label: '扎赉特旗',
  value: 152223
}, {
  label: '突泉县',
  value: 152224
}], [{
  label: '二连浩特市',
  value: 152501
}, {
  label: '锡林浩特市',
  value: 152502
}, {
  label: '阿巴嘎旗',
  value: 152522
}, {
  label: '苏尼特左旗',
  value: 152523
}, {
  label: '苏尼特右旗',
  value: 152524
}, {
  label: '东乌珠穆沁旗',
  value: 152525
}, {
  label: '西乌珠穆沁旗',
  value: 152526
}, {
  label: '太仆寺旗',
  value: 152527
}, {
  label: '镶黄旗',
  value: 152528
}, {
  label: '正镶白旗',
  value: 152529
}, {
  label: '正蓝旗',
  value: 152530
}, {
  label: '多伦县',
  value: 152531
}], [{
  label: '阿拉善左旗',
  value: 152921
}, {
  label: '阿拉善右旗',
  value: 152922
}, {
  label: '额济纳旗',
  value: 152923
}]], [[{
  label: '和平区',
  value: 210102
}, {
  label: '沈河区',
  value: 210103
}, {
  label: '大东区',
  value: 210104
}, {
  label: '皇姑区',
  value: 210105
}, {
  label: '铁西区',
  value: 210106
}, {
  label: '苏家屯区',
  value: 210111
}, {
  label: '浑南区',
  value: 210112
}, {
  label: '沈北新区',
  value: 210113
}, {
  label: '于洪区',
  value: 210114
}, {
  label: '辽中区',
  value: 210115
}, {
  label: '康平县',
  value: 210123
}, {
  label: '法库县',
  value: 210124
}, {
  label: '新民市',
  value: 210181
}, {
  label: '高新区',
  value: 210182
}], [{
  label: '中山区',
  value: 210202
}, {
  label: '西岗区',
  value: 210203
}, {
  label: '沙河口区',
  value: 210204
}, {
  label: '甘井子区',
  value: 210211
}, {
  label: '旅顺口区',
  value: 210212
}, {
  label: '金州区',
  value: 210213
}, {
  label: '普兰店区',
  value: 210214
}, {
  label: '长海县',
  value: 210224
}, {
  label: '瓦房店市',
  value: 210281
}, {
  label: '庄河市',
  value: 210283
}, {
  label: '高新区',
  value: 210284
}, {
  label: '经济开发区',
  value: 210285
}, {
  label: '金普新区',
  value: 210286
}], [{
  label: '铁东区',
  value: 210302
}, {
  label: '铁西区',
  value: 210303
}, {
  label: '立山区',
  value: 210304
}, {
  label: '千山区',
  value: 210311
}, {
  label: '台安县',
  value: 210321
}, {
  label: '岫岩满族自治县',
  value: 210323
}, {
  label: '海城市',
  value: 210381
}, {
  label: '高新区',
  value: 210382
}], [{
  label: '新抚区',
  value: 210402
}, {
  label: '东洲区',
  value: 210403
}, {
  label: '望花区',
  value: 210404
}, {
  label: '顺城区',
  value: 210411
}, {
  label: '抚顺县',
  value: 210421
}, {
  label: '新宾满族自治县',
  value: 210422
}, {
  label: '清原满族自治县',
  value: 210423
}], [{
  label: '平山区',
  value: 210502
}, {
  label: '溪湖区',
  value: 210503
}, {
  label: '明山区',
  value: 210504
}, {
  label: '南芬区',
  value: 210505
}, {
  label: '本溪满族自治县',
  value: 210521
}, {
  label: '桓仁满族自治县',
  value: 210522
}], [{
  label: '元宝区',
  value: 210602
}, {
  label: '振兴区',
  value: 210603
}, {
  label: '振安区',
  value: 210604
}, {
  label: '宽甸满族自治县',
  value: 210624
}, {
  label: '东港市',
  value: 210681
}, {
  label: '凤城市',
  value: 210682
}], [{
  label: '古塔区',
  value: 210702
}, {
  label: '凌河区',
  value: 210703
}, {
  label: '太和区',
  value: 210711
}, {
  label: '黑山县',
  value: 210726
}, {
  label: '义县',
  value: 210727
}, {
  label: '凌海市',
  value: 210781
}, {
  label: '北镇市',
  value: 210782
}, {
  label: '松山新区',
  value: 210783
}, {
  label: '龙栖湾新区',
  value: 210784
}, {
  label: '经济技术开发区',
  value: 210785
}], [{
  label: '站前区',
  value: 210802
}, {
  label: '西市区',
  value: 210803
}, {
  label: '鲅鱼圈区',
  value: 210804
}, {
  label: '老边区',
  value: 210811
}, {
  label: '盖州市',
  value: 210881
}, {
  label: '大石桥市',
  value: 210882
}], [{
  label: '海州区',
  value: 210902
}, {
  label: '新邱区',
  value: 210903
}, {
  label: '太平区',
  value: 210904
}, {
  label: '清河门区',
  value: 210905
}, {
  label: '细河区',
  value: 210911
}, {
  label: '阜新蒙古族自治县',
  value: 210921
}, {
  label: '彰武县',
  value: 210922
}], [{
  label: '白塔区',
  value: 211002
}, {
  label: '文圣区',
  value: 211003
}, {
  label: '宏伟区',
  value: 211004
}, {
  label: '弓长岭区',
  value: 211005
}, {
  label: '太子河区',
  value: 211011
}, {
  label: '辽阳县',
  value: 211021
}, {
  label: '灯塔市',
  value: 211081
}], [{
  label: '双台子区',
  value: 211102
}, {
  label: '兴隆台区',
  value: 211103
}, {
  label: '大洼区',
  value: 211104
}, {
  label: '盘山县',
  value: 211122
}], [{
  label: '银州区',
  value: 211202
}, {
  label: '清河区',
  value: 211204
}, {
  label: '铁岭县',
  value: 211221
}, {
  label: '西丰县',
  value: 211223
}, {
  label: '昌图县',
  value: 211224
}, {
  label: '调兵山市',
  value: 211281
}, {
  label: '开原市',
  value: 211282
}], [{
  label: '双塔区',
  value: 211302
}, {
  label: '龙城区',
  value: 211303
}, {
  label: '朝阳县',
  value: 211321
}, {
  label: '建平县',
  value: 211322
}, {
  label: '喀喇沁左翼蒙古族自治县',
  value: 211324
}, {
  label: '北票市',
  value: 211381
}, {
  label: '凌源市',
  value: 211382
}], [{
  label: '连山区',
  value: 211402
}, {
  label: '龙港区',
  value: 211403
}, {
  label: '南票区',
  value: 211404
}, {
  label: '绥中县',
  value: 211421
}, {
  label: '建昌县',
  value: 211422
}, {
  label: '兴城市',
  value: 211481
}]], [[{
  label: '南关区',
  value: 220102
}, {
  label: '宽城区',
  value: 220103
}, {
  label: '朝阳区',
  value: 220104
}, {
  label: '二道区',
  value: 220105
}, {
  label: '绿园区',
  value: 220106
}, {
  label: '双阳区',
  value: 220112
}, {
  label: '九台区',
  value: 220113
}, {
  label: '农安县',
  value: 220122
}, {
  label: '榆树市',
  value: 220182
}, {
  label: '德惠市',
  value: 220183
}, {
  label: '长春新区',
  value: 220184
}, {
  label: '高新区',
  value: 220185
}, {
  label: '经济技术开发区',
  value: 220186
}, {
  label: '汽车产业开发区',
  value: 220187
}, {
  label: '兴隆综合保税区',
  value: 220188
}], [{
  label: '昌邑区',
  value: 220202
}, {
  label: '龙潭区',
  value: 220203
}, {
  label: '船营区',
  value: 220204
}, {
  label: '丰满区',
  value: 220211
}, {
  label: '永吉县',
  value: 220221
}, {
  label: '蛟河市',
  value: 220281
}, {
  label: '桦甸市',
  value: 220282
}, {
  label: '舒兰市',
  value: 220283
}, {
  label: '磐石市',
  value: 220284
}, {
  label: '高新区',
  value: 220285
}], [{
  label: '铁西区',
  value: 220302
}, {
  label: '铁东区',
  value: 220303
}, {
  label: '梨树县',
  value: 220322
}, {
  label: '伊通满族自治县',
  value: 220323
}, {
  label: '公主岭市',
  value: 220381
}, {
  label: '双辽市',
  value: 220382
}], [{
  label: '龙山区',
  value: 220402
}, {
  label: '西安区',
  value: 220403
}, {
  label: '东丰县',
  value: 220421
}, {
  label: '东辽县',
  value: 220422
}], [{
  label: '东昌区',
  value: 220502
}, {
  label: '二道江区',
  value: 220503
}, {
  label: '通化县',
  value: 220521
}, {
  label: '辉南县',
  value: 220523
}, {
  label: '柳河县',
  value: 220524
}, {
  label: '梅河口市',
  value: 220581
}, {
  label: '集安市',
  value: 220582
}], [{
  label: '浑江区',
  value: 220602
}, {
  label: '江源区',
  value: 220605
}, {
  label: '抚松县',
  value: 220621
}, {
  label: '靖宇县',
  value: 220622
}, {
  label: '长白朝鲜族自治县',
  value: 220623
}, {
  label: '临江市',
  value: 220681
}], [{
  label: '宁江区',
  value: 220702
}, {
  label: '前郭尔罗斯蒙古族自治县',
  value: 220721
}, {
  label: '长岭县',
  value: 220722
}, {
  label: '乾安县',
  value: 220723
}, {
  label: '扶余市',
  value: 220781
}], [{
  label: '洮北区',
  value: 220802
}, {
  label: '镇赉县',
  value: 220821
}, {
  label: '通榆县',
  value: 220822
}, {
  label: '洮南市',
  value: 220881
}, {
  label: '大安市',
  value: 220882
}], [{
  label: '延吉市',
  value: 222401
}, {
  label: '图们市',
  value: 222402
}, {
  label: '敦化市',
  value: 222403
}, {
  label: '珲春市',
  value: 222404
}, {
  label: '龙井市',
  value: 222405
}, {
  label: '和龙市',
  value: 222406
}, {
  label: '汪清县',
  value: 222424
}, {
  label: '安图县',
  value: 222426
}]], [[{
  label: '道里区',
  value: 230102
}, {
  label: '南岗区',
  value: 230103
}, {
  label: '道外区',
  value: 230104
}, {
  label: '平房区',
  value: 230108
}, {
  label: '松北区',
  value: 230109
}, {
  label: '香坊区',
  value: 230110
}, {
  label: '呼兰区',
  value: 230111
}, {
  label: '阿城区',
  value: 230112
}, {
  label: '双城区',
  value: 230113
}, {
  label: '依兰县',
  value: 230123
}, {
  label: '方正县',
  value: 230124
}, {
  label: '宾县',
  value: 230125
}, {
  label: '巴彦县',
  value: 230126
}, {
  label: '木兰县',
  value: 230127
}, {
  label: '通河县',
  value: 230128
}, {
  label: '延寿县',
  value: 230129
}, {
  label: '尚志市',
  value: 230183
}, {
  label: '五常市',
  value: 230184
}, {
  label: '哈尔滨新区',
  value: 230185
}, {
  label: '高新区',
  value: 230186
}], [{
  label: '龙沙区',
  value: 230202
}, {
  label: '建华区',
  value: 230203
}, {
  label: '铁锋区',
  value: 230204
}, {
  label: '昂昂溪区',
  value: 230205
}, {
  label: '富拉尔基区',
  value: 230206
}, {
  label: '碾子山区',
  value: 230207
}, {
  label: '梅里斯达斡尔族区',
  value: 230208
}, {
  label: '龙江县',
  value: 230221
}, {
  label: '依安县',
  value: 230223
}, {
  label: '泰来县',
  value: 230224
}, {
  label: '甘南县',
  value: 230225
}, {
  label: '富裕县',
  value: 230227
}, {
  label: '克山县',
  value: 230229
}, {
  label: '克东县',
  value: 230230
}, {
  label: '拜泉县',
  value: 230231
}, {
  label: '讷河市',
  value: 230281
}, {
  label: '高新区',
  value: 230282
}], [{
  label: '鸡冠区',
  value: 230302
}, {
  label: '恒山区',
  value: 230303
}, {
  label: '滴道区',
  value: 230304
}, {
  label: '梨树区',
  value: 230305
}, {
  label: '城子河区',
  value: 230306
}, {
  label: '麻山区',
  value: 230307
}, {
  label: '鸡东县',
  value: 230321
}, {
  label: '虎林市',
  value: 230381
}, {
  label: '密山市',
  value: 230382
}], [{
  label: '向阳区',
  value: 230402
}, {
  label: '工农区',
  value: 230403
}, {
  label: '南山区',
  value: 230404
}, {
  label: '兴安区',
  value: 230405
}, {
  label: '东山区',
  value: 230406
}, {
  label: '兴山区',
  value: 230407
}, {
  label: '萝北县',
  value: 230421
}, {
  label: '绥滨县',
  value: 230422
}], [{
  label: '尖山区',
  value: 230502
}, {
  label: '岭东区',
  value: 230503
}, {
  label: '四方台区',
  value: 230505
}, {
  label: '宝山区',
  value: 230506
}, {
  label: '集贤县',
  value: 230521
}, {
  label: '友谊县',
  value: 230522
}, {
  label: '宝清县',
  value: 230523
}, {
  label: '饶河县',
  value: 230524
}], [{
  label: '萨尔图区',
  value: 230602
}, {
  label: '龙凤区',
  value: 230603
}, {
  label: '让胡路区',
  value: 230604
}, {
  label: '红岗区',
  value: 230605
}, {
  label: '大同区',
  value: 230606
}, {
  label: '肇州县',
  value: 230621
}, {
  label: '肇源县',
  value: 230622
}, {
  label: '林甸县',
  value: 230623
}, {
  label: '杜尔伯特蒙古族自治县',
  value: 230624
}, {
  label: '高新区',
  value: 230625
}], [{
  label: '伊春区',
  value: 230702
}, {
  label: '南岔区',
  value: 230703
}, {
  label: '友好区',
  value: 230704
}, {
  label: '西林区',
  value: 230705
}, {
  label: '翠峦区',
  value: 230706
}, {
  label: '新青区',
  value: 230707
}, {
  label: '美溪区',
  value: 230708
}, {
  label: '金山屯区',
  value: 230709
}, {
  label: '五营区',
  value: 230710
}, {
  label: '乌马河区',
  value: 230711
}, {
  label: '汤旺河区',
  value: 230712
}, {
  label: '带岭区',
  value: 230713
}, {
  label: '乌伊岭区',
  value: 230714
}, {
  label: '红星区',
  value: 230715
}, {
  label: '上甘岭区',
  value: 230716
}, {
  label: '嘉荫县',
  value: 230722
}, {
  label: '铁力市',
  value: 230781
}], [{
  label: '向阳区',
  value: 230803
}, {
  label: '前进区',
  value: 230804
}, {
  label: '东风区',
  value: 230805
}, {
  label: '郊区',
  value: 230811
}, {
  label: '桦南县',
  value: 230822
}, {
  label: '桦川县',
  value: 230826
}, {
  label: '汤原县',
  value: 230828
}, {
  label: '同江市',
  value: 230881
}, {
  label: '富锦市',
  value: 230882
}, {
  label: '抚远市',
  value: 230883
}], [{
  label: '新兴区',
  value: 230902
}, {
  label: '桃山区',
  value: 230903
}, {
  label: '茄子河区',
  value: 230904
}, {
  label: '勃利县',
  value: 230921
}], [{
  label: '东安区',
  value: 231002
}, {
  label: '阳明区',
  value: 231003
}, {
  label: '爱民区',
  value: 231004
}, {
  label: '西安区',
  value: 231005
}, {
  label: '林口县',
  value: 231025
}, {
  label: '绥芬河市',
  value: 231081
}, {
  label: '海林市',
  value: 231083
}, {
  label: '宁安市',
  value: 231084
}, {
  label: '穆棱市',
  value: 231085
}, {
  label: '东宁市',
  value: 231086
}], [{
  label: '爱辉区',
  value: 231102
}, {
  label: '嫩江县',
  value: 231121
}, {
  label: '逊克县',
  value: 231123
}, {
  label: '孙吴县',
  value: 231124
}, {
  label: '北安市',
  value: 231181
}, {
  label: '五大连池市',
  value: 231182
}], [{
  label: '北林区',
  value: 231202
}, {
  label: '望奎县',
  value: 231221
}, {
  label: '兰西县',
  value: 231222
}, {
  label: '青冈县',
  value: 231223
}, {
  label: '庆安县',
  value: 231224
}, {
  label: '明水县',
  value: 231225
}, {
  label: '绥棱县',
  value: 231226
}, {
  label: '安达市',
  value: 231281
}, {
  label: '肇东市',
  value: 231282
}, {
  label: '海伦市',
  value: 231283
}], [{
  label: '漠河市',
  value: 232701
}, {
  label: '呼玛县',
  value: 232721
}, {
  label: '塔河县',
  value: 232722
}, {
  label: '加格达奇区',
  value: 232761
}, {
  label: '松岭区',
  value: 232762
}, {
  label: '新林区',
  value: 232763
}, {
  label: '呼中区',
  value: 232764
}]], [[{
  label: '黄浦区',
  value: 310101
}, {
  label: '徐汇区',
  value: 310104
}, {
  label: '长宁区',
  value: 310105
}, {
  label: '静安区',
  value: 310106
}, {
  label: '普陀区',
  value: 310107
}, {
  label: '虹口区',
  value: 310109
}, {
  label: '杨浦区',
  value: 310110
}, {
  label: '闵行区',
  value: 310112
}, {
  label: '宝山区',
  value: 310113
}, {
  label: '嘉定区',
  value: 310114
}, {
  label: '浦东新区',
  value: 310115
}, {
  label: '金山区',
  value: 310116
}, {
  label: '松江区',
  value: 310117
}, {
  label: '青浦区',
  value: 310118
}, {
  label: '奉贤区',
  value: 310120
}, {
  label: '崇明区',
  value: 310151
}, {
  label: '张江高新区',
  value: 310231
}, {
  label: '紫竹高新区',
  value: 310232
}, {
  label: '漕河泾开发区',
  value: 310233
}]], [[{
  label: '玄武区',
  value: 320102
}, {
  label: '秦淮区',
  value: 320104
}, {
  label: '建邺区',
  value: 320105
}, {
  label: '鼓楼区',
  value: 320106
}, {
  label: '浦口区',
  value: 320111
}, {
  label: '栖霞区',
  value: 320113
}, {
  label: '雨花台区',
  value: 320114
}, {
  label: '江宁区',
  value: 320115
}, {
  label: '六合区',
  value: 320116
}, {
  label: '溧水区',
  value: 320117
}, {
  label: '高淳区',
  value: 320118
}, {
  label: '江北新区',
  value: 320119
}, {
  label: '高新区',
  value: 320120
}], [{
  label: '锡山区',
  value: 320205
}, {
  label: '惠山区',
  value: 320206
}, {
  label: '滨湖区',
  value: 320211
}, {
  label: '梁溪区',
  value: 320213
}, {
  label: '新吴区',
  value: 320214
}, {
  label: '江阴市',
  value: 320281
}, {
  label: '宜兴市',
  value: 320282
}], [{
  label: '鼓楼区',
  value: 320302
}, {
  label: '云龙区',
  value: 320303
}, {
  label: '贾汪区',
  value: 320305
}, {
  label: '泉山区',
  value: 320311
}, {
  label: '铜山区',
  value: 320312
}, {
  label: '丰县',
  value: 320321
}, {
  label: '沛县',
  value: 320322
}, {
  label: '睢宁县',
  value: 320324
}, {
  label: '新沂市',
  value: 320381
}, {
  label: '邳州市',
  value: 320382
}, {
  label: '经济技术开发区',
  value: 320383
}, {
  label: '高新区',
  value: 320384
}, {
  label: '软件园',
  value: 320385
}], [{
  label: '天宁区',
  value: 320402
}, {
  label: '钟楼区',
  value: 320404
}, {
  label: '新北区',
  value: 320411
}, {
  label: '武进区',
  value: 320412
}, {
  label: '金坛区',
  value: 320413
}, {
  label: '溧阳市',
  value: 320481
}, {
  label: '高新区',
  value: 320482
}], [{
  label: '虎丘区',
  value: 320505
}, {
  label: '吴中区',
  value: 320506
}, {
  label: '相城区',
  value: 320507
}, {
  label: '姑苏区',
  value: 320508
}, {
  label: '吴江区',
  value: 320509
}, {
  label: '常熟市',
  value: 320581
}, {
  label: '张家港市',
  value: 320582
}, {
  label: '昆山市',
  value: 320583
}, {
  label: '太仓市',
  value: 320585
}, {
  label: '苏州新区',
  value: 320586
}, {
  label: '工业园区',
  value: 320587
}, {
  label: '高新区',
  value: 320588
}], [{
  label: '崇川区',
  value: 320602
}, {
  label: '港闸区',
  value: 320611
}, {
  label: '通州区',
  value: 320612
}, {
  label: '如东县',
  value: 320623
}, {
  label: '启东市',
  value: 320681
}, {
  label: '如皋市',
  value: 320682
}, {
  label: '海门市',
  value: 320684
}, {
  label: '海安市',
  value: 320685
}, {
  label: '经济技术开发区',
  value: 320686
}], [{
  label: '连云区',
  value: 320703
}, {
  label: '海州区',
  value: 320706
}, {
  label: '赣榆区',
  value: 320707
}, {
  label: '东海县',
  value: 320722
}, {
  label: '灌云县',
  value: 320723
}, {
  label: '灌南县',
  value: 320724
}, {
  label: '新海新区',
  value: 320725
}, {
  label: '连云新城',
  value: 320726
}, {
  label: '徐圩新区',
  value: 320727
}, {
  label: '济技术开发区',
  value: 320728
}], [{
  label: '淮安区',
  value: 320803
}, {
  label: '淮阴区',
  value: 320804
}, {
  label: '清江浦区',
  value: 320812
}, {
  label: '洪泽区',
  value: 320813
}, {
  label: '涟水县',
  value: 320826
}, {
  label: '盱眙县',
  value: 320830
}, {
  label: '金湖县',
  value: 320831
}, {
  label: '经济开发区',
  value: 320832
}], [{
  label: '亭湖区',
  value: 320902
}, {
  label: '盐都区',
  value: 320903
}, {
  label: '大丰区',
  value: 320904
}, {
  label: '响水县',
  value: 320921
}, {
  label: '滨海县',
  value: 320922
}, {
  label: '阜宁县',
  value: 320923
}, {
  label: '射阳县',
  value: 320924
}, {
  label: '建湖县',
  value: 320925
}, {
  label: '东台市',
  value: 320981
}], [{
  label: '广陵区',
  value: 321002
}, {
  label: '邗江区',
  value: 321003
}, {
  label: '江都区',
  value: 321012
}, {
  label: '宝应县',
  value: 321023
}, {
  label: '仪征市',
  value: 321081
}, {
  label: '高邮市',
  value: 321084
}], [{
  label: '京口区',
  value: 321102
}, {
  label: '润州区',
  value: 321111
}, {
  label: '丹徒区',
  value: 321112
}, {
  label: '丹阳市',
  value: 321181
}, {
  label: '扬中市',
  value: 321182
}, {
  label: '句容市',
  value: 321183
}, {
  label: '镇江新区',
  value: 321184
}, {
  label: '镇江新区',
  value: 321185
}, {
  label: '经济开发区',
  value: 321186
}], [{
  label: '海陵区',
  value: 321202
}, {
  label: '高港区',
  value: 321203
}, {
  label: '姜堰区',
  value: 321204
}, {
  label: '兴化市',
  value: 321281
}, {
  label: '靖江市',
  value: 321282
}, {
  label: '泰兴市',
  value: 321283
}], [{
  label: '宿城区',
  value: 321302
}, {
  label: '宿豫区',
  value: 321311
}, {
  label: '沭阳县',
  value: 321322
}, {
  label: '泗阳县',
  value: 321323
}, {
  label: '泗洪县',
  value: 321324
}, {
  label: '高新区',
  value: 321325
}]], [[{
  label: '上城区',
  value: 330102
}, {
  label: '下城区',
  value: 330103
}, {
  label: '江干区',
  value: 330104
}, {
  label: '拱墅区',
  value: 330105
}, {
  label: '西湖区',
  value: 330106
}, {
  label: '滨江区',
  value: 330108
}, {
  label: '萧山区',
  value: 330109
}, {
  label: '余杭区',
  value: 330110
}, {
  label: '富阳区',
  value: 330111
}, {
  label: '临安区',
  value: 330112
}, {
  label: '临平区',
  value: 330113
}, {
  label: '钱塘区',
  value: 330114
}, {
  label: '桐庐县',
  value: 330122
}, {
  label: '淳安县',
  value: 330127
}, {
  label: '建德市',
  value: 330182
}, {
  label: '高新区',
  value: 330186
}], [{
  label: '海曙区',
  value: 330203
}, {
  label: '江北区',
  value: 330205
}, {
  label: '北仑区',
  value: 330206
}, {
  label: '镇海区',
  value: 330211
}, {
  label: '鄞州区',
  value: 330212
}, {
  label: '奉化区',
  value: 330213
}, {
  label: '象山县',
  value: 330225
}, {
  label: '宁海县',
  value: 330226
}, {
  label: '余姚市',
  value: 330281
}, {
  label: '慈溪市',
  value: 330282
}, {
  label: '杭州湾新区',
  value: 330284
}, {
  label: '高新区',
  value: 330285
}], [{
  label: '鹿城区',
  value: 330302
}, {
  label: '龙湾区',
  value: 330303
}, {
  label: '瓯海区',
  value: 330304
}, {
  label: '洞头区',
  value: 330305
}, {
  label: '永嘉县',
  value: 330324
}, {
  label: '平阳县',
  value: 330326
}, {
  label: '苍南县',
  value: 330327
}, {
  label: '文成县',
  value: 330328
}, {
  label: '泰顺县',
  value: 330329
}, {
  label: '瑞安市',
  value: 330381
}, {
  label: '乐清市',
  value: 330382
}], [{
  label: '南湖区',
  value: 330402
}, {
  label: '秀洲区',
  value: 330411
}, {
  label: '嘉善县',
  value: 330421
}, {
  label: '海盐县',
  value: 330424
}, {
  label: '海宁市',
  value: 330481
}, {
  label: '平湖市',
  value: 330482
}, {
  label: '桐乡市',
  value: 330483
}], [{
  label: '吴兴区',
  value: 330502
}, {
  label: '南浔区',
  value: 330503
}, {
  label: '德清县',
  value: 330521
}, {
  label: '长兴县',
  value: 330522
}, {
  label: '安吉县',
  value: 330523
}], [{
  label: '越城区',
  value: 330602
}, {
  label: '柯桥区',
  value: 330603
}, {
  label: '上虞区',
  value: 330604
}, {
  label: '新昌县',
  value: 330624
}, {
  label: '诸暨市',
  value: 330681
}, {
  label: '嵊州市',
  value: 330683
}], [{
  label: '婺城区',
  value: 330702
}, {
  label: '金东区',
  value: 330703
}, {
  label: '武义县',
  value: 330723
}, {
  label: '浦江县',
  value: 330726
}, {
  label: '磐安县',
  value: 330727
}, {
  label: '兰溪市',
  value: 330781
}, {
  label: '义乌市',
  value: 330782
}, {
  label: '东阳市',
  value: 330783
}, {
  label: '永康市',
  value: 330784
}], [{
  label: '柯城区',
  value: 330802
}, {
  label: '衢江区',
  value: 330803
}, {
  label: '常山县',
  value: 330822
}, {
  label: '开化县',
  value: 330824
}, {
  label: '龙游县',
  value: 330825
}, {
  label: '江山市',
  value: 330881
}], [{
  label: '定海区',
  value: 330902
}, {
  label: '普陀区',
  value: 330903
}, {
  label: '岱山县',
  value: 330921
}, {
  label: '嵊泗县',
  value: 330922
}], [{
  label: '椒江区',
  value: 331002
}, {
  label: '黄岩区',
  value: 331003
}, {
  label: '路桥区',
  value: 331004
}, {
  label: '三门县',
  value: 331022
}, {
  label: '天台县',
  value: 331023
}, {
  label: '仙居县',
  value: 331024
}, {
  label: '温岭市',
  value: 331081
}, {
  label: '临海市',
  value: 331082
}, {
  label: '玉环市',
  value: 331083
}], [{
  label: '莲都区',
  value: 331102
}, {
  label: '青田县',
  value: 331121
}, {
  label: '缙云县',
  value: 331122
}, {
  label: '遂昌县',
  value: 331123
}, {
  label: '松阳县',
  value: 331124
}, {
  label: '云和县',
  value: 331125
}, {
  label: '庆元县',
  value: 331126
}, {
  label: '景宁畲族自治县',
  value: 331127
}, {
  label: '龙泉市',
  value: 331181
}], [{
  label: '金塘岛',
  value: 331201
}, {
  label: '六横岛',
  value: 331202
}, {
  label: '衢山岛',
  value: 331203
}, {
  label: '舟山本岛西北部',
  value: 331204
}, {
  label: '岱山岛西南部',
  value: 331205
}, {
  label: '泗礁岛',
  value: 331206
}, {
  label: '朱家尖岛',
  value: 331207
}, {
  label: '洋山岛',
  value: 331208
}, {
  label: '长涂岛',
  value: 331209
}, {
  label: '虾峙岛',
  value: 331210
}]], [[{
  label: '瑶海区',
  value: 340102
}, {
  label: '庐阳区',
  value: 340103
}, {
  label: '蜀山区',
  value: 340104
}, {
  label: '包河区',
  value: 340111
}, {
  label: '长丰县',
  value: 340121
}, {
  label: '肥东县',
  value: 340122
}, {
  label: '肥西县',
  value: 340123
}, {
  label: '庐江县',
  value: 340124
}, {
  label: '巢湖市',
  value: 340181
}, {
  label: '经济开发区',
  value: 340184
}, {
  label: '高新区',
  value: 340185
}, {
  label: '北城新区',
  value: 340186
}, {
  label: '滨湖新区',
  value: 340187
}, {
  label: '政务文化新区',
  value: 340188
}, {
  label: '新站综合开发试验区',
  value: 340189
}], [{
  label: '镜湖区',
  value: 340202
}, {
  label: '弋江区',
  value: 340203
}, {
  label: '鸠江区',
  value: 340207
}, {
  label: '三山区',
  value: 340208
}, {
  label: '芜湖县',
  value: 340221
}, {
  label: '繁昌县',
  value: 340222
}, {
  label: '南陵县',
  value: 340223
}, {
  label: '无为县',
  value: 340225
}, {
  label: '经济开发区',
  value: 340226
}, {
  label: '城东新区',
  value: 340227
}], [{
  label: '龙子湖区',
  value: 340302
}, {
  label: '蚌山区',
  value: 340303
}, {
  label: '禹会区',
  value: 340304
}, {
  label: '淮上区',
  value: 340311
}, {
  label: '怀远县',
  value: 340321
}, {
  label: '五河县',
  value: 340322
}, {
  label: '固镇县',
  value: 340323
}, {
  label: '高新区',
  value: 340324
}], [{
  label: '大通区',
  value: 340402
}, {
  label: '田家庵区',
  value: 340403
}, {
  label: '谢家集区',
  value: 340404
}, {
  label: '八公山区',
  value: 340405
}, {
  label: '潘集区',
  value: 340406
}, {
  label: '凤台县',
  value: 340421
}, {
  label: '寿县',
  value: 340422
}, {
  label: '山南新区',
  value: 340423
}, {
  label: '毛集实验区',
  value: 340424
}, {
  label: '经济开发区',
  value: 340425
}], [{
  label: '花山区',
  value: 340503
}, {
  label: '雨山区',
  value: 340504
}, {
  label: '博望区',
  value: 340506
}, {
  label: '当涂县',
  value: 340521
}, {
  label: '含山县',
  value: 340522
}, {
  label: '和县',
  value: 340523
}], [{
  label: '杜集区',
  value: 340602
}, {
  label: '相山区',
  value: 340603
}, {
  label: '烈山区',
  value: 340604
}, {
  label: '濉溪县',
  value: 340621
}], [{
  label: '铜官区',
  value: 340705
}, {
  label: '义安区',
  value: 340706
}, {
  label: '郊区',
  value: 340711
}, {
  label: '枞阳县',
  value: 340722
}], [{
  label: '迎江区',
  value: 340802
}, {
  label: '大观区',
  value: 340803
}, {
  label: '宜秀区',
  value: 340811
}, {
  label: '怀宁县',
  value: 340822
}, {
  label: '太湖县',
  value: 340825
}, {
  label: '宿松县',
  value: 340826
}, {
  label: '望江县',
  value: 340827
}, {
  label: '岳西县',
  value: 340828
}, {
  label: '桐城市',
  value: 340881
}, {
  label: '潜山市',
  value: 340882
}], [{
  label: '屯溪区',
  value: 341002
}, {
  label: '黄山区',
  value: 341003
}, {
  label: '徽州区',
  value: 341004
}, {
  label: '歙县',
  value: 341021
}, {
  label: '休宁县',
  value: 341022
}, {
  label: '黟县',
  value: 341023
}, {
  label: '祁门县',
  value: 341024
}], [{
  label: '琅琊区',
  value: 341102
}, {
  label: '南谯区',
  value: 341103
}, {
  label: '来安县',
  value: 341122
}, {
  label: '全椒县',
  value: 341124
}, {
  label: '定远县',
  value: 341125
}, {
  label: '凤阳县',
  value: 341126
}, {
  label: '天长市',
  value: 341181
}, {
  label: '明光市',
  value: 341182
}], [{
  label: '颍州区',
  value: 341202
}, {
  label: '颍东区',
  value: 341203
}, {
  label: '颍泉区',
  value: 341204
}, {
  label: '临泉县',
  value: 341221
}, {
  label: '太和县',
  value: 341222
}, {
  label: '阜南县',
  value: 341225
}, {
  label: '颍上县',
  value: 341226
}, {
  label: '界首市',
  value: 341282
}, {
  label: '经济开发区',
  value: 341283
}, {
  label: '苏滁现代产业园',
  value: 341284
}], [{
  label: '埇桥区',
  value: 341302
}, {
  label: '砀山县',
  value: 341321
}, {
  label: '萧县',
  value: 341322
}, {
  label: '灵璧县',
  value: 341323
}, {
  label: '泗县',
  value: 341324
}, {
  label: '经济开发区',
  value: 341325
}, {
  label: '宿马现代产业园',
  value: 341371
}], [{
  label: '金安区',
  value: 341502
}, {
  label: '裕安区',
  value: 341503
}, {
  label: '叶集区',
  value: 341504
}, {
  label: '霍邱县',
  value: 341522
}, {
  label: '舒城县',
  value: 341523
}, {
  label: '金寨县',
  value: 341524
}, {
  label: '霍山县',
  value: 341525
}], [{
  label: '谯城区',
  value: 341602
}, {
  label: '涡阳县',
  value: 341621
}, {
  label: '蒙城县',
  value: 341622
}, {
  label: '利辛县',
  value: 341623
}], [{
  label: '贵池区',
  value: 341702
}, {
  label: '东至县',
  value: 341721
}, {
  label: '石台县',
  value: 341722
}, {
  label: '青阳县',
  value: 341723
}], [{
  label: '宣州区',
  value: 341802
}, {
  label: '郎溪县',
  value: 341821
}, {
  label: '广德县',
  value: 341822
}, {
  label: '泾县',
  value: 341823
}, {
  label: '绩溪县',
  value: 341824
}, {
  label: '旌德县',
  value: 341825
}, {
  label: '宁国市',
  value: 341881
}]], [[{
  label: '鼓楼区',
  value: 350102
}, {
  label: '台江区',
  value: 350103
}, {
  label: '仓山区',
  value: 350104
}, {
  label: '马尾区',
  value: 350105
}, {
  label: '晋安区',
  value: 350111
}, {
  label: '长乐区',
  value: 350112
}, {
  label: '闽侯县',
  value: 350121
}, {
  label: '连江县',
  value: 350122
}, {
  label: '罗源县',
  value: 350123
}, {
  label: '闽清县',
  value: 350124
}, {
  label: '永泰县',
  value: 350125
}, {
  label: '平潭县',
  value: 350128
}, {
  label: '福清市',
  value: 350181
}, {
  label: '福州新区',
  value: 350183
}], [{
  label: '思明区',
  value: 350203
}, {
  label: '海沧区',
  value: 350205
}, {
  label: '湖里区',
  value: 350206
}, {
  label: '集美区',
  value: 350211
}, {
  label: '同安区',
  value: 350212
}, {
  label: '翔安区',
  value: 350213
}], [{
  label: '城厢区',
  value: 350302
}, {
  label: '涵江区',
  value: 350303
}, {
  label: '荔城区',
  value: 350304
}, {
  label: '秀屿区',
  value: 350305
}, {
  label: '仙游县',
  value: 350322
}], [{
  label: '梅列区',
  value: 350402
}, {
  label: '三元区',
  value: 350403
}, {
  label: '明溪县',
  value: 350421
}, {
  label: '清流县',
  value: 350423
}, {
  label: '宁化县',
  value: 350424
}, {
  label: '大田县',
  value: 350425
}, {
  label: '尤溪县',
  value: 350426
}, {
  label: '沙县',
  value: 350427
}, {
  label: '将乐县',
  value: 350428
}, {
  label: '泰宁县',
  value: 350429
}, {
  label: '建宁县',
  value: 350430
}, {
  label: '永安市',
  value: 350481
}], [{
  label: '鲤城区',
  value: 350502
}, {
  label: '丰泽区',
  value: 350503
}, {
  label: '洛江区',
  value: 350504
}, {
  label: '泉港区',
  value: 350505
}, {
  label: '惠安县',
  value: 350521
}, {
  label: '安溪县',
  value: 350524
}, {
  label: '永春县',
  value: 350525
}, {
  label: '德化县',
  value: 350526
}, {
  label: '金门县',
  value: 350527
}, {
  label: '石狮市',
  value: 350581
}, {
  label: '晋江市',
  value: 350582
}, {
  label: '南安市',
  value: 350583
}, {
  label: '台商投资区',
  value: 350584
}, {
  label: '经济技术开发区',
  value: 350585
}, {
  label: '高新区',
  value: 350586
}, {
  label: '综合保税区',
  value: 350587
}], [{
  label: '芗城区',
  value: 350602
}, {
  label: '龙文区',
  value: 350603
}, {
  label: '云霄县',
  value: 350622
}, {
  label: '漳浦县',
  value: 350623
}, {
  label: '诏安县',
  value: 350624
}, {
  label: '长泰县',
  value: 350625
}, {
  label: '东山县',
  value: 350626
}, {
  label: '南靖县',
  value: 350627
}, {
  label: '平和县',
  value: 350628
}, {
  label: '华安县',
  value: 350629
}, {
  label: '龙海市',
  value: 350681
}], [{
  label: '延平区',
  value: 350702
}, {
  label: '建阳区',
  value: 350703
}, {
  label: '顺昌县',
  value: 350721
}, {
  label: '浦城县',
  value: 350722
}, {
  label: '光泽县',
  value: 350723
}, {
  label: '松溪县',
  value: 350724
}, {
  label: '政和县',
  value: 350725
}, {
  label: '邵武市',
  value: 350781
}, {
  label: '武夷山市',
  value: 350782
}, {
  label: '建瓯市',
  value: 350783
}], [{
  label: '新罗区',
  value: 350802
}, {
  label: '永定区',
  value: 350803
}, {
  label: '长汀县',
  value: 350821
}, {
  label: '上杭县',
  value: 350823
}, {
  label: '武平县',
  value: 350824
}, {
  label: '连城县',
  value: 350825
}, {
  label: '漳平市',
  value: 350881
}], [{
  label: '蕉城区',
  value: 350902
}, {
  label: '霞浦县',
  value: 350921
}, {
  label: '古田县',
  value: 350922
}, {
  label: '屏南县',
  value: 350923
}, {
  label: '寿宁县',
  value: 350924
}, {
  label: '周宁县',
  value: 350925
}, {
  label: '柘荣县',
  value: 350926
}, {
  label: '福安市',
  value: 350981
}, {
  label: '福鼎市',
  value: 350982
}, {
  label: '东侨开发区',
  value: 350983
}]], [[{
  label: '东湖区',
  value: 360102
}, {
  label: '西湖区',
  value: 360103
}, {
  label: '青云谱区',
  value: 360104
}, {
  label: '湾里区',
  value: 360105
}, {
  label: '青山湖区',
  value: 360111
}, {
  label: '新建区',
  value: 360112
}, {
  label: '南昌县',
  value: 360121
}, {
  label: '安义县',
  value: 360123
}, {
  label: '进贤县',
  value: 360124
}, {
  label: '红谷滩新区',
  value: 360125
}, {
  label: '高新区',
  value: 360126
}, {
  label: '经济开发区',
  value: 360127
}, {
  label: '小蓝开发区',
  value: 360128
}, {
  label: '桑海开发区',
  value: 360129
}, {
  label: '望城新区',
  value: 360130
}, {
  label: '赣江新区',
  value: 360131
}], [{
  label: '昌江区',
  value: 360202
}, {
  label: '珠山区',
  value: 360203
}, {
  label: '浮梁县',
  value: 360222
}, {
  label: '乐平市',
  value: 360281
}], [{
  label: '安源区',
  value: 360302
}, {
  label: '湘东区',
  value: 360313
}, {
  label: '莲花县',
  value: 360321
}, {
  label: '上栗县',
  value: 360322
}, {
  label: '芦溪县',
  value: 360323
}], [{
  label: '濂溪区',
  value: 360402
}, {
  label: '浔阳区',
  value: 360403
}, {
  label: '柴桑区',
  value: 360404
}, {
  label: '武宁县',
  value: 360423
}, {
  label: '修水县',
  value: 360424
}, {
  label: '永修县',
  value: 360425
}, {
  label: '德安县',
  value: 360426
}, {
  label: '都昌县',
  value: 360428
}, {
  label: '湖口县',
  value: 360429
}, {
  label: '彭泽县',
  value: 360430
}, {
  label: '瑞昌市',
  value: 360481
}, {
  label: '共青城市',
  value: 360482
}, {
  label: '庐山市',
  value: 360483
}, {
  label: '经济技术开发区',
  value: 360484
}, {
  label: '八里湖新区',
  value: 360485
}, {
  label: '庐山风景名胜区',
  value: 360486
}], [{
  label: '渝水区',
  value: 360502
}, {
  label: '分宜县',
  value: 360521
}], [{
  label: '月湖区',
  value: 360602
}, {
  label: '余江区',
  value: 360603
}, {
  label: '贵溪市',
  value: 360681
}, {
  label: '高新区',
  value: 360682
}], [{
  label: '章贡区',
  value: 360702
}, {
  label: '南康区',
  value: 360703
}, {
  label: '赣县区',
  value: 360704
}, {
  label: '信丰县',
  value: 360722
}, {
  label: '大余县',
  value: 360723
}, {
  label: '上犹县',
  value: 360724
}, {
  label: '崇义县',
  value: 360725
}, {
  label: '安远县',
  value: 360726
}, {
  label: '龙南县',
  value: 360727
}, {
  label: '定南县',
  value: 360728
}, {
  label: '全南县',
  value: 360729
}, {
  label: '宁都县',
  value: 360730
}, {
  label: '于都县',
  value: 360731
}, {
  label: '兴国县',
  value: 360732
}, {
  label: '会昌县',
  value: 360733
}, {
  label: '寻乌县',
  value: 360734
}, {
  label: '石城县',
  value: 360735
}, {
  label: '瑞金市',
  value: 360781
}, {
  label: '章康新区',
  value: 360782
}], [{
  label: '吉州区',
  value: 360802
}, {
  label: '青原区',
  value: 360803
}, {
  label: '吉安县',
  value: 360821
}, {
  label: '吉水县',
  value: 360822
}, {
  label: '峡江县',
  value: 360823
}, {
  label: '新干县',
  value: 360824
}, {
  label: '永丰县',
  value: 360825
}, {
  label: '泰和县',
  value: 360826
}, {
  label: '遂川县',
  value: 360827
}, {
  label: '万安县',
  value: 360828
}, {
  label: '安福县',
  value: 360829
}, {
  label: '永新县',
  value: 360830
}, {
  label: '井冈山市',
  value: 360881
}], [{
  label: '袁州区',
  value: 360902
}, {
  label: '奉新县',
  value: 360921
}, {
  label: '万载县',
  value: 360922
}, {
  label: '上高县',
  value: 360923
}, {
  label: '宜丰县',
  value: 360924
}, {
  label: '靖安县',
  value: 360925
}, {
  label: '铜鼓县',
  value: 360926
}, {
  label: '丰城市',
  value: 360981
}, {
  label: '樟树市',
  value: 360982
}, {
  label: '高安市',
  value: 360983
}], [{
  label: '临川区',
  value: 361002
}, {
  label: '东乡区',
  value: 361003
}, {
  label: '南城县',
  value: 361021
}, {
  label: '黎川县',
  value: 361022
}, {
  label: '南丰县',
  value: 361023
}, {
  label: '崇仁县',
  value: 361024
}, {
  label: '乐安县',
  value: 361025
}, {
  label: '宜黄县',
  value: 361026
}, {
  label: '金溪县',
  value: 361027
}, {
  label: '资溪县',
  value: 361028
}, {
  label: '广昌县',
  value: 361030
}], [{
  label: '信州区',
  value: 361102
}, {
  label: '广丰区',
  value: 361103
}, {
  label: '上饶县',
  value: 361121
}, {
  label: '玉山县',
  value: 361123
}, {
  label: '铅山县',
  value: 361124
}, {
  label: '横峰县',
  value: 361125
}, {
  label: '弋阳县',
  value: 361126
}, {
  label: '余干县',
  value: 361127
}, {
  label: '鄱阳县',
  value: 361128
}, {
  label: '万年县',
  value: 361129
}, {
  label: '婺源县',
  value: 361130
}, {
  label: '德兴市',
  value: 361181
}]], [[{
  label: '历下区',
  value: 370102
}, {
  label: '市中区',
  value: 370103
}, {
  label: '槐荫区',
  value: 370104
}, {
  label: '天桥区',
  value: 370105
}, {
  label: '历城区',
  value: 370112
}, {
  label: '长清区',
  value: 370113
}, {
  label: '章丘区',
  value: 370114
}, {
  label: '济阳区',
  value: 370115
}, {
  label: '莱芜区',
  value: 370116
}, {
  label: '钢城区',
  value: 370117
}, {
  label: '平阴县',
  value: 370124
}, {
  label: '商河县',
  value: 370126
}, {
  label: '高新区',
  value: 370182
}], [{
  label: '市南区',
  value: 370202
}, {
  label: '市北区',
  value: 370203
}, {
  label: '黄岛区',
  value: 370211
}, {
  label: '崂山区',
  value: 370212
}, {
  label: '李沧区',
  value: 370213
}, {
  label: '城阳区',
  value: 370214
}, {
  label: '即墨区',
  value: 370215
}, {
  label: '胶州市',
  value: 370281
}, {
  label: '平度市',
  value: 370283
}, {
  label: '莱西市',
  value: 370285
}, {
  label: '西海岸新区',
  value: 370286
}, {
  label: '高新区',
  value: 370287
}], [{
  label: '淄川区',
  value: 370302
}, {
  label: '张店区',
  value: 370303
}, {
  label: '博山区',
  value: 370304
}, {
  label: '临淄区',
  value: 370305
}, {
  label: '周村区',
  value: 370306
}, {
  label: '桓台县',
  value: 370321
}, {
  label: '高青县',
  value: 370322
}, {
  label: '沂源县',
  value: 370323
}, {
  label: '高新区',
  value: 370324
}], [{
  label: '市中区',
  value: 370402
}, {
  label: '薛城区',
  value: 370403
}, {
  label: '峄城区',
  value: 370404
}, {
  label: '台儿庄区',
  value: 370405
}, {
  label: '山亭区',
  value: 370406
}, {
  label: '滕州市',
  value: 370481
}, {
  label: '高新区',
  value: 370482
}], [{
  label: '东营区',
  value: 370502
}, {
  label: '河口区',
  value: 370503
}, {
  label: '垦利区',
  value: 370505
}, {
  label: '利津县',
  value: 370522
}, {
  label: '广饶县',
  value: 370523
}], [{
  label: '芝罘区',
  value: 370602
}, {
  label: '福山区',
  value: 370611
}, {
  label: '牟平区',
  value: 370612
}, {
  label: '莱山区',
  value: 370613
}, {
  label: '长岛县',
  value: 370634
}, {
  label: '龙口市',
  value: 370681
}, {
  label: '莱阳市',
  value: 370682
}, {
  label: '莱州市',
  value: 370683
}, {
  label: '蓬莱市',
  value: 370684
}, {
  label: '招远市',
  value: 370685
}, {
  label: '栖霞市',
  value: 370686
}, {
  label: '海阳市',
  value: 370687
}, {
  label: '高新区',
  value: 370688
}, {
  label: '经济开发区',
  value: 370689
}], [{
  label: '潍城区',
  value: 370702
}, {
  label: '寒亭区',
  value: 370703
}, {
  label: '坊子区',
  value: 370704
}, {
  label: '奎文区',
  value: 370705
}, {
  label: '临朐县',
  value: 370724
}, {
  label: '昌乐县',
  value: 370725
}, {
  label: '青州市',
  value: 370781
}, {
  label: '诸城市',
  value: 370782
}, {
  label: '寿光市',
  value: 370783
}, {
  label: '安丘市',
  value: 370784
}, {
  label: '高密市',
  value: 370785
}, {
  label: '昌邑市',
  value: 370786
}, {
  label: '高新区',
  value: 370787
}], [{
  label: '任城区',
  value: 370811
}, {
  label: '兖州区',
  value: 370812
}, {
  label: '微山县',
  value: 370826
}, {
  label: '鱼台县',
  value: 370827
}, {
  label: '金乡县',
  value: 370828
}, {
  label: '嘉祥县',
  value: 370829
}, {
  label: '汶上县',
  value: 370830
}, {
  label: '泗水县',
  value: 370831
}, {
  label: '梁山县',
  value: 370832
}, {
  label: '曲阜市',
  value: 370881
}, {
  label: '邹城市',
  value: 370883
}, {
  label: '高新区',
  value: 370884
}], [{
  label: '泰山区',
  value: 370902
}, {
  label: '岱岳区',
  value: 370911
}, {
  label: '宁阳县',
  value: 370921
}, {
  label: '东平县',
  value: 370923
}, {
  label: '新泰市',
  value: 370982
}, {
  label: '肥城市',
  value: 370983
}], [{
  label: '环翠区',
  value: 371002
}, {
  label: '文登区',
  value: 371003
}, {
  label: '荣成市',
  value: 371082
}, {
  label: '乳山市',
  value: 371083
}, {
  label: '火炬高新区',
  value: 371084
}, {
  label: '经济技术开发区',
  value: 371085
}, {
  label: '临港经济技术开发区',
  value: 371086
}], [{
  label: '东港区',
  value: 371102
}, {
  label: '岚山区',
  value: 371103
}, {
  label: '五莲县',
  value: 371121
}, {
  label: '莒县',
  value: 371122
}], [{
  label: '兰山区',
  value: 371302
}, {
  label: '罗庄区',
  value: 371311
}, {
  label: '河东区',
  value: 371312
}, {
  label: '沂南县',
  value: 371321
}, {
  label: '郯城县',
  value: 371322
}, {
  label: '沂水县',
  value: 371323
}, {
  label: '兰陵县',
  value: 371324
}, {
  label: '费县',
  value: 371325
}, {
  label: '平邑县',
  value: 371326
}, {
  label: '莒南县',
  value: 371327
}, {
  label: '蒙阴县',
  value: 371328
}, {
  label: '临沭县',
  value: 371329
}], [{
  label: '德城区',
  value: 371402
}, {
  label: '陵城区',
  value: 371403
}, {
  label: '宁津县',
  value: 371422
}, {
  label: '庆云县',
  value: 371423
}, {
  label: '临邑县',
  value: 371424
}, {
  label: '齐河县',
  value: 371425
}, {
  label: '平原县',
  value: 371426
}, {
  label: '夏津县',
  value: 371427
}, {
  label: '武城县',
  value: 371428
}, {
  label: '乐陵市',
  value: 371481
}, {
  label: '禹城市',
  value: 371482
}], [{
  label: '东昌府区',
  value: 371502
}, {
  label: '阳谷县',
  value: 371521
}, {
  label: '莘县',
  value: 371522
}, {
  label: '茌平县',
  value: 371523
}, {
  label: '东阿县',
  value: 371524
}, {
  label: '冠县',
  value: 371525
}, {
  label: '高唐县',
  value: 371526
}, {
  label: '临清市',
  value: 371581
}], [{
  label: '滨城区',
  value: 371602
}, {
  label: '沾化区',
  value: 371603
}, {
  label: '惠民县',
  value: 371621
}, {
  label: '阳信县',
  value: 371622
}, {
  label: '无棣县',
  value: 371623
}, {
  label: '博兴县',
  value: 371625
}, {
  label: '邹平市',
  value: 371681
}, {
  label: '北海新区',
  value: 371682
}], [{
  label: '牡丹区',
  value: 371702
}, {
  label: '定陶区',
  value: 371703
}, {
  label: '曹县',
  value: 371721
}, {
  label: '单县',
  value: 371722
}, {
  label: '成武县',
  value: 371723
}, {
  label: '巨野县',
  value: 371724
}, {
  label: '郓城县',
  value: 371725
}, {
  label: '鄄城县',
  value: 371726
}, {
  label: '东明县',
  value: 371728
}, {
  label: '高新开发区',
  value: 371772
}]], [[{
  label: '中原区',
  value: 410102
}, {
  label: '二七区',
  value: 410103
}, {
  label: '管城回族区',
  value: 410104
}, {
  label: '金水区',
  value: 410105
}, {
  label: '上街区',
  value: 410106
}, {
  label: '惠济区',
  value: 410108
}, {
  label: '中牟县',
  value: 410122
}, {
  label: '巩义市',
  value: 410181
}, {
  label: '荥阳市',
  value: 410182
}, {
  label: '新密市',
  value: 410183
}, {
  label: '新郑市',
  value: 410184
}, {
  label: '登封市',
  value: 410185
}, {
  label: '郑东新区',
  value: 410186
}, {
  label: '郑汴新区',
  value: 410187
}, {
  label: '高新开发区',
  value: 410188
}, {
  label: '经济开发区',
  value: 410189
}, {
  label: '航空港区',
  value: 410190
}], [{
  label: '龙亭区',
  value: 410202
}, {
  label: '顺河回族区',
  value: 410203
}, {
  label: '鼓楼区',
  value: 410204
}, {
  label: '禹王台区',
  value: 410205
}, {
  label: '祥符区',
  value: 410212
}, {
  label: '杞县',
  value: 410221
}, {
  label: '通许县',
  value: 410222
}, {
  label: '尉氏县',
  value: 410223
}, {
  label: '兰考县',
  value: 410225
}, {
  label: '经济技术开发区',
  value: 410226
}], [{
  label: '老城区',
  value: 410302
}, {
  label: '西工区',
  value: 410303
}, {
  label: '瀍河回族区',
  value: 410304
}, {
  label: '涧西区',
  value: 410305
}, {
  label: '吉利区',
  value: 410306
}, {
  label: '洛龙区',
  value: 410311
}, {
  label: '孟津县',
  value: 410322
}, {
  label: '新安县',
  value: 410323
}, {
  label: '栾川县',
  value: 410324
}, {
  label: '嵩县',
  value: 410325
}, {
  label: '汝阳县',
  value: 410326
}, {
  label: '宜阳县',
  value: 410327
}, {
  label: '洛宁县',
  value: 410328
}, {
  label: '伊川县',
  value: 410329
}, {
  label: '偃师市',
  value: 410381
}, {
  label: '洛阳新区',
  value: 410382
}, {
  label: '高新区',
  value: 410383
}], [{
  label: '新华区',
  value: 410402
}, {
  label: '卫东区',
  value: 410403
}, {
  label: '石龙区',
  value: 410404
}, {
  label: '湛河区',
  value: 410411
}, {
  label: '宝丰县',
  value: 410421
}, {
  label: '叶县',
  value: 410422
}, {
  label: '鲁山县',
  value: 410423
}, {
  label: '郏县',
  value: 410425
}, {
  label: '舞钢市',
  value: 410481
}, {
  label: '汝州市',
  value: 410482
}, {
  label: '高新区',
  value: 410483
}, {
  label: '新城区',
  value: 410484
}], [{
  label: '文峰区',
  value: 410502
}, {
  label: '北关区',
  value: 410503
}, {
  label: '殷都区',
  value: 410505
}, {
  label: '龙安区',
  value: 410506
}, {
  label: '安阳县',
  value: 410522
}, {
  label: '汤阴县',
  value: 410523
}, {
  label: '滑县',
  value: 410526
}, {
  label: '内黄县',
  value: 410527
}, {
  label: '林州市',
  value: 410581
}, {
  label: '安阳新区',
  value: 410582
}], [{
  label: '鹤山区',
  value: 410602
}, {
  label: '山城区',
  value: 410603
}, {
  label: '淇滨区',
  value: 410611
}, {
  label: '浚县',
  value: 410621
}, {
  label: '淇县',
  value: 410622
}], [{
  label: '红旗区',
  value: 410702
}, {
  label: '卫滨区',
  value: 410703
}, {
  label: '凤泉区',
  value: 410704
}, {
  label: '牧野区',
  value: 410711
}, {
  label: '新乡县',
  value: 410721
}, {
  label: '获嘉县',
  value: 410724
}, {
  label: '原阳县',
  value: 410725
}, {
  label: '延津县',
  value: 410726
}, {
  label: '封丘县',
  value: 410727
}, {
  label: '长垣县',
  value: 410728
}, {
  label: '卫辉市',
  value: 410781
}, {
  label: '辉县市',
  value: 410782
}], [{
  label: '解放区',
  value: 410802
}, {
  label: '中站区',
  value: 410803
}, {
  label: '马村区',
  value: 410804
}, {
  label: '山阳区',
  value: 410811
}, {
  label: '修武县',
  value: 410821
}, {
  label: '博爱县',
  value: 410822
}, {
  label: '武陟县',
  value: 410823
}, {
  label: '温县',
  value: 410825
}, {
  label: '沁阳市',
  value: 410882
}, {
  label: '孟州市',
  value: 410883
}], [{
  label: '华龙区',
  value: 410902
}, {
  label: '清丰县',
  value: 410922
}, {
  label: '南乐县',
  value: 410923
}, {
  label: '范县',
  value: 410926
}, {
  label: '台前县',
  value: 410927
}, {
  label: '濮阳县',
  value: 410928
}], [{
  label: '魏都区',
  value: 411002
}, {
  label: '建安区',
  value: 411003
}, {
  label: '鄢陵县',
  value: 411024
}, {
  label: '襄城县',
  value: 411025
}, {
  label: '禹州市',
  value: 411081
}, {
  label: '长葛市',
  value: 411082
}], [{
  label: '源汇区',
  value: 411102
}, {
  label: '郾城区',
  value: 411103
}, {
  label: '召陵区',
  value: 411104
}, {
  label: '舞阳县',
  value: 411121
}, {
  label: '临颍县',
  value: 411122
}], [{
  label: '湖滨区',
  value: 411202
}, {
  label: '陕州区',
  value: 411203
}, {
  label: '渑池县',
  value: 411221
}, {
  label: '卢氏县',
  value: 411224
}, {
  label: '义马市',
  value: 411281
}, {
  label: '灵宝市',
  value: 411282
}], [{
  label: '宛城区',
  value: 411302
}, {
  label: '卧龙区',
  value: 411303
}, {
  label: '南召县',
  value: 411321
}, {
  label: '方城县',
  value: 411322
}, {
  label: '西峡县',
  value: 411323
}, {
  label: '镇平县',
  value: 411324
}, {
  label: '内乡县',
  value: 411325
}, {
  label: '淅川县',
  value: 411326
}, {
  label: '社旗县',
  value: 411327
}, {
  label: '唐河县',
  value: 411328
}, {
  label: '新野县',
  value: 411329
}, {
  label: '桐柏县',
  value: 411330
}, {
  label: '邓州市',
  value: 411381
}], [{
  label: '梁园区',
  value: 411402
}, {
  label: '睢阳区',
  value: 411403
}, {
  label: '民权县',
  value: 411421
}, {
  label: '睢县',
  value: 411422
}, {
  label: '宁陵县',
  value: 411423
}, {
  label: '柘城县',
  value: 411424
}, {
  label: '虞城县',
  value: 411425
}, {
  label: '夏邑县',
  value: 411426
}, {
  label: '永城市',
  value: 411481
}], [{
  label: '浉河区',
  value: 411502
}, {
  label: '平桥区',
  value: 411503
}, {
  label: '罗山县',
  value: 411521
}, {
  label: '光山县',
  value: 411522
}, {
  label: '新县',
  value: 411523
}, {
  label: '商城县',
  value: 411524
}, {
  label: '固始县',
  value: 411525
}, {
  label: '潢川县',
  value: 411526
}, {
  label: '淮滨县',
  value: 411527
}, {
  label: '息县',
  value: 411528
}], [{
  label: '川汇区',
  value: 411602
}, {
  label: '扶沟县',
  value: 411621
}, {
  label: '西华县',
  value: 411622
}, {
  label: '商水县',
  value: 411623
}, {
  label: '沈丘县',
  value: 411624
}, {
  label: '郸城县',
  value: 411625
}, {
  label: '淮阳县',
  value: 411626
}, {
  label: '太康县',
  value: 411627
}, {
  label: '鹿邑县',
  value: 411628
}, {
  label: '项城市',
  value: 411681
}, {
  label: '东新区',
  value: 411682
}, {
  label: '经济开发区',
  value: 411683
}], [{
  label: '驿城区',
  value: 411702
}, {
  label: '西平县',
  value: 411721
}, {
  label: '上蔡县',
  value: 411722
}, {
  label: '平舆县',
  value: 411723
}, {
  label: '正阳县',
  value: 411724
}, {
  label: '确山县',
  value: 411725
}, {
  label: '泌阳县',
  value: 411726
}, {
  label: '汝南县',
  value: 411727
}, {
  label: '遂平县',
  value: 411728
}, {
  label: '新蔡县',
  value: 411729
}, {
  label: '经济开发区',
  value: 411771
}], [{
  label: '沁园街道',
  value: 419011
}, {
  label: '济水街道',
  value: 419012
}, {
  label: '北海街道',
  value: 419013
}, {
  label: '天坛街道',
  value: 419014
}, {
  label: '玉泉街道',
  value: 419015
}, {
  label: '克井镇',
  value: 419016
}, {
  label: '五龙口镇',
  value: 419017
}, {
  label: '梨林镇',
  value: 419018
}, {
  label: '轵城镇',
  value: 419019
}, {
  label: '承留镇',
  value: 419020
}, {
  label: '坡头镇',
  value: 419021
}, {
  label: '大峪镇',
  value: 419022
}, {
  label: '邵原镇',
  value: 419023
}, {
  label: '思礼镇',
  value: 419024
}, {
  label: '王屋镇',
  value: 419025
}, {
  label: '下冶镇',
  value: 419026
}]], [[{
  label: '江岸区',
  value: 420102
}, {
  label: '江汉区',
  value: 420103
}, {
  label: '硚口区',
  value: 420104
}, {
  label: '汉阳区',
  value: 420105
}, {
  label: '武昌区',
  value: 420106
}, {
  label: '青山区',
  value: 420107
}, {
  label: '洪山区',
  value: 420111
}, {
  label: '东西湖区',
  value: 420112
}, {
  label: '汉南区',
  value: 420113
}, {
  label: '蔡甸区',
  value: 420114
}, {
  label: '江夏区',
  value: 420115
}, {
  label: '黄陂区',
  value: 420116
}, {
  label: '新洲区',
  value: 420117
}, {
  label: '经济技术开发区',
  value: 420118
}], [{
  label: '黄石港区',
  value: 420202
}, {
  label: '西塞山区',
  value: 420203
}, {
  label: '下陆区',
  value: 420204
}, {
  label: '铁山区',
  value: 420205
}, {
  label: '阳新县',
  value: 420222
}, {
  label: '大冶市',
  value: 420281
}, {
  label: '经济开发区',
  value: 420282
}], [{
  label: '茅箭区',
  value: 420302
}, {
  label: '张湾区',
  value: 420303
}, {
  label: '郧阳区',
  value: 420304
}, {
  label: '郧西县',
  value: 420322
}, {
  label: '竹山县',
  value: 420323
}, {
  label: '竹溪县',
  value: 420324
}, {
  label: '房县',
  value: 420325
}, {
  label: '丹江口市',
  value: 420381
}], [{
  label: '西陵区',
  value: 420502
}, {
  label: '伍家岗区',
  value: 420503
}, {
  label: '点军区',
  value: 420504
}, {
  label: '猇亭区',
  value: 420505
}, {
  label: '夷陵区',
  value: 420506
}, {
  label: '远安县',
  value: 420525
}, {
  label: '兴山县',
  value: 420526
}, {
  label: '秭归县',
  value: 420527
}, {
  label: '长阳土家族自治县',
  value: 420528
}, {
  label: '五峰土家族自治县',
  value: 420529
}, {
  label: '宜都市',
  value: 420581
}, {
  label: '当阳市',
  value: 420582
}, {
  label: '枝江市',
  value: 420583
}, {
  label: '宜昌新区',
  value: 420584
}], [{
  label: '襄城区',
  value: 420602
}, {
  label: '樊城区',
  value: 420606
}, {
  label: '襄州区',
  value: 420607
}, {
  label: '南漳县',
  value: 420624
}, {
  label: '谷城县',
  value: 420625
}, {
  label: '保康县',
  value: 420626
}, {
  label: '老河口市',
  value: 420682
}, {
  label: '枣阳市',
  value: 420683
}, {
  label: '宜城市',
  value: 420684
}, {
  label: '高新区',
  value: 420685
}, {
  label: '经济开发区',
  value: 420686
}], [{
  label: '梁子湖区',
  value: 420702
}, {
  label: '华容区',
  value: 420703
}, {
  label: '鄂城区',
  value: 420704
}], [{
  label: '东宝区',
  value: 420802
}, {
  label: '掇刀区',
  value: 420804
}, {
  label: '沙洋县',
  value: 420822
}, {
  label: '钟祥市',
  value: 420881
}, {
  label: '京山市',
  value: 420882
}], [{
  label: '孝南区',
  value: 420902
}, {
  label: '孝昌县',
  value: 420921
}, {
  label: '大悟县',
  value: 420922
}, {
  label: '云梦县',
  value: 420923
}, {
  label: '应城市',
  value: 420981
}, {
  label: '安陆市',
  value: 420982
}, {
  label: '汉川市',
  value: 420984
}], [{
  label: '沙市区',
  value: 421002
}, {
  label: '荆州区',
  value: 421003
}, {
  label: '公安县',
  value: 421022
}, {
  label: '监利县',
  value: 421023
}, {
  label: '江陵县',
  value: 421024
}, {
  label: '石首市',
  value: 421081
}, {
  label: '洪湖市',
  value: 421083
}, {
  label: '松滋市',
  value: 421087
}], [{
  label: '黄州区',
  value: 421102
}, {
  label: '团风县',
  value: 421121
}, {
  label: '红安县',
  value: 421122
}, {
  label: '罗田县',
  value: 421123
}, {
  label: '英山县',
  value: 421124
}, {
  label: '浠水县',
  value: 421125
}, {
  label: '蕲春县',
  value: 421126
}, {
  label: '黄梅县',
  value: 421127
}, {
  label: '麻城市',
  value: 421181
}, {
  label: '武穴市',
  value: 421182
}, {
  label: '城东新区',
  value: 421183
}], [{
  label: '咸安区',
  value: 421202
}, {
  label: '嘉鱼县',
  value: 421221
}, {
  label: '通城县',
  value: 421222
}, {
  label: '崇阳县',
  value: 421223
}, {
  label: '通山县',
  value: 421224
}, {
  label: '赤壁市',
  value: 421281
}], [{
  label: '曾都区',
  value: 421303
}, {
  label: '随县',
  value: 421321
}, {
  label: '广水市',
  value: 421381
}], [{
  label: '恩施市',
  value: 422801
}, {
  label: '利川市',
  value: 422802
}, {
  label: '建始县',
  value: 422822
}, {
  label: '巴东县',
  value: 422823
}, {
  label: '宣恩县',
  value: 422825
}, {
  label: '咸丰县',
  value: 422826
}, {
  label: '来凤县',
  value: 422827
}, {
  label: '鹤峰县',
  value: 422828
}], [{
  label: '沙嘴街道',
  value: 429401
}, {
  label: '干河街道',
  value: 429402
}, {
  label: '龙华山街道',
  value: 429403
}, {
  label: '郑场镇',
  value: 429404
}, {
  label: '毛嘴镇',
  value: 429405
}, {
  label: '豆河镇',
  value: 429406
}, {
  label: '三伏潭镇',
  value: 429407
}, {
  label: '胡场镇',
  value: 429408
}, {
  label: '长埫口镇',
  value: 429409
}, {
  label: '西流河镇',
  value: 429410
}, {
  label: '沙湖镇',
  value: 429411
}, {
  label: '杨林尾镇',
  value: 429412
}, {
  label: '彭场镇',
  value: 429413
}, {
  label: '张沟镇',
  value: 429414
}, {
  label: '郭河镇',
  value: 429415
}, {
  label: '沔城镇',
  value: 429416
}, {
  label: '通海口镇',
  value: 429417
}, {
  label: '陈场镇',
  value: 429418
}, {
  label: '高新区',
  value: 429419
}, {
  label: '经济开发区',
  value: 429420
}, {
  label: '工业园区',
  value: 429421
}, {
  label: '九合垸原种场',
  value: 429422
}, {
  label: '沙湖原种场',
  value: 429423
}, {
  label: '排湖渔场',
  value: 429424
}, {
  label: '五湖渔场',
  value: 429425
}, {
  label: '赵西垸林场',
  value: 429426
}, {
  label: '刘家垸林场',
  value: 429427
}, {
  label: '畜禽良种场',
  value: 429428
}], [{
  label: '园林',
  value: 429501
}, {
  label: '广华',
  value: 429502
}, {
  label: '杨市',
  value: 429503
}, {
  label: '周矶',
  value: 429504
}, {
  label: '泽口',
  value: 429505
}, {
  label: '泰丰',
  value: 429506
}, {
  label: '高场',
  value: 429507
}, {
  label: '熊口镇',
  value: 429508
}, {
  label: '竹根滩镇',
  value: 429509
}, {
  label: '高石碑镇',
  value: 429510
}, {
  label: '老新镇',
  value: 429511
}, {
  label: '王场镇',
  value: 429512
}, {
  label: '渔洋镇',
  value: 429513
}, {
  label: '龙湾镇',
  value: 429514
}, {
  label: '浩口镇',
  value: 429515
}, {
  label: '积玉口镇',
  value: 429516
}, {
  label: '张金镇',
  value: 429517
}, {
  label: '白鹭湖管理区',
  value: 429518
}, {
  label: '总口管理区',
  value: 429519
}, {
  label: '熊口农场管理区',
  value: 429520
}, {
  label: '运粮湖管理区',
  value: 429521
}, {
  label: '后湖管理区',
  value: 429522
}, {
  label: '周矶管理区',
  value: 429523
}, {
  label: '经济开发区',
  value: 429524
}], [{
  label: '竟陵街道',
  value: 429601
}, {
  label: '杨林街道',
  value: 429602
}, {
  label: '佛子山镇',
  value: 429603
}, {
  label: '多宝镇',
  value: 429604
}, {
  label: '拖市镇',
  value: 429605
}, {
  label: '张港镇',
  value: 429606
}, {
  label: '蒋场镇',
  value: 429607
}, {
  label: '汪场镇',
  value: 429608
}, {
  label: '渔薪镇',
  value: 429609
}, {
  label: '黄潭镇',
  value: 429610
}, {
  label: '岳口镇',
  value: 429611
}, {
  label: '横林镇',
  value: 429612
}, {
  label: '彭市镇',
  value: 429613
}, {
  label: '麻洋镇',
  value: 429614
}, {
  label: '多祥镇',
  value: 429615
}, {
  label: '干驿镇',
  value: 429616
}, {
  label: '马湾镇',
  value: 429617
}, {
  label: '卢市镇',
  value: 429618
}, {
  label: '小板镇',
  value: 429619
}, {
  label: '九真镇',
  value: 429620
}, {
  label: '皂市镇',
  value: 429621
}, {
  label: '胡市镇',
  value: 429622
}, {
  label: '石河镇',
  value: 429623
}, {
  label: '净潭乡',
  value: 429624
}, {
  label: '蒋湖农场',
  value: 429625
}, {
  label: '白茅湖农场',
  value: 429626
}, {
  label: '沉湖林业科技示范区',
  value: 429627
}, {
  label: '天门工业园',
  value: 429628
}, {
  label: '侨乡街道开发区',
  value: 429629
}], [{
  label: '松柏镇',
  value: 429022
}, {
  label: '阳日镇',
  value: 429023
}, {
  label: '木鱼镇',
  value: 429024
}, {
  label: '红坪镇',
  value: 429025
}, {
  label: '新华镇',
  value: 429026
}, {
  label: '大九湖',
  value: 429027
}, {
  label: '宋洛',
  value: 429028
}, {
  label: '下谷坪乡',
  value: 429029
}]], [[{
  label: '芙蓉区',
  value: 430102
}, {
  label: '天心区',
  value: 430103
}, {
  label: '岳麓区',
  value: 430104
}, {
  label: '开福区',
  value: 430105
}, {
  label: '雨花区',
  value: 430111
}, {
  label: '望城区',
  value: 430112
}, {
  label: '长沙县',
  value: 430121
}, {
  label: '浏阳市',
  value: 430181
}, {
  label: '宁乡市',
  value: 430182
}, {
  label: '湘江新区',
  value: 430183
}], [{
  label: '荷塘区',
  value: 430202
}, {
  label: '芦淞区',
  value: 430203
}, {
  label: '石峰区',
  value: 430204
}, {
  label: '天元区',
  value: 430211
}, {
  label: '渌口区',
  value: 430212
}, {
  label: '攸县',
  value: 430223
}, {
  label: '茶陵县',
  value: 430224
}, {
  label: '炎陵县',
  value: 430225
}, {
  label: '醴陵市',
  value: 430281
}], [{
  label: '雨湖区',
  value: 430302
}, {
  label: '岳塘区',
  value: 430304
}, {
  label: '湘潭县',
  value: 430321
}, {
  label: '湘乡市',
  value: 430381
}, {
  label: '韶山市',
  value: 430382
}, {
  label: '高新区',
  value: 430383
}], [{
  label: '珠晖区',
  value: 430405
}, {
  label: '雁峰区',
  value: 430406
}, {
  label: '石鼓区',
  value: 430407
}, {
  label: '蒸湘区',
  value: 430408
}, {
  label: '南岳区',
  value: 430412
}, {
  label: '衡阳县',
  value: 430421
}, {
  label: '衡南县',
  value: 430422
}, {
  label: '衡山县',
  value: 430423
}, {
  label: '衡东县',
  value: 430424
}, {
  label: '祁东县',
  value: 430426
}, {
  label: '耒阳市',
  value: 430481
}, {
  label: '常宁市',
  value: 430482
}, {
  label: '高新区',
  value: 430483
}, {
  label: '综合保税区',
  value: 430484
}], [{
  label: '双清区',
  value: 430502
}, {
  label: '大祥区',
  value: 430503
}, {
  label: '北塔区',
  value: 430511
}, {
  label: '邵东县',
  value: 430521
}, {
  label: '新邵县',
  value: 430522
}, {
  label: '邵阳县',
  value: 430523
}, {
  label: '隆回县',
  value: 430524
}, {
  label: '洞口县',
  value: 430525
}, {
  label: '绥宁县',
  value: 430527
}, {
  label: '新宁县',
  value: 430528
}, {
  label: '城步苗族自治县',
  value: 430529
}, {
  label: '武冈市',
  value: 430581
}], [{
  label: '岳阳楼区',
  value: 430602
}, {
  label: '云溪区',
  value: 430603
}, {
  label: '君山区',
  value: 430611
}, {
  label: '岳阳县',
  value: 430621
}, {
  label: '华容县',
  value: 430623
}, {
  label: '湘阴县',
  value: 430624
}, {
  label: '平江县',
  value: 430626
}, {
  label: '汨罗市',
  value: 430681
}, {
  label: '临湘市',
  value: 430682
}], [{
  label: '武陵区',
  value: 430702
}, {
  label: '鼎城区',
  value: 430703
}, {
  label: '安乡县',
  value: 430721
}, {
  label: '汉寿县',
  value: 430722
}, {
  label: '澧县',
  value: 430723
}, {
  label: '临澧县',
  value: 430724
}, {
  label: '桃源县',
  value: 430725
}, {
  label: '石门县',
  value: 430726
}, {
  label: '津市市',
  value: 430781
}], [{
  label: '永定区',
  value: 430802
}, {
  label: '武陵源区',
  value: 430811
}, {
  label: '慈利县',
  value: 430821
}, {
  label: '桑植县',
  value: 430822
}], [{
  label: '资阳区',
  value: 430902
}, {
  label: '赫山区',
  value: 430903
}, {
  label: '南县',
  value: 430921
}, {
  label: '桃江县',
  value: 430922
}, {
  label: '安化县',
  value: 430923
}, {
  label: '沅江市',
  value: 430981
}], [{
  label: '北湖区',
  value: 431002
}, {
  label: '苏仙区',
  value: 431003
}, {
  label: '桂阳县',
  value: 431021
}, {
  label: '宜章县',
  value: 431022
}, {
  label: '永兴县',
  value: 431023
}, {
  label: '嘉禾县',
  value: 431024
}, {
  label: '临武县',
  value: 431025
}, {
  label: '汝城县',
  value: 431026
}, {
  label: '桂东县',
  value: 431027
}, {
  label: '安仁县',
  value: 431028
}, {
  label: '资兴市',
  value: 431081
}], [{
  label: '零陵区',
  value: 431102
}, {
  label: '冷水滩区',
  value: 431103
}, {
  label: '祁阳县',
  value: 431121
}, {
  label: '东安县',
  value: 431122
}, {
  label: '双牌县',
  value: 431123
}, {
  label: '道县',
  value: 431124
}, {
  label: '江永县',
  value: 431125
}, {
  label: '宁远县',
  value: 431126
}, {
  label: '蓝山县',
  value: 431127
}, {
  label: '新田县',
  value: 431128
}, {
  label: '江华瑶族自治县',
  value: 431129
}], [{
  label: '鹤城区',
  value: 431202
}, {
  label: '中方县',
  value: 431221
}, {
  label: '沅陵县',
  value: 431222
}, {
  label: '辰溪县',
  value: 431223
}, {
  label: '溆浦县',
  value: 431224
}, {
  label: '会同县',
  value: 431225
}, {
  label: '麻阳苗族自治县',
  value: 431226
}, {
  label: '新晃侗族自治县',
  value: 431227
}, {
  label: '芷江侗族自治县',
  value: 431228
}, {
  label: '靖州苗族侗族自治县',
  value: 431229
}, {
  label: '通道侗族自治县',
  value: 431230
}, {
  label: '洪江市',
  value: 431281
}], [{
  label: '娄星区',
  value: 431302
}, {
  label: '双峰县',
  value: 431321
}, {
  label: '新化县',
  value: 431322
}, {
  label: '冷水江市',
  value: 431381
}, {
  label: '涟源市',
  value: 431382
}], [{
  label: '吉首市',
  value: 433101
}, {
  label: '泸溪县',
  value: 433122
}, {
  label: '凤凰县',
  value: 433123
}, {
  label: '花垣县',
  value: 433124
}, {
  label: '保靖县',
  value: 433125
}, {
  label: '古丈县',
  value: 433126
}, {
  label: '永顺县',
  value: 433127
}, {
  label: '龙山县',
  value: 433130
}]], [[{
  label: '荔湾区',
  value: 440103
}, {
  label: '越秀区',
  value: 440104
}, {
  label: '海珠区',
  value: 440105
}, {
  label: '天河区',
  value: 440106
}, {
  label: '白云区',
  value: 440111
}, {
  label: '黄埔区',
  value: 440112
}, {
  label: '番禺区',
  value: 440113
}, {
  label: '花都区',
  value: 440114
}, {
  label: '南沙区',
  value: 440115
}, {
  label: '从化区',
  value: 440117
}, {
  label: '增城区',
  value: 440118
}], [{
  label: '武江区',
  value: 440203
}, {
  label: '浈江区',
  value: 440204
}, {
  label: '曲江区',
  value: 440205
}, {
  label: '始兴县',
  value: 440222
}, {
  label: '仁化县',
  value: 440224
}, {
  label: '翁源县',
  value: 440229
}, {
  label: '乳源瑶族自治县',
  value: 440232
}, {
  label: '新丰县',
  value: 440233
}, {
  label: '乐昌市',
  value: 440281
}, {
  label: '南雄市',
  value: 440282
}], [{
  label: '罗湖区',
  value: 440303
}, {
  label: '福田区',
  value: 440304
}, {
  label: '南山区',
  value: 440305
}, {
  label: '宝安区',
  value: 440306
}, {
  label: '龙岗区',
  value: 440307
}, {
  label: '盐田区',
  value: 440308
}, {
  label: '龙华区',
  value: 440309
}, {
  label: '坪山区',
  value: 440310
}, {
  label: '光明区',
  value: 440311
}, {
  label: '大鹏新区',
  value: 440312
}], [{
  label: '香洲区',
  value: 440402
}, {
  label: '斗门区',
  value: 440403
}, {
  label: '金湾区',
  value: 440404
}, {
  label: '横琴新区',
  value: 440405
}, {
  label: '经济开发区',
  value: 440406
}], [{
  label: '龙湖区',
  value: 440507
}, {
  label: '金平区',
  value: 440511
}, {
  label: '濠江区',
  value: 440512
}, {
  label: '潮阳区',
  value: 440513
}, {
  label: '潮南区',
  value: 440514
}, {
  label: '澄海区',
  value: 440515
}, {
  label: '南澳县',
  value: 440523
}], [{
  label: '禅城区',
  value: 440604
}, {
  label: '南海区',
  value: 440605
}, {
  label: '顺德区',
  value: 440606
}, {
  label: '三水区',
  value: 440607
}, {
  label: '高明区',
  value: 440608
}], [{
  label: '蓬江区',
  value: 440703
}, {
  label: '江海区',
  value: 440704
}, {
  label: '新会区',
  value: 440705
}, {
  label: '台山市',
  value: 440781
}, {
  label: '开平市',
  value: 440783
}, {
  label: '鹤山市',
  value: 440784
}, {
  label: '恩平市',
  value: 440785
}], [{
  label: '赤坎区',
  value: 440802
}, {
  label: '霞山区',
  value: 440803
}, {
  label: '坡头区',
  value: 440804
}, {
  label: '麻章区',
  value: 440811
}, {
  label: '遂溪县',
  value: 440823
}, {
  label: '徐闻县',
  value: 440825
}, {
  label: '廉江市',
  value: 440881
}, {
  label: '雷州市',
  value: 440882
}, {
  label: '吴川市',
  value: 440883
}, {
  label: '经济开发区',
  value: 440884
}], [{
  label: '茂南区',
  value: 440902
}, {
  label: '电白区',
  value: 440904
}, {
  label: '高州市',
  value: 440981
}, {
  label: '化州市',
  value: 440982
}, {
  label: '信宜市',
  value: 440983
}], [{
  label: '端州区',
  value: 441202
}, {
  label: '鼎湖区',
  value: 441203
}, {
  label: '高要区',
  value: 441204
}, {
  label: '广宁县',
  value: 441223
}, {
  label: '怀集县',
  value: 441224
}, {
  label: '封开县',
  value: 441225
}, {
  label: '德庆县',
  value: 441226
}, {
  label: '四会市',
  value: 441284
}], [{
  label: '惠城区',
  value: 441302
}, {
  label: '惠阳区',
  value: 441303
}, {
  label: '博罗县',
  value: 441322
}, {
  label: '惠东县',
  value: 441323
}, {
  label: '龙门县',
  value: 441324
}, {
  label: '大亚湾区',
  value: 441325
}], [{
  label: '梅江区',
  value: 441402
}, {
  label: '梅县区',
  value: 441403
}, {
  label: '大埔县',
  value: 441422
}, {
  label: '丰顺县',
  value: 441423
}, {
  label: '五华县',
  value: 441424
}, {
  label: '平远县',
  value: 441426
}, {
  label: '蕉岭县',
  value: 441427
}, {
  label: '兴宁市',
  value: 441481
}], [{
  label: '城区',
  value: 441502
}, {
  label: '海丰县',
  value: 441521
}, {
  label: '陆河县',
  value: 441523
}, {
  label: '陆丰市',
  value: 441581
}], [{
  label: '源城区',
  value: 441602
}, {
  label: '紫金县',
  value: 441621
}, {
  label: '龙川县',
  value: 441622
}, {
  label: '连平县',
  value: 441623
}, {
  label: '和平县',
  value: 441624
}, {
  label: '东源县',
  value: 441625
}], [{
  label: '江城区',
  value: 441702
}, {
  label: '阳东区',
  value: 441704
}, {
  label: '阳西县',
  value: 441721
}, {
  label: '阳春市',
  value: 441781
}], [{
  label: '清城区',
  value: 441802
}, {
  label: '清新区',
  value: 441803
}, {
  label: '佛冈县',
  value: 441821
}, {
  label: '阳山县',
  value: 441823
}, {
  label: '连山壮族瑶族自治县',
  value: 441825
}, {
  label: '连南瑶族自治县',
  value: 441826
}, {
  label: '英德市',
  value: 441881
}, {
  label: '连州市',
  value: 441882
}], [{
  label: '莞城区',
  value: 441901
}, {
  label: '南城区',
  value: 441902
}, {
  label: '东城区',
  value: 441903
}, {
  label: '万江区',
  value: 441904
}, {
  label: '石碣镇',
  value: 441905
}, {
  label: '石龙镇',
  value: 441906
}, {
  label: '茶山镇',
  value: 441907
}, {
  label: '石排镇',
  value: 441908
}, {
  label: '企石镇',
  value: 441909
}, {
  label: '横沥镇',
  value: 441910
}, {
  label: '桥头镇',
  value: 441911
}, {
  label: '谢岗镇',
  value: 441912
}, {
  label: '东坑镇',
  value: 441913
}, {
  label: '常平镇',
  value: 441914
}, {
  label: '寮步镇',
  value: 441915
}, {
  label: '大朗镇',
  value: 441916
}, {
  label: '麻涌镇',
  value: 441917
}, {
  label: '中堂镇',
  value: 441918
}, {
  label: '高埗镇',
  value: 441919
}, {
  label: '樟木头镇',
  value: 441920
}, {
  label: '大岭山镇',
  value: 441921
}, {
  label: '望牛墩镇',
  value: 441922
}, {
  label: '黄江镇',
  value: 441923
}, {
  label: '洪梅镇',
  value: 441924
}, {
  label: '清溪镇',
  value: 441925
}, {
  label: '沙田镇',
  value: 441926
}, {
  label: '道滘镇',
  value: 441927
}, {
  label: '塘厦镇',
  value: 441928
}, {
  label: '虎门镇',
  value: 441929
}, {
  label: '厚街镇',
  value: 441930
}, {
  label: '凤岗镇',
  value: 441931
}, {
  label: '长安镇',
  value: 441932
}, {
  label: '松山湖高新区',
  value: 441933
}], [{
  label: '石岐区',
  value: 442001
}, {
  label: '东区',
  value: 442002
}, {
  label: '西区',
  value: 442003
}, {
  label: '南区',
  value: 442004
}, {
  label: '五桂山区',
  value: 442005
}, {
  label: '火炬开发区',
  value: 442006
}, {
  label: '黄圃镇',
  value: 442007
}, {
  label: '南头镇',
  value: 442008
}, {
  label: '东凤镇',
  value: 442009
}, {
  label: '阜沙镇',
  value: 442010
}, {
  label: '小榄镇',
  value: 442011
}, {
  label: '东升镇',
  value: 442012
}, {
  label: '古镇镇',
  value: 442013
}, {
  label: '横栏镇',
  value: 442014
}, {
  label: '三角镇',
  value: 442015
}, {
  label: '民众镇',
  value: 442016
}, {
  label: '南朗镇',
  value: 442017
}, {
  label: '港口镇',
  value: 442018
}, {
  label: '大涌镇',
  value: 442019
}, {
  label: '沙溪镇',
  value: 442020
}, {
  label: '三乡镇',
  value: 442021
}, {
  label: '板芙镇',
  value: 442022
}, {
  label: '神湾镇',
  value: 442023
}, {
  label: '坦洲镇',
  value: 442024
}], [{
  label: '湘桥区',
  value: 445102
}, {
  label: '潮安区',
  value: 445103
}, {
  label: '饶平县',
  value: 445122
}], [{
  label: '榕城区',
  value: 445202
}, {
  label: '揭东区',
  value: 445203
}, {
  label: '揭西县',
  value: 445222
}, {
  label: '惠来县',
  value: 445224
}, {
  label: '普宁市',
  value: 445281
}], [{
  label: '云城区',
  value: 445302
}, {
  label: '云安区',
  value: 445303
}, {
  label: '新兴县',
  value: 445321
}, {
  label: '郁南县',
  value: 445322
}, {
  label: '罗定市',
  value: 445381
}]], [[{
  label: '兴宁区',
  value: 450102
}, {
  label: '青秀区',
  value: 450103
}, {
  label: '江南区',
  value: 450105
}, {
  label: '西乡塘区',
  value: 450107
}, {
  label: '良庆区',
  value: 450108
}, {
  label: '邕宁区',
  value: 450109
}, {
  label: '武鸣区',
  value: 450110
}, {
  label: '隆安县',
  value: 450123
}, {
  label: '马山县',
  value: 450124
}, {
  label: '上林县',
  value: 450125
}, {
  label: '宾阳县',
  value: 450126
}, {
  label: '横县',
  value: 450127
}, {
  label: '埌东新区',
  value: 450128
}], [{
  label: '城中区',
  value: 450202
}, {
  label: '鱼峰区',
  value: 450203
}, {
  label: '柳南区',
  value: 450204
}, {
  label: '柳北区',
  value: 450205
}, {
  label: '柳江区',
  value: 450206
}, {
  label: '柳城县',
  value: 450222
}, {
  label: '鹿寨县',
  value: 450223
}, {
  label: '融安县',
  value: 450224
}, {
  label: '融水苗族自治县',
  value: 450225
}, {
  label: '三江侗族自治县',
  value: 450226
}, {
  label: '柳东新区',
  value: 450227
}], [{
  label: '秀峰区',
  value: 450302
}, {
  label: '叠彩区',
  value: 450303
}, {
  label: '象山区',
  value: 450304
}, {
  label: '七星区',
  value: 450305
}, {
  label: '雁山区',
  value: 450311
}, {
  label: '临桂区',
  value: 450312
}, {
  label: '阳朔县',
  value: 450321
}, {
  label: '灵川县',
  value: 450323
}, {
  label: '全州县',
  value: 450324
}, {
  label: '兴安县',
  value: 450325
}, {
  label: '永福县',
  value: 450326
}, {
  label: '灌阳县',
  value: 450327
}, {
  label: '龙胜各族自治县',
  value: 450328
}, {
  label: '资源县',
  value: 450329
}, {
  label: '平乐县',
  value: 450330
}, {
  label: '恭城瑶族自治县',
  value: 450332
}, {
  label: '荔浦市',
  value: 450381
}], [{
  label: '万秀区',
  value: 450403
}, {
  label: '长洲区',
  value: 450405
}, {
  label: '龙圩区',
  value: 450406
}, {
  label: '苍梧县',
  value: 450421
}, {
  label: '藤县',
  value: 450422
}, {
  label: '蒙山县',
  value: 450423
}, {
  label: '岑溪市',
  value: 450481
}], [{
  label: '海城区',
  value: 450502
}, {
  label: '银海区',
  value: 450503
}, {
  label: '铁山港区',
  value: 450512
}, {
  label: '合浦县',
  value: 450521
}], [{
  label: '港口区',
  value: 450602
}, {
  label: '防城区',
  value: 450603
}, {
  label: '上思县',
  value: 450621
}, {
  label: '东兴市',
  value: 450681
}], [{
  label: '钦南区',
  value: 450702
}, {
  label: '钦北区',
  value: 450703
}, {
  label: '灵山县',
  value: 450721
}, {
  label: '浦北县',
  value: 450722
}], [{
  label: '港北区',
  value: 450802
}, {
  label: '港南区',
  value: 450803
}, {
  label: '覃塘区',
  value: 450804
}, {
  label: '平南县',
  value: 450821
}, {
  label: '桂平市',
  value: 450881
}], [{
  label: '玉州区',
  value: 450902
}, {
  label: '福绵区',
  value: 450903
}, {
  label: '容县',
  value: 450921
}, {
  label: '陆川县',
  value: 450922
}, {
  label: '博白县',
  value: 450923
}, {
  label: '兴业县',
  value: 450924
}, {
  label: '北流市',
  value: 450981
}, {
  label: '玉东新区',
  value: 450982
}, {
  label: '高新区',
  value: 450983
}], [{
  label: '右江区',
  value: 451002
}, {
  label: '田阳县',
  value: 451021
}, {
  label: '田东县',
  value: 451022
}, {
  label: '平果县',
  value: 451023
}, {
  label: '德保县',
  value: 451024
}, {
  label: '那坡县',
  value: 451026
}, {
  label: '凌云县',
  value: 451027
}, {
  label: '乐业县',
  value: 451028
}, {
  label: '田林县',
  value: 451029
}, {
  label: '西林县',
  value: 451030
}, {
  label: '隆林各族自治县',
  value: 451031
}, {
  label: '靖西市',
  value: 451081
}], [{
  label: '八步区',
  value: 451102
}, {
  label: '平桂区',
  value: 451103
}, {
  label: '昭平县',
  value: 451121
}, {
  label: '钟山县',
  value: 451122
}, {
  label: '富川瑶族自治县',
  value: 451123
}], [{
  label: '金城江区',
  value: 451202
}, {
  label: '宜州区',
  value: 451203
}, {
  label: '南丹县',
  value: 451221
}, {
  label: '天峨县',
  value: 451222
}, {
  label: '凤山县',
  value: 451223
}, {
  label: '东兰县',
  value: 451224
}, {
  label: '罗城仫佬族自治县',
  value: 451225
}, {
  label: '环江毛南族自治县',
  value: 451226
}, {
  label: '巴马瑶族自治县',
  value: 451227
}, {
  label: '都安瑶族自治县',
  value: 451228
}, {
  label: '大化瑶族自治县',
  value: 451229
}], [{
  label: '兴宾区',
  value: 451302
}, {
  label: '忻城县',
  value: 451321
}, {
  label: '象州县',
  value: 451322
}, {
  label: '武宣县',
  value: 451323
}, {
  label: '金秀瑶族自治县',
  value: 451324
}, {
  label: '合山市',
  value: 451381
}], [{
  label: '江州区',
  value: 451402
}, {
  label: '扶绥县',
  value: 451421
}, {
  label: '宁明县',
  value: 451422
}, {
  label: '龙州县',
  value: 451423
}, {
  label: '大新县',
  value: 451424
}, {
  label: '天等县',
  value: 451425
}, {
  label: '凭祥市',
  value: 451481
}]], [[{
  label: '秀英区',
  value: 460105
}, {
  label: '龙华区',
  value: 460106
}, {
  label: '琼山区',
  value: 460107
}, {
  label: '美兰区',
  value: 460108
}, {
  label: '江东新区',
  value: 460109
}], [{
  label: '海棠区',
  value: 460202
}, {
  label: '吉阳区',
  value: 460203
}, {
  label: '天涯区',
  value: 460204
}, {
  label: '崖州区',
  value: 460205
}], [{
  label: '西沙群岛',
  value: 460321
}, {
  label: '南沙群岛',
  value: 460322
}, {
  label: '中沙群岛',
  value: 460323
}], [{
  label: '洋浦经济开发区',
  value: 460401
}, {
  label: '那大镇',
  value: 460402
}, {
  label: '南丰镇',
  value: 460403
}, {
  label: '雅星镇',
  value: 460404
}, {
  label: '和庆镇',
  value: 460405
}, {
  label: '大成镇',
  value: 460406
}, {
  label: '新州镇',
  value: 460407
}, {
  label: '光村镇',
  value: 460408
}, {
  label: '东成镇',
  value: 460409
}, {
  label: '中和镇',
  value: 460410
}, {
  label: '峨蔓镇',
  value: 460411
}, {
  label: '兰洋镇',
  value: 460412
}, {
  label: '王五镇',
  value: 460413
}, {
  label: '排浦镇',
  value: 460414
}, {
  label: '海头镇',
  value: 460415
}, {
  label: '木棠镇',
  value: 460416
}, {
  label: '白马井镇',
  value: 460417
}, {
  label: '三都镇',
  value: 460418
}, {
  label: '西培农场',
  value: 460419
}, {
  label: '西联农场',
  value: 460420
}, {
  label: '蓝洋农场',
  value: 460421
}, {
  label: '八一农场',
  value: 460422
}, {
  label: '西华农场',
  value: 460423
}, {
  label: '西庆农场',
  value: 460424
}, {
  label: '西流农场',
  value: 460425
}, {
  label: '新盈农场',
  value: 460426
}, {
  label: '龙山农场',
  value: 460427
}, {
  label: '红岭农场',
  value: 460428
}], [{
  label: '通什镇',
  value: 469101
}, {
  label: '南圣镇',
  value: 469102
}, {
  label: '毛阳镇',
  value: 469103
}, {
  label: '番阳镇',
  value: 469104
}, {
  label: '畅好乡',
  value: 469105
}, {
  label: '毛道乡',
  value: 469106
}, {
  label: '水满乡',
  value: 469107
}], [{
  label: '嘉积镇',
  value: 469201
}, {
  label: '万泉镇',
  value: 469202
}, {
  label: '石壁镇',
  value: 469203
}, {
  label: '中原镇',
  value: 469204
}, {
  label: '博鳌镇',
  value: 469205
}, {
  label: '阳江镇',
  value: 469206
}, {
  label: '龙江镇',
  value: 469207
}, {
  label: '潭门镇',
  value: 469208
}, {
  label: '塔洋镇',
  value: 469209
}, {
  label: '长坡镇',
  value: 469210
}, {
  label: '大路镇',
  value: 469211
}, {
  label: '会山镇',
  value: 469212
}, {
  label: '东太农场',
  value: 469213
}, {
  label: '东红农场',
  value: 469214
}, {
  label: '东升农场',
  value: 469215
}, {
  label: '南俸农场',
  value: 469216
}, {
  label: '彬村山华侨农场',
  value: 469217
}], [{
  label: '文城镇',
  value: 469501
}, {
  label: '重兴镇',
  value: 469502
}, {
  label: '蓬莱镇',
  value: 469503
}, {
  label: '会文镇',
  value: 469504
}, {
  label: '东路镇',
  value: 469505
}, {
  label: '潭牛镇',
  value: 469506
}, {
  label: '东阁镇',
  value: 469507
}, {
  label: '文教镇',
  value: 469508
}, {
  label: '东郊镇',
  value: 469509
}, {
  label: '龙楼镇',
  value: 469510
}, {
  label: '昌洒镇',
  value: 469511
}, {
  label: '翁田镇',
  value: 469512
}, {
  label: '抱罗镇',
  value: 469513
}, {
  label: '冯坡镇',
  value: 469514
}, {
  label: '锦山镇',
  value: 469515
}, {
  label: '铺前镇',
  value: 469516
}, {
  label: '公坡镇',
  value: 469517
}, {
  label: '迈号镇',
  value: 469518
}, {
  label: '清谰镇',
  value: 469519
}, {
  label: '南阳镇',
  value: 469520
}, {
  label: '新桥镇',
  value: 469521
}, {
  label: '头苑镇',
  value: 469522
}, {
  label: '宝芳乡',
  value: 469523
}, {
  label: '龙马乡',
  value: 469524
}, {
  label: '湖山乡',
  value: 469525
}, {
  label: '东路农场',
  value: 469526
}, {
  label: '南阳农场',
  value: 469527
}, {
  label: '罗豆农场',
  value: 469528
}], [{
  label: '万城镇',
  value: 469601
}, {
  label: '龙滚镇',
  value: 469602
}, {
  label: '和乐镇',
  value: 469603
}, {
  label: '后安镇',
  value: 469604
}, {
  label: '大茂镇',
  value: 469605
}, {
  label: '东澳镇',
  value: 469606
}, {
  label: '礼纪镇',
  value: 469607
}, {
  label: '长丰镇',
  value: 469608
}, {
  label: '山根镇',
  value: 469609
}, {
  label: '北大镇',
  value: 469610
}, {
  label: '南桥镇',
  value: 469611
}, {
  label: '三更罗镇',
  value: 469612
}, {
  label: '东岭农场',
  value: 469613
}, {
  label: '南林农场',
  value: 469614
}, {
  label: '东兴农场',
  value: 469615
}, {
  label: '东和农场',
  value: 469616
}, {
  label: '新中农场',
  value: 469617
}, {
  label: '兴隆华侨农场',
  value: 469618
}], [{
  label: '八所镇',
  value: 469701
}, {
  label: '东河镇',
  value: 469702
}, {
  label: '大田镇',
  value: 469703
}, {
  label: '感城镇',
  value: 469704
}, {
  label: '板桥镇',
  value: 469705
}, {
  label: '三家镇',
  value: 469706
}, {
  label: '四更镇',
  value: 469707
}, {
  label: '新龙镇',
  value: 469708
}, {
  label: '天安乡',
  value: 469709
}, {
  label: '江边乡',
  value: 469710
}, {
  label: '广坝农场',
  value: 469711
}, {
  label: '东方华侨农场',
  value: 469712
}], [{
  label: '定城镇',
  value: 469801
}, {
  label: '新竹镇',
  value: 469802
}, {
  label: '龙湖镇',
  value: 469803
}, {
  label: '雷鸣镇',
  value: 469804
}, {
  label: '龙门镇',
  value: 469805
}, {
  label: '龙河镇',
  value: 469806
}, {
  label: '岭口镇',
  value: 469807
}, {
  label: '翰林镇',
  value: 469808
}, {
  label: '富文镇',
  value: 469809
}, {
  label: '黄竹镇',
  value: 469810
}, {
  label: '金鸡岭农场',
  value: 469811
}, {
  label: '中瑞农场',
  value: 469812
}, {
  label: '南海农场',
  value: 469813
}, {
  label: '城区',
  value: 469814
}], [{
  label: '屯城镇',
  value: 469821
}, {
  label: '新兴镇',
  value: 469822
}, {
  label: '枫木镇',
  value: 469823
}, {
  label: '乌坡镇',
  value: 469824
}, {
  label: '南吕镇',
  value: 469825
}, {
  label: '南坤镇',
  value: 469826
}, {
  label: '坡心镇',
  value: 469827
}, {
  label: '西昌镇',
  value: 469828
}, {
  label: '中建农场',
  value: 469829
}, {
  label: '中坤农场',
  value: 469830
}, {
  label: '县城内',
  value: 469831
}], [{
  label: '金江镇',
  value: 469841
}, {
  label: '老城镇',
  value: 469842
}, {
  label: '瑞溪镇',
  value: 469843
}, {
  label: '永发镇',
  value: 469844
}, {
  label: '加乐镇',
  value: 469845
}, {
  label: '文儒镇',
  value: 469846
}, {
  label: '中兴镇',
  value: 469847
}, {
  label: '仁兴镇',
  value: 469848
}, {
  label: '福山镇',
  value: 469849
}, {
  label: '桥头镇',
  value: 469850
}, {
  label: '大丰镇',
  value: 469851
}, {
  label: '红光农场',
  value: 469852
}, {
  label: '西达农场',
  value: 469853
}, {
  label: '金安农场',
  value: 469854
}, {
  label: '城区',
  value: 469855
}], [{
  label: '临城镇',
  value: 469861
}, {
  label: '波莲镇',
  value: 469862
}, {
  label: '东英镇',
  value: 469863
}, {
  label: '博厚镇',
  value: 469864
}, {
  label: '皇桐镇',
  value: 469865
}, {
  label: '多文镇',
  value: 469866
}, {
  label: '和舍镇',
  value: 469867
}, {
  label: '南宝镇',
  value: 469868
}, {
  label: '新盈镇',
  value: 469869
}, {
  label: '调楼镇',
  value: 469870
}, {
  label: '加来镇',
  value: 469871
}, {
  label: '红华农场',
  value: 469872
}, {
  label: '加来农场',
  value: 469873
}, {
  label: '城区',
  value: 469874
}], [{
  label: '牙叉镇',
  value: 469881
}, {
  label: '七坊镇',
  value: 469882
}, {
  label: '邦溪镇',
  value: 469883
}, {
  label: '打安镇',
  value: 469884
}, {
  label: '细水乡',
  value: 469885
}, {
  label: '元门乡',
  value: 469886
}, {
  label: '南开乡',
  value: 469887
}, {
  label: '阜龙乡',
  value: 469888
}, {
  label: '青松乡',
  value: 469889
}, {
  label: '金波乡',
  value: 469890
}, {
  label: '荣邦乡',
  value: 469891
}, {
  label: '白沙农场',
  value: 469892
}, {
  label: '龙江农场',
  value: 469893
}, {
  label: '邦溪农场',
  value: 469894
}, {
  label: '城区',
  value: 469895
}], [{
  label: '石碌镇',
  value: 469901
}, {
  label: '叉河镇',
  value: 469902
}, {
  label: '十月田镇',
  value: 469903
}, {
  label: '乌烈镇',
  value: 469904
}, {
  label: '海尾镇',
  value: 469905
}, {
  label: '南罗镇',
  value: 469906
}, {
  label: '太坡镇',
  value: 469907
}, {
  label: '昌化镇',
  value: 469908
}, {
  label: '七叉镇',
  value: 469909
}, {
  label: '保平乡',
  value: 469910
}, {
  label: '昌城乡',
  value: 469911
}, {
  label: '王下乡',
  value: 469912
}, {
  label: '霸王岭林场',
  value: 469913
}, {
  label: '红林农场',
  value: 469914
}, {
  label: '城区',
  value: 469915
}], [{
  label: '抱由镇',
  value: 469920
}, {
  label: '万冲镇',
  value: 469921
}, {
  label: '大安镇',
  value: 469922
}, {
  label: '志仲镇',
  value: 469923
}, {
  label: '千家镇',
  value: 469924
}, {
  label: '九所镇',
  value: 469925
}, {
  label: '利国镇',
  value: 469926
}, {
  label: '黄流镇',
  value: 469927
}, {
  label: '佛罗镇',
  value: 469928
}, {
  label: '尖峰镇',
  value: 469929
}, {
  label: '莺歌海镇',
  value: 469930
}, {
  label: '乐中农场',
  value: 469931
}, {
  label: '山荣农场',
  value: 469932
}, {
  label: '乐光农场',
  value: 469933
}, {
  label: '报伦农场',
  value: 469934
}, {
  label: '福报农场',
  value: 469935
}, {
  label: '保国农场',
  value: 469936
}, {
  label: '保显农场',
  value: 469937
}, {
  label: '尖峰岭林业',
  value: 469938
}, {
  label: '莺歌海盐场',
  value: 469939
}, {
  label: '城区',
  value: 469940
}], [{
  label: '椰林镇',
  value: 469941
}, {
  label: '光坡镇',
  value: 469942
}, {
  label: '三才镇',
  value: 469943
}, {
  label: '英州镇',
  value: 469944
}, {
  label: '隆广镇',
  value: 469945
}, {
  label: '文罗镇',
  value: 469946
}, {
  label: '本号镇',
  value: 469947
}, {
  label: '新村镇',
  value: 469948
}, {
  label: '黎安镇',
  value: 469949
}, {
  label: '提蒙乡',
  value: 469950
}, {
  label: '群英乡',
  value: 469951
}, {
  label: '岭门农场',
  value: 469952
}, {
  label: '南平农场',
  value: 469953
}, {
  label: '城区',
  value: 469954
}], [{
  label: '保城镇',
  value: 469961
}, {
  label: '什玲镇',
  value: 469962
}, {
  label: '加茂镇',
  value: 469963
}, {
  label: '响水镇',
  value: 469964
}, {
  label: '新政镇',
  value: 469965
}, {
  label: '三道镇',
  value: 469966
}, {
  label: '六弓乡',
  value: 469967
}, {
  label: '南林乡',
  value: 469968
}, {
  label: '毛感乡',
  value: 469969
}, {
  label: '新星农场',
  value: 469970
}, {
  label: '金江农场',
  value: 469971
}, {
  label: '三道农场',
  value: 469972
}], [{
  label: '营根镇',
  value: 469981
}, {
  label: '湾岭镇',
  value: 469982
}, {
  label: '黎母山镇',
  value: 469983
}, {
  label: '和平镇',
  value: 469984
}, {
  label: '长征镇',
  value: 469985
}, {
  label: '红毛镇',
  value: 469986
}, {
  label: '中平镇',
  value: 469987
}, {
  label: '上安乡',
  value: 469988
}, {
  label: '什运乡',
  value: 469989
}, {
  label: '吊罗山乡',
  value: 469990
}, {
  label: '阳江农场',
  value: 469991
}, {
  label: '乌石农场',
  value: 469992
}, {
  label: '加钗农场',
  value: 469993
}, {
  label: '长征农场',
  value: 469994
}, {
  label: '城区',
  value: 469995
}]], [[{
  label: '万州区',
  value: 500101
}, {
  label: '涪陵区',
  value: 500102
}, {
  label: '渝中区',
  value: 500103
}, {
  label: '大渡口区',
  value: 500104
}, {
  label: '江北区',
  value: 500105
}, {
  label: '沙坪坝区',
  value: 500106
}, {
  label: '九龙坡区',
  value: 500107
}, {
  label: '南岸区',
  value: 500108
}, {
  label: '北碚区',
  value: 500109
}, {
  label: '綦江区',
  value: 500110
}, {
  label: '大足区',
  value: 500111
}, {
  label: '渝北区',
  value: 500112
}, {
  label: '巴南区',
  value: 500113
}, {
  label: '黔江区',
  value: 500114
}, {
  label: '长寿区',
  value: 500115
}, {
  label: '江津区',
  value: 500116
}, {
  label: '合川区',
  value: 500117
}, {
  label: '永川区',
  value: 500118
}, {
  label: '南川区',
  value: 500119
}, {
  label: '璧山区',
  value: 500120
}, {
  label: '铜梁区',
  value: 500151
}, {
  label: '潼南区',
  value: 500152
}, {
  label: '荣昌区',
  value: 500153
}, {
  label: '开州区',
  value: 500154
}, {
  label: '梁平区',
  value: 500155
}, {
  label: '武隆区',
  value: 500156
}, {
  label: '城口县',
  value: 500229
}, {
  label: '丰都县',
  value: 500230
}, {
  label: '垫江县',
  value: 500231
}, {
  label: '忠县',
  value: 500233
}, {
  label: '云阳县',
  value: 500235
}, {
  label: '奉节县',
  value: 500236
}, {
  label: '巫山县',
  value: 500237
}, {
  label: '巫溪县',
  value: 500238
}, {
  label: '石柱土家族自治县',
  value: 500240
}, {
  label: '秀山土家族苗族自治县',
  value: 500241
}, {
  label: '酉阳土家族苗族自治县',
  value: 500242
}, {
  label: '彭水苗族土家族自治县',
  value: 500243
}, {
  label: '两江新区',
  value: 500300
}, {
  label: '高新区',
  value: 500301
}, {
  label: '璧山高新区',
  value: 500302
}]], [[{
  label: '锦江区',
  value: 510104
}, {
  label: '青羊区',
  value: 510105
}, {
  label: '金牛区',
  value: 510106
}, {
  label: '武侯区',
  value: 510107
}, {
  label: '成华区',
  value: 510108
}, {
  label: '龙泉驿区',
  value: 510112
}, {
  label: '青白江区',
  value: 510113
}, {
  label: '新都区',
  value: 510114
}, {
  label: '温江区',
  value: 510115
}, {
  label: '双流区',
  value: 510116
}, {
  label: '郫都区',
  value: 510117
}, {
  label: '金堂县',
  value: 510121
}, {
  label: '大邑县',
  value: 510129
}, {
  label: '蒲江县',
  value: 510131
}, {
  label: '新津县',
  value: 510132
}, {
  label: '都江堰市',
  value: 510181
}, {
  label: '彭州市',
  value: 510182
}, {
  label: '邛崃市',
  value: 510183
}, {
  label: '崇州市',
  value: 510184
}, {
  label: '简阳市',
  value: 510185
}, {
  label: '天府新区',
  value: 510186
}, {
  label: '高新南区',
  value: 510187
}, {
  label: '高新西区',
  value: 510188
}], [{
  label: '自流井区',
  value: 510302
}, {
  label: '贡井区',
  value: 510303
}, {
  label: '大安区',
  value: 510304
}, {
  label: '沿滩区',
  value: 510311
}, {
  label: '荣县',
  value: 510321
}, {
  label: '富顺县',
  value: 510322
}, {
  label: '高新区',
  value: 510323
}], [{
  label: '东区',
  value: 510402
}, {
  label: '西区',
  value: 510403
}, {
  label: '仁和区',
  value: 510411
}, {
  label: '米易县',
  value: 510421
}, {
  label: '盐边县',
  value: 510422
}], [{
  label: '江阳区',
  value: 510502
}, {
  label: '纳溪区',
  value: 510503
}, {
  label: '龙马潭区',
  value: 510504
}, {
  label: '泸县',
  value: 510521
}, {
  label: '合江县',
  value: 510522
}, {
  label: '叙永县',
  value: 510524
}, {
  label: '古蔺县',
  value: 510525
}], [{
  label: '旌阳区',
  value: 510603
}, {
  label: '罗江区',
  value: 510604
}, {
  label: '中江县',
  value: 510623
}, {
  label: '广汉市',
  value: 510681
}, {
  label: '什邡市',
  value: 510682
}, {
  label: '绵竹市',
  value: 510683
}], [{
  label: '涪城区',
  value: 510703
}, {
  label: '游仙区',
  value: 510704
}, {
  label: '安州区',
  value: 510705
}, {
  label: '三台县',
  value: 510722
}, {
  label: '盐亭县',
  value: 510723
}, {
  label: '梓潼县',
  value: 510725
}, {
  label: '北川羌族自治县',
  value: 510726
}, {
  label: '平武县',
  value: 510727
}, {
  label: '江油市',
  value: 510781
}, {
  label: '高新区',
  value: 510782
}, {
  label: '经开区',
  value: 510783
}], [{
  label: '利州区',
  value: 510802
}, {
  label: '昭化区',
  value: 510811
}, {
  label: '朝天区',
  value: 510812
}, {
  label: '旺苍县',
  value: 510821
}, {
  label: '青川县',
  value: 510822
}, {
  label: '剑阁县',
  value: 510823
}, {
  label: '苍溪县',
  value: 510824
}], [{
  label: '船山区',
  value: 510903
}, {
  label: '安居区',
  value: 510904
}, {
  label: '蓬溪县',
  value: 510921
}, {
  label: '射洪县',
  value: 510922
}, {
  label: '大英县',
  value: 510923
}, {
  label: '经济技术开发区',
  value: 510924
}], [{
  label: '市中区',
  value: 511002
}, {
  label: '东兴区',
  value: 511011
}, {
  label: '威远县',
  value: 511024
}, {
  label: '资中县',
  value: 511025
}, {
  label: '隆昌市',
  value: 511083
}], [{
  label: '市中区',
  value: 511102
}, {
  label: '沙湾区',
  value: 511111
}, {
  label: '五通桥区',
  value: 511112
}, {
  label: '金口河区',
  value: 511113
}, {
  label: '犍为县',
  value: 511123
}, {
  label: '井研县',
  value: 511124
}, {
  label: '夹江县',
  value: 511126
}, {
  label: '沐川县',
  value: 511129
}, {
  label: '峨边彝族自治县',
  value: 511132
}, {
  label: '马边彝族自治县',
  value: 511133
}, {
  label: '峨眉山市',
  value: 511181
}], [{
  label: '顺庆区',
  value: 511302
}, {
  label: '高坪区',
  value: 511303
}, {
  label: '嘉陵区',
  value: 511304
}, {
  label: '南部县',
  value: 511321
}, {
  label: '营山县',
  value: 511322
}, {
  label: '蓬安县',
  value: 511323
}, {
  label: '仪陇县',
  value: 511324
}, {
  label: '西充县',
  value: 511325
}, {
  label: '阆中市',
  value: 511381
}], [{
  label: '东坡区',
  value: 511402
}, {
  label: '彭山区',
  value: 511403
}, {
  label: '仁寿县',
  value: 511421
}, {
  label: '洪雅县',
  value: 511423
}, {
  label: '丹棱县',
  value: 511424
}, {
  label: '青神县',
  value: 511425
}], [{
  label: '翠屏区',
  value: 511502
}, {
  label: '南溪区',
  value: 511503
}, {
  label: '叙州区',
  value: 511504
}, {
  label: '江安县',
  value: 511523
}, {
  label: '长宁县',
  value: 511524
}, {
  label: '高县',
  value: 511525
}, {
  label: '珙县',
  value: 511526
}, {
  label: '筠连县',
  value: 511527
}, {
  label: '兴文县',
  value: 511528
}, {
  label: '屏山县',
  value: 511529
}], [{
  label: '广安区',
  value: 511602
}, {
  label: '前锋区',
  value: 511603
}, {
  label: '岳池县',
  value: 511621
}, {
  label: '武胜县',
  value: 511622
}, {
  label: '邻水县',
  value: 511623
}, {
  label: '华蓥市',
  value: 511681
}], [{
  label: '通川区',
  value: 511702
}, {
  label: '达川区',
  value: 511703
}, {
  label: '宣汉县',
  value: 511722
}, {
  label: '开江县',
  value: 511723
}, {
  label: '大竹县',
  value: 511724
}, {
  label: '渠县',
  value: 511725
}, {
  label: '万源市',
  value: 511781
}], [{
  label: '雨城区',
  value: 511802
}, {
  label: '名山区',
  value: 511803
}, {
  label: '荥经县',
  value: 511822
}, {
  label: '汉源县',
  value: 511823
}, {
  label: '石棉县',
  value: 511824
}, {
  label: '天全县',
  value: 511825
}, {
  label: '芦山县',
  value: 511826
}, {
  label: '宝兴县',
  value: 511827
}], [{
  label: '巴州区',
  value: 511902
}, {
  label: '恩阳区',
  value: 511903
}, {
  label: '通江县',
  value: 511921
}, {
  label: '南江县',
  value: 511922
}, {
  label: '平昌县',
  value: 511923
}], [{
  label: '雁江区',
  value: 512002
}, {
  label: '安岳县',
  value: 512021
}, {
  label: '乐至县',
  value: 512022
}], [{
  label: '马尔康市',
  value: 513201
}, {
  label: '汶川县',
  value: 513221
}, {
  label: '理县',
  value: 513222
}, {
  label: '茂县',
  value: 513223
}, {
  label: '松潘县',
  value: 513224
}, {
  label: '九寨沟县',
  value: 513225
}, {
  label: '金川县',
  value: 513226
}, {
  label: '小金县',
  value: 513227
}, {
  label: '黑水县',
  value: 513228
}, {
  label: '壤塘县',
  value: 513230
}, {
  label: '阿坝县',
  value: 513231
}, {
  label: '若尔盖县',
  value: 513232
}, {
  label: '红原县',
  value: 513233
}], [{
  label: '康定市',
  value: 513301
}, {
  label: '泸定县',
  value: 513322
}, {
  label: '丹巴县',
  value: 513323
}, {
  label: '九龙县',
  value: 513324
}, {
  label: '雅江县',
  value: 513325
}, {
  label: '道孚县',
  value: 513326
}, {
  label: '炉霍县',
  value: 513327
}, {
  label: '甘孜县',
  value: 513328
}, {
  label: '新龙县',
  value: 513329
}, {
  label: '德格县',
  value: 513330
}, {
  label: '白玉县',
  value: 513331
}, {
  label: '石渠县',
  value: 513332
}, {
  label: '色达县',
  value: 513333
}, {
  label: '理塘县',
  value: 513334
}, {
  label: '巴塘县',
  value: 513335
}, {
  label: '乡城县',
  value: 513336
}, {
  label: '稻城县',
  value: 513337
}, {
  label: '得荣县',
  value: 513338
}], [{
  label: '西昌市',
  value: 513401
}, {
  label: '木里藏族自治县',
  value: 513422
}, {
  label: '盐源县',
  value: 513423
}, {
  label: '德昌县',
  value: 513424
}, {
  label: '会理县',
  value: 513425
}, {
  label: '会东县',
  value: 513426
}, {
  label: '宁南县',
  value: 513427
}, {
  label: '普格县',
  value: 513428
}, {
  label: '布拖县',
  value: 513429
}, {
  label: '金阳县',
  value: 513430
}, {
  label: '昭觉县',
  value: 513431
}, {
  label: '喜德县',
  value: 513432
}, {
  label: '冕宁县',
  value: 513433
}, {
  label: '越西县',
  value: 513434
}, {
  label: '甘洛县',
  value: 513435
}, {
  label: '美姑县',
  value: 513436
}, {
  label: '雷波县',
  value: 513437
}]], [[{
  label: '南明区',
  value: 520102
}, {
  label: '云岩区',
  value: 520103
}, {
  label: '花溪区',
  value: 520111
}, {
  label: '乌当区',
  value: 520112
}, {
  label: '白云区',
  value: 520113
}, {
  label: '观山湖区',
  value: 520115
}, {
  label: '开阳县',
  value: 520121
}, {
  label: '息烽县',
  value: 520122
}, {
  label: '修文县',
  value: 520123
}, {
  label: '清镇市',
  value: 520181
}, {
  label: '贵安新区',
  value: 520182
}, {
  label: '高新区',
  value: 520183
}], [{
  label: '钟山区',
  value: 520201
}, {
  label: '六枝特区',
  value: 520203
}, {
  label: '水城县',
  value: 520221
}, {
  label: '盘州市',
  value: 520281
}], [{
  label: '红花岗区',
  value: 520302
}, {
  label: '汇川区',
  value: 520303
}, {
  label: '播州区',
  value: 520304
}, {
  label: '桐梓县',
  value: 520322
}, {
  label: '绥阳县',
  value: 520323
}, {
  label: '正安县',
  value: 520324
}, {
  label: '道真仡佬族苗族自治县',
  value: 520325
}, {
  label: '务川仡佬族苗族自治县',
  value: 520326
}, {
  label: '凤冈县',
  value: 520327
}, {
  label: '湄潭县',
  value: 520328
}, {
  label: '余庆县',
  value: 520329
}, {
  label: '习水县',
  value: 520330
}, {
  label: '赤水市',
  value: 520381
}, {
  label: '仁怀市',
  value: 520382
}], [{
  label: '西秀区',
  value: 520402
}, {
  label: '平坝区',
  value: 520403
}, {
  label: '普定县',
  value: 520422
}, {
  label: '镇宁布依族苗族自治县',
  value: 520423
}, {
  label: '关岭布依族苗族自治县',
  value: 520424
}, {
  label: '紫云苗族布依族自治县',
  value: 520425
}], [{
  label: '七星关区',
  value: 520502
}, {
  label: '大方县',
  value: 520521
}, {
  label: '黔西县',
  value: 520522
}, {
  label: '金沙县',
  value: 520523
}, {
  label: '织金县',
  value: 520524
}, {
  label: '纳雍县',
  value: 520525
}, {
  label: '威宁彝族回族苗族自治县',
  value: 520526
}, {
  label: '赫章县',
  value: 520527
}], [{
  label: '碧江区',
  value: 520602
}, {
  label: '万山区',
  value: 520603
}, {
  label: '江口县',
  value: 520621
}, {
  label: '玉屏侗族自治县',
  value: 520622
}, {
  label: '石阡县',
  value: 520623
}, {
  label: '思南县',
  value: 520624
}, {
  label: '印江土家族苗族自治县',
  value: 520625
}, {
  label: '德江县',
  value: 520626
}, {
  label: '沿河土家族自治县',
  value: 520627
}, {
  label: '松桃苗族自治县',
  value: 520628
}], [{
  label: '兴义市 ',
  value: 522301
}, {
  label: '兴仁市',
  value: 522302
}, {
  label: '普安县',
  value: 522323
}, {
  label: '晴隆县',
  value: 522324
}, {
  label: '贞丰县',
  value: 522325
}, {
  label: '望谟县',
  value: 522326
}, {
  label: '册亨县',
  value: 522327
}, {
  label: '安龙县',
  value: 522328
}], [{
  label: '凯里市',
  value: 522601
}, {
  label: '黄平县',
  value: 522622
}, {
  label: '施秉县',
  value: 522623
}, {
  label: '三穗县',
  value: 522624
}, {
  label: '镇远县',
  value: 522625
}, {
  label: '岑巩县',
  value: 522626
}, {
  label: '天柱县',
  value: 522627
}, {
  label: '锦屏县',
  value: 522628
}, {
  label: '剑河县',
  value: 522629
}, {
  label: '台江县',
  value: 522630
}, {
  label: '黎平县',
  value: 522631
}, {
  label: '榕江县',
  value: 522632
}, {
  label: '从江县',
  value: 522633
}, {
  label: '雷山县',
  value: 522634
}, {
  label: '麻江县',
  value: 522635
}, {
  label: '丹寨县',
  value: 522636
}], [{
  label: '都匀市',
  value: 522701
}, {
  label: '福泉市',
  value: 522702
}, {
  label: '荔波县',
  value: 522722
}, {
  label: '贵定县',
  value: 522723
}, {
  label: '瓮安县',
  value: 522725
}, {
  label: '独山县',
  value: 522726
}, {
  label: '平塘县',
  value: 522727
}, {
  label: '罗甸县',
  value: 522728
}, {
  label: '长顺县',
  value: 522729
}, {
  label: '龙里县',
  value: 522730
}, {
  label: '惠水县',
  value: 522731
}, {
  label: '三都水族自治县',
  value: 522732
}]], [[{
  label: '五华区',
  value: 530102
}, {
  label: '盘龙区',
  value: 530103
}, {
  label: '官渡区',
  value: 530111
}, {
  label: '西山区',
  value: 530112
}, {
  label: '东川区',
  value: 530113
}, {
  label: '呈贡区',
  value: 530114
}, {
  label: '晋宁区',
  value: 530115
}, {
  label: '富民县',
  value: 530124
}, {
  label: '宜良县',
  value: 530125
}, {
  label: '石林彝族自治县',
  value: 530126
}, {
  label: '嵩明县',
  value: 530127
}, {
  label: '禄劝彝族苗族自治县',
  value: 530128
}, {
  label: '寻甸回族彝族自治县 ',
  value: 530129
}, {
  label: '安宁市',
  value: 530181
}, {
  label: '滇中新区',
  value: 530182
}, {
  label: '高新区',
  value: 530183
}], [{
  label: '麒麟区',
  value: 530302
}, {
  label: '沾益区',
  value: 530303
}, {
  label: '马龙区',
  value: 530304
}, {
  label: '陆良县',
  value: 530322
}, {
  label: '师宗县',
  value: 530323
}, {
  label: '罗平县',
  value: 530324
}, {
  label: '富源县',
  value: 530325
}, {
  label: '会泽县',
  value: 530326
}, {
  label: '宣威市',
  value: 530381
}], [{
  label: '红塔区',
  value: 530402
}, {
  label: '江川区',
  value: 530403
}, {
  label: '澄江县',
  value: 530422
}, {
  label: '通海县',
  value: 530423
}, {
  label: '华宁县',
  value: 530424
}, {
  label: '易门县',
  value: 530425
}, {
  label: '峨山彝族自治县',
  value: 530426
}, {
  label: '新平彝族傣族自治县',
  value: 530427
}, {
  label: '元江哈尼族彝族傣族自治县',
  value: 530428
}], [{
  label: '隆阳区',
  value: 530502
}, {
  label: '施甸县',
  value: 530521
}, {
  label: '龙陵县',
  value: 530523
}, {
  label: '昌宁县',
  value: 530524
}, {
  label: '腾冲市',
  value: 530581
}], [{
  label: '昭阳区',
  value: 530602
}, {
  label: '鲁甸县',
  value: 530621
}, {
  label: '巧家县',
  value: 530622
}, {
  label: '盐津县',
  value: 530623
}, {
  label: '大关县',
  value: 530624
}, {
  label: '永善县',
  value: 530625
}, {
  label: '绥江县',
  value: 530626
}, {
  label: '镇雄县',
  value: 530627
}, {
  label: '彝良县',
  value: 530628
}, {
  label: '威信县',
  value: 530629
}, {
  label: '水富市',
  value: 530681
}], [{
  label: '古城区',
  value: 530702
}, {
  label: '玉龙纳西族自治县',
  value: 530721
}, {
  label: '永胜县',
  value: 530722
}, {
  label: '华坪县',
  value: 530723
}, {
  label: '宁蒗彝族自治县',
  value: 530724
}], [{
  label: '思茅区',
  value: 530802
}, {
  label: '宁洱哈尼族彝族自治县',
  value: 530821
}, {
  label: '墨江哈尼族自治县',
  value: 530822
}, {
  label: '景东彝族自治县',
  value: 530823
}, {
  label: '景谷傣族彝族自治县',
  value: 530824
}, {
  label: '镇沅彝族哈尼族拉祜族自治县',
  value: 530825
}, {
  label: '江城哈尼族彝族自治县',
  value: 530826
}, {
  label: '孟连傣族拉祜族佤族自治县',
  value: 530827
}, {
  label: '澜沧拉祜族自治县',
  value: 530828
}, {
  label: '西盟佤族自治县',
  value: 530829
}], [{
  label: '临翔区',
  value: 530902
}, {
  label: '凤庆县',
  value: 530921
}, {
  label: '云县',
  value: 530922
}, {
  label: '永德县',
  value: 530923
}, {
  label: '镇康县',
  value: 530924
}, {
  label: '双江拉祜族佤族布朗族傣族自治县',
  value: 530925
}, {
  label: '耿马傣族佤族自治县',
  value: 530926
}, {
  label: '沧源佤族自治县',
  value: 530927
}], [{
  label: '楚雄市',
  value: 532301
}, {
  label: '双柏县',
  value: 532322
}, {
  label: '牟定县',
  value: 532323
}, {
  label: '南华县',
  value: 532324
}, {
  label: '姚安县',
  value: 532325
}, {
  label: '大姚县',
  value: 532326
}, {
  label: '永仁县',
  value: 532327
}, {
  label: '元谋县',
  value: 532328
}, {
  label: '武定县',
  value: 532329
}, {
  label: '禄丰县',
  value: 532331
}], [{
  label: '个旧市',
  value: 532501
}, {
  label: '开远市',
  value: 532502
}, {
  label: '蒙自市',
  value: 532503
}, {
  label: '弥勒市',
  value: 532504
}, {
  label: '屏边苗族自治县',
  value: 532523
}, {
  label: '建水县',
  value: 532524
}, {
  label: '石屏县',
  value: 532525
}, {
  label: '泸西县',
  value: 532527
}, {
  label: '元阳县',
  value: 532528
}, {
  label: '红河县',
  value: 532529
}, {
  label: '金平苗族瑶族傣族自治县',
  value: 532530
}, {
  label: '绿春县',
  value: 532531
}, {
  label: '河口瑶族自治县',
  value: 532532
}], [{
  label: '文山市',
  value: 532601
}, {
  label: '砚山县',
  value: 532622
}, {
  label: '西畴县',
  value: 532623
}, {
  label: '麻栗坡县',
  value: 532624
}, {
  label: '马关县',
  value: 532625
}, {
  label: '丘北县',
  value: 532626
}, {
  label: '广南县',
  value: 532627
}, {
  label: '富宁县',
  value: 532628
}], [{
  label: '景洪市',
  value: 532801
}, {
  label: '勐海县',
  value: 532822
}, {
  label: '勐腊县',
  value: 532823
}], [{
  label: '大理市',
  value: 532901
}, {
  label: '漾濞彝族自治县',
  value: 532922
}, {
  label: '祥云县',
  value: 532923
}, {
  label: '宾川县',
  value: 532924
}, {
  label: '弥渡县',
  value: 532925
}, {
  label: '南涧彝族自治县',
  value: 532926
}, {
  label: '巍山彝族回族自治县',
  value: 532927
}, {
  label: '永平县',
  value: 532928
}, {
  label: '云龙县',
  value: 532929
}, {
  label: '洱源县',
  value: 532930
}, {
  label: '剑川县',
  value: 532931
}, {
  label: '鹤庆县',
  value: 532932
}], [{
  label: '瑞丽市',
  value: 533102
}, {
  label: '芒市',
  value: 533103
}, {
  label: '梁河县',
  value: 533122
}, {
  label: '盈江县',
  value: 533123
}, {
  label: '陇川县',
  value: 533124
}], [{
  label: '泸水市',
  value: 533301
}, {
  label: '福贡县',
  value: 533323
}, {
  label: '贡山独龙族怒族自治县',
  value: 533324
}, {
  label: '兰坪白族普米族自治县',
  value: 533325
}], [{
  label: '香格里拉市',
  value: 533401
}, {
  label: '德钦县',
  value: 533422
}, {
  label: '维西傈僳族自治县',
  value: 533423
}]], [[{
  label: '城关区',
  value: 540102
}, {
  label: '堆龙德庆区',
  value: 540103
}, {
  label: '达孜区',
  value: 540104
}, {
  label: '林周县',
  value: 540121
}, {
  label: '当雄县',
  value: 540122
}, {
  label: '尼木县',
  value: 540123
}, {
  label: '曲水县',
  value: 540124
}, {
  label: '墨竹工卡县',
  value: 540127
}, {
  label: '格尔木藏青工业园区',
  value: 540171
}, {
  label: '西藏文化旅游创意园区',
  value: 540173
}, {
  label: '达孜工业园区',
  value: 540174
}], [{
  label: '桑珠孜区',
  value: 540202
}, {
  label: '南木林县',
  value: 540221
}, {
  label: '江孜县',
  value: 540222
}, {
  label: '定日县',
  value: 540223
}, {
  label: '萨迦县',
  value: 540224
}, {
  label: '拉孜县',
  value: 540225
}, {
  label: '昂仁县',
  value: 540226
}, {
  label: '谢通门县',
  value: 540227
}, {
  label: '白朗县',
  value: 540228
}, {
  label: '仁布县',
  value: 540229
}, {
  label: '康马县',
  value: 540230
}, {
  label: '定结县',
  value: 540231
}, {
  label: '仲巴县',
  value: 540232
}, {
  label: '亚东县',
  value: 540233
}, {
  label: '吉隆县',
  value: 540234
}, {
  label: '聂拉木县',
  value: 540235
}, {
  label: '萨嘎县',
  value: 540236
}, {
  label: '岗巴县',
  value: 540237
}], [{
  label: '卡若区',
  value: 540302
}, {
  label: '江达县',
  value: 540321
}, {
  label: '贡觉县',
  value: 540322
}, {
  label: '类乌齐县',
  value: 540323
}, {
  label: '丁青县',
  value: 540324
}, {
  label: '察雅县',
  value: 540325
}, {
  label: '八宿县',
  value: 540326
}, {
  label: '左贡县',
  value: 540327
}, {
  label: '芒康县',
  value: 540328
}, {
  label: '洛隆县',
  value: 540329
}, {
  label: '边坝县',
  value: 540330
}], [{
  label: '巴宜区',
  value: 540402
}, {
  label: '工布江达县',
  value: 540421
}, {
  label: '米林县',
  value: 540422
}, {
  label: '墨脱县',
  value: 540423
}, {
  label: '波密县',
  value: 540424
}, {
  label: '察隅县',
  value: 540425
}, {
  label: '朗县',
  value: 540426
}], [{
  label: '乃东区',
  value: 540502
}, {
  label: '扎囊县',
  value: 540521
}, {
  label: '贡嘎县',
  value: 540522
}, {
  label: '桑日县',
  value: 540523
}, {
  label: '琼结县',
  value: 540524
}, {
  label: '曲松县',
  value: 540525
}, {
  label: '措美县',
  value: 540526
}, {
  label: '洛扎县',
  value: 540527
}, {
  label: '加查县',
  value: 540528
}, {
  label: '隆子县',
  value: 540529
}, {
  label: '错那县',
  value: 540530
}, {
  label: '浪卡子县',
  value: 540531
}], [{
  label: '色尼区',
  value: 540602
}, {
  label: '嘉黎县',
  value: 540621
}, {
  label: '比如县',
  value: 540622
}, {
  label: '聂荣县',
  value: 540623
}, {
  label: '安多县',
  value: 540624
}, {
  label: '申扎县',
  value: 540625
}, {
  label: '索县',
  value: 540626
}, {
  label: '班戈县',
  value: 540627
}, {
  label: '巴青县',
  value: 540628
}, {
  label: '尼玛县',
  value: 540629
}, {
  label: '双湖县',
  value: 540630
}], [{
  label: '普兰县',
  value: 542521
}, {
  label: '札达县',
  value: 542522
}, {
  label: '噶尔县',
  value: 542523
}, {
  label: '日土县',
  value: 542524
}, {
  label: '革吉县',
  value: 542525
}, {
  label: '改则县',
  value: 542526
}, {
  label: '措勤县',
  value: 542527
}]], [[{
  label: '新城区',
  value: 610102
}, {
  label: '碑林区',
  value: 610103
}, {
  label: '莲湖区',
  value: 610104
}, {
  label: '灞桥区',
  value: 610111
}, {
  label: '未央区',
  value: 610112
}, {
  label: '雁塔区',
  value: 610113
}, {
  label: '阎良区',
  value: 610114
}, {
  label: '临潼区',
  value: 610115
}, {
  label: '长安区',
  value: 610116
}, {
  label: '高陵区',
  value: 610117
}, {
  label: '鄠邑区',
  value: 610118
}, {
  label: '蓝田县',
  value: 610122
}, {
  label: '周至县',
  value: 610124
}, {
  label: '西咸新区',
  value: 610125
}, {
  label: '曲江新区',
  value: 610127
}, {
  label: '高新区',
  value: 610128
}], [{
  label: '王益区',
  value: 610202
}, {
  label: '印台区',
  value: 610203
}, {
  label: '耀州区',
  value: 610204
}, {
  label: '宜君县',
  value: 610222
}], [{
  label: '渭滨区',
  value: 610302
}, {
  label: '金台区',
  value: 610303
}, {
  label: '陈仓区',
  value: 610304
}, {
  label: '凤翔县',
  value: 610322
}, {
  label: '岐山县',
  value: 610323
}, {
  label: '扶风县',
  value: 610324
}, {
  label: '眉县',
  value: 610326
}, {
  label: '陇县',
  value: 610327
}, {
  label: '千阳县',
  value: 610328
}, {
  label: '麟游县',
  value: 610329
}, {
  label: '凤县',
  value: 610330
}, {
  label: '太白县',
  value: 610331
}, {
  label: '高新区',
  value: 610332
}], [{
  label: '秦都区',
  value: 610402
}, {
  label: '杨陵区',
  value: 610403
}, {
  label: '渭城区',
  value: 610404
}, {
  label: '三原县',
  value: 610422
}, {
  label: '泾阳县',
  value: 610423
}, {
  label: '乾县',
  value: 610424
}, {
  label: '礼泉县',
  value: 610425
}, {
  label: '永寿县',
  value: 610426
}, {
  label: '长武县',
  value: 610428
}, {
  label: '旬邑县',
  value: 610429
}, {
  label: '淳化县',
  value: 610430
}, {
  label: '武功县',
  value: 610431
}, {
  label: '兴平市',
  value: 610481
}, {
  label: '彬州市',
  value: 610482
}, {
  label: '高新区',
  value: 610483
}], [{
  label: '临渭区',
  value: 610502
}, {
  label: '华州区',
  value: 610503
}, {
  label: '潼关县',
  value: 610522
}, {
  label: '大荔县',
  value: 610523
}, {
  label: '合阳县',
  value: 610524
}, {
  label: '澄城县',
  value: 610525
}, {
  label: '蒲城县',
  value: 610526
}, {
  label: '白水县',
  value: 610527
}, {
  label: '富平县',
  value: 610528
}, {
  label: '韩城市',
  value: 610581
}, {
  label: '华阴市',
  value: 610582
}], [{
  label: '宝塔区',
  value: 610602
}, {
  label: '安塞区',
  value: 610603
}, {
  label: '延长县',
  value: 610621
}, {
  label: '延川县',
  value: 610622
}, {
  label: '子长县',
  value: 610623
}, {
  label: '志丹县',
  value: 610625
}, {
  label: '吴起县',
  value: 610626
}, {
  label: '甘泉县',
  value: 610627
}, {
  label: '富县',
  value: 610628
}, {
  label: '洛川县',
  value: 610629
}, {
  label: '宜川县',
  value: 610630
}, {
  label: '黄龙县',
  value: 610631
}, {
  label: '黄陵县',
  value: 610632
}], [{
  label: '汉台区',
  value: 610702
}, {
  label: '南郑区',
  value: 610703
}, {
  label: '城固县',
  value: 610722
}, {
  label: '洋县',
  value: 610723
}, {
  label: '西乡县',
  value: 610724
}, {
  label: '勉县',
  value: 610725
}, {
  label: '宁强县',
  value: 610726
}, {
  label: '略阳县',
  value: 610727
}, {
  label: '镇巴县',
  value: 610728
}, {
  label: '留坝县',
  value: 610729
}, {
  label: '佛坪县',
  value: 610730
}], [{
  label: '榆阳区',
  value: 610802
}, {
  label: '横山区',
  value: 610803
}, {
  label: '府谷县',
  value: 610822
}, {
  label: '靖边县',
  value: 610824
}, {
  label: '定边县',
  value: 610825
}, {
  label: '绥德县',
  value: 610826
}, {
  label: '米脂县',
  value: 610827
}, {
  label: '佳县',
  value: 610828
}, {
  label: '吴堡县',
  value: 610829
}, {
  label: '清涧县',
  value: 610830
}, {
  label: '子洲县',
  value: 610831
}, {
  label: '神木市',
  value: 610881
}], [{
  label: '汉滨区',
  value: 610902
}, {
  label: '汉阴县',
  value: 610921
}, {
  label: '石泉县',
  value: 610922
}, {
  label: '宁陕县',
  value: 610923
}, {
  label: '紫阳县',
  value: 610924
}, {
  label: '岚皋县',
  value: 610925
}, {
  label: '平利县',
  value: 610926
}, {
  label: '镇坪县',
  value: 610927
}, {
  label: '旬阳县',
  value: 610928
}, {
  label: '白河县',
  value: 610929
}], [{
  label: '商州区',
  value: 611002
}, {
  label: '洛南县',
  value: 611021
}, {
  label: '丹凤县',
  value: 611022
}, {
  label: '商南县',
  value: 611023
}, {
  label: '山阳县',
  value: 611024
}, {
  label: '镇安县',
  value: 611025
}, {
  label: '柞水县',
  value: 611026
}]], [[{
  label: '城关区',
  value: 620102
}, {
  label: '七里河区',
  value: 620103
}, {
  label: '西固区',
  value: 620104
}, {
  label: '安宁区',
  value: 620105
}, {
  label: '红古区',
  value: 620111
}, {
  label: '永登县',
  value: 620121
}, {
  label: '皋兰县',
  value: 620122
}, {
  label: '榆中县',
  value: 620123
}, {
  label: '兰州新区',
  value: 620124
}, {
  label: '高新区',
  value: 620125
}, {
  label: '经济开发区',
  value: 620126
}], [{
  label: '雄关区',
  value: 620201
}, {
  label: '长城区',
  value: 620202
}, {
  label: '镜铁区',
  value: 620203
}], [{
  label: '金川区',
  value: 620302
}, {
  label: '永昌县',
  value: 620321
}], [{
  label: '白银区',
  value: 620402
}, {
  label: '平川区',
  value: 620403
}, {
  label: '靖远县',
  value: 620421
}, {
  label: '会宁县',
  value: 620422
}, {
  label: '景泰县',
  value: 620423
}], [{
  label: '秦州区',
  value: 620502
}, {
  label: '麦积区',
  value: 620503
}, {
  label: '清水县',
  value: 620521
}, {
  label: '秦安县',
  value: 620522
}, {
  label: '甘谷县',
  value: 620523
}, {
  label: '武山县',
  value: 620524
}, {
  label: '张家川回族自治县',
  value: 620525
}], [{
  label: '凉州区',
  value: 620602
}, {
  label: '民勤县',
  value: 620621
}, {
  label: '古浪县',
  value: 620622
}, {
  label: '天祝藏族自治县',
  value: 620623
}], [{
  label: '甘州区',
  value: 620702
}, {
  label: '肃南裕固族自治县',
  value: 620721
}, {
  label: '民乐县',
  value: 620722
}, {
  label: '临泽县',
  value: 620723
}, {
  label: '高台县',
  value: 620724
}, {
  label: '山丹县',
  value: 620725
}], [{
  label: '崆峒区',
  value: 620802
}, {
  label: '泾川县',
  value: 620821
}, {
  label: '灵台县',
  value: 620822
}, {
  label: '崇信县',
  value: 620823
}, {
  label: '庄浪县',
  value: 620825
}, {
  label: '静宁县',
  value: 620826
}, {
  label: '华亭市',
  value: 620881
}], [{
  label: '肃州区',
  value: 620902
}, {
  label: '金塔县',
  value: 620921
}, {
  label: '瓜州县',
  value: 620922
}, {
  label: '肃北蒙古族自治县',
  value: 620923
}, {
  label: '阿克塞哈萨克族自治县',
  value: 620924
}, {
  label: '玉门市',
  value: 620981
}, {
  label: '敦煌市',
  value: 620982
}], [{
  label: '西峰区',
  value: 621002
}, {
  label: '庆城县',
  value: 621021
}, {
  label: '环县',
  value: 621022
}, {
  label: '华池县',
  value: 621023
}, {
  label: '合水县',
  value: 621024
}, {
  label: '正宁县',
  value: 621025
}, {
  label: '宁县',
  value: 621026
}, {
  label: '镇原县',
  value: 621027
}], [{
  label: '安定区',
  value: 621102
}, {
  label: '通渭县',
  value: 621121
}, {
  label: '陇西县',
  value: 621122
}, {
  label: '渭源县',
  value: 621123
}, {
  label: '临洮县',
  value: 621124
}, {
  label: '漳县',
  value: 621125
}, {
  label: '岷县',
  value: 621126
}], [{
  label: '武都区',
  value: 621202
}, {
  label: '成县',
  value: 621221
}, {
  label: '文县',
  value: 621222
}, {
  label: '宕昌县',
  value: 621223
}, {
  label: '康县',
  value: 621224
}, {
  label: '西和县',
  value: 621225
}, {
  label: '礼县',
  value: 621226
}, {
  label: '徽县',
  value: 621227
}, {
  label: '两当县',
  value: 621228
}], [{
  label: '临夏市',
  value: 622901
}, {
  label: '临夏县',
  value: 622921
}, {
  label: '康乐县',
  value: 622922
}, {
  label: '永靖县',
  value: 622923
}, {
  label: '广河县',
  value: 622924
}, {
  label: '和政县',
  value: 622925
}, {
  label: '东乡族自治县',
  value: 622926
}, {
  label: '积石山保安族东乡族撒拉族自治县',
  value: 622927
}], [{
  label: '合作市',
  value: 623001
}, {
  label: '临潭县',
  value: 623021
}, {
  label: '卓尼县',
  value: 623022
}, {
  label: '舟曲县',
  value: 623023
}, {
  label: '迭部县',
  value: 623024
}, {
  label: '玛曲县',
  value: 623025
}, {
  label: '碌曲县',
  value: 623026
}, {
  label: '夏河县',
  value: 623027
}]], [[{
  label: '城东区',
  value: 630102
}, {
  label: '城中区',
  value: 630103
}, {
  label: '城西区',
  value: 630104
}, {
  label: '城北区',
  value: 630105
}, {
  label: '大通回族土族自治县',
  value: 630121
}, {
  label: '湟中县',
  value: 630122
}, {
  label: '湟源县',
  value: 630123
}], [{
  label: '乐都区',
  value: 630202
}, {
  label: '平安区',
  value: 630203
}, {
  label: '民和回族土族自治县',
  value: 630222
}, {
  label: '互助土族自治县',
  value: 630223
}, {
  label: '化隆回族自治县',
  value: 630224
}, {
  label: '循化撒拉族自治县',
  value: 630225
}], [{
  label: '门源回族自治县',
  value: 632221
}, {
  label: '祁连县',
  value: 632222
}, {
  label: '海晏县',
  value: 632223
}, {
  label: '刚察县',
  value: 632224
}], [{
  label: '同仁县',
  value: 632321
}, {
  label: '尖扎县',
  value: 632322
}, {
  label: '泽库县',
  value: 632323
}, {
  label: '河南蒙古族自治县',
  value: 632324
}], [{
  label: '共和县',
  value: 632521
}, {
  label: '同德县',
  value: 632522
}, {
  label: '贵德县',
  value: 632523
}, {
  label: '兴海县',
  value: 632524
}, {
  label: '贵南县',
  value: 632525
}], [{
  label: '玛沁县',
  value: 632621
}, {
  label: '班玛县',
  value: 632622
}, {
  label: '甘德县',
  value: 632623
}, {
  label: '达日县',
  value: 632624
}, {
  label: '久治县',
  value: 632625
}, {
  label: '玛多县',
  value: 632626
}], [{
  label: '玉树市',
  value: 632701
}, {
  label: '杂多县',
  value: 632722
}, {
  label: '称多县',
  value: 632723
}, {
  label: '治多县',
  value: 632724
}, {
  label: '囊谦县',
  value: 632725
}, {
  label: '曲麻莱县',
  value: 632726
}], [{
  label: '格尔木市',
  value: 632801
}, {
  label: '德令哈市',
  value: 632802
}, {
  label: '茫崖市',
  value: 632803
}, {
  label: '乌兰县',
  value: 632821
}, {
  label: '都兰县',
  value: 632822
}, {
  label: '天峻县',
  value: 632823
}]], [[{
  label: '兴庆区',
  value: 640104
}, {
  label: '西夏区',
  value: 640105
}, {
  label: '金凤区',
  value: 640106
}, {
  label: '永宁县',
  value: 640121
}, {
  label: '贺兰县',
  value: 640122
}, {
  label: '灵武市',
  value: 640181
}, {
  label: '经济开发区',
  value: 640182
}], [{
  label: '大武口区',
  value: 640202
}, {
  label: '惠农区',
  value: 640205
}, {
  label: '平罗县',
  value: 640221
}, {
  label: '经济开发区',
  value: 640222
}], [{
  label: '利通区',
  value: 640302
}, {
  label: '红寺堡区',
  value: 640303
}, {
  label: '盐池县',
  value: 640323
}, {
  label: '同心县',
  value: 640324
}, {
  label: '青铜峡市',
  value: 640381
}], [{
  label: '原州区',
  value: 640402
}, {
  label: '西吉县',
  value: 640422
}, {
  label: '隆德县',
  value: 640423
}, {
  label: '泾源县',
  value: 640424
}, {
  label: '彭阳县',
  value: 640425
}], [{
  label: '沙坡头区',
  value: 640502
}, {
  label: '中宁县',
  value: 640521
}, {
  label: '海原县',
  value: 640522
}]], [[{
  label: '天山区',
  value: 650102
}, {
  label: '沙依巴克区',
  value: 650103
}, {
  label: '新市区',
  value: 650104
}, {
  label: '水磨沟区',
  value: 650105
}, {
  label: '头屯河区',
  value: 650106
}, {
  label: '达坂城区',
  value: 650107
}, {
  label: '米东区',
  value: 650109
}, {
  label: '乌鲁木齐县',
  value: 650121
}, {
  label: '经济技术开发区',
  value: 650171
}, {
  label: '高新区',
  value: 650172
}], [{
  label: '独山子区',
  value: 650202
}, {
  label: '克拉玛依区',
  value: 650203
}, {
  label: '白碱滩区',
  value: 650204
}, {
  label: '乌尔禾区',
  value: 650205
}], [{
  label: '高昌区',
  value: 650402
}, {
  label: '鄯善县',
  value: 650421
}, {
  label: '托克逊县',
  value: 650422
}], [{
  label: '伊州区',
  value: 650502
}, {
  label: '巴里坤哈萨克自治县',
  value: 650521
}, {
  label: '伊吾县',
  value: 650522
}], [{
  label: '昌吉市',
  value: 652301
}, {
  label: '阜康市',
  value: 652302
}, {
  label: '呼图壁县',
  value: 652323
}, {
  label: '玛纳斯县',
  value: 652324
}, {
  label: '奇台县',
  value: 652325
}, {
  label: '吉木萨尔县',
  value: 652327
}, {
  label: '木垒哈萨克自治县',
  value: 652328
}], [{
  label: '博乐市',
  value: 652701
}, {
  label: '阿拉山口市',
  value: 652702
}, {
  label: '精河县',
  value: 652722
}, {
  label: '温泉县',
  value: 652723
}], [{
  label: '库尔勒市',
  value: 652801
}, {
  label: '轮台县',
  value: 652822
}, {
  label: '尉犁县',
  value: 652823
}, {
  label: '若羌县',
  value: 652824
}, {
  label: '且末县',
  value: 652825
}, {
  label: '焉耆回族自治县',
  value: 652826
}, {
  label: '和静县',
  value: 652827
}, {
  label: '和硕县',
  value: 652828
}, {
  label: '博湖县',
  value: 652829
}, {
  label: '库尔勒开发区',
  value: 652871
}], [{
  label: '阿克苏市',
  value: 652901
}, {
  label: '温宿县',
  value: 652922
}, {
  label: '库车县',
  value: 652923
}, {
  label: '沙雅县',
  value: 652924
}, {
  label: '新和县',
  value: 652925
}, {
  label: '拜城县',
  value: 652926
}, {
  label: '乌什县',
  value: 652927
}, {
  label: '阿瓦提县',
  value: 652928
}, {
  label: '柯坪县',
  value: 652929
}], [{
  label: '阿图什市',
  value: 653001
}, {
  label: '阿克陶县',
  value: 653022
}, {
  label: '阿合奇县',
  value: 653023
}, {
  label: '乌恰县',
  value: 653024
}], [{
  label: '喀什市',
  value: 653101
}, {
  label: '疏附县',
  value: 653121
}, {
  label: '疏勒县',
  value: 653122
}, {
  label: '英吉沙县',
  value: 653123
}, {
  label: '泽普县',
  value: 653124
}, {
  label: '莎车县',
  value: 653125
}, {
  label: '叶城县',
  value: 653126
}, {
  label: '麦盖提县',
  value: 653127
}, {
  label: '岳普湖县',
  value: 653128
}, {
  label: '伽师县',
  value: 653129
}, {
  label: '巴楚县',
  value: 653130
}, {
  label: '塔什库尔干塔吉克自治县',
  value: 653131
}], [{
  label: '和田市',
  value: 653201
}, {
  label: '和田县',
  value: 653221
}, {
  label: '墨玉县',
  value: 653222
}, {
  label: '皮山县',
  value: 653223
}, {
  label: '洛浦县',
  value: 653224
}, {
  label: '策勒县',
  value: 653225
}, {
  label: '于田县',
  value: 653226
}, {
  label: '民丰县',
  value: 653227
}], [{
  label: '伊宁市',
  value: 654002
}, {
  label: '奎屯市',
  value: 654003
}, {
  label: '霍尔果斯市',
  value: 654004
}, {
  label: '伊宁县',
  value: 654021
}, {
  label: '察布查尔锡伯自治县',
  value: 654022
}, {
  label: '霍城县',
  value: 654023
}, {
  label: '巩留县',
  value: 654024
}, {
  label: '新源县',
  value: 654025
}, {
  label: '昭苏县',
  value: 654026
}, {
  label: '特克斯县',
  value: 654027
}, {
  label: '尼勒克县',
  value: 654028
}], [{
  label: '塔城市',
  value: 654201
}, {
  label: '乌苏市',
  value: 654202
}, {
  label: '额敏县',
  value: 654221
}, {
  label: '沙湾县',
  value: 654223
}, {
  label: '托里县',
  value: 654224
}, {
  label: '裕民县',
  value: 654225
}, {
  label: '和布克赛尔蒙古自治县',
  value: 654226
}], [{
  label: '阿勒泰市',
  value: 654301
}, {
  label: '布尔津县',
  value: 654321
}, {
  label: '富蕴县',
  value: 654322
}, {
  label: '福海县',
  value: 654323
}, {
  label: '哈巴河县',
  value: 654324
}, {
  label: '青河县',
  value: 654325
}, {
  label: '吉木乃县',
  value: 654326
}], [{
  label: '新城街道',
  value: 659101
}, {
  label: '向阳街道',
  value: 659102
}, {
  label: '红山街道',
  value: 659103
}, {
  label: '老街街道',
  value: 659104
}, {
  label: '东城街道',
  value: 659105
}, {
  label: '北泉镇',
  value: 659106
}, {
  label: '石河子乡',
  value: 659107
}, {
  label: '一五二团',
  value: 659108
}], [{
  label: '幸福路街道',
  value: 659201
}, {
  label: '金银川路街道',
  value: 659202
}, {
  label: '青松路街道',
  value: 659203
}, {
  label: '南口街道',
  value: 659204
}, {
  label: '托喀依乡',
  value: 659205
}, {
  label: '金银川镇',
  value: 659206
}], [{
  label: '图木舒克市区',
  value: 659301
}, {
  label: '兵团四十四团',
  value: 659302
}, {
  label: '兵团四十九团',
  value: 659303
}, {
  label: '兵团五十团',
  value: 659304
}, {
  label: '兵团五十一团',
  value: 659305
}, {
  label: '兵团五十二团',
  value: 659306
}, {
  label: '兵团五十三团',
  value: 659307
}, {
  label: '喀拉拜勒镇',
  value: 659308
}, {
  label: '永安坝',
  value: 659309
}], [{
  label: '城区',
  value: 659401
}, {
  label: '一零一团',
  value: 659402
}, {
  label: '一零二团',
  value: 659403
}, {
  label: '一零三团',
  value: 659404
}], [{
  label: '新城区',
  value: 659501
}, {
  label: '老城区',
  value: 659502
}, {
  label: '工业园区',
  value: 659503
}, {
  label: '海川镇',
  value: 659504
}, {
  label: '丰庆镇',
  value: 659505
}, {
  label: '锡伯渡镇',
  value: 659506
}], [{
  label: '二十九团场',
  value: 659601
}, {
  label: '库西经济工业园',
  value: 659602
}, {
  label: '博古其镇',
  value: 659603
}, {
  label: '双丰镇',
  value: 659604
}], [{
  label: '八十一团',
  value: 659701
}, {
  label: '八十四团',
  value: 659702
}, {
  label: '八十五团',
  value: 659703
}, {
  label: '八十六团',
  value: 659704
}, {
  label: '八十九团',
  value: 659705
}, {
  label: '九十团',
  value: 659706
}], [{
  label: '63团',
  value: 659801
}, {
  label: '64团',
  value: 659802
}, {
  label: '66团',
  value: 659803
}, {
  label: '67团',
  value: 659804
}, {
  label: '68团',
  value: 659805
}], [{
  label: '皮山农场',
  value: 659901
}, {
  label: '二二四团',
  value: 659902
}, {
  label: '四十七团',
  value: 659903
}, {
  label: '一牧场',
  value: 659904
}]], [[{
  label: '松山区',
  value: 710101
}, {
  label: '信义区',
  value: 710102
}, {
  label: '大安区',
  value: 710103
}, {
  label: '中山区',
  value: 710104
}, {
  label: '中正区',
  value: 710105
}, {
  label: '大同区',
  value: 710106
}, {
  label: '万华区',
  value: 710107
}, {
  label: '文山区',
  value: 710108
}, {
  label: '南港区',
  value: 710109
}, {
  label: '内湖区',
  value: 710110
}, {
  label: '士林区',
  value: 710111
}, {
  label: '北投区',
  value: 710112
}], [{
  label: '盐埕区',
  value: 710201
}, {
  label: '鼓山区',
  value: 710202
}, {
  label: '左营区',
  value: 710203
}, {
  label: '楠梓区',
  value: 710204
}, {
  label: '三民区',
  value: 710205
}, {
  label: '新兴区',
  value: 710206
}, {
  label: '前金区',
  value: 710207
}, {
  label: '苓雅区',
  value: 710208
}, {
  label: '前镇区',
  value: 710209
}, {
  label: '旗津区',
  value: 710210
}, {
  label: '小港区',
  value: 710211
}, {
  label: '凤山区',
  value: 710212
}, {
  label: '林园区',
  value: 710213
}, {
  label: '大寮区',
  value: 710214
}, {
  label: '大树区',
  value: 710215
}, {
  label: '大社区',
  value: 710216
}, {
  label: '仁武区',
  value: 710217
}, {
  label: '鸟松区',
  value: 710218
}, {
  label: '冈山区',
  value: 710219
}, {
  label: '桥头区',
  value: 710220
}, {
  label: '燕巢区',
  value: 710221
}, {
  label: '田寮区',
  value: 710222
}, {
  label: '阿莲区',
  value: 710223
}, {
  label: '路竹区',
  value: 710224
}, {
  label: '湖内区',
  value: 710225
}, {
  label: '茄萣区',
  value: 710226
}, {
  label: '永安区',
  value: 710227
}, {
  label: '弥陀区',
  value: 710228
}, {
  label: '梓官区',
  value: 710229
}, {
  label: '旗山区',
  value: 710230
}, {
  label: '美浓区',
  value: 710231
}, {
  label: '六龟区',
  value: 710232
}, {
  label: '甲仙区',
  value: 710233
}, {
  label: '杉林区',
  value: 710234
}, {
  label: '内门区',
  value: 710235
}, {
  label: '茂林区',
  value: 710236
}, {
  label: '桃源区',
  value: 710237
}, {
  label: '那玛夏区',
  value: 710238
}], [{
  label: '中正区',
  value: 710301
}, {
  label: '七堵区',
  value: 710302
}, {
  label: '暖暖区',
  value: 710303
}, {
  label: '仁爱区',
  value: 710304
}, {
  label: '中山区',
  value: 710305
}, {
  label: '安乐区',
  value: 710306
}, {
  label: '信义区',
  value: 710307
}], [{
  label: '中区',
  value: 710401
}, {
  label: '东区',
  value: 710402
}, {
  label: '南区',
  value: 710403
}, {
  label: '西区',
  value: 710404
}, {
  label: '北区',
  value: 710405
}, {
  label: '西屯区',
  value: 710406
}, {
  label: '南屯区',
  value: 710407
}, {
  label: '北屯区',
  value: 710408
}, {
  label: '丰原区',
  value: 710409
}, {
  label: '东势区',
  value: 710410
}, {
  label: '大甲区',
  value: 710411
}, {
  label: '清水区',
  value: 710412
}, {
  label: '沙鹿区',
  value: 710413
}, {
  label: '梧栖区',
  value: 710414
}, {
  label: '后里区',
  value: 710415
}, {
  label: '神冈区',
  value: 710416
}, {
  label: '潭子区',
  value: 710417
}, {
  label: '大雅区',
  value: 710418
}, {
  label: '新社区',
  value: 710419
}, {
  label: '石冈区',
  value: 710420
}, {
  label: '外埔区',
  value: 710421
}, {
  label: '大安区',
  value: 710422
}, {
  label: '乌日区',
  value: 710423
}, {
  label: '大肚区',
  value: 710424
}, {
  label: '龙井区',
  value: 710425
}, {
  label: '雾峰区',
  value: 710426
}, {
  label: '太平区',
  value: 710427
}, {
  label: '大里区',
  value: 710428
}, {
  label: '和平区',
  value: 710429
}], [{
  label: '东区',
  value: 710501
}, {
  label: '南区',
  value: 710502
}, {
  label: '北区',
  value: 710504
}, {
  label: '安南区',
  value: 710506
}, {
  label: '安平区',
  value: 710507
}, {
  label: '中西区',
  value: 710508
}, {
  label: '新营区',
  value: 710509
}, {
  label: '盐水区',
  value: 710510
}, {
  label: '白河区',
  value: 710511
}, {
  label: '柳营区',
  value: 710512
}, {
  label: '后壁区',
  value: 710513
}, {
  label: '东山区',
  value: 710514
}, {
  label: '麻豆区',
  value: 710515
}, {
  label: '下营区',
  value: 710516
}, {
  label: '六甲区',
  value: 710517
}, {
  label: '官田区',
  value: 710518
}, {
  label: '大内区',
  value: 710519
}, {
  label: '佳里区',
  value: 710520
}, {
  label: '学甲区',
  value: 710521
}, {
  label: '西港区',
  value: 710522
}, {
  label: '七股区',
  value: 710523
}, {
  label: '将军区',
  value: 710524
}, {
  label: '北门区',
  value: 710525
}, {
  label: '新化区',
  value: 710526
}, {
  label: '善化区',
  value: 710527
}, {
  label: '新市区',
  value: 710528
}, {
  label: '安定区',
  value: 710529
}, {
  label: '山上区',
  value: 710530
}, {
  label: '玉井区',
  value: 710531
}, {
  label: '楠西区',
  value: 710532
}, {
  label: '南化区',
  value: 710533
}, {
  label: '左镇区',
  value: 710534
}, {
  label: '仁德区',
  value: 710535
}, {
  label: '归仁区',
  value: 710536
}, {
  label: '关庙区',
  value: 710537
}, {
  label: '龙崎区',
  value: 710538
}, {
  label: '永康区',
  value: 710539
}], [{
  label: '东区',
  value: 710601
}, {
  label: '北区',
  value: 710602
}, {
  label: '香山区',
  value: 710603
}], [{
  label: '东区',
  value: 710701
}, {
  label: '西区',
  value: 710702
}], [{
  label: '板桥区',
  value: 710801
}, {
  label: '三重区',
  value: 710802
}, {
  label: '中和区',
  value: 710803
}, {
  label: '永和区',
  value: 710804
}, {
  label: '新庄区',
  value: 710805
}, {
  label: '新店区',
  value: 710806
}, {
  label: '树林区',
  value: 710807
}, {
  label: '莺歌区',
  value: 710808
}, {
  label: '三峡区',
  value: 710809
}, {
  label: '淡水区',
  value: 710810
}, {
  label: '汐止区',
  value: 710811
}, {
  label: '瑞芳区',
  value: 710812
}, {
  label: '土城区',
  value: 710813
}, {
  label: '芦洲区',
  value: 710814
}, {
  label: '五股区',
  value: 710815
}, {
  label: '泰山区',
  value: 710816
}, {
  label: '林口区',
  value: 710817
}, {
  label: '深坑区',
  value: 710818
}, {
  label: '石碇区',
  value: 710819
}, {
  label: '坪林区',
  value: 710820
}, {
  label: '三芝区',
  value: 710821
}, {
  label: '石门区',
  value: 710822
}, {
  label: '八里区',
  value: 710823
}, {
  label: '平溪区',
  value: 710824
}, {
  label: '双溪区',
  value: 710825
}, {
  label: '贡寮区',
  value: 710826
}, {
  label: '金山区',
  value: 710827
}, {
  label: '万里区',
  value: 710828
}, {
  label: '乌来区',
  value: 710829
}], [{
  label: '宜兰市',
  value: 712201
}, {
  label: '罗东镇',
  value: 712221
}, {
  label: '苏澳镇',
  value: 712222
}, {
  label: '头城镇',
  value: 712223
}, {
  label: '礁溪乡',
  value: 712224
}, {
  label: '壮围乡',
  value: 712225
}, {
  label: '员山乡',
  value: 712226
}, {
  label: '冬山乡',
  value: 712227
}, {
  label: '五结乡',
  value: 712228
}, {
  label: '三星乡',
  value: 712229
}, {
  label: '大同乡',
  value: 712230
}, {
  label: '南澳乡',
  value: 712231
}], [{
  label: '桃园市',
  value: 712301
}, {
  label: '中坜市',
  value: 712302
}, {
  label: '平镇市',
  value: 712303
}, {
  label: '八德市',
  value: 712304
}, {
  label: '杨梅市',
  value: 712305
}, {
  label: '芦竹市',
  value: 712306
}, {
  label: '大溪镇',
  value: 712321
}, {
  label: '大园乡',
  value: 712324
}, {
  label: '龟山乡',
  value: 712325
}, {
  label: '龙潭乡',
  value: 712327
}, {
  label: '新屋乡',
  value: 712329
}, {
  label: '观音乡',
  value: 712330
}, {
  label: '复兴乡',
  value: 712331
}], [{
  label: '竹北市',
  value: 712401
}, {
  label: '竹东镇',
  value: 712421
}, {
  label: '新埔镇',
  value: 712422
}, {
  label: '关西镇',
  value: 712423
}, {
  label: '湖口乡',
  value: 712424
}, {
  label: '新丰乡',
  value: 712425
}, {
  label: '芎林乡',
  value: 712426
}, {
  label: '横山乡',
  value: 712427
}, {
  label: '北埔乡',
  value: 712428
}, {
  label: '宝山乡',
  value: 712429
}, {
  label: '峨眉乡',
  value: 712430
}, {
  label: '尖石乡',
  value: 712431
}, {
  label: '五峰乡',
  value: 712432
}], [{
  label: '苗栗市',
  value: 712501
}, {
  label: '苑里镇',
  value: 712521
}, {
  label: '通霄镇',
  value: 712522
}, {
  label: '竹南镇',
  value: 712523
}, {
  label: '头份市',
  value: 712524
}, {
  label: '后龙镇',
  value: 712525
}, {
  label: '卓兰镇',
  value: 712526
}, {
  label: '大湖乡',
  value: 712527
}, {
  label: '公馆乡',
  value: 712528
}, {
  label: '铜锣乡',
  value: 712529
}, {
  label: '南庄乡',
  value: 712530
}, {
  label: '头屋乡',
  value: 712531
}, {
  label: '三义乡',
  value: 712532
}, {
  label: '西湖乡',
  value: 712533
}, {
  label: '造桥乡',
  value: 712534
}, {
  label: '三湾乡',
  value: 712535
}, {
  label: '狮潭乡',
  value: 712536
}, {
  label: '泰安乡',
  value: 712537
}], [{
  label: '彰化市',
  value: 712701
}, {
  label: '鹿港镇',
  value: 712721
}, {
  label: '和美镇',
  value: 712722
}, {
  label: '线西乡',
  value: 712723
}, {
  label: '伸港乡',
  value: 712724
}, {
  label: '福兴乡',
  value: 712725
}, {
  label: '秀水乡',
  value: 712726
}, {
  label: '花坛乡',
  value: 712727
}, {
  label: '芬园乡',
  value: 712728
}, {
  label: '员林市',
  value: 712729
}, {
  label: '溪湖镇',
  value: 712730
}, {
  label: '田中镇',
  value: 712731
}, {
  label: '大村乡',
  value: 712732
}, {
  label: '埔盐乡',
  value: 712733
}, {
  label: '埔心乡',
  value: 712734
}, {
  label: '永靖乡',
  value: 712735
}, {
  label: '社头乡',
  value: 712736
}, {
  label: '二水乡',
  value: 712737
}, {
  label: '北斗镇',
  value: 712738
}, {
  label: '二林镇',
  value: 712739
}, {
  label: '田尾乡',
  value: 712740
}, {
  label: '埤头乡',
  value: 712741
}, {
  label: '芳苑乡',
  value: 712742
}, {
  label: '大城乡',
  value: 712743
}, {
  label: '竹塘乡',
  value: 712744
}, {
  label: '溪州乡',
  value: 712745
}], [{
  label: '南投市',
  value: 712801
}, {
  label: '埔里镇',
  value: 712821
}, {
  label: '草屯镇',
  value: 712822
}, {
  label: '竹山镇',
  value: 712823
}, {
  label: '集集镇',
  value: 712824
}, {
  label: '名间乡',
  value: 712825
}, {
  label: '鹿谷乡',
  value: 712826
}, {
  label: '中寮乡',
  value: 712827
}, {
  label: '鱼池乡',
  value: 712828
}, {
  label: '国姓乡',
  value: 712829
}, {
  label: '水里乡',
  value: 712830
}, {
  label: '信义乡',
  value: 712831
}, {
  label: '仁爱乡',
  value: 712832
}], [{
  label: '斗六市',
  value: 712901
}, {
  label: '斗南镇',
  value: 712921
}, {
  label: '虎尾镇',
  value: 712922
}, {
  label: '西螺镇',
  value: 712923
}, {
  label: '土库镇',
  value: 712924
}, {
  label: '北港镇',
  value: 712925
}, {
  label: '古坑乡',
  value: 712926
}, {
  label: '大埤乡',
  value: 712927
}, {
  label: '莿桐乡',
  value: 712928
}, {
  label: '林内乡',
  value: 712929
}, {
  label: '二仑乡',
  value: 712930
}, {
  label: '仑背乡',
  value: 712931
}, {
  label: '麦寮乡',
  value: 712932
}, {
  label: '东势乡',
  value: 712933
}, {
  label: '褒忠乡',
  value: 712934
}, {
  label: '台西乡',
  value: 712935
}, {
  label: '元长乡',
  value: 712936
}, {
  label: '四湖乡',
  value: 712937
}, {
  label: '口湖乡',
  value: 712938
}, {
  label: '水林乡',
  value: 712939
}], [{
  label: '太保市',
  value: 713001
}, {
  label: '朴子市',
  value: 713002
}, {
  label: '布袋镇',
  value: 713023
}, {
  label: '大林镇',
  value: 713024
}, {
  label: '民雄乡',
  value: 713025
}, {
  label: '溪口乡',
  value: 713026
}, {
  label: '新港乡',
  value: 713027
}, {
  label: '六脚乡',
  value: 713028
}, {
  label: '东石乡',
  value: 713029
}, {
  label: '义竹乡',
  value: 713030
}, {
  label: '鹿草乡',
  value: 713031
}, {
  label: '水上乡',
  value: 713032
}, {
  label: '中埔乡',
  value: 713033
}, {
  label: '竹崎乡',
  value: 713034
}, {
  label: '梅山乡',
  value: 713035
}, {
  label: '番路乡',
  value: 713036
}, {
  label: '大埔乡',
  value: 713037
}, {
  label: '阿里山乡',
  value: 713038
}], [{
  label: '屏东市',
  value: 713301
}, {
  label: '潮州镇',
  value: 713321
}, {
  label: '东港镇',
  value: 713322
}, {
  label: '恒春镇',
  value: 713323
}, {
  label: '万丹乡',
  value: 713324
}, {
  label: '长治乡',
  value: 713325
}, {
  label: '麟洛乡',
  value: 713326
}, {
  label: '九如乡',
  value: 713327
}, {
  label: '里港乡',
  value: 713328
}, {
  label: '盐埔乡',
  value: 713329
}, {
  label: '高树乡',
  value: 713330
}, {
  label: '万峦乡',
  value: 713331
}, {
  label: '内埔乡',
  value: 713332
}, {
  label: '竹田乡',
  value: 713333
}, {
  label: '新埤乡',
  value: 713334
}, {
  label: '枋寮乡',
  value: 713335
}, {
  label: '新园乡',
  value: 713336
}, {
  label: '崁顶乡',
  value: 713337
}, {
  label: '林边乡',
  value: 713338
}, {
  label: '南州乡',
  value: 713339
}, {
  label: '佳冬乡',
  value: 713340
}, {
  label: '琉球乡',
  value: 713341
}, {
  label: '车城乡',
  value: 713342
}, {
  label: '满州乡',
  value: 713343
}, {
  label: '枋山乡',
  value: 713344
}, {
  label: '三地门乡',
  value: 713345
}, {
  label: '雾台乡',
  value: 713346
}, {
  label: '玛家乡',
  value: 713347
}, {
  label: '泰武乡',
  value: 713348
}, {
  label: '来义乡',
  value: 713349
}, {
  label: '春日乡',
  value: 713350
}, {
  label: '狮子乡',
  value: 713351
}, {
  label: '牡丹乡',
  value: 713352
}], [{
  label: '台东市',
  value: 713401
}, {
  label: '成功镇',
  value: 713421
}, {
  label: '关山镇',
  value: 713422
}, {
  label: '卑南乡',
  value: 713423
}, {
  label: '鹿野乡',
  value: 713424
}, {
  label: '池上乡',
  value: 713425
}, {
  label: '东河乡',
  value: 713426
}, {
  label: '长滨乡',
  value: 713427
}, {
  label: '太麻里乡',
  value: 713428
}, {
  label: '大武乡',
  value: 713429
}, {
  label: '绿岛乡',
  value: 713430
}, {
  label: '海端乡',
  value: 713431
}, {
  label: '延平乡',
  value: 713432
}, {
  label: '金峰乡',
  value: 713433
}, {
  label: '达仁乡',
  value: 713434
}, {
  label: '兰屿乡',
  value: 713435
}], [{
  label: '花莲市',
  value: 713501
}, {
  label: '凤林镇',
  value: 713521
}, {
  label: '玉里镇',
  value: 713522
}, {
  label: '新城乡',
  value: 713523
}, {
  label: '吉安乡',
  value: 713524
}, {
  label: '寿丰乡',
  value: 713525
}, {
  label: '光复乡',
  value: 713526
}, {
  label: '丰滨乡',
  value: 713527
}, {
  label: '瑞穗乡',
  value: 713528
}, {
  label: '富里乡',
  value: 713529
}, {
  label: '秀林乡',
  value: 713530
}, {
  label: '万荣乡',
  value: 713531
}, {
  label: '卓溪乡',
  value: 713532
}], [{
  label: '马公市',
  value: 713601
}, {
  label: '湖西乡',
  value: 713621
}, {
  label: '白沙乡',
  value: 713622
}, {
  label: '西屿乡',
  value: 713623
}, {
  label: '望安乡',
  value: 713624
}, {
  label: '七美乡',
  value: 713625
}], [{
  label: '金城镇',
  value: 713701
}, {
  label: '金湖镇',
  value: 713702
}, {
  label: '金沙镇',
  value: 713703
}, {
  label: '金宁乡',
  value: 713704
}, {
  label: '烈屿乡',
  value: 713705
}, {
  label: '乌丘乡',
  value: 713706
}], [{
  label: '南竿乡',
  value: 713801
}, {
  label: '北竿乡',
  value: 713802
}, {
  label: '莒光乡',
  value: 713803
}, {
  label: '东引乡',
  value: 713804
}]], [[{
  label: '中西区',
  value: 810101
}, {
  label: '湾仔区',
  value: 810102
}, {
  label: '东区',
  value: 810103
}, {
  label: '南区',
  value: 810104
}], [{
  label: '油尖旺区',
  value: 810201
}, {
  label: '深水埗区',
  value: 810202
}, {
  label: '九龙城区',
  value: 810203
}, {
  label: '黄大仙区',
  value: 810204
}, {
  label: '观塘区',
  value: 810205
}], [{
  label: '荃湾区',
  value: 810301
}, {
  label: '屯门区',
  value: 810302
}, {
  label: '元朗区',
  value: 810303
}, {
  label: '北区',
  value: 810304
}, {
  label: '大埔区',
  value: 810305
}, {
  label: '西贡区',
  value: 810306
}, {
  label: '沙田区',
  value: 810307
}, {
  label: '葵青区',
  value: 810308
}, {
  label: '离岛区',
  value: 810309
}]], [[{
  label: '花地玛堂区',
  value: 820101
}, {
  label: '圣安多尼堂区',
  value: 820102
}, {
  label: '大堂区',
  value: 820103
}, {
  label: '望德堂区',
  value: 820104
}, {
  label: '风顺堂区',
  value: 820105
}], [{
  label: '嘉模堂区',
  value: 820201
}], [{
  label: '圣方济各堂区',
  value: 820301
}]]];
exports.default = _default;

/***/ }),

/***/ 1499:
/*!****************************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/components/uview-ui/libs/util/async-validator.js ***!
  \****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(process) {

var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _typeof2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/typeof */ 13));
function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends.apply(this, arguments);
}

/* eslint no-console:0 */
var formatRegExp = /%[sdj%]/g;
var warning = function warning() {}; // don't print warning message when in production env or node runtime

if (typeof process !== 'undefined' && Object({"NODE_ENV":"development","VUE_APP_DARK_MODE":"false","VUE_APP_NAME":"LikeShopPlus","VUE_APP_PLATFORM":"mp-weixin","BASE_URL":"/"}) && "development" !== 'production' && typeof window !== 'undefined' && typeof document !== 'undefined') {
  warning = function warning(type, errors) {
    if (typeof console !== 'undefined' && console.warn) {
      if (errors.every(function (e) {
        return typeof e === 'string';
      })) {
        console.warn(type, errors);
      }
    }
  };
}
function convertFieldsError(errors) {
  if (!errors || !errors.length) return null;
  var fields = {};
  errors.forEach(function (error) {
    var field = error.field;
    fields[field] = fields[field] || [];
    fields[field].push(error);
  });
  return fields;
}
function format() {
  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }
  var i = 1;
  var f = args[0];
  var len = args.length;
  if (typeof f === 'function') {
    return f.apply(null, args.slice(1));
  }
  if (typeof f === 'string') {
    var str = String(f).replace(formatRegExp, function (x) {
      if (x === '%%') {
        return '%';
      }
      if (i >= len) {
        return x;
      }
      switch (x) {
        case '%s':
          return String(args[i++]);
        case '%d':
          return Number(args[i++]);
        case '%j':
          try {
            return JSON.stringify(args[i++]);
          } catch (_) {
            return '[Circular]';
          }
          break;
        default:
          return x;
      }
    });
    for (var arg = args[i]; i < len; arg = args[++i]) {
      str += " " + arg;
    }
    return str;
  }
  return f;
}
function isNativeStringType(type) {
  return type === 'string' || type === 'url' || type === 'hex' || type === 'email' || type === 'pattern';
}
function isEmptyValue(value, type) {
  if (value === undefined || value === null) {
    return true;
  }
  if (type === 'array' && Array.isArray(value) && !value.length) {
    return true;
  }
  if (isNativeStringType(type) && typeof value === 'string' && !value) {
    return true;
  }
  return false;
}
function asyncParallelArray(arr, func, callback) {
  var results = [];
  var total = 0;
  var arrLength = arr.length;
  function count(errors) {
    results.push.apply(results, errors);
    total++;
    if (total === arrLength) {
      callback(results);
    }
  }
  arr.forEach(function (a) {
    func(a, count);
  });
}
function asyncSerialArray(arr, func, callback) {
  var index = 0;
  var arrLength = arr.length;
  function next(errors) {
    if (errors && errors.length) {
      callback(errors);
      return;
    }
    var original = index;
    index = index + 1;
    if (original < arrLength) {
      func(arr[original], next);
    } else {
      callback([]);
    }
  }
  next([]);
}
function flattenObjArr(objArr) {
  var ret = [];
  Object.keys(objArr).forEach(function (k) {
    ret.push.apply(ret, objArr[k]);
  });
  return ret;
}
function asyncMap(objArr, option, func, callback) {
  if (option.first) {
    var _pending = new Promise(function (resolve, reject) {
      var next = function next(errors) {
        callback(errors);
        return errors.length ? reject({
          errors: errors,
          fields: convertFieldsError(errors)
        }) : resolve();
      };
      var flattenArr = flattenObjArr(objArr);
      asyncSerialArray(flattenArr, func, next);
    });
    _pending["catch"](function (e) {
      return e;
    });
    return _pending;
  }
  var firstFields = option.firstFields || [];
  if (firstFields === true) {
    firstFields = Object.keys(objArr);
  }
  var objArrKeys = Object.keys(objArr);
  var objArrLength = objArrKeys.length;
  var total = 0;
  var results = [];
  var pending = new Promise(function (resolve, reject) {
    var next = function next(errors) {
      results.push.apply(results, errors);
      total++;
      if (total === objArrLength) {
        callback(results);
        return results.length ? reject({
          errors: results,
          fields: convertFieldsError(results)
        }) : resolve();
      }
    };
    if (!objArrKeys.length) {
      callback(results);
      resolve();
    }
    objArrKeys.forEach(function (key) {
      var arr = objArr[key];
      if (firstFields.indexOf(key) !== -1) {
        asyncSerialArray(arr, func, next);
      } else {
        asyncParallelArray(arr, func, next);
      }
    });
  });
  pending["catch"](function (e) {
    return e;
  });
  return pending;
}
function complementError(rule) {
  return function (oe) {
    if (oe && oe.message) {
      oe.field = oe.field || rule.fullField;
      return oe;
    }
    return {
      message: typeof oe === 'function' ? oe() : oe,
      field: oe.field || rule.fullField
    };
  };
}
function deepMerge(target, source) {
  if (source) {
    for (var s in source) {
      if (source.hasOwnProperty(s)) {
        var value = source[s];
        if ((0, _typeof2.default)(value) === 'object' && (0, _typeof2.default)(target[s]) === 'object') {
          target[s] = _extends({}, target[s], {}, value);
        } else {
          target[s] = value;
        }
      }
    }
  }
  return target;
}

/**
 *  Rule for validating required fields.
 *
 *  @param rule The validation rule.
 *  @param value The value of the field on the source object.
 *  @param source The source object being validated.
 *  @param errors An array of errors that this rule may add
 *  validation errors to.
 *  @param options The validation options.
 *  @param options.messages The validation messages.
 */

function required(rule, value, source, errors, options, type) {
  if (rule.required && (!source.hasOwnProperty(rule.field) || isEmptyValue(value, type || rule.type))) {
    errors.push(format(options.messages.required, rule.fullField));
  }
}

/**
 *  Rule for validating whitespace.
 *
 *  @param rule The validation rule.
 *  @param value The value of the field on the source object.
 *  @param source The source object being validated.
 *  @param errors An array of errors that this rule may add
 *  validation errors to.
 *  @param options The validation options.
 *  @param options.messages The validation messages.
 */

function whitespace(rule, value, source, errors, options) {
  if (/^\s+$/.test(value) || value === '') {
    errors.push(format(options.messages.whitespace, rule.fullField));
  }
}

/* eslint max-len:0 */

var pattern = {
  // http://emailregex.com/
  email: /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,
  url: new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$", 'i'),
  hex: /^#?([a-f0-9]{6}|[a-f0-9]{3})$/i
};
var types = {
  integer: function integer(value) {
    return types.number(value) && parseInt(value, 10) === value;
  },
  "float": function float(value) {
    return types.number(value) && !types.integer(value);
  },
  array: function array(value) {
    return Array.isArray(value);
  },
  regexp: function regexp(value) {
    if (value instanceof RegExp) {
      return true;
    }
    try {
      return !!new RegExp(value);
    } catch (e) {
      return false;
    }
  },
  date: function date(value) {
    return typeof value.getTime === 'function' && typeof value.getMonth === 'function' && typeof value.getYear === 'function';
  },
  number: function number(value) {
    if (isNaN(value)) {
      return false;
    }

    // 修改源码，将字符串数值先转为数值
    return typeof +value === 'number';
  },
  object: function object(value) {
    return (0, _typeof2.default)(value) === 'object' && !types.array(value);
  },
  method: function method(value) {
    return typeof value === 'function';
  },
  email: function email(value) {
    return typeof value === 'string' && !!value.match(pattern.email) && value.length < 255;
  },
  url: function url(value) {
    return typeof value === 'string' && !!value.match(pattern.url);
  },
  hex: function hex(value) {
    return typeof value === 'string' && !!value.match(pattern.hex);
  }
};
/**
 *  Rule for validating the type of a value.
 *
 *  @param rule The validation rule.
 *  @param value The value of the field on the source object.
 *  @param source The source object being validated.
 *  @param errors An array of errors that this rule may add
 *  validation errors to.
 *  @param options The validation options.
 *  @param options.messages The validation messages.
 */

function type(rule, value, source, errors, options) {
  if (rule.required && value === undefined) {
    required(rule, value, source, errors, options);
    return;
  }
  var custom = ['integer', 'float', 'array', 'regexp', 'object', 'method', 'email', 'number', 'date', 'url', 'hex'];
  var ruleType = rule.type;
  if (custom.indexOf(ruleType) > -1) {
    if (!types[ruleType](value)) {
      errors.push(format(options.messages.types[ruleType], rule.fullField, rule.type));
    } // straight typeof check
  } else if (ruleType && (0, _typeof2.default)(value) !== rule.type) {
    errors.push(format(options.messages.types[ruleType], rule.fullField, rule.type));
  }
}

/**
 *  Rule for validating minimum and maximum allowed values.
 *
 *  @param rule The validation rule.
 *  @param value The value of the field on the source object.
 *  @param source The source object being validated.
 *  @param errors An array of errors that this rule may add
 *  validation errors to.
 *  @param options The validation options.
 *  @param options.messages The validation messages.
 */

function range(rule, value, source, errors, options) {
  var len = typeof rule.len === 'number';
  var min = typeof rule.min === 'number';
  var max = typeof rule.max === 'number'; // 正则匹配码点范围从U+010000一直到U+10FFFF的文字（补充平面Supplementary Plane）

  var spRegexp = /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
  var val = value;
  var key = null;
  var num = typeof value === 'number';
  var str = typeof value === 'string';
  var arr = Array.isArray(value);
  if (num) {
    key = 'number';
  } else if (str) {
    key = 'string';
  } else if (arr) {
    key = 'array';
  } // if the value is not of a supported type for range validation
  // the validation rule rule should use the
  // type property to also test for a particular type

  if (!key) {
    return false;
  }
  if (arr) {
    val = value.length;
  }
  if (str) {
    // 处理码点大于U+010000的文字length属性不准确的bug，如"𠮷𠮷𠮷".lenght !== 3
    val = value.replace(spRegexp, '_').length;
  }
  if (len) {
    if (val !== rule.len) {
      errors.push(format(options.messages[key].len, rule.fullField, rule.len));
    }
  } else if (min && !max && val < rule.min) {
    errors.push(format(options.messages[key].min, rule.fullField, rule.min));
  } else if (max && !min && val > rule.max) {
    errors.push(format(options.messages[key].max, rule.fullField, rule.max));
  } else if (min && max && (val < rule.min || val > rule.max)) {
    errors.push(format(options.messages[key].range, rule.fullField, rule.min, rule.max));
  }
}
var ENUM = 'enum';
/**
 *  Rule for validating a value exists in an enumerable list.
 *
 *  @param rule The validation rule.
 *  @param value The value of the field on the source object.
 *  @param source The source object being validated.
 *  @param errors An array of errors that this rule may add
 *  validation errors to.
 *  @param options The validation options.
 *  @param options.messages The validation messages.
 */

function enumerable(rule, value, source, errors, options) {
  rule[ENUM] = Array.isArray(rule[ENUM]) ? rule[ENUM] : [];
  if (rule[ENUM].indexOf(value) === -1) {
    errors.push(format(options.messages[ENUM], rule.fullField, rule[ENUM].join(', ')));
  }
}

/**
 *  Rule for validating a regular expression pattern.
 *
 *  @param rule The validation rule.
 *  @param value The value of the field on the source object.
 *  @param source The source object being validated.
 *  @param errors An array of errors that this rule may add
 *  validation errors to.
 *  @param options The validation options.
 *  @param options.messages The validation messages.
 */

function pattern$1(rule, value, source, errors, options) {
  if (rule.pattern) {
    if (rule.pattern instanceof RegExp) {
      // if a RegExp instance is passed, reset `lastIndex` in case its `global`
      // flag is accidentally set to `true`, which in a validation scenario
      // is not necessary and the result might be misleading
      rule.pattern.lastIndex = 0;
      if (!rule.pattern.test(value)) {
        errors.push(format(options.messages.pattern.mismatch, rule.fullField, value, rule.pattern));
      }
    } else if (typeof rule.pattern === 'string') {
      var _pattern = new RegExp(rule.pattern);
      if (!_pattern.test(value)) {
        errors.push(format(options.messages.pattern.mismatch, rule.fullField, value, rule.pattern));
      }
    }
  }
}
var rules = {
  required: required,
  whitespace: whitespace,
  type: type,
  range: range,
  "enum": enumerable,
  pattern: pattern$1
};

/**
 *  Performs validation for string types.
 *
 *  @param rule The validation rule.
 *  @param value The value of the field on the source object.
 *  @param callback The callback function.
 *  @param source The source object being validated.
 *  @param options The validation options.
 *  @param options.messages The validation messages.
 */

function string(rule, value, callback, source, options) {
  var errors = [];
  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);
  if (validate) {
    if (isEmptyValue(value, 'string') && !rule.required) {
      return callback();
    }
    rules.required(rule, value, source, errors, options, 'string');
    if (!isEmptyValue(value, 'string')) {
      rules.type(rule, value, source, errors, options);
      rules.range(rule, value, source, errors, options);
      rules.pattern(rule, value, source, errors, options);
      if (rule.whitespace === true) {
        rules.whitespace(rule, value, source, errors, options);
      }
    }
  }
  callback(errors);
}

/**
 *  Validates a function.
 *
 *  @param rule The validation rule.
 *  @param value The value of the field on the source object.
 *  @param callback The callback function.
 *  @param source The source object being validated.
 *  @param options The validation options.
 *  @param options.messages The validation messages.
 */

function method(rule, value, callback, source, options) {
  var errors = [];
  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);
  if (validate) {
    if (isEmptyValue(value) && !rule.required) {
      return callback();
    }
    rules.required(rule, value, source, errors, options);
    if (value !== undefined) {
      rules.type(rule, value, source, errors, options);
    }
  }
  callback(errors);
}

/**
 *  Validates a number.
 *
 *  @param rule The validation rule.
 *  @param value The value of the field on the source object.
 *  @param callback The callback function.
 *  @param source The source object being validated.
 *  @param options The validation options.
 *  @param options.messages The validation messages.
 */

function number(rule, value, callback, source, options) {
  var errors = [];
  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);
  if (validate) {
    if (value === '') {
      value = undefined;
    }
    if (isEmptyValue(value) && !rule.required) {
      return callback();
    }
    rules.required(rule, value, source, errors, options);
    if (value !== undefined) {
      rules.type(rule, value, source, errors, options);
      rules.range(rule, value, source, errors, options);
    }
  }
  callback(errors);
}

/**
 *  Validates a boolean.
 *
 *  @param rule The validation rule.
 *  @param value The value of the field on the source object.
 *  @param callback The callback function.
 *  @param source The source object being validated.
 *  @param options The validation options.
 *  @param options.messages The validation messages.
 */

function _boolean(rule, value, callback, source, options) {
  var errors = [];
  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);
  if (validate) {
    if (isEmptyValue(value) && !rule.required) {
      return callback();
    }
    rules.required(rule, value, source, errors, options);
    if (value !== undefined) {
      rules.type(rule, value, source, errors, options);
    }
  }
  callback(errors);
}

/**
 *  Validates the regular expression type.
 *
 *  @param rule The validation rule.
 *  @param value The value of the field on the source object.
 *  @param callback The callback function.
 *  @param source The source object being validated.
 *  @param options The validation options.
 *  @param options.messages The validation messages.
 */

function regexp(rule, value, callback, source, options) {
  var errors = [];
  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);
  if (validate) {
    if (isEmptyValue(value) && !rule.required) {
      return callback();
    }
    rules.required(rule, value, source, errors, options);
    if (!isEmptyValue(value)) {
      rules.type(rule, value, source, errors, options);
    }
  }
  callback(errors);
}

/**
 *  Validates a number is an integer.
 *
 *  @param rule The validation rule.
 *  @param value The value of the field on the source object.
 *  @param callback The callback function.
 *  @param source The source object being validated.
 *  @param options The validation options.
 *  @param options.messages The validation messages.
 */

function integer(rule, value, callback, source, options) {
  var errors = [];
  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);
  if (validate) {
    if (isEmptyValue(value) && !rule.required) {
      return callback();
    }
    rules.required(rule, value, source, errors, options);
    if (value !== undefined) {
      rules.type(rule, value, source, errors, options);
      rules.range(rule, value, source, errors, options);
    }
  }
  callback(errors);
}

/**
 *  Validates a number is a floating point number.
 *
 *  @param rule The validation rule.
 *  @param value The value of the field on the source object.
 *  @param callback The callback function.
 *  @param source The source object being validated.
 *  @param options The validation options.
 *  @param options.messages The validation messages.
 */

function floatFn(rule, value, callback, source, options) {
  var errors = [];
  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);
  if (validate) {
    if (isEmptyValue(value) && !rule.required) {
      return callback();
    }
    rules.required(rule, value, source, errors, options);
    if (value !== undefined) {
      rules.type(rule, value, source, errors, options);
      rules.range(rule, value, source, errors, options);
    }
  }
  callback(errors);
}

/**
 *  Validates an array.
 *
 *  @param rule The validation rule.
 *  @param value The value of the field on the source object.
 *  @param callback The callback function.
 *  @param source The source object being validated.
 *  @param options The validation options.
 *  @param options.messages The validation messages.
 */

function array(rule, value, callback, source, options) {
  var errors = [];
  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);
  if (validate) {
    if (isEmptyValue(value, 'array') && !rule.required) {
      return callback();
    }
    rules.required(rule, value, source, errors, options, 'array');
    if (!isEmptyValue(value, 'array')) {
      rules.type(rule, value, source, errors, options);
      rules.range(rule, value, source, errors, options);
    }
  }
  callback(errors);
}

/**
 *  Validates an object.
 *
 *  @param rule The validation rule.
 *  @param value The value of the field on the source object.
 *  @param callback The callback function.
 *  @param source The source object being validated.
 *  @param options The validation options.
 *  @param options.messages The validation messages.
 */

function object(rule, value, callback, source, options) {
  var errors = [];
  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);
  if (validate) {
    if (isEmptyValue(value) && !rule.required) {
      return callback();
    }
    rules.required(rule, value, source, errors, options);
    if (value !== undefined) {
      rules.type(rule, value, source, errors, options);
    }
  }
  callback(errors);
}
var ENUM$1 = 'enum';
/**
 *  Validates an enumerable list.
 *
 *  @param rule The validation rule.
 *  @param value The value of the field on the source object.
 *  @param callback The callback function.
 *  @param source The source object being validated.
 *  @param options The validation options.
 *  @param options.messages The validation messages.
 */

function enumerable$1(rule, value, callback, source, options) {
  var errors = [];
  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);
  if (validate) {
    if (isEmptyValue(value) && !rule.required) {
      return callback();
    }
    rules.required(rule, value, source, errors, options);
    if (value !== undefined) {
      rules[ENUM$1](rule, value, source, errors, options);
    }
  }
  callback(errors);
}

/**
 *  Validates a regular expression pattern.
 *
 *  Performs validation when a rule only contains
 *  a pattern property but is not declared as a string type.
 *
 *  @param rule The validation rule.
 *  @param value The value of the field on the source object.
 *  @param callback The callback function.
 *  @param source The source object being validated.
 *  @param options The validation options.
 *  @param options.messages The validation messages.
 */

function pattern$2(rule, value, callback, source, options) {
  var errors = [];
  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);
  if (validate) {
    if (isEmptyValue(value, 'string') && !rule.required) {
      return callback();
    }
    rules.required(rule, value, source, errors, options);
    if (!isEmptyValue(value, 'string')) {
      rules.pattern(rule, value, source, errors, options);
    }
  }
  callback(errors);
}
function date(rule, value, callback, source, options) {
  var errors = [];
  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);
  if (validate) {
    if (isEmptyValue(value) && !rule.required) {
      return callback();
    }
    rules.required(rule, value, source, errors, options);
    if (!isEmptyValue(value)) {
      var dateObject;
      if (typeof value === 'number') {
        dateObject = new Date(value);
      } else {
        dateObject = value;
      }
      rules.type(rule, dateObject, source, errors, options);
      if (dateObject) {
        rules.range(rule, dateObject.getTime(), source, errors, options);
      }
    }
  }
  callback(errors);
}
function required$1(rule, value, callback, source, options) {
  var errors = [];
  var type = Array.isArray(value) ? 'array' : (0, _typeof2.default)(value);
  rules.required(rule, value, source, errors, options, type);
  callback(errors);
}
function type$1(rule, value, callback, source, options) {
  var ruleType = rule.type;
  var errors = [];
  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);
  if (validate) {
    if (isEmptyValue(value, ruleType) && !rule.required) {
      return callback();
    }
    rules.required(rule, value, source, errors, options, ruleType);
    if (!isEmptyValue(value, ruleType)) {
      rules.type(rule, value, source, errors, options);
    }
  }
  callback(errors);
}

/**
 *  Performs validation for any type.
 *
 *  @param rule The validation rule.
 *  @param value The value of the field on the source object.
 *  @param callback The callback function.
 *  @param source The source object being validated.
 *  @param options The validation options.
 *  @param options.messages The validation messages.
 */

function any(rule, value, callback, source, options) {
  var errors = [];
  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);
  if (validate) {
    if (isEmptyValue(value) && !rule.required) {
      return callback();
    }
    rules.required(rule, value, source, errors, options);
  }
  callback(errors);
}
var validators = {
  string: string,
  method: method,
  number: number,
  "boolean": _boolean,
  regexp: regexp,
  integer: integer,
  "float": floatFn,
  array: array,
  object: object,
  "enum": enumerable$1,
  pattern: pattern$2,
  date: date,
  url: type$1,
  hex: type$1,
  email: type$1,
  required: required$1,
  any: any
};
function newMessages() {
  return {
    "default": 'Validation error on field %s',
    required: '%s is required',
    "enum": '%s must be one of %s',
    whitespace: '%s cannot be empty',
    date: {
      format: '%s date %s is invalid for format %s',
      parse: '%s date could not be parsed, %s is invalid ',
      invalid: '%s date %s is invalid'
    },
    types: {
      string: '%s is not a %s',
      method: '%s is not a %s (function)',
      array: '%s is not an %s',
      object: '%s is not an %s',
      number: '%s is not a %s',
      date: '%s is not a %s',
      "boolean": '%s is not a %s',
      integer: '%s is not an %s',
      "float": '%s is not a %s',
      regexp: '%s is not a valid %s',
      email: '%s is not a valid %s',
      url: '%s is not a valid %s',
      hex: '%s is not a valid %s'
    },
    string: {
      len: '%s must be exactly %s characters',
      min: '%s must be at least %s characters',
      max: '%s cannot be longer than %s characters',
      range: '%s must be between %s and %s characters'
    },
    number: {
      len: '%s must equal %s',
      min: '%s cannot be less than %s',
      max: '%s cannot be greater than %s',
      range: '%s must be between %s and %s'
    },
    array: {
      len: '%s must be exactly %s in length',
      min: '%s cannot be less than %s in length',
      max: '%s cannot be greater than %s in length',
      range: '%s must be between %s and %s in length'
    },
    pattern: {
      mismatch: '%s value %s does not match pattern %s'
    },
    clone: function clone() {
      var cloned = JSON.parse(JSON.stringify(this));
      cloned.clone = this.clone;
      return cloned;
    }
  };
}
var messages = newMessages();

/**
 *  Encapsulates a validation schema.
 *
 *  @param descriptor An object declaring validation rules
 *  for this schema.
 */

function Schema(descriptor) {
  this.rules = null;
  this._messages = messages;
  this.define(descriptor);
}
Schema.prototype = {
  messages: function messages(_messages) {
    if (_messages) {
      this._messages = deepMerge(newMessages(), _messages);
    }
    return this._messages;
  },
  define: function define(rules) {
    if (!rules) {
      throw new Error('Cannot configure a schema with no rules');
    }
    if ((0, _typeof2.default)(rules) !== 'object' || Array.isArray(rules)) {
      throw new Error('Rules must be an object');
    }
    this.rules = {};
    var z;
    var item;
    for (z in rules) {
      if (rules.hasOwnProperty(z)) {
        item = rules[z];
        this.rules[z] = Array.isArray(item) ? item : [item];
      }
    }
  },
  validate: function validate(source_, o, oc) {
    var _this = this;
    if (o === void 0) {
      o = {};
    }
    if (oc === void 0) {
      oc = function oc() {};
    }
    var source = source_;
    var options = o;
    var callback = oc;
    if (typeof options === 'function') {
      callback = options;
      options = {};
    }
    if (!this.rules || Object.keys(this.rules).length === 0) {
      if (callback) {
        callback();
      }
      return Promise.resolve();
    }
    function complete(results) {
      var i;
      var errors = [];
      var fields = {};
      function add(e) {
        if (Array.isArray(e)) {
          var _errors;
          errors = (_errors = errors).concat.apply(_errors, e);
        } else {
          errors.push(e);
        }
      }
      for (i = 0; i < results.length; i++) {
        add(results[i]);
      }
      if (!errors.length) {
        errors = null;
        fields = null;
      } else {
        fields = convertFieldsError(errors);
      }
      callback(errors, fields);
    }
    if (options.messages) {
      var messages$1 = this.messages();
      if (messages$1 === messages) {
        messages$1 = newMessages();
      }
      deepMerge(messages$1, options.messages);
      options.messages = messages$1;
    } else {
      options.messages = this.messages();
    }
    var arr;
    var value;
    var series = {};
    var keys = options.keys || Object.keys(this.rules);
    keys.forEach(function (z) {
      arr = _this.rules[z];
      value = source[z];
      arr.forEach(function (r) {
        var rule = r;
        if (typeof rule.transform === 'function') {
          if (source === source_) {
            source = _extends({}, source);
          }
          value = source[z] = rule.transform(value);
        }
        if (typeof rule === 'function') {
          rule = {
            validator: rule
          };
        } else {
          rule = _extends({}, rule);
        }
        rule.validator = _this.getValidationMethod(rule);
        rule.field = z;
        rule.fullField = rule.fullField || z;
        rule.type = _this.getType(rule);
        if (!rule.validator) {
          return;
        }
        series[z] = series[z] || [];
        series[z].push({
          rule: rule,
          value: value,
          source: source,
          field: z
        });
      });
    });
    var errorFields = {};
    return asyncMap(series, options, function (data, doIt) {
      var rule = data.rule;
      var deep = (rule.type === 'object' || rule.type === 'array') && ((0, _typeof2.default)(rule.fields) === 'object' || (0, _typeof2.default)(rule.defaultField) === 'object');
      deep = deep && (rule.required || !rule.required && data.value);
      rule.field = data.field;
      function addFullfield(key, schema) {
        return _extends({}, schema, {
          fullField: rule.fullField + "." + key
        });
      }
      function cb(e) {
        if (e === void 0) {
          e = [];
        }
        var errors = e;
        if (!Array.isArray(errors)) {
          errors = [errors];
        }
        if (!options.suppressWarning && errors.length) {
          Schema.warning('async-validator:', errors);
        }
        if (errors.length && rule.message) {
          errors = [].concat(rule.message);
        }
        errors = errors.map(complementError(rule));
        if (options.first && errors.length) {
          errorFields[rule.field] = 1;
          return doIt(errors);
        }
        if (!deep) {
          doIt(errors);
        } else {
          // if rule is required but the target object
          // does not exist fail at the rule level and don't
          // go deeper
          if (rule.required && !data.value) {
            if (rule.message) {
              errors = [].concat(rule.message).map(complementError(rule));
            } else if (options.error) {
              errors = [options.error(rule, format(options.messages.required, rule.field))];
            } else {
              errors = [];
            }
            return doIt(errors);
          }
          var fieldsSchema = {};
          if (rule.defaultField) {
            for (var k in data.value) {
              if (data.value.hasOwnProperty(k)) {
                fieldsSchema[k] = rule.defaultField;
              }
            }
          }
          fieldsSchema = _extends({}, fieldsSchema, {}, data.rule.fields);
          for (var f in fieldsSchema) {
            if (fieldsSchema.hasOwnProperty(f)) {
              var fieldSchema = Array.isArray(fieldsSchema[f]) ? fieldsSchema[f] : [fieldsSchema[f]];
              fieldsSchema[f] = fieldSchema.map(addFullfield.bind(null, f));
            }
          }
          var schema = new Schema(fieldsSchema);
          schema.messages(options.messages);
          if (data.rule.options) {
            data.rule.options.messages = options.messages;
            data.rule.options.error = options.error;
          }
          schema.validate(data.value, data.rule.options || options, function (errs) {
            var finalErrors = [];
            if (errors && errors.length) {
              finalErrors.push.apply(finalErrors, errors);
            }
            if (errs && errs.length) {
              finalErrors.push.apply(finalErrors, errs);
            }
            doIt(finalErrors.length ? finalErrors : null);
          });
        }
      }
      var res;
      if (rule.asyncValidator) {
        res = rule.asyncValidator(rule, data.value, cb, data.source, options);
      } else if (rule.validator) {
        res = rule.validator(rule, data.value, cb, data.source, options);
        if (res === true) {
          cb();
        } else if (res === false) {
          cb(rule.message || rule.field + " fails");
        } else if (res instanceof Array) {
          cb(res);
        } else if (res instanceof Error) {
          cb(res.message);
        }
      }
      if (res && res.then) {
        res.then(function () {
          return cb();
        }, function (e) {
          return cb(e);
        });
      }
    }, function (results) {
      complete(results);
    });
  },
  getType: function getType(rule) {
    if (rule.type === undefined && rule.pattern instanceof RegExp) {
      rule.type = 'pattern';
    }
    if (typeof rule.validator !== 'function' && rule.type && !validators.hasOwnProperty(rule.type)) {
      throw new Error(format('Unknown rule type %s', rule.type));
    }
    return rule.type || 'string';
  },
  getValidationMethod: function getValidationMethod(rule) {
    if (typeof rule.validator === 'function') {
      return rule.validator;
    }
    var keys = Object.keys(rule);
    var messageIndex = keys.indexOf('message');
    if (messageIndex !== -1) {
      keys.splice(messageIndex, 1);
    }
    if (keys.length === 1 && keys[0] === 'required') {
      return validators.required;
    }
    return validators[this.getType(rule)] || false;
  }
};
Schema.register = function register(type, validator) {
  if (typeof validator !== 'function') {
    throw new Error('Cannot register a validator by type, validator is not a function');
  }
  validators[type] = validator;
};
Schema.warning = warning;
Schema.messages = messages;
var _default = Schema;
exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/node-libs-browser/mock/process.js */ 37)))

/***/ }),

/***/ 15:
/*!**********************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/construct.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var setPrototypeOf = __webpack_require__(/*! ./setPrototypeOf.js */ 16);
var isNativeReflectConstruct = __webpack_require__(/*! ./isNativeReflectConstruct.js */ 17);
function _construct(t, e, r) {
  if (isNativeReflectConstruct()) return Reflect.construct.apply(null, arguments);
  var o = [null];
  o.push.apply(o, e);
  var p = new (t.bind.apply(t, o))();
  return r && setPrototypeOf(p, r.prototype), p;
}
module.exports = _construct, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 16:
/*!***************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/setPrototypeOf.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function _setPrototypeOf(o, p) {
  module.exports = _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {
    o.__proto__ = p;
    return o;
  }, module.exports.__esModule = true, module.exports["default"] = module.exports;
  return _setPrototypeOf(o, p);
}
module.exports = _setPrototypeOf, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 1683:
/*!*******************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/components/widgets/category/category.js ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _default = {
  data: function data() {
    return {
      isCreated: false
    };
  },
  computed: {
    lists: function lists() {
      return this.isCreated ? this.parent.lists : [];
    },
    selectIndex: function selectIndex() {
      return this.isCreated ? this.parent.selectIndex : -1;
    },
    banner: function banner() {
      return this.isCreated ? this.parent.banner : null;
    },
    height: function height() {
      return this.isCreated ? this.parent.height : 0;
    }
  },
  created: function created() {
    var _this = this;
    Object.defineProperty(this, 'parent', {
      get: function get() {
        return _this.$getParent.call(_this, 'category') || {};
      }
    });
    this.isCreated = true;
  }
};
exports.default = _default;

/***/ }),

/***/ 17:
/*!*************************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function _isNativeReflectConstruct() {
  try {
    var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));
  } catch (t) {}
  return (module.exports = _isNativeReflectConstruct = function _isNativeReflectConstruct() {
    return !!t;
  }, module.exports.__esModule = true, module.exports["default"] = module.exports)();
}
module.exports = _isNativeReflectConstruct, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 175:
/*!****************************************************!*\
  !*** /Users/lisicheng/project/lijian/api/order.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.apiVerificationOrderList = exports.apiVerificationOrderDetail = exports.apiVerificationOrderConfirm = exports.apiOrderPlace = exports.apiOrderLogistics = exports.apiOrderList = exports.apiOrderDetail = exports.apiOrderDelete = exports.apiOrderConfirm = exports.apiOrderClose = exports.apiExpressInfo = exports.apiDeliveryType = exports.apiCommentLists = exports.apiCommentGoodsLists = exports.apiCommentGoodsInfo = exports.apiCommentCategory = exports.apiCommentAdd = exports.apiAfterSalePost = exports.apiAfterSaleList = exports.apiAfterSaleGoods = exports.apiAfterSaleDetail = exports.apiAfterSaleCancel = void 0;
exports.getwechatSyncCheck = getwechatSyncCheck;
exports.getwxReceiveDetail = getwxReceiveDetail;
var _request = _interopRequireDefault(__webpack_require__(/*! @/utils/request */ 35));
// 配送方式
var apiDeliveryType = function apiDeliveryType() {
  return _request.default.get("order/getDeliveryType");
};

// 物流查询
exports.apiDeliveryType = apiDeliveryType;
var apiOrderLogistics = function apiOrderLogistics(params) {
  return _request.default.get("order/orderTraces", {
    params: params
  });
};

/** S 订单 **/
// 结算订单 | 提交订单
exports.apiOrderLogistics = apiOrderLogistics;
var apiOrderPlace = function apiOrderPlace(params) {
  return _request.default.post("order/placeOrder", params);
};

// 订单列表
exports.apiOrderPlace = apiOrderPlace;
var apiOrderList = function apiOrderList(params) {
  return _request.default.get("order/lists", {
    params: params
  });
};

// 订单详情
exports.apiOrderList = apiOrderList;
var apiOrderDetail = function apiOrderDetail(params) {
  return _request.default.get("order/detail", {
    params: params
  });
};

// 取消订单
exports.apiOrderDetail = apiOrderDetail;
var apiOrderClose = function apiOrderClose(params) {
  return _request.default.post("order/cancel", params);
};

// 确认订单收货
exports.apiOrderClose = apiOrderClose;
var apiOrderConfirm = function apiOrderConfirm(params) {
  return _request.default.post("order/confirm", params);
};

// 删除订单
exports.apiOrderConfirm = apiOrderConfirm;
var apiOrderDelete = function apiOrderDelete(params) {
  return _request.default.post("order/del", params);
};
/** E 订单 **/

/** S 核销订单 **/
// 核销列表
exports.apiOrderDelete = apiOrderDelete;
var apiVerificationOrderList = function apiVerificationOrderList(params) {
  return _request.default.get("verification/lists", {
    params: params
  });
};

// 核销详情
exports.apiVerificationOrderList = apiVerificationOrderList;
var apiVerificationOrderDetail = function apiVerificationOrderDetail(params) {
  return _request.default.get("verification/verification", {
    params: params
  });
};

// 确认核销
exports.apiVerificationOrderDetail = apiVerificationOrderDetail;
var apiVerificationOrderConfirm = function apiVerificationOrderConfirm(params) {
  return _request.default.post("verification/verificationConfirm", params);
};
/** E 核销订单 **/

/** S 评价 **/
// 获取商品评价列表
exports.apiVerificationOrderConfirm = apiVerificationOrderConfirm;
var apiCommentLists = function apiCommentLists(params) {
  return _request.default.get("goods_comment/lists", {
    params: params
  });
};

// 获取评价商品列表
exports.apiCommentLists = apiCommentLists;
var apiCommentGoodsLists = function apiCommentGoodsLists(params) {
  return _request.default.get("goods_comment/commentGoodsLists", {
    params: params
  });
};

// 添加商品评价
exports.apiCommentGoodsLists = apiCommentGoodsLists;
var apiCommentAdd = function apiCommentAdd(params) {
  return _request.default.post("goods_comment/add", params);
};

// 获取商品评价分类
exports.apiCommentAdd = apiCommentAdd;
var apiCommentCategory = function apiCommentCategory(params) {
  return _request.default.get("goods_comment/commentCategory", {
    params: params
  });
};

// 获取商品评价分类
exports.apiCommentCategory = apiCommentCategory;
var apiCommentGoodsInfo = function apiCommentGoodsInfo(params) {
  return _request.default.get("goods_comment/commentGoodsInfo", {
    params: params
  });
};
/** E 评价 **/

/** S 售后 **/
// 获取提交售后子订单商品信息
exports.apiCommentGoodsInfo = apiCommentGoodsInfo;
var apiAfterSaleGoods = function apiAfterSaleGoods(params) {
  return _request.default.get("after_sale/orderGoodsInfo", {
    params: params
  });
};

// 提交售后商品申请
exports.apiAfterSaleGoods = apiAfterSaleGoods;
var apiAfterSalePost = function apiAfterSalePost(params) {
  return _request.default.post("after_sale/apply", params);
};

// 售后列表
exports.apiAfterSalePost = apiAfterSalePost;
var apiAfterSaleList = function apiAfterSaleList(params) {
  return _request.default.get("after_sale/lists", {
    params: params
  });
};

// 售后详情
exports.apiAfterSaleList = apiAfterSaleList;
var apiAfterSaleDetail = function apiAfterSaleDetail(params) {
  return _request.default.get("after_sale/detail", {
    params: params
  });
};

// 取消售后申请
exports.apiAfterSaleDetail = apiAfterSaleDetail;
var apiAfterSaleCancel = function apiAfterSaleCancel(params) {
  return _request.default.post("after_sale/cancel", params);
};

// 填写快递单号
exports.apiAfterSaleCancel = apiAfterSaleCancel;
var apiExpressInfo = function apiExpressInfo(params) {
  return _request.default.post("after_sale/returnGoods", params);
};
/** E 售后 **/
//确认收货组件
exports.apiExpressInfo = apiExpressInfo;
function getwxReceiveDetail(params) {
  return _request.default.get("order/wxReceiveDetail", {
    params: params
  });
}
//查询确认收货
function getwechatSyncCheck(params) {
  return _request.default.get("order/wechatSyncCheck", {
    params: params
  });
}

/***/ }),

/***/ 176:
/*!****************************************************!*\
  !*** /Users/lisicheng/project/lijian/api/model.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.createModelFile = exports.apiModelGoodsDetail = exports.apiModelDelete = void 0;
exports.downloadModelFile = downloadModelFile;
exports.getPresignedUpload = void 0;
exports.getmodelDetail = getmodelDetail;
exports.getmodelFileList = getmodelFileList;
exports.modelOrder = void 0;
exports.presignedUpload = presignedUpload;
var _defineProperty2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/defineProperty */ 11));
var _request = _interopRequireDefault(__webpack_require__(/*! @/utils/request */ 35));
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
// 删除模型
var apiModelDelete = function apiModelDelete(params) {
  return _request.default.post('modelfile/delete', params);
};

//获取模型文件
exports.apiModelDelete = apiModelDelete;
function getmodelFileList(params) {
  return _request.default.get("modelfile/lists", {
    params: params
  });
}

//获取模型文件详情
function getmodelDetail(params) {
  return _request.default.get("modelfile/detail", {
    params: params
  });
}

//预签名上传
function presignedUpload(params) {
  return _request.default.post("modelfile/presignedUpload", params);
}

// 预签名上传
var getPresignedUpload = function getPresignedUpload(params) {
  return _request.default.post('modelfile/getPresignedUpload', _objectSpread({}, params), {
    headers: {
      version: '3.3.0'
    }
  });
};

// 创建模型文件
exports.getPresignedUpload = getPresignedUpload;
var createModelFile = function createModelFile(params) {
  return _request.default.post('modelfile/createModelFile', _objectSpread({}, params), {
    headers: {
      version: '3.3.0'
    }
  });
};

// 模型提交订单
exports.createModelFile = createModelFile;
var modelOrder = function modelOrder(params) {
  return _request.default.post('modelfile/modelOrder', params);
};

// 获取模型文件商品详情
exports.modelOrder = modelOrder;
var apiModelGoodsDetail = function apiModelGoodsDetail(params) {
  return _request.default.get("modelfile/getModelGoodsInfo", {
    params: params
  });
};

//获取模型下载地址接口
exports.apiModelGoodsDetail = apiModelGoodsDetail;
function downloadModelFile(params) {
  return _request.default.get("modelfile/downloadModelFile", {
    params: params
  });
}

/***/ }),

/***/ 177:
/*!*******************************************************!*\
  !*** /Users/lisicheng/project/lijian/api/activity.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.apiSeckillPlace = exports.apiSeckillLists = exports.apiSeckillDetail = exports.apiPresellLists = exports.apiCouponGet = void 0;
var _request = _interopRequireDefault(__webpack_require__(/*! @/utils/request */ 35));
// 获取我的优惠券
var apiCouponGet = function apiCouponGet(params) {
  return _request.default.get('coupon/my', {
    params: params
  });
};

// 秒杀列表
exports.apiCouponGet = apiCouponGet;
var apiSeckillLists = function apiSeckillLists(params) {
  return _request.default.get('seckill/lists', {
    params: params
  });
};

// 秒杀详情
exports.apiSeckillLists = apiSeckillLists;
var apiSeckillDetail = function apiSeckillDetail(params) {
  return _request.default.get('seckill/detail', {
    params: params
  });
};

// 秒杀下单
exports.apiSeckillDetail = apiSeckillDetail;
var apiSeckillPlace = function apiSeckillPlace(params) {
  return _request.default.post('seckill/buy', params);
};

// 预售列表
exports.apiSeckillPlace = apiSeckillPlace;
var apiPresellLists = function apiPresellLists(params) {
  return _request.default.get('presell/lists', {
    params: params
  });
};
exports.apiPresellLists = apiPresellLists;

/***/ }),

/***/ 178:
/*!******************************************************!*\
  !*** /Users/lisicheng/project/lijian/api/bargain.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.apiMnpQrCodeInitiate = exports.apiBargainShareDetail = exports.apiBargainSettle = exports.apiBargainRecord = exports.apiBargainProgress = exports.apiBargainLists = exports.apiBargainInitiate = exports.apiBargainHelp = exports.apiBargainDetail = exports.apiBargainBuy = void 0;
var _request = _interopRequireDefault(__webpack_require__(/*! @/utils/request */ 35));
// 砍价商品列表
var apiBargainLists = function apiBargainLists(params) {
  return _request.default.get('bargain/lists');
};

// 砍价商品详情
exports.apiBargainLists = apiBargainLists;
var apiBargainDetail = function apiBargainDetail(params) {
  return _request.default.get('bargain/detail', {
    params: params
  });
};

// 发起砍价
exports.apiBargainDetail = apiBargainDetail;
var apiBargainInitiate = function apiBargainInitiate(params) {
  return _request.default.post('bargain/initiate', params);
};

// 帮助砍价
exports.apiBargainInitiate = apiBargainInitiate;
var apiBargainHelp = function apiBargainHelp(params) {
  return _request.default.post('bargain/help', params);
};

// 砍价记录
exports.apiBargainHelp = apiBargainHelp;
var apiBargainRecord = function apiBargainRecord(params) {
  return _request.default.get('bargain/record', {
    params: params
  });
};

// 砍价进度
exports.apiBargainRecord = apiBargainRecord;
var apiBargainProgress = function apiBargainProgress(params) {
  return _request.default.get('bargain/bargainProgress', {
    params: params
  });
};

// 分享帮砍详情
exports.apiBargainProgress = apiBargainProgress;
var apiBargainShareDetail = function apiBargainShareDetail(params) {
  return _request.default.get('bargain/shareDetail', {
    params: params
  });
};

// 砍价结算
exports.apiBargainShareDetail = apiBargainShareDetail;
var apiBargainSettle = function apiBargainSettle(params) {
  return _request.default.post('bargain/settle', params);
};

// 砍价下单
exports.apiBargainSettle = apiBargainSettle;
var apiBargainBuy = function apiBargainBuy(params) {
  return _request.default.post('bargain/buy', params);
};

// 获取海报二维码
exports.apiBargainBuy = apiBargainBuy;
var apiMnpQrCodeInitiate = function apiMnpQrCodeInitiate(params) {
  return _request.default.get('share/getMnpQrCodeInitiate', {
    params: params
  });
};
exports.apiMnpQrCodeInitiate = apiMnpQrCodeInitiate;

/***/ }),

/***/ 1780:
/*!**********************************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/uni_modules/lime-painter/components/common/relation.js ***!
  \**********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.children = children;
exports.parent = parent;
var _toConsumableArray2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ 18));
var _typeof2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/typeof */ 13));
var _defineProperty2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/defineProperty */ 11));
var styles = function styles() {
  var v = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
  return v.split(';').filter(function (v) {
    return v && !/^[\n\s]+$/.test(v);
  }).map(function (v) {
    var key = v.slice(0, v.indexOf(':'));
    var value = v.slice(v.indexOf(':') + 1);
    return (0, _defineProperty2.default)({}, key.replace(/-([a-z])/g, function () {
      return arguments[1].toUpperCase();
    }).replace(/\s+/g, ''), value.replace(/^\s+/, '').replace(/\s+$/, '') || '');
  });
};
function parent(parent) {
  return {
    provide: function provide() {
      return (0, _defineProperty2.default)({}, parent, this);
    },
    data: function data() {
      return {
        el: {
          css: {},
          views: []
        }
      };
    },
    watch: {
      css: {
        handler: function handler(v) {
          if (this.canvasId) {
            this.el.css = ((0, _typeof2.default)(v) == 'object' ? v : v && Object.assign.apply(Object, (0, _toConsumableArray2.default)(styles(v)))) || {};
            this.canvasWidth = this.el.css && this.el.css.width || this.canvasWidth;
            this.canvasHeight = this.el.css && this.el.css.height || this.canvasHeight;
          }
        },
        immediate: true
      }
    }
  };
}
function children(parent) {
  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  var indexKey = options.indexKey || 'index';
  return {
    inject: (0, _defineProperty2.default)({}, parent, {
      default: null
    }),
    watch: {
      el: {
        handler: function handler(v, o) {
          if (JSON.stringify(v) != JSON.stringify(o)) this.bindRelation();
        },
        deep: true,
        immediate: true
      },
      src: {
        handler: function handler(v, o) {
          if (v != o) this.bindRelation();
        },
        immediate: true
      },
      text: {
        handler: function handler(v, o) {
          if (v != o) this.bindRelation();
        },
        immediate: true
      },
      css: {
        handler: function handler(v, o) {
          if (v != o) this.el.css = ((0, _typeof2.default)(v) == 'object' ? v : v && Object.assign.apply(Object, (0, _toConsumableArray2.default)(styles(v)))) || {};
        },
        immediate: true
      },
      replace: {
        handler: function handler(v, o) {
          if (JSON.stringify(v) != JSON.stringify(o)) this.bindRelation();
        },
        deep: true,
        immediate: true
      }
    },
    created: function created() {
      var _this = this;
      if (!this._uid) {
        this._uid = this._.uid;
      }
      Object.defineProperty(this, 'parent', {
        get: function get() {
          return _this[parent] || [];
        }
      });
      Object.defineProperty(this, 'index', {
        get: function get() {
          _this.bindRelation();
          var _this$parent = _this.parent;
          _this$parent = _this$parent === void 0 ? {} : _this$parent;
          var _this$parent$el = _this$parent.el;
          _this$parent$el = _this$parent$el === void 0 ? {} : _this$parent$el;
          var _this$parent$el$views = _this$parent$el.views,
            views = _this$parent$el$views === void 0 ? [] : _this$parent$el$views;
          return views.indexOf(_this.el);
        }
      });
      this.el.type = this.type;
      this.bindRelation();
    },
    beforeDestroy: function beforeDestroy() {
      this.removeEl();
    },
    methods: {
      removeEl: function removeEl() {
        var _this2 = this;
        if (this.parent) {
          this.parent.el.views = this.parent.el.views.filter(function (item) {
            return item._uid !== _this2._uid;
          });
        }
      },
      bindRelation: function bindRelation() {
        var _this3 = this;
        if (!this.el._uid) {
          this.el._uid = this._uid;
        }
        if (['text', 'qrcode'].includes(this.type)) {
          this.el.text = this.$slots && this.$slots.default && this.$slots.default[0].text || "".concat(this.text || '').replace(/\\n/g, '\n');
        }
        if (this.type == 'image') {
          this.el.src = this.src;
        }
        if (!this.parent) {
          return;
        }
        var views = this.parent.el.views || [];
        if (views.indexOf(this.el) !== -1) {
          this.parent.el.views = views.map(function (v) {
            return v._uid == _this3._uid ? _this3.el : v;
          });
        } else {
          this.parent.el.views = [].concat((0, _toConsumableArray2.default)(views), [this.el]);
        }
      }
    },
    mounted: function mounted() {
      // this.bindRelation()
    }
  };
}

/***/ }),

/***/ 1781:
/*!**********************************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/uni_modules/lime-painter/components/l-painter/props.js ***!
  \**********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _default = {
  props: {
    board: Object,
    pathType: String,
    // 'base64'、'url'
    fileType: {
      type: String,
      default: 'png'
    },
    quality: {
      type: Number,
      default: 1
    },
    css: [String, Object],
    // styles: [String, Object],
    width: [Number, String],
    height: [Number, String],
    pixelRatio: Number,
    customStyle: String,
    isCanvasToTempFilePath: Boolean,
    // useCanvasToTempFilePath: Boolean,
    sleep: {
      type: Number,
      default: 1000 / 30
    },
    beforeDelay: {
      type: Number,
      default: 100
    },
    afterDelay: {
      type: Number,
      default: 100
    },
    type: {
      type: String,
      default: '2d'
    }
  }
};
exports.default = _default;

/***/ }),

/***/ 1782:
/*!**********************************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/uni_modules/lime-painter/components/l-painter/utils.js ***!
  \**********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni, wx) {

var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.base64ToPath = base64ToPath;
exports.compareVersion = compareVersion;
exports.downloadFile = downloadFile;
exports.getImageInfo = getImageInfo;
exports.isBase64 = void 0;
exports.isNumber = isNumber;
exports.networkReg = void 0;
exports.pathToBase64 = pathToBase64;
exports.prefix = void 0;
exports.sleep = sleep;
exports.toPx = toPx;
var _regenerator = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/regenerator */ 30));
var _defineProperty2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/defineProperty */ 11));
var _asyncToGenerator2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ 32));
var _slicedToArray2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ 5));
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
var networkReg = /^(http|\/\/)/;
exports.networkReg = networkReg;
var isBase64 = function isBase64(path) {
  return /^data:image\/(\w+);base64/.test(path);
};
exports.isBase64 = isBase64;
function sleep(delay) {
  return new Promise(function (resolve) {
    return setTimeout(resolve, delay);
  });
}
var isDev = ['devtools'].includes(uni.getSystemInfoSync().platform);
// 缓存图片
var cache = {};
function isNumber(value) {
  return /^-?\d+(\.\d+)?$/.test(value);
}
function toPx(value, baseSize) {
  var isDecimal = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  // 如果是数字
  if (typeof value === 'number') {
    return value;
  }
  // 如果是字符串数字
  if (isNumber(value)) {
    return value * 1;
  }
  // 如果有单位
  if (typeof value === 'string') {
    var reg = /^-?([0-9]+)?([.]{1}[0-9]+){0,1}(em|rpx|px|%)$/g;
    var results = reg.exec(value);
    if (!value || !results) {
      return 0;
    }
    var unit = results[3];
    value = parseFloat(value);
    var res = 0;
    if (unit === 'rpx') {
      res = uni.upx2px(value);
    } else if (unit === 'px') {
      res = value * 1;
    } else if (unit === '%') {
      res = value * toPx(baseSize) / 100;
    } else if (unit === 'em') {
      res = value * toPx(baseSize || 14);
    }
    return isDecimal ? res.toFixed(2) * 1 : Math.round(res);
  }
  return 0;
}

// 计算版本
function compareVersion(v1, v2) {
  v1 = v1.split('.');
  v2 = v2.split('.');
  var len = Math.max(v1.length, v2.length);
  while (v1.length < len) {
    v1.push('0');
  }
  while (v2.length < len) {
    v2.push('0');
  }
  for (var i = 0; i < len; i++) {
    var num1 = parseInt(v1[i], 10);
    var num2 = parseInt(v2[i], 10);
    if (num1 > num2) {
      return 1;
    } else if (num1 < num2) {
      return -1;
    }
  }
  return 0;
}
var prefix = function prefix() {
  return wx;
};
exports.prefix = prefix;
var base64ToArrayBuffer = function base64ToArrayBuffer(data) {
  return uni.base64ToArrayBuffer(data);
};

/**
 * base64转路径
 * @param {Object} base64
 */
function base64ToPath(base64) {
  var _ref = /^data:image\/(\w+);base64,/.exec(base64) || [],
    _ref2 = (0, _slicedToArray2.default)(_ref, 2),
    format = _ref2[1];
  return new Promise(function (resolve, reject) {
    var fs = uni.getFileSystemManager();
    //自定义文件名
    if (!format) {
      reject(new Error('ERROR_BASE64SRC_PARSE'));
    }
    var time = new Date().getTime();
    var pre = prefix();
    var filePath = "".concat(pre.env.USER_DATA_PATH, "/").concat(time, ".").concat(format);
    //let buffer = base64ToArrayBuffer(bodyData)
    fs.writeFile({
      filePath: filePath,
      data: base64.split(',')[1],
      //base64.replace(/^data:\S+\/\S+;base64,/, ''),
      encoding: 'base64',
      // data: buffer,
      // encoding: 'binary',
      success: function success() {
        resolve(filePath);
      },
      fail: function fail(err) {
        reject(err);
      }
    });
  });
}

/**
 * 路径转base64
 * @param {Object} string
 */
function pathToBase64(path) {
  if (/^data:/.test(path)) return path;
  return new Promise(function (resolve, reject) {
    if (uni.canIUse('getFileSystemManager')) {
      uni.getFileSystemManager().readFile({
        filePath: path,
        encoding: 'base64',
        success: function success(res) {
          resolve('data:image/png;base64,' + res.data);
        },
        fail: function fail(error) {
          reject(error);
        }
      });
    }
  });
}
function getImageInfo(path, useCORS) {
  var _this = this;
  return new Promise( /*#__PURE__*/function () {
    var _ref3 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(resolve, reject) {
      var src;
      return _regenerator.default.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              src = path;
              if (!(cache[path] && cache[path].errMsg)) {
                _context.next = 5;
                break;
              }
              resolve(cache[path]);
              _context.next = 17;
              break;
            case 5:
              _context.prev = 5;
              if (!isBase64(path)) {
                _context.next = 10;
                break;
              }
              _context.next = 9;
              return base64ToPath(path);
            case 9:
              src = _context.sent;
            case 10:
              _context.next = 15;
              break;
            case 12:
              _context.prev = 12;
              _context.t0 = _context["catch"](5);
              reject(_objectSpread(_objectSpread({}, _context.t0), {}, {
                src: src
              }));
            case 15:
              console.log(src);
              uni.getImageInfo({
                src: src,
                success: function success(image) {
                  var localReg = /^\.|^\/(?=[^\/])/;
                  image.path = localReg.test(src) ? "/".concat(image.path) : image.path;
                  if (_this && _this.canvas && _this.canvas.createImage) {
                    var img = _this.canvas.createImage();
                    img.src = image.path;
                    img.onload = function () {
                      image.path = img;
                      cache[path] = image;
                      resolve(cache[path]);
                    };
                    img.onerror = function (err) {
                      reject({
                        err: err,
                        path: path
                      });
                    };
                  } else if (isDev) {
                    resolve(image);
                  } else {
                    cache[path] = image;
                    resolve(cache[path]);
                  }
                },
                fail: function fail(err) {
                  console.error({
                    err: err,
                    path: path
                  });
                  reject({
                    err: err,
                    path: path
                  });
                }
              });
            case 17:
            case "end":
              return _context.stop();
          }
        }
      }, _callee, null, [[5, 12]]);
    }));
    return function (_x, _x2) {
      return _ref3.apply(this, arguments);
    };
  }());
}
function downloadFile(url) {
  if (!url) return Promise.reject({
    err: 'no url'
  });
  return new Promise(function (resolve, reject) {
    if (cache[url]) {
      return reject();
    }
    cache[url] = 1;
    uni.downloadFile({
      url: url,
      success: function success(res) {
        resolve(res);
      },
      fail: function fail(err) {
        reject(err);
      }
    });
  });
}
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 2)["default"], __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/wx.js */ 1)["default"]))

/***/ }),

/***/ 1783:
/*!************************************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/uni_modules/lime-painter/components/l-painter/painter.js ***!
  \************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni, wx) {

var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.Painter = void 0;
var _typeof2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/typeof */ 13));
var _t = function t() {
  return _t = Object.assign || function (t) {
    for (var e, i = 1, n = arguments.length; i < n; i++) {
      for (var r in e = arguments[i]) {
        Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r]);
      }
    }
    return t;
  }, _t.apply(this, arguments);
};
function e(t, e, i, n) {
  return new (i || (i = Promise))(function (r, o) {
    function s(t) {
      try {
        h(n.next(t));
      } catch (t) {
        o(t);
      }
    }
    function a(t) {
      try {
        h(n.throw(t));
      } catch (t) {
        o(t);
      }
    }
    function h(t) {
      var e;
      t.done ? r(t.value) : (e = t.value, e instanceof i ? e : new i(function (t) {
        t(e);
      })).then(s, a);
    }
    h((n = n.apply(t, e || [])).next());
  });
}
function i(t, e) {
  var i,
    n,
    r,
    o,
    s = {
      label: 0,
      sent: function sent() {
        if (1 & r[0]) throw r[1];
        return r[1];
      },
      trys: [],
      ops: []
    };
  return o = {
    next: a(0),
    throw: a(1),
    return: a(2)
  }, "function" == typeof Symbol && (o[Symbol.iterator] = function () {
    return this;
  }), o;
  function a(o) {
    return function (a) {
      return function (o) {
        if (i) throw new TypeError("Generator is already executing.");
        for (; s;) {
          try {
            if (i = 1, n && (r = 2 & o[0] ? n.return : o[0] ? n.throw || ((r = n.return) && r.call(n), 0) : n.next) && !(r = r.call(n, o[1])).done) return r;
            switch (n = 0, r && (o = [2 & o[0], r.value]), o[0]) {
              case 0:
              case 1:
                r = o;
                break;
              case 4:
                return s.label++, {
                  value: o[1],
                  done: !1
                };
              case 5:
                s.label++, n = o[1], o = [0];
                continue;
              case 7:
                o = s.ops.pop(), s.trys.pop();
                continue;
              default:
                if (!(r = s.trys, (r = r.length > 0 && r[r.length - 1]) || 6 !== o[0] && 2 !== o[0])) {
                  s = 0;
                  continue;
                }
                if (3 === o[0] && (!r || o[1] > r[0] && o[1] < r[3])) {
                  s.label = o[1];
                  break;
                }
                if (6 === o[0] && s.label < r[1]) {
                  s.label = r[1], r = o;
                  break;
                }
                if (r && s.label < r[2]) {
                  s.label = r[2], s.ops.push(o);
                  break;
                }
                r[2] && s.ops.pop(), s.trys.pop();
                continue;
            }
            o = e.call(t, s);
          } catch (t) {
            o = [6, t], n = 0;
          } finally {
            i = r = 0;
          }
        }
        if (5 & o[0]) throw o[1];
        return {
          value: o[0] ? o[1] : void 0,
          done: !0
        };
      }([o, a]);
    };
  }
}
var n = {
    MP_WEIXIN: "mp-weixin",
    MP_QQ: "mp-qq",
    MP_ALIPAY: "mp-alipay",
    MP_BAIDU: "mp-baidu",
    MP_TOUTIAO: "mp-toutiao",
    MP_DINGDING: "mp-dingding",
    H5: "h5",
    WEB: "web",
    PLUS: "plus"
  },
  r = ["contentSize", "clientSize", "borderSize", "offsetSize"],
  o = "row",
  s = "column",
  a = "top",
  h = "middle",
  d = "bottom",
  c = "left",
  l = "center",
  f = "right",
  u = "view",
  p = "text",
  g = "image",
  v = "qrcode",
  y = "block",
  b = "inline-block",
  x = "none",
  m = "flex",
  w = "absolute",
  S = "fixed",
  z = {
    display: y,
    color: "#000000",
    lineHeight: "1.4em",
    fontSize: 14,
    fontWeight: 400,
    fontFamily: "sans-serif",
    lineCap: "butt",
    flexDirection: o,
    flexWrap: "nowrap",
    textAlign: "left",
    alignItems: "flex-start",
    justifyContent: "flex-start",
    position: "static",
    transformOrigin: "center center"
  },
  M = {
    upx2px: function upx2px(t) {
      return window.innerWidth / 750 * t;
    },
    getSystemInfoSync: function getSystemInfoSync() {
      return {
        screenWidth: window.innerWidth
      };
    },
    getImageInfo: function getImageInfo(t) {
      var e = t.src,
        i = t.success,
        n = t.fail,
        r = new Image();
      r.onload = function () {
        i({
          width: r.naturalWidth,
          height: r.naturalHeight,
          path: r.src,
          src: e
        });
      }, r.onerror = n, r.src = e;
    }
  },
  B = "object" == (typeof window === "undefined" ? "undefined" : (0, _typeof2.default)(window)) ? "undefined" == typeof uni || "undefined" != typeof uni && !uni.addInterceptor ? n.WEB : n.H5 : "object" == (typeof swan === "undefined" ? "undefined" : (0, _typeof2.default)(swan)) ? n.MP_BAIDU : "object" == (typeof tt === "undefined" ? "undefined" : (0, _typeof2.default)(tt)) ? n.MP_TOUTIAO : "object" == (typeof plus === "undefined" ? "undefined" : (0, _typeof2.default)(plus)) ? n.PLUS : "object" == (typeof wx === "undefined" ? "undefined" : (0, _typeof2.default)(wx)) ? n.MP_WEIXIN : void 0,
  k = B == n.MP_WEIXIN ? wx : "undefined" != typeof uni ? uni.getImageInfo ? {
    upx2px: function upx2px(t) {
      return uni.upx2px(t);
    },
    getSystemInfoSync: function getSystemInfoSync() {
      return uni.getSystemInfoSync();
    },
    getImageInfo: function getImageInfo(t) {
      return uni.getImageInfo(t);
    },
    downloadFile: function downloadFile(t) {
      return uni.downloadFile(t);
    }
  } : Object.assign(uni, M) : "undefined" != typeof window ? M : uni;
if (!k.upx2px) {
  var I = ((k.getSystemInfoSync && uni.getSystemInfoSync()).screenWidth || 375) / 750;
  k.upx2px = function (t) {
    return I * t;
  };
}
function P(t) {
  return /^-?\d+(\.\d+)?$/.test(t);
}
function W(t, e, i) {
  if ("number" == typeof t) return t;
  if (P(t)) return 1 * t;
  if ("string" == typeof t) {
    var n = /^-?([0-9]+)?([.]{1}[0-9]+){0,1}(em|rpx|px|%)$/g.exec(t);
    if (!t || !n) return 0;
    var r = n[3];
    t = parseFloat(t);
    var o = 0;
    return "rpx" === r ? o = k.upx2px(t) : "px" === r ? o = 1 * t : "%" === r && e ? o = t * W(e) / 100 : "em" === r && e && (o = t * W(e || 14)), 1 * o.toFixed(2);
  }
  return 0;
}
function R(t) {
  return /%$/.test(t);
}
var L = function L(t) {
    return !(!t || !t.startsWith("linear") && !t.startsWith("radial"));
  },
  O = function O(t, e, i, n, r, o) {
    t.startsWith("linear") ? function (t, e, i, n, r, o) {
      for (var s = function (t, e, i, n, r) {
          void 0 === n && (n = 0);
          void 0 === r && (r = 0);
          var o = t.match(/([-]?\d{1,3})deg/),
            s = o && o[1] ? parseFloat(o[1]) : 0;
          s >= 360 && (s -= 360);
          s < 0 && (s += 360);
          if (0 === (s = Math.round(s))) return {
            x0: Math.round(e / 2) + n,
            y0: i + r,
            x1: Math.round(e / 2) + n,
            y1: r
          };
          if (180 === s) return {
            x0: Math.round(e / 2) + n,
            y0: r,
            x1: Math.round(e / 2) + n,
            y1: i + r
          };
          if (90 === s) return {
            x0: n,
            y0: Math.round(i / 2) + r,
            x1: e + n,
            y1: Math.round(i / 2) + r
          };
          if (270 === s) return {
            x0: e + n,
            y0: Math.round(i / 2) + r,
            x1: n,
            y1: Math.round(i / 2) + r
          };
          var a = Math.round(180 * Math.asin(e / Math.sqrt(Math.pow(e, 2) + Math.pow(i, 2))) / Math.PI);
          if (s === a) return {
            x0: n,
            y0: i + r,
            x1: e + n,
            y1: r
          };
          if (s === 180 - a) return {
            x0: n,
            y0: r,
            x1: e + n,
            y1: i + r
          };
          if (s === 180 + a) return {
            x0: e + n,
            y0: r,
            x1: n,
            y1: i + r
          };
          if (s === 360 - a) return {
            x0: e + n,
            y0: i + r,
            x1: n,
            y1: r
          };
          var h = 0,
            d = 0,
            c = 0,
            l = 0;
          if (s < a || s > 180 - a && s < 180 || s > 180 && s < 180 + a || s > 360 - a) {
            var f = s * Math.PI / 180,
              u = s < a || s > 360 - a ? i / 2 : -i / 2,
              p = Math.tan(f) * u,
              g = s < a || s > 180 - a && s < 180 ? e / 2 - p : -e / 2 - p;
            h = -(c = p + (v = Math.pow(Math.sin(f), 2) * g)), d = -(l = u + v / Math.tan(f));
          }
          if (s > a && s < 90 || s > 90 && s < 90 + a || s > 180 + a && s < 270 || s > 270 && s < 360 - a) {
            var v;
            f = (90 - s) * Math.PI / 180, p = s > a && s < 90 || s > 90 && s < 90 + a ? e / 2 : -e / 2, u = Math.tan(f) * p, g = s > a && s < 90 || s > 270 && s < 360 - a ? i / 2 - u : -i / 2 - u;
            h = -(c = p + (v = Math.pow(Math.sin(f), 2) * g) / Math.tan(f)), d = -(l = u + v);
          }
          return h = Math.round(h + e / 2) + n, d = Math.round(i / 2 - d) + r, c = Math.round(c + e / 2) + n, l = Math.round(i / 2 - l) + r, {
            x0: h,
            y0: d,
            x1: c,
            y1: l
          };
        }(r, t, e, i, n), a = s.x0, h = s.y0, d = s.x1, c = s.y1, l = o.createLinearGradient(a, h, d, c), f = r.match(/linear-gradient\((.+)\)/)[1], u = T(f.substring(f.indexOf(",") + 1)), p = 0; p < u.colors.length; p++) {
        l.addColorStop(u.percents[p], u.colors[p]);
      }
      o.setFillStyle(l);
    }(e, i, n, r, t, o) : t.startsWith("radial") && function (t, e, i, n, r, o) {
      for (var s = T(r.match(/radial-gradient\((.+)\)/)[1]), a = Math.round(t / 2) + i, h = Math.round(e / 2) + n, d = o.createRadialGradient(a, h, 0, a, h, Math.max(t, e) / 2), c = 0; c < s.colors.length; c++) {
        d.addColorStop(s.percents[c], s.colors[c]);
      }
      o.setFillStyle(d);
    }(e, i, n, r, t, o);
  };
function T(t) {
  for (var e = [], i = [], n = 0, r = t.substring(0, t.length - 1).split("%,"); n < r.length; n++) {
    var o = r[n];
    e.push(o.substring(0, o.lastIndexOf(" ")).trim()), i.push(o.substring(o.lastIndexOf(" "), o.length) / 100);
  }
  return {
    colors: e,
    percents: i
  };
}
function A(t, e, i) {
  return e in t ? Object.defineProperty(t, e, {
    value: i,
    enumerable: !0,
    configurable: !0,
    writable: !0
  }) : t[e] = i, t;
}
function F() {
  return F = Object.assign ? Object.assign.bind() : function (t) {
    for (var e = 1; e < arguments.length; e++) {
      var i = arguments[e];
      for (var n in i) {
        Object.prototype.hasOwnProperty.call(i, n) && (t[n] = i[n]);
      }
    }
    return t;
  }, F.apply(this, arguments);
}
function j(t, e) {
  return j = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
    return t.__proto__ = e, t;
  }, j(t, e);
}
function C(t, e) {
  (null == e || e > t.length) && (e = t.length);
  for (var i = 0, n = new Array(e); i < e; i++) {
    n[i] = t[i];
  }
  return n;
}
function E(t, e) {
  var i = "undefined" != typeof Symbol && t[Symbol.iterator] || t["@@iterator"];
  if (i) return (i = i.call(t)).next.bind(i);
  if (Array.isArray(t) || (i = function (t, e) {
    if (t) {
      if ("string" == typeof t) return C(t, e);
      var i = Object.prototype.toString.call(t).slice(8, -1);
      return "Object" === i && t.constructor && (i = t.constructor.name), "Map" === i || "Set" === i ? Array.from(t) : "Arguments" === i || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i) ? C(t, e) : void 0;
    }
  }(t)) || e && t && "number" == typeof t.length) {
    i && (t = i);
    var n = 0;
    return function () {
      return n >= t.length ? {
        done: !0
      } : {
        done: !1,
        value: t[n++]
      };
    };
  }
  throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
function H(t) {
  return "number" == typeof t;
}
function U(t) {
  return "auto" === t || null === t;
}
function Y(t) {
  return /%$/.test(t);
}
var $,
  D = 0,
  X = function () {
    function t() {
      A(this, "elements", []), A(this, "afterElements", []), A(this, "beforeElements", []), A(this, "ids", []), A(this, "width", 0), A(this, "height", 0), A(this, "top", 0), A(this, "left", 0), A(this, "pre", null), A(this, "offsetX", 0), A(this, "offsetY", 0), D++, this.id = D;
    }
    var e = t.prototype;
    return e.fixedBind = function (t, e) {
      void 0 === e && (e = 0), this.container = e ? t.parent : t.root, this.container.fixedLine = this, this.fixedAdd(t);
    }, e.fixedAdd = function (t) {
      this.elements.push(t);
      var e = t.computedStyle.zIndex;
      (void 0 === e ? 0 : e) >= 0 ? this.afterElements.push(t) : this.beforeElements.push(t), this.refreshLayout();
    }, e.bind = function (t) {
      this.container = t.parent, this.container.line = null, this.container.lines ? (this.container.lines.push(this), this.pre = this.getPreLine(), this.top = this.pre.top + this.pre.height, this.left = this.container.contentSize.left) : (this.top = this.container.contentSize.top, this.left = this.container.contentSize.left, this.container.lines = [this]), this.isInline = t.isInline(), this.container.line = this, this.outerWidth = t.parent && t.parent.contentSize.width ? t.parent.contentSize.width : 1 / 0, this.add(t);
    }, e.getPreLine = function () {
      return this.container.lines[this.container.lines.length - 2];
    }, e.canIEnter = function (t) {
      return this.outerWidth || t.parent && t.parent.contentSize.width, !((100 * t.offsetSize.width + 100 * this.width) / 100 > this.outerWidth) || (this.closeLine(), !1);
    }, e.closeLine = function () {
      delete this.container.line;
    }, e.add = function (t) {
      this.ids.includes(t.id) || (this.ids.push(t.id), this.elements.push(t), this.refreshWidthHeight(t));
    }, e.refreshWidthHeight = function (t) {
      t.offsetSize.height > this.height && (this.height = t.offsetSize.height), this.width += t.offsetSize.width || 0, (this.container.lineMaxWidth || 0) < this.width && (this.container.lineMaxWidth = this.width);
    }, e.refreshXAlign = function () {
      if (this.isInline) {
        var t = this.container.contentSize.width - this.width,
          e = this.container.style.textAlign;
        "center" === e ? t /= 2 : "left" === e && (t = 0), this.offsetX = t;
      }
    }, e.getOffsetY = function (t) {
      if (!t || !t.style) return 0;
      var e = (t.style || {}).verticalAlign;
      return "bottom" === e ? this.height - t.contentSize.height : "middle" === e ? (this.height - t.contentSize.height) / 2 : 0;
    }, e.layout = function (t, e) {
      for (var i in this.refreshXAlign(), this.pre ? (this.top = this.pre.top + this.pre.height + this.offsetY, this.left = e + this.offsetX) : (this.top = Math.max(this.top, this.container.contentSize.top, t) + this.offsetY, this.left = Math.max(this.left, this.container.contentSize.left, e) + this.offsetX), this.elements) {
        var n = this.elements[i],
          r = this.elements[i - 1],
          o = this.getOffsetY(n);
        n.style.top = this.top + o, n.style.left = r ? r.offsetSize.left + r.offsetSize.width : this.left, n.getBoxPosition2();
      }
    }, e.refreshLayout = function () {
      this.afterElements = this.afterElements.sort(function (t, e) {
        return t.computedStyle.zIndex - e.computedStyle.zIndex;
      }), this.beforeElements = this.beforeElements.sort(function (t, e) {
        return t.computedStyle.zIndex - e.computedStyle.zIndex;
      });
    }, t;
  }(),
  _ = (($ = {})[o] = {
    width: "width",
    contentWidth: "width",
    x: "x",
    y: "y",
    contentX: "left",
    height: "height",
    contentHeight: "height",
    marginLeft: "marginLeft"
  }, $[s] = {
    width: "height",
    contentWidth: "height",
    x: "y",
    y: "x",
    contentX: "top",
    height: "width",
    contentHeight: "width",
    marginLeft: "marginTop"
  }, $),
  N = function (t) {
    var e, i;
    function n() {
      var e;
      return A(function (t) {
        if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return t;
      }(e = t.call(this) || this), "outerWidth", 0), e.exactValue = 0, e.flexTotal = 0, e.key = null, e;
    }
    i = t, (e = n).prototype = Object.create(i.prototype), e.prototype.constructor = e, j(e, i);
    var r = n.prototype;
    return r.bind = function (t) {
      console.warn("[painter] flex-box 功能未完善谨慎使用"), this.container = t.parent, this.container.line = this, this.container.lines ? (this.container.lines.push(this), this.pre = this.getPreLine(), this.top = this.pre.top + this.pre.height, this.left = this.container.contentSize.left) : (this.top = this.container.contentSize.top, this.left = this.container.contentSize.left, this.container.lines = [this]), t.parent && (this.key = _[t.parent.style.flexDirection]), this.initHeight(t), this.outerWidth = t.parent && t.parent.contentSize[this.key.contentWidth] ? t.parent.contentSize[this.key.contentWidth] : 1 / 0, this.add(t);
    }, r.add = function (t) {
      this.ids.push(t.id), H(t.style.flex) ? this.flexTotal += t.style.flex : H(t.style[this.key.width]) && (this.exactValue += t.contentSize[this.key.width]), this.elements.push(t), this.refreshWidthHeight(t), t.next || this.closeLine();
    }, r.closeLine = function () {
      this.calcFlex();
    }, r.initHeight = function (t) {
      this[this.key.height] = 0;
    }, r.calcFlex = function () {
      var t = this,
        e = this.container.contentSize[this.key.contentWidth];
      this.elements.forEach(function (i) {
        var n = i.style.width || 0;
        H(i.style.flex) && (n = i.style.flex / t.flexTotal * (e - t.exactValue)), i.computedStyle[t.key.width] = n, delete i.line, delete i.lines, delete i.lineMaxWidth, i.getBoxWidthHeight();
      });
    }, r.refreshWidthHeight = function (t) {
      this.container.style.alignItems && !t.style.alignSelf && (t.style.alignSelf = this.container.style.alignItems), t.contentSize[this.key.height] > this[this.key.height] && (this[this.key.height] = t.offsetSize[this.key.height]), this[this.key.width] += t.offsetSize[this.key.width];
      var e = Math.min(this[this.key.width], this.container.contentSize[this.key.width]);
      (this.container.lineMaxWidth || 0) < e && (this.container.lineMaxWidth = e);
    }, r.refreshXAlign = function () {
      var t = this,
        e = this.elements.reduce(function (e, i) {
          return e + i.offsetSize[t.key.width];
        }, 0),
        i = this.outerWidth == 1 / 0 ? 0 : this.outerWidth - Math.max(this[this.key.width], e),
        n = this.container.style.justifyContent;
      "center" === n ? i /= 2 : "flex-start" === n ? i = 0 : ["space-between", "space-around"].includes(n) && (!function (e, i) {
        void 0 === i && (i = 0), i /= t.elements.length + (e ? -1 : 1), t.elements.forEach(function (n, r) {
          var o;
          e && !r || (n.style.margin ? n.style.margin[t.key.marginLeft] += i : n.style.margin = ((o = {})[t.key.marginLeft] = i, o));
        }), i = 0;
      }("space-between" == n, i), i = 0), this.offsetX = i || 0, this.refreshYAlign();
    }, r.refreshYAlign = function () {
      if (1 == this.container.lines.length) return 0;
      var t = this.container.lines.reduce(function (t, e) {
        return t + e.height;
      }, 0);
      if ("center" === this.container.style.alignItems) {
        var e = (this.container.contentSize[this.key.contentHeight] - t) / (this.container.lines.length + 1);
        this.container.lines.forEach(function (t) {
          t.offsetY = e;
        });
      }
      if ("flex-end" === this.container.style.alignItems) {
        var i = this.container.contentSize[this.key.contentHeight] - t;
        this.container.lines[0].offsetY = i;
      }
    }, r.getOffsetY = function (t) {
      return this.container.lines.length > 1 ? 0 : "flex-end" === t.style.alignSelf ? this.container.contentSize[this.key.contentHeight] - t.contentSize[this.key.height] : "center" === t.style.alignSelf ? (this.container.contentSize[this.key.contentHeight] - t.contentSize[this.key.height]) / 2 : 0;
    }, n;
  }(X),
  V = g,
  G = p,
  q = u,
  J = v,
  Q = y,
  Z = b,
  K = m,
  et = w,
  it = S,
  nt = 0,
  rt = {
    left: null,
    top: null,
    width: null,
    height: null
  },
  ot = function () {
    function t(t, e, i, n) {
      var r = this;
      A(this, "id", nt++), A(this, "style", {
        left: null,
        top: null,
        width: null,
        height: null
      }), A(this, "computedStyle", {}), A(this, "originStyle", {}), A(this, "children", {}), A(this, "layoutBox", F({}, rt)), A(this, "contentSize", F({}, rt)), A(this, "clientSize", F({}, rt)), A(this, "borderSize", F({}, rt)), A(this, "offsetSize", F({}, rt)), this.ctx = n, this.root = i, e && (this.parent = e), this.name = t.name || t.type, this.attributes = this.getAttributes(t);
      var o = this.getComputedStyle(t, e && e.computedStyle);
      this.isAbsolute = o.position == et, this.isFixed = o.position == it, this.originStyle = o, Object.keys(o).forEach(function (t) {
        Object.defineProperty(r.style, t, {
          configurable: !0,
          enumerable: !0,
          get: function get() {
            return o[t];
          },
          set: function set(e) {
            o[t] = e;
          }
        });
      });
      var s = {
        contentSize: F({}, this.contentSize),
        clientSize: F({}, this.clientSize),
        borderSize: F({}, this.borderSize),
        offsetSize: F({}, this.offsetSize)
      };
      Object.keys(s).forEach(function (t) {
        Object.keys(r[t]).forEach(function (e) {
          Object.defineProperty(r[t], e, {
            configurable: !0,
            enumerable: !0,
            get: function get() {
              return s[t][e];
            },
            set: function set(i) {
              s[t][e] = i;
            }
          });
        });
      }), this.computedStyle = this.style;
    }
    var e = t.prototype;
    return e.add = function (t) {
      t.parent = this, this.children[t.id] = t;
    }, e.getChildren = function () {
      var t = this;
      return Object.keys(this.children).map(function (e) {
        return t.children[e];
      });
    }, e.getLineRect = function (t, e) {
      var i = {
          width: 0,
          height: 0
        },
        n = e ? e.lines : this.parent && this.parent.lines;
      return n && n.find(function (e) {
        return e.ids.includes(t);
      }) || i;
    }, e.getComputedStyle = function (t, e) {
      var i = ["color", "fontSize", "lineHeight", "verticalAlign", "fontWeight", "textAlign"],
        n = t.css,
        r = void 0 === n ? {} : n,
        o = t.type,
        s = void 0 === o ? q : o,
        a = F({}, z);
      if ([G, V, J].includes(s) && !r.display && (a.display = Z), e) for (var h = 0; h < i.length; h++) {
        var d = i[h];
        (r[d] || e[d]) && (r[d] = r[d] || e[d]);
      }
      for (var c = function c() {
          var t = f[l],
            e = r[t];
          if (/-/.test(t) && (t = t.replace(/-([a-z])/g, function (t, e) {
            return e.toUpperCase();
          }), a.key = e), /^(box|text)?shadow$/i.test(t)) {
            var i = [];
            return e.replace(/((\d+(rpx|px)?\s+?){3})(.+)/, function () {
              for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++) {
                e[n] = arguments[n];
              }
              i = e[1].match(/\d+(rpx|px)?/g).map(function (t) {
                return W(t);
              }).concat(e[4]);
            }), /^text/.test(t) ? a.textShadow = i : a.boxShadow = i, "continue";
          }
          if (/^border/i.test(t) && !/radius$/i.test(t)) {
            var n,
              o = t.match(/^border([BTRLa-z]+)?/)[0],
              h = t.match(/[W|S|C][a-z]+/),
              d = e.replace(/([\(,])\s+|\s+([\),])/g, "$1$2").split(" ").map(function (t) {
                return /^\d/.test(t) ? W(t, "") : t;
              });
            return a[o] = ((n = {})[o + "Width"] = P(d[0]) ? d[0] : 0, n[o + "Style"] = d[1] || "solid", n[o + "Color"] = d[2] || "black", n), 1 == d.length && h && (a[o][o + h[0]] = d[0]), "continue";
          }
          if (/^background(color)?$/i.test(t)) return a.backgroundColor = e, "continue";
          if (/^objectPosition$/i.test(t)) return a[t] = e.split(" "), "continue";
          if (/padding|margin|radius/i.test(t)) {
            var c = /radius$/i.test(t),
              u = c ? "borderRadius" : t.match(/[a-z]+/)[0],
              p = [0, 0, 0, 0].map(function (t, e) {
                return c ? ["borderTopLeftRadius", "borderTopRightRadius", "borderBottomRightRadius", "borderBottomLeftRadius"][e] : [u + "Top", u + "Right", u + "Bottom", u + "Left"][e];
              }),
              g = "margin";
            if ("padding" === t || t === g || /^(border)?radius$/i.test(t)) {
              var v,
                y = ("" + e).split(" ").map(function (e) {
                  return /^\d+(rpx|px)?$/.test(e) ? W(e) : t != g && /auto/.test(e) ? 0 : e;
                }, []) || [0],
                b = c ? "borderRadius" : t,
                x = y[0],
                m = y[1],
                w = y[2],
                S = y[3];
              a[b] = ((v = {})[p[0]] = U(x) ? 0 : x, v[p[1]] = P(m) || U(m) ? m : x, v[p[2]] = U(P(w) ? w : x) ? 0 : P(w) ? w : x, v[p[3]] = P(S) ? S : m || x, v);
            } else {
              var z;
              if ("object" == (0, _typeof2.default)(a[u])) a[u][t] = u == g && U(e) || Y(e) ? e : W(e);else a[u] = ((z = {})[p[0]] = a[u] || 0, z[p[1]] = a[u] || 0, z[p[2]] = a[u] || 0, z[p[3]] = a[u] || 0, z), a[u][t] = u == g && U(e) || Y(e) ? e : W(e);
            }
            return "continue";
          }
          if (/^transform$/i.test(t)) return a[t] = {}, e.replace(/([a-zA-Z]+)\(([0-9,-\.%rpxdeg\s]+)\)/g, function (e, i, n) {
            var o = n.split(",").map(function (t) {
                return t.replace(/(^\s*)|(\s*$)/g, "");
              }),
              s = function s(t, e) {
                return t.includes("deg") ? 1 * t : e && !Y(e) ? W(t, e) : t;
              };
            i.includes("matrix") ? a[t][i] = o.map(function (t) {
              return 1 * t;
            }) : i.includes("rotate") ? a[t][i] = 1 * n.match(/^-?\d+(\.\d+)?/)[0] : /[X, Y]/.test(i) ? a[t][i] = /[X]/.test(i) ? s(o[0], r.width) : s(o[0], r.height) : (a[t][i + "X"] = s(o[0], r.width), a[t][i + "Y"] = s(o[1] || o[0], r.height));
          }), "continue";
          /^font$/i.test(t) && console.warn("font 不支持简写"), /^left|top$/i.test(t) && ![et, it].includes(r.position) ? a[t] = 0 : a[t] = /^[\d\.]+(px|rpx)?$/.test(e) ? W(e) : /em$/.test(e) && s == G ? W(e, r.fontSize) : e;
        }, l = 0, f = Object.keys(r); l < f.length; l++) {
        c();
      }
      return a;
    }, e.setPosition = function (t, e) {
      var i = {
        left: "width",
        top: "height",
        right: "width",
        bottom: "height"
      };
      Object.keys(i).forEach(function (n) {
        var r = "right" == n ? "left" : "top";
        ["right", "bottom"].includes(n) && void 0 !== t.style[n] && "number" != typeof t.originStyle[r] ? t.style[r] = e[i[n]] - t.offsetSize[i[n]] - W(t.style[n], e[i[n]]) : t.style[n] = W(t.style[n], e[i[n]]);
      });
    }, e.getAttributes = function (t) {
      var e = t.attributes || {};
      return (t.url || t.src) && (e.src = e.src || t.url || t.src), t.replace && (e.replace = t.replace), t.text && (e.text = t.text), e;
    }, e.getOffsetSize = function (t, e, i) {
      void 0 === i && (i = r[3]);
      var n = e || {},
        o = n.margin,
        s = (o = void 0 === o ? {} : o).marginLeft,
        a = void 0 === s ? 0 : s,
        h = o.marginTop,
        d = void 0 === h ? 0 : h,
        c = o.marginRight,
        l = void 0 === c ? 0 : c,
        f = o.marginBottom,
        u = void 0 === f ? 0 : f,
        p = n.padding,
        g = (p = void 0 === p ? {} : p).paddingLeft,
        v = void 0 === g ? 0 : g,
        y = p.paddingTop,
        b = void 0 === y ? 0 : y,
        x = p.paddingRight,
        m = void 0 === x ? 0 : x,
        w = p.paddingBottom,
        S = void 0 === w ? 0 : w,
        z = n.border,
        M = (z = void 0 === z ? {} : z).borderWidth,
        B = void 0 === M ? 0 : M,
        k = n.borderTop,
        I = (k = void 0 === k ? {} : k).borderTopWidth,
        P = void 0 === I ? B : I,
        W = n.borderBottom,
        R = (W = void 0 === W ? {} : W).borderBottomWidth,
        L = void 0 === R ? B : R,
        O = n.borderRight,
        T = (O = void 0 === O ? {} : O).borderRightWidth,
        A = void 0 === T ? B : T,
        F = n.borderLeft,
        j = (F = void 0 === F ? {} : F).borderLeftWidth,
        C = void 0 === j ? B : j,
        E = a < 0 && l < 0 ? Math.abs(a + l) : 0,
        H = d < 0 && u < 0 ? Math.abs(d + u) : 0,
        U = a >= 0 && l < 0,
        Y = d >= 0 && u < 0;
      return i == r[0] && (this[i].left = t.left + a + v + C + (U ? 2 * -l : 0), this[i].top = t.top + d + b + P + (Y ? 2 * -u : 0), this[i].width = t.width + (this[i].widthAdd ? 0 : E), this[i].height = t.height + (this[i].heightAdd ? 0 : H), this[i].widthAdd = E, this[i].heightAdd = H), i == r[1] && (this[i].left = t.left + a + C + (U < 0 ? -l : 0), this[i].top = t.top + d + P + (Y ? -u : 0), this[i].width = t.width + v + m, this[i].height = t.height + b + S), i == r[2] && (this[i].left = t.left + a + C / 2 + (U < 0 ? -l : 0), this[i].top = t.top + d + P / 2 + (Y ? -u : 0), this[i].width = t.width + v + m + C / 2 + A / 2, this[i].height = t.height + b + S + L / 2 + P / 2), i == r[3] && (this[i].left = t.left + (U < 0 ? -l : 0), this[i].top = t.top + (Y ? -u : 0), this[i].width = t.width + v + m + C + A + a + l, this[i].height = t.height + b + S + L + P + u + d), this[i];
    }, e.layoutBoxUpdate = function (t, e, i, n) {
      var o = this;
      if (void 0 === i && (i = -1), "border-box" == e.boxSizing) {
        var s = e || {},
          a = s.border,
          h = (a = void 0 === a ? {} : a).borderWidth,
          d = void 0 === h ? 0 : h,
          c = s.borderTop,
          l = (c = void 0 === c ? {} : c).borderTopWidth,
          f = void 0 === l ? d : l,
          u = s.borderBottom,
          p = (u = void 0 === u ? {} : u).borderBottomWidth,
          g = void 0 === p ? d : p,
          v = s.borderRight,
          y = (v = void 0 === v ? {} : v).borderRightWidth,
          b = void 0 === y ? d : y,
          x = s.borderLeft,
          m = (x = void 0 === x ? {} : x).borderLeftWidth,
          w = void 0 === m ? d : m,
          S = s.padding,
          z = (S = void 0 === S ? {} : S).paddingTop,
          M = void 0 === z ? 0 : z,
          B = S.paddingRight,
          k = void 0 === B ? 0 : B,
          I = S.paddingBottom,
          P = void 0 === I ? 0 : I,
          W = S.paddingLeft,
          R = void 0 === W ? 0 : W;
        i || (t.width -= R + k + b + w), 1 !== i || n || (t.height -= M + P + f + g);
      }
      this.layoutBox && (r.forEach(function (i) {
        return o.layoutBox[i] = o.getOffsetSize(t, e, i);
      }), this.layoutBox = Object.assign({}, this.layoutBox, this.layoutBox.borderSize));
    }, e.getBoxPosition2 = function () {
      var t = this.computedStyle,
        e = this.fixedLine,
        i = this.lines,
        n = t.left,
        r = void 0 === n ? 0 : n,
        o = t.top,
        s = void 0 === o ? 0 : o,
        a = t.padding || {},
        h = a.paddingBottom,
        d = void 0 === h ? 0 : h,
        c = a.paddingRight,
        l = void 0 === c ? 0 : c,
        f = F({}, this.contentSize, {
          left: r,
          top: s
        }),
        u = this.contentSize.top - this.offsetSize.top,
        p = this.contentSize.left - this.offsetSize.left;
      if (this.root.fixedLine && !this.root.isDone) {
        this.root.isDone = !0;
        for (var g, v = E(this.root.fixedLine.elements); !(g = v()).done;) {
          var y = g.value;
          y.setPosition(y, this.root.offsetSize), y.getBoxPosition2();
        }
      }
      if (e) for (var b, x = E(e.elements); !(b = x()).done;) {
        var m = b.value;
        m.setPosition(m, f), m.style.left += r + p + l, m.style.top += s + u + d, m.getBoxPosition2();
      }
      if (i) for (var w, S = E(i); !(w = S()).done;) {
        w.value.layout(f.top + u, f.left + p);
      }
      return this.layoutBoxUpdate(f, t), this.layoutBox;
    }, e.getBoxState = function (t, e) {
      return this.isBlock(t) || this.isBlock(e);
    }, e.isBlock = function (t) {
      return void 0 === t && (t = this), t && t.style.display == Q;
    }, e.isFlex = function (t) {
      return void 0 === t && (t = this), t && t.style.display == K;
    }, e.isInFlow = function () {
      return !(this.isAbsolute || this.isFixed);
    }, e.inFlexBox = function (t) {
      return void 0 === t && (t = this), !!t.isInFlow() && !!t.parent && (!(!t.parent || t.parent.style.display !== K) || void 0);
    }, e.isInline = function (t) {
      return void 0 === t && (t = this), t && t.style.display == Z;
    }, e.contrastSize = function (t, e, i) {
      var n = t;
      return i && (n = Math.min(n, i)), e && (n = Math.max(n, e)), n;
    }, e.measureText = function (t, e) {
      var i = this.ctx.measureText(t),
        n = i.width,
        r = i.actualBoundingBoxAscent,
        o = i.actualBoundingBoxDescent;
      return {
        ascent: r,
        descent: o,
        width: n,
        fontHeight: r + o || .7 * e + 1
      };
    }, e.getBoxWidthHeight = function () {
      var t = this,
        e = this.name,
        i = this.computedStyle,
        n = this.attributes,
        r = this.parent,
        o = void 0 === r ? {} : r,
        s = this.ctx,
        a = this.getChildren(),
        h = i.left,
        d = void 0 === h ? 0 : h,
        c = i.top,
        l = void 0 === c ? 0 : c,
        f = i.bottom,
        u = i.right,
        p = i.width,
        g = void 0 === p ? 0 : p,
        v = i.minWidth,
        y = i.maxWidth,
        b = i.minHeight,
        x = i.maxHeight,
        m = i.height,
        w = void 0 === m ? 0 : m,
        S = i.fontSize,
        z = void 0 === S ? 14 : S,
        M = i.fontWeight,
        B = i.fontFamily,
        k = i.fontStyle,
        I = i.position,
        P = i.lineClamp,
        R = i.lineHeight,
        L = i.padding,
        O = void 0 === L ? {} : L,
        T = i.margin,
        A = void 0 === T ? {} : T,
        F = i.border,
        j = (F = void 0 === F ? {} : F).borderWidth,
        C = void 0 === j ? 0 : j,
        E = i.borderRight,
        H = (E = void 0 === E ? {} : E).borderRightWidth,
        U = void 0 === H ? C : H,
        $ = i.borderLeft,
        D = ($ = void 0 === $ ? {} : $).borderLeftWidth,
        _ = void 0 === D ? C : D,
        J = o.contentSize && o.contentSize.width,
        Q = o.contentSize && o.contentSize.height;
      if (Y(g) && J && (g = W(g, J)), Y(g) && !J && (g = null), Y(w) && Q && (w = W(w, Q)), Y(w) && !Q && (w = null), Y(v) && J && (v = W(v, J)), Y(y) && J && (y = W(y, J)), Y(b) && Q && (b = W(b, Q)), Y(x) && Q && (x = W(x, Q)), i.padding && J) for (var Z in i.padding) {
        Object.hasOwnProperty.call(i.padding, Z) && (i.padding[Z] = W(i.padding[Z], J));
      }
      var K = O.paddingRight,
        tt = void 0 === K ? 0 : K,
        it = O.paddingLeft,
        nt = void 0 === it ? 0 : it;
      if (i.margin && [i.margin.marginLeft, i.margin.marginRight].includes("auto")) if (g) {
        var rt = J && J - g - tt - nt - _ - U || 0;
        i.margin.marginLeft == i.margin.marginRight ? i.margin.marginLeft = i.margin.marginRight = rt / 2 : "auto" == i.margin.marginLeft ? i.margin.marginLeft = rt : i.margin.marginRight = rt;
      } else i.margin.marginLeft = i.margin.marginRight = 0;
      var ot = A.marginRight,
        st = void 0 === ot ? 0 : ot,
        at = A.marginLeft,
        ht = {
          width: g,
          height: w,
          left: 0,
          top: 0
        },
        dt = nt + tt + _ + U + (void 0 === at ? 0 : at) + st;
      if (e == G && !this.attributes.widths) {
        var ct = n.text || "";
        s.save(), s.setFonts({
          fontFamily: B,
          fontSize: z,
          fontWeight: M,
          fontStyle: k
        });
        var lt = new Map();
        ct.split("\n").map(function (e) {
          var i = e.split("").map(function (e) {
              var i = lt.get(e);
              if (i) return i;
              var n = t.measureText(e, z).width;
              return lt.set(e, n), n;
            }),
            n = t.measureText(e, z),
            r = n.fontHeight,
            o = n.ascent,
            s = n.descent;
          t.attributes.fontHeight = r, t.attributes.ascent = o, t.attributes.descent = s, t.attributes.widths || (t.attributes.widths = []), t.attributes.widths.push({
            widths: i,
            total: i.reduce(function (t, e) {
              return t + e;
            }, 0)
          });
        }), s.restore();
      }
      if (e == V && null == g) {
        var ft = n.width,
          ut = n.height;
        ht.width = this.contrastSize(Math.round(ft * w / ut) || 0, v, y), this.layoutBoxUpdate(ht, i, 0);
      }
      if (e == G && null == g) {
        var pt = this.attributes.widths,
          gt = Math.max.apply(Math, pt.map(function (t) {
            return t.total;
          }));
        if (o && J > 0 && (gt > J || this.isBlock(this)) && !this.isAbsolute && !this.isFixed) gt = J - dt;
        ht.width = this.contrastSize(gt, v, y), this.layoutBoxUpdate(ht, i, 0);
      }
      if (e == G && (o.style.flex || !this.attributes.lines)) {
        var vt = this.attributes.widths.length;
        this.attributes.widths.forEach(function (t) {
          return t.widths.reduce(function (t, e, i) {
            return t + e > ht.width ? (vt++, e) : t + e;
          }, 0);
        }), vt = P && vt > P ? P : vt, this.attributes.lines = vt;
      }
      if (e == V && null == w) {
        var yt = n.width,
          bt = n.height;
        ht.height = this.contrastSize(W(ht.width * bt / yt) || 0, b, x), this.layoutBoxUpdate(ht, i, 1);
      }
      e == G && null == w && (R = W(R, z), ht.height = this.contrastSize(W(this.attributes.lines * R), b, x), this.layoutBoxUpdate(ht, i, 1, !0)), o && o.children && J && ([q, G].includes(e) && this.isFlex() || e == q && this.isBlock(this) && this.isInFlow()) && (ht.width = this.contrastSize(J - dt, v, y), this.layoutBoxUpdate(ht, i)), g && !Y(g) && (ht.width = this.contrastSize(g, v, y), this.layoutBoxUpdate(ht, i, 0)), w && !Y(w) && (ht.height = this.contrastSize(ht.height, b, x), this.layoutBoxUpdate(ht, i, 1));
      var xt = 0;
      if (a.length) {
        var mt = null;
        a.forEach(function (e, n) {
          e.getBoxWidthHeight();
          var r = a[n + 1];
          if (r && r.isInFlow() && (e.next = r), e.isInFlow() && !e.inFlexBox()) {
            var o = t.getBoxState(mt, e);
            t.line && t.line.canIEnter(e) && !o ? t.line.add(e) : new X().bind(e), mt = e;
          } else e.inFlexBox() ? t.line && (t.line.canIEnter(e) || "nowrap" == i.flexWrap) ? t.line.add(e) : new N().bind(e) : e.isFixed ? t.root.fixedLine ? t.root.fixedLine.fixedAdd(e) : new X().fixedBind(e) : t.fixedLine ? t.fixedLine.fixedAdd(e) : new X().fixedBind(e, 1);
        }), this.lines && (xt = this.lines.reduce(function (t, e) {
          return t + e.height;
        }, 0));
      }
      var wt = 0,
        St = 0;
      if (!g && (this.isAbsolute || this.isFixed) && J) {
        var zt = I == et ? J : this.root.width,
          Mt = zt - (Y(d) ? W(d, zt) : d) - (Y(u) ? W(u, zt) : u);
        wt = i.left ? Mt : this.lineMaxWidth;
      }
      if (!w && (null != l ? l : this.isAbsolute || this.isFixed && Q)) {
        var Bt = I == et ? Q : this.root.height,
          kt = Bt - (Y(l) ? W(l, Bt) : l) - (Y(f) ? W(f, Bt) : f);
        St = i.top ? kt : 0;
      }
      if (g && !Y(g) || ht.width || (ht.width = wt || this.contrastSize((this.isBlock(this) && !this.isInFlow() ? J || o.lineMaxWidth : this.lineMaxWidth) || this.lineMaxWidth, v, y), this.layoutBoxUpdate(ht, i, 0)), w || !xt && !St || (ht.height = St || this.contrastSize(xt, b, x), this.layoutBoxUpdate(ht, i)), i.borderRadius && this.borderSize && this.borderSize.width) for (var Z in i.borderRadius) {
        Object.hasOwnProperty.call(i.borderRadius, Z) && (i.borderRadius[Z] = W(i.borderRadius[Z], this.borderSize.width));
      }
      return this.layoutBox;
    }, e.layout = function () {
      return this.getBoxWidthHeight(), this.root.offsetSize = this.offsetSize, this.getBoxPosition2(), this.offsetSize;
    }, t;
  }(),
  st = function () {
    var t,
      e,
      i,
      n,
      r,
      o,
      s = [0, 11, 15, 19, 23, 27, 31, 16, 18, 20, 22, 24, 26, 28, 20, 22, 24, 24, 26, 28, 28, 22, 24, 24, 26, 26, 28, 28, 24, 24, 26, 26, 26, 28, 28, 24, 26, 26, 26, 28, 28],
      a = [3220, 1468, 2713, 1235, 3062, 1890, 2119, 1549, 2344, 2936, 1117, 2583, 1330, 2470, 1667, 2249, 2028, 3780, 481, 4011, 142, 3098, 831, 3445, 592, 2517, 1776, 2234, 1951, 2827, 1070, 2660, 1345, 3177],
      h = [30660, 29427, 32170, 30877, 26159, 25368, 27713, 26998, 21522, 20773, 24188, 23371, 17913, 16590, 20375, 19104, 13663, 12392, 16177, 14854, 9396, 8579, 11994, 11245, 5769, 5054, 7399, 6608, 1890, 597, 3340, 2107],
      d = [1, 0, 19, 7, 1, 0, 16, 10, 1, 0, 13, 13, 1, 0, 9, 17, 1, 0, 34, 10, 1, 0, 28, 16, 1, 0, 22, 22, 1, 0, 16, 28, 1, 0, 55, 15, 1, 0, 44, 26, 2, 0, 17, 18, 2, 0, 13, 22, 1, 0, 80, 20, 2, 0, 32, 18, 2, 0, 24, 26, 4, 0, 9, 16, 1, 0, 108, 26, 2, 0, 43, 24, 2, 2, 15, 18, 2, 2, 11, 22, 2, 0, 68, 18, 4, 0, 27, 16, 4, 0, 19, 24, 4, 0, 15, 28, 2, 0, 78, 20, 4, 0, 31, 18, 2, 4, 14, 18, 4, 1, 13, 26, 2, 0, 97, 24, 2, 2, 38, 22, 4, 2, 18, 22, 4, 2, 14, 26, 2, 0, 116, 30, 3, 2, 36, 22, 4, 4, 16, 20, 4, 4, 12, 24, 2, 2, 68, 18, 4, 1, 43, 26, 6, 2, 19, 24, 6, 2, 15, 28, 4, 0, 81, 20, 1, 4, 50, 30, 4, 4, 22, 28, 3, 8, 12, 24, 2, 2, 92, 24, 6, 2, 36, 22, 4, 6, 20, 26, 7, 4, 14, 28, 4, 0, 107, 26, 8, 1, 37, 22, 8, 4, 20, 24, 12, 4, 11, 22, 3, 1, 115, 30, 4, 5, 40, 24, 11, 5, 16, 20, 11, 5, 12, 24, 5, 1, 87, 22, 5, 5, 41, 24, 5, 7, 24, 30, 11, 7, 12, 24, 5, 1, 98, 24, 7, 3, 45, 28, 15, 2, 19, 24, 3, 13, 15, 30, 1, 5, 107, 28, 10, 1, 46, 28, 1, 15, 22, 28, 2, 17, 14, 28, 5, 1, 120, 30, 9, 4, 43, 26, 17, 1, 22, 28, 2, 19, 14, 28, 3, 4, 113, 28, 3, 11, 44, 26, 17, 4, 21, 26, 9, 16, 13, 26, 3, 5, 107, 28, 3, 13, 41, 26, 15, 5, 24, 30, 15, 10, 15, 28, 4, 4, 116, 28, 17, 0, 42, 26, 17, 6, 22, 28, 19, 6, 16, 30, 2, 7, 111, 28, 17, 0, 46, 28, 7, 16, 24, 30, 34, 0, 13, 24, 4, 5, 121, 30, 4, 14, 47, 28, 11, 14, 24, 30, 16, 14, 15, 30, 6, 4, 117, 30, 6, 14, 45, 28, 11, 16, 24, 30, 30, 2, 16, 30, 8, 4, 106, 26, 8, 13, 47, 28, 7, 22, 24, 30, 22, 13, 15, 30, 10, 2, 114, 28, 19, 4, 46, 28, 28, 6, 22, 28, 33, 4, 16, 30, 8, 4, 122, 30, 22, 3, 45, 28, 8, 26, 23, 30, 12, 28, 15, 30, 3, 10, 117, 30, 3, 23, 45, 28, 4, 31, 24, 30, 11, 31, 15, 30, 7, 7, 116, 30, 21, 7, 45, 28, 1, 37, 23, 30, 19, 26, 15, 30, 5, 10, 115, 30, 19, 10, 47, 28, 15, 25, 24, 30, 23, 25, 15, 30, 13, 3, 115, 30, 2, 29, 46, 28, 42, 1, 24, 30, 23, 28, 15, 30, 17, 0, 115, 30, 10, 23, 46, 28, 10, 35, 24, 30, 19, 35, 15, 30, 17, 1, 115, 30, 14, 21, 46, 28, 29, 19, 24, 30, 11, 46, 15, 30, 13, 6, 115, 30, 14, 23, 46, 28, 44, 7, 24, 30, 59, 1, 16, 30, 12, 7, 121, 30, 12, 26, 47, 28, 39, 14, 24, 30, 22, 41, 15, 30, 6, 14, 121, 30, 6, 34, 47, 28, 46, 10, 24, 30, 2, 64, 15, 30, 17, 4, 122, 30, 29, 14, 46, 28, 49, 10, 24, 30, 24, 46, 15, 30, 4, 18, 122, 30, 13, 32, 46, 28, 48, 14, 24, 30, 42, 32, 15, 30, 20, 4, 117, 30, 40, 7, 47, 28, 43, 22, 24, 30, 10, 67, 15, 30, 19, 6, 118, 30, 18, 31, 47, 28, 34, 34, 24, 30, 20, 61, 15, 30],
      c = [255, 0, 1, 25, 2, 50, 26, 198, 3, 223, 51, 238, 27, 104, 199, 75, 4, 100, 224, 14, 52, 141, 239, 129, 28, 193, 105, 248, 200, 8, 76, 113, 5, 138, 101, 47, 225, 36, 15, 33, 53, 147, 142, 218, 240, 18, 130, 69, 29, 181, 194, 125, 106, 39, 249, 185, 201, 154, 9, 120, 77, 228, 114, 166, 6, 191, 139, 98, 102, 221, 48, 253, 226, 152, 37, 179, 16, 145, 34, 136, 54, 208, 148, 206, 143, 150, 219, 189, 241, 210, 19, 92, 131, 56, 70, 64, 30, 66, 182, 163, 195, 72, 126, 110, 107, 58, 40, 84, 250, 133, 186, 61, 202, 94, 155, 159, 10, 21, 121, 43, 78, 212, 229, 172, 115, 243, 167, 87, 7, 112, 192, 247, 140, 128, 99, 13, 103, 74, 222, 237, 49, 197, 254, 24, 227, 165, 153, 119, 38, 184, 180, 124, 17, 68, 146, 217, 35, 32, 137, 46, 55, 63, 209, 91, 149, 188, 207, 205, 144, 135, 151, 178, 220, 252, 190, 97, 242, 86, 211, 171, 20, 42, 93, 158, 132, 60, 57, 83, 71, 109, 65, 162, 31, 45, 67, 216, 183, 123, 164, 118, 196, 23, 73, 236, 127, 12, 111, 246, 108, 161, 59, 82, 41, 157, 85, 170, 251, 96, 134, 177, 187, 204, 62, 90, 203, 89, 95, 176, 156, 169, 160, 81, 11, 245, 22, 235, 122, 117, 44, 215, 79, 174, 213, 233, 230, 231, 173, 232, 116, 214, 244, 234, 168, 80, 88, 175],
      l = [1, 2, 4, 8, 16, 32, 64, 128, 29, 58, 116, 232, 205, 135, 19, 38, 76, 152, 45, 90, 180, 117, 234, 201, 143, 3, 6, 12, 24, 48, 96, 192, 157, 39, 78, 156, 37, 74, 148, 53, 106, 212, 181, 119, 238, 193, 159, 35, 70, 140, 5, 10, 20, 40, 80, 160, 93, 186, 105, 210, 185, 111, 222, 161, 95, 190, 97, 194, 153, 47, 94, 188, 101, 202, 137, 15, 30, 60, 120, 240, 253, 231, 211, 187, 107, 214, 177, 127, 254, 225, 223, 163, 91, 182, 113, 226, 217, 175, 67, 134, 17, 34, 68, 136, 13, 26, 52, 104, 208, 189, 103, 206, 129, 31, 62, 124, 248, 237, 199, 147, 59, 118, 236, 197, 151, 51, 102, 204, 133, 23, 46, 92, 184, 109, 218, 169, 79, 158, 33, 66, 132, 21, 42, 84, 168, 77, 154, 41, 82, 164, 85, 170, 73, 146, 57, 114, 228, 213, 183, 115, 230, 209, 191, 99, 198, 145, 63, 126, 252, 229, 215, 179, 123, 246, 241, 255, 227, 219, 171, 75, 150, 49, 98, 196, 149, 55, 110, 220, 165, 87, 174, 65, 130, 25, 50, 100, 200, 141, 7, 14, 28, 56, 112, 224, 221, 167, 83, 166, 81, 162, 89, 178, 121, 242, 249, 239, 195, 155, 43, 86, 172, 69, 138, 9, 18, 36, 72, 144, 61, 122, 244, 245, 247, 243, 251, 235, 203, 139, 11, 22, 44, 88, 176, 125, 250, 233, 207, 131, 27, 54, 108, 216, 173, 71, 142, 0],
      f = [],
      u = [],
      p = [],
      g = [],
      v = [],
      y = 2;
    function b(t, e) {
      var i;
      t > e && (i = t, t = e, e = i), i = e, i *= e, i += e, i >>= 1, g[i += t] = 1;
    }
    function x(t, i) {
      var n;
      for (p[t + e * i] = 1, n = -2; n < 2; n++) {
        p[t + n + e * (i - 2)] = 1, p[t - 2 + e * (i + n + 1)] = 1, p[t + 2 + e * (i + n)] = 1, p[t + n + 1 + e * (i + 2)] = 1;
      }
      for (n = 0; n < 2; n++) {
        b(t - 1, i + n), b(t + 1, i - n), b(t - n, i - 1), b(t + n, i + 1);
      }
    }
    function m(t) {
      for (; t >= 255;) {
        t = ((t -= 255) >> 8) + (255 & t);
      }
      return t;
    }
    var w = [];
    function S(t, e, i, n) {
      var r, o, s;
      for (r = 0; r < n; r++) {
        f[i + r] = 0;
      }
      for (r = 0; r < e; r++) {
        if (255 != (s = c[f[t + r] ^ f[i]])) for (o = 1; o < n; o++) {
          f[i + o - 1] = f[i + o] ^ l[m(s + w[n - o])];
        } else for (o = i; o < i + n; o++) {
          f[o] = f[o + 1];
        }
        f[i + n - 1] = 255 == s ? 0 : l[m(s + w[0])];
      }
    }
    function z(t, e) {
      var i;
      return t > e && (i = t, t = e, e = i), i = e, i += e * e, i >>= 1, g[i += t];
    }
    function M(t) {
      var i, n, r, o;
      switch (t) {
        case 0:
          for (n = 0; n < e; n++) {
            for (i = 0; i < e; i++) {
              i + n & 1 || z(i, n) || (p[i + n * e] ^= 1);
            }
          }
          break;
        case 1:
          for (n = 0; n < e; n++) {
            for (i = 0; i < e; i++) {
              1 & n || z(i, n) || (p[i + n * e] ^= 1);
            }
          }
          break;
        case 2:
          for (n = 0; n < e; n++) {
            for (r = 0, i = 0; i < e; i++, r++) {
              3 == r && (r = 0), r || z(i, n) || (p[i + n * e] ^= 1);
            }
          }
          break;
        case 3:
          for (o = 0, n = 0; n < e; n++, o++) {
            for (3 == o && (o = 0), r = o, i = 0; i < e; i++, r++) {
              3 == r && (r = 0), r || z(i, n) || (p[i + n * e] ^= 1);
            }
          }
          break;
        case 4:
          for (n = 0; n < e; n++) {
            for (r = 0, o = n >> 1 & 1, i = 0; i < e; i++, r++) {
              3 == r && (r = 0, o = !o), o || z(i, n) || (p[i + n * e] ^= 1);
            }
          }
          break;
        case 5:
          for (o = 0, n = 0; n < e; n++, o++) {
            for (3 == o && (o = 0), r = 0, i = 0; i < e; i++, r++) {
              3 == r && (r = 0), (i & n & 1) + !(!r | !o) || z(i, n) || (p[i + n * e] ^= 1);
            }
          }
          break;
        case 6:
          for (o = 0, n = 0; n < e; n++, o++) {
            for (3 == o && (o = 0), r = 0, i = 0; i < e; i++, r++) {
              3 == r && (r = 0), (i & n & 1) + (r && r == o) & 1 || z(i, n) || (p[i + n * e] ^= 1);
            }
          }
          break;
        case 7:
          for (o = 0, n = 0; n < e; n++, o++) {
            for (3 == o && (o = 0), r = 0, i = 0; i < e; i++, r++) {
              3 == r && (r = 0), (r && r == o) + (i + n & 1) & 1 || z(i, n) || (p[i + n * e] ^= 1);
            }
          }
      }
    }
    function B(t) {
      var e,
        i = 0;
      for (e = 0; e <= t; e++) {
        v[e] >= 5 && (i += 3 + v[e] - 5);
      }
      for (e = 3; e < t - 1; e += 2) {
        v[e - 2] == v[e + 2] && v[e + 2] == v[e - 1] && v[e - 1] == v[e + 1] && 3 * v[e - 1] == v[e] && (0 == v[e - 3] || e + 3 > t || 3 * v[e - 3] >= 4 * v[e] || 3 * v[e + 3] >= 4 * v[e]) && (i += 40);
      }
      return i;
    }
    function k() {
      var t,
        i,
        n,
        r,
        o,
        s = 0,
        a = 0;
      for (i = 0; i < e - 1; i++) {
        for (t = 0; t < e - 1; t++) {
          (p[t + e * i] && p[t + 1 + e * i] && p[t + e * (i + 1)] && p[t + 1 + e * (i + 1)] || !(p[t + e * i] || p[t + 1 + e * i] || p[t + e * (i + 1)] || p[t + 1 + e * (i + 1)])) && (s += 3);
        }
      }
      for (i = 0; i < e; i++) {
        for (v[0] = 0, n = r = t = 0; t < e; t++) {
          (o = p[t + e * i]) == r ? v[n]++ : v[++n] = 1, a += (r = o) ? 1 : -1;
        }
        s += B(n);
      }
      a < 0 && (a = -a);
      var h = a,
        d = 0;
      for (h += h << 2, h <<= 1; h > e * e;) {
        h -= e * e, d++;
      }
      for (s += 10 * d, t = 0; t < e; t++) {
        for (v[0] = 0, n = r = i = 0; i < e; i++) {
          (o = p[t + e * i]) == r ? v[n]++ : v[++n] = 1, r = o;
        }
        s += B(n);
      }
      return s;
    }
    var I = null;
    return {
      api: {
        get ecclevel() {
          return y;
        },
        set ecclevel(t) {
          y = t;
        },
        get size() {
          return _size;
        },
        set size(t) {
          _size = t;
        },
        get canvas() {
          return I;
        },
        set canvas(t) {
          I = t;
        },
        getFrame: function getFrame(v) {
          return function (v) {
            var B, I, P, W, R, L, O, T;
            W = v.length, t = 0;
            do {
              if (t++, P = 4 * (y - 1) + 16 * (t - 1), i = d[P++], n = d[P++], r = d[P++], o = d[P], W <= (P = r * (i + n) + n - 3 + (t <= 9))) break;
            } while (t < 40);
            for (e = 17 + 4 * t, R = r + (r + o) * (i + n) + n, W = 0; W < R; W++) {
              u[W] = 0;
            }
            for (f = v.slice(0), W = 0; W < e * e; W++) {
              p[W] = 0;
            }
            for (W = 0; W < (e * (e + 1) + 1) / 2; W++) {
              g[W] = 0;
            }
            for (W = 0; W < 3; W++) {
              for (P = 0, I = 0, 1 == W && (P = e - 7), 2 == W && (I = e - 7), p[I + 3 + e * (P + 3)] = 1, B = 0; B < 6; B++) {
                p[I + B + e * P] = 1, p[I + e * (P + B + 1)] = 1, p[I + 6 + e * (P + B)] = 1, p[I + B + 1 + e * (P + 6)] = 1;
              }
              for (B = 1; B < 5; B++) {
                b(I + B, P + 1), b(I + 1, P + B + 1), b(I + 5, P + B), b(I + B + 1, P + 5);
              }
              for (B = 2; B < 4; B++) {
                p[I + B + e * (P + 2)] = 1, p[I + 2 + e * (P + B + 1)] = 1, p[I + 4 + e * (P + B)] = 1, p[I + B + 1 + e * (P + 4)] = 1;
              }
            }
            if (t > 1) for (W = s[t], I = e - 7;;) {
              for (B = e - 7; B > W - 3 && (x(B, I), !(B < W));) {
                B -= W;
              }
              if (I <= W + 9) break;
              x(6, I -= W), x(I, 6);
            }
            for (p[8 + e * (e - 8)] = 1, I = 0; I < 7; I++) {
              b(7, I), b(e - 8, I), b(7, I + e - 7);
            }
            for (B = 0; B < 8; B++) {
              b(B, 7), b(B + e - 8, 7), b(B, e - 8);
            }
            for (B = 0; B < 9; B++) {
              b(B, 8);
            }
            for (B = 0; B < 8; B++) {
              b(B + e - 8, 8), b(8, B);
            }
            for (I = 0; I < 7; I++) {
              b(8, I + e - 7);
            }
            for (B = 0; B < e - 14; B++) {
              1 & B ? (b(8 + B, 6), b(6, 8 + B)) : (p[8 + B + 6 * e] = 1, p[6 + e * (8 + B)] = 1);
            }
            if (t > 6) for (W = a[t - 7], P = 17, B = 0; B < 6; B++) {
              for (I = 0; I < 3; I++, P--) {
                1 & (P > 11 ? t >> P - 12 : W >> P) ? (p[5 - B + e * (2 - I + e - 11)] = 1, p[2 - I + e - 11 + e * (5 - B)] = 1) : (b(5 - B, 2 - I + e - 11), b(2 - I + e - 11, 5 - B));
              }
            }
            for (I = 0; I < e; I++) {
              for (B = 0; B <= I; B++) {
                p[B + e * I] && b(B, I);
              }
            }
            for (R = f.length, L = 0; L < R; L++) {
              u[L] = f.charCodeAt(L);
            }
            if (f = u.slice(0), R >= (B = r * (i + n) + n) - 2 && (R = B - 2, t > 9 && R--), L = R, t > 9) {
              for (f[L + 2] = 0, f[L + 3] = 0; L--;) {
                W = f[L], f[L + 3] |= 255 & W << 4, f[L + 2] = W >> 4;
              }
              f[2] |= 255 & R << 4, f[1] = R >> 4, f[0] = 64 | R >> 12;
            } else {
              for (f[L + 1] = 0, f[L + 2] = 0; L--;) {
                W = f[L], f[L + 2] |= 255 & W << 4, f[L + 1] = W >> 4;
              }
              f[1] |= 255 & R << 4, f[0] = 64 | R >> 4;
            }
            for (L = R + 3 - (t < 10); L < B;) {
              f[L++] = 236, f[L++] = 17;
            }
            for (w[0] = 1, L = 0; L < o; L++) {
              for (w[L + 1] = 1, O = L; O > 0; O--) {
                w[O] = w[O] ? w[O - 1] ^ l[m(c[w[O]] + L)] : w[O - 1];
              }
              w[0] = l[m(c[w[0]] + L)];
            }
            for (L = 0; L <= o; L++) {
              w[L] = c[w[L]];
            }
            for (P = B, I = 0, L = 0; L < i; L++) {
              S(I, r, P, o), I += r, P += o;
            }
            for (L = 0; L < n; L++) {
              S(I, r + 1, P, o), I += r + 1, P += o;
            }
            for (I = 0, L = 0; L < r; L++) {
              for (O = 0; O < i; O++) {
                u[I++] = f[L + O * r];
              }
              for (O = 0; O < n; O++) {
                u[I++] = f[i * r + L + O * (r + 1)];
              }
            }
            for (O = 0; O < n; O++) {
              u[I++] = f[i * r + L + O * (r + 1)];
            }
            for (L = 0; L < o; L++) {
              for (O = 0; O < i + n; O++) {
                u[I++] = f[B + L + O * o];
              }
            }
            for (f = u, B = I = e - 1, P = R = 1, T = (r + o) * (i + n) + n, L = 0; L < T; L++) {
              for (W = f[L], O = 0; O < 8; O++, W <<= 1) {
                128 & W && (p[B + e * I] = 1);
                do {
                  R ? B-- : (B++, P ? 0 != I ? I-- : (P = !P, 6 == (B -= 2) && (B--, I = 9)) : I != e - 1 ? I++ : (P = !P, 6 == (B -= 2) && (B--, I -= 8))), R = !R;
                } while (z(B, I));
              }
            }
            for (f = p.slice(0), W = 0, I = 3e4, P = 0; P < 8 && (M(P), (B = k()) < I && (I = B, W = P), 7 != W); P++) {
              p = f.slice(0);
            }
            for (W != P && M(W), I = h[W + (y - 1 << 3)], P = 0; P < 8; P++, I >>= 1) {
              1 & I && (p[e - 1 - P + 8 * e] = 1, P < 6 ? p[8 + e * P] = 1 : p[8 + e * (P + 1)] = 1);
            }
            for (P = 0; P < 7; P++, I >>= 1) {
              1 & I && (p[8 + e * (e - 7 + P)] = 1, P ? p[6 - P + 8 * e] = 1 : p[7 + 8 * e] = 1);
            }
            return p;
          }(v);
        },
        utf16to8: function utf16to8(t) {
          var e, i, n, r;
          for (e = "", n = t.length, i = 0; i < n; i++) {
            (r = t.charCodeAt(i)) >= 1 && r <= 127 ? e += t.charAt(i) : r > 2047 ? (e += String.fromCharCode(224 | r >> 12 & 15), e += String.fromCharCode(128 | r >> 6 & 63), e += String.fromCharCode(128 | r >> 0 & 63)) : (e += String.fromCharCode(192 | r >> 6 & 31), e += String.fromCharCode(128 | r >> 0 & 63));
          }
          return e;
        },
        draw: function draw(t, i, n, r, o) {
          i.drawView(n, r);
          var s = i.ctx,
            a = n.contentSize,
            h = a.width,
            d = a.height,
            c = a.left,
            l = a.top;
          r.borderRadius, r.backgroundColor;
          var f = r.color,
            u = void 0 === f ? "#000000" : f;
          r.border, n.contentSize.left, n.borderSize.left, n.contentSize.top, n.borderSize.top;
          if (y = o || y, s) {
            s.save(), i.setOpacity(r), i.setTransform(n, r);
            var p = Math.min(h, d);
            t = this.utf16to8(t);
            var g = this.getFrame(t),
              v = p / e;
            s.setFillStyle(u);
            for (var b = 0; b < e; b++) {
              for (var x = 0; x < e; x++) {
                g[x * e + b] && s.fillRect(c + v * b, l + v * x, v, v);
              }
            }
            s.restore(), i.setBorder(n, r);
          } else console.warn("No canvas provided to draw QR code in!");
        }
      }
    };
  }(),
  at = g,
  ht = p,
  dt = v,
  ct = u,
  lt = a,
  ft = h,
  ut = d,
  pt = c,
  gt = l,
  vt = f,
  yt = function () {
    function r(t) {
      var e,
        i = this;
      this.v = "1.9.3.5", this.id = null, this.pixelRatio = 1, this.width = 0, this.height = 0, this.sleep = 1e3 / 30, this.count = 0, this.isRate = !1, this.isDraw = !0, this.isCache = !0, this.fixed = "", this.useCORS = !1, this.imageBus = [], this.createImage = function (t, e) {
        return new Promise(function (i, n) {
          if (window) {
            var r = new Image();
            e && r.setAttribute("crossOrigin", "Anonymous"), r.src = t, r.onload = function () {
              i({
                width: r.naturalWidth || r.width,
                height: r.naturalHeight || r.height,
                path: r,
                src: this.src
              });
            }, r.onerror = function (t) {
              n(t);
            };
          } else n({
            fail: "getImageInfo fail",
            src: t
          });
        });
      }, this.options = t, Object.assign(this, t), this.ctx = ((e = t.context).setFonts = function (t) {
        var i = t.fontFamily,
          r = void 0 === i ? "sans-serif" : i,
          o = t.fontSize,
          s = void 0 === o ? 14 : o,
          a = t.fontWeight,
          h = void 0 === a ? "normal" : a,
          d = t.fontStyle,
          c = void 0 === d ? "normal" : d;
        B == n.MP_TOUTIAO && (h = "bold" == h ? "bold" : "", c = "italic" == c ? "italic" : ""), e.font = "".concat(c, " ").concat(h, " ").concat(Math.round(s), "px ").concat(r);
      }, e.draw && e.setFillStyle ? e : Object.assign(e, {
        setStrokeStyle: function setStrokeStyle(t) {
          e.strokeStyle = t;
        },
        setLineWidth: function setLineWidth(t) {
          e.lineWidth = t;
        },
        setLineCap: function setLineCap(t) {
          e.lineCap = t;
        },
        setFillStyle: function setFillStyle(t) {
          e.fillStyle = t;
        },
        setFontSize: function setFontSize(t) {
          e.font = "".concat(String(t), "px sans-serif");
        },
        setGlobalAlpha: function setGlobalAlpha(t) {
          e.globalAlpha = t;
        },
        setLineJoin: function setLineJoin(t) {
          e.lineJoin = t;
        },
        setTextAlign: function setTextAlign(t) {
          e.textAlign = t;
        },
        setMiterLimit: function setMiterLimit(t) {
          e.miterLimit = t;
        },
        setShadow: function setShadow(t, i, n, r) {
          e.shadowOffsetX = t, e.shadowOffsetY = i, e.shadowBlur = n, e.shadowColor = r;
        },
        setTextBaseline: function setTextBaseline(t) {
          e.textBaseline = t;
        },
        createCircularGradient: function createCircularGradient() {},
        draw: function draw() {}
      })), this.progress = 0, this.root = {
        width: t.width,
        height: t.height,
        fontSizeRate: 1,
        fixedLine: null
      }, this.size = this.root;
      var r = 0;
      Object.defineProperty(this, "progress", {
        configurable: !0,
        set: function set(t) {
          r = t, i.lifecycle("onProgress", t / i.count);
        },
        get: function get() {
          return r || 0;
        }
      });
    }
    return r.prototype.lifecycle = function (t, e) {
      this.options.listen && this.options.listen[t] && this.options.listen[t](e);
    }, r.prototype.setContext = function (t) {
      t && (this.ctx = t);
    }, r.prototype.init = function () {
      (this.canvas.height || n.WEB == B) && (this.canvas.height = this.size.height * this.pixelRatio, this.canvas.width = this.size.width * this.pixelRatio, this.ctx.scale(this.pixelRatio, this.pixelRatio));
    }, r.prototype.clear = function () {
      this.ctx.clearRect(0, 0, this.size.width, this.size.height);
    }, r.prototype.clipPath = function (t, e, i, n, r, o, s) {
      void 0 === o && (o = !1), void 0 === s && (s = !1);
      var a = this.ctx;
      if (/polygon/.test(r)) {
        var h = r.match(/-?\d+(rpx|px|%)?\s+-?\d+(rpx|px|%)?/g) || [];
        a.beginPath(), h.map(function (r) {
          var o = r.split(" "),
            s = o[0],
            a = o[1];
          return [W(s, i) + t, W(a, n) + e];
        }).forEach(function (t, e) {
          0 == e ? a.moveTo(t[0], t[1]) : a.lineTo(t[0], t[1]);
        }), a.closePath(), s && a.stroke(), o && a.fill();
      }
    }, r.prototype.roundRect = function (t, e, i, n, r, o, s) {
      if (void 0 === o && (o = !1), void 0 === s && (s = !1), !(r < 0)) {
        var a = this.ctx;
        if (a.beginPath(), r) {
          var h = r || {},
            d = h.borderTopLeftRadius,
            c = void 0 === d ? r || 0 : d,
            l = h.borderTopRightRadius,
            f = void 0 === l ? r || 0 : l,
            u = h.borderBottomRightRadius,
            p = void 0 === u ? r || 0 : u,
            g = h.borderBottomLeftRadius,
            v = void 0 === g ? r || 0 : g;
          a.arc(t + i - p, e + n - p, p, 0, .5 * Math.PI), a.lineTo(t + v, e + n), a.arc(t + v, e + n - v, v, .5 * Math.PI, Math.PI), a.lineTo(t, e + c), a.arc(t + c, e + c, c, Math.PI, 1.5 * Math.PI), a.lineTo(t + i - f, e), a.arc(t + i - f, e + f, f, 1.5 * Math.PI, 2 * Math.PI), a.lineTo(t + i, e + n - p);
        } else a.rect(t, e, i, n);
        a.closePath(), s && a.stroke(), o && a.fill();
      }
    }, r.prototype.setTransform = function (t, e) {
      var i = e.transform,
        n = e.transformOrigin,
        r = this.ctx,
        o = i || {},
        s = o.scaleX,
        a = void 0 === s ? 1 : s,
        h = o.scaleY,
        d = void 0 === h ? 1 : h,
        c = o.translateX,
        l = void 0 === c ? 0 : c,
        f = o.translateY,
        u = void 0 === f ? 0 : f,
        p = o.rotate,
        g = void 0 === p ? 0 : p,
        v = o.skewX,
        y = void 0 === v ? 0 : v,
        b = o.skewY,
        x = void 0 === b ? 0 : b,
        m = t.left,
        w = t.top,
        S = t.width,
        z = t.height;
      l = W(l, S) || 0, u = W(u, z) || 0;
      var M = {
          top: W("0%", 1),
          center: W("50%", 1),
          bottom: W("100%", 1)
        },
        B = {
          left: W("0%", 1),
          center: W("50%", 1),
          right: W("100%", 1)
        };
      if (n = n.split(" ").filter(function (t, e) {
        return e < 2;
      }).reduce(function (t, e) {
        if (/\d+/.test(e)) {
          var i = W(e, 1) / (/px|rpx$/.test(e) ? P(t.x) ? z : S : 1);
          return P(t.x) ? Object.assign(t, {
            y: i
          }) : Object.assign(t, {
            x: i
          });
        }
        return P(B[e]) && !P(t.x) ? Object.assign(t, {
          x: B[e]
        }) : Object.assign(t, {
          y: M[e] || .5
        });
      }, {}), (l || u) && r.translate(l, u), (a || d) && r.scale(a, d), g) {
        var k = m + S * n.x,
          I = w + z * n.y;
        r.translate(k, I), r.rotate(g * Math.PI / 180), r.translate(-k, -I);
      }
      (y || x) && r.transform(1, Math.tan(x * Math.PI / 180), Math.tan(y * Math.PI / 180), 1, 0, 0);
    }, r.prototype.setBackground = function (t, e, i, r, o) {
      var s = this.ctx;
      t && "transparent" != t ? L(t) ? O(t, e, i, r, o, s) : s.setFillStyle(t) : [n.MP_TOUTIAO, n.MP_BAIDU].includes(B) ? s.setFillStyle("rgba(0,0,0,0)") : s.setFillStyle("transparent");
    }, r.prototype.setShadow = function (t) {
      var e = t.boxShadow,
        i = void 0 === e ? [] : e,
        n = this.ctx;
      if (i.length) {
        var r = i[0],
          o = i[1],
          s = i[2],
          a = i[3];
        n.setShadow(r, o, s, a);
      }
    }, r.prototype.setBorder = function (t, e) {
      var i = this.ctx,
        n = t.width,
        r = t.height,
        o = t.left,
        s = t.top,
        a = e.border,
        h = e.borderBottom,
        d = e.borderTop,
        c = e.borderRight,
        l = e.borderLeft,
        f = e.borderRadius,
        u = e.lineCap,
        p = a || {},
        g = p.borderWidth,
        v = void 0 === g ? 0 : g,
        y = p.borderStyle,
        b = p.borderColor,
        x = h || {},
        m = x.borderBottomWidth,
        w = void 0 === m ? v : m,
        S = x.borderBottomStyle,
        z = void 0 === S ? y : S,
        M = x.borderBottomColor,
        k = void 0 === M ? b : M,
        I = d || {},
        P = I.borderTopWidth,
        W = void 0 === P ? v : P,
        R = I.borderTopStyle,
        L = void 0 === R ? y : R,
        O = I.borderTopColor,
        T = void 0 === O ? b : O,
        A = c || {},
        F = A.borderRightWidth,
        j = void 0 === F ? v : F,
        C = A.borderRightStyle,
        E = void 0 === C ? y : C,
        H = A.borderRightColor,
        U = void 0 === H ? b : H,
        Y = l || {},
        $ = Y.borderLeftWidth,
        D = void 0 === $ ? v : $,
        X = Y.borderLeftStyle,
        _ = void 0 === X ? y : X,
        N = Y.borderLeftColor,
        V = void 0 === N ? b : N,
        G = f || {},
        q = G.borderTopLeftRadius,
        J = void 0 === q ? f || 0 : q,
        Q = G.borderTopRightRadius,
        Z = void 0 === Q ? f || 0 : Q,
        K = G.borderBottomRightRadius,
        tt = void 0 === K ? f || 0 : K,
        et = G.borderBottomLeftRadius,
        it = void 0 === et ? f || 0 : et;
      if (h || l || d || c || a) {
        var nt = function nt(t, e, n) {
            "dashed" == e ? /mp/.test(B) ? i.setLineDash([Math.ceil(4 * t / 3), Math.ceil(4 * t / 3)]) : i.setLineDash([Math.ceil(6 * t), Math.ceil(6 * t)]) : "dotted" == e && i.setLineDash([t, t]), i.setStrokeStyle(n);
          },
          rt = function rt(t, e, n, r, o, s, a, h, d, c, l, f, p, g, v) {
            i.save(), i.setLineCap(v ? "square" : u), i.setLineWidth(f), nt(f, p, g), i.beginPath(), i.arc(t, e, a, Math.PI * d, Math.PI * c), i.lineTo(n, r), i.arc(o, s, h, Math.PI * c, Math.PI * l), i.stroke(), i.restore();
          };
        if (i.save(), a && !h && !l && !d && !c) return i.setLineWidth(v), nt(v, y, b), this.roundRect(o, s, n, r, f, !1, !!b), void i.restore();
        w && rt(o + n - tt, s + r - tt, o + it, s + r, o + it, s + r - it, tt, it, .25, .5, .75, w, z, k, D && j), D && rt(o + it, s + r - it, o, s + J, o + J, s + J, it, J, .75, 1, 1.25, D, _, V, W && w), W && rt(o + J, s + J, o + n - Z, s, o + n - Z, s + Z, J, Z, 1.25, 1.5, 1.75, W, L, T, D && j), j && rt(o + n - Z, s + Z, o + n, s + r - tt, o + n - tt, s + r - tt, Z, tt, 1.75, 2, .25, j, E, U, W && w);
      }
    }, r.prototype.setOpacity = function (t) {
      var e = t.opacity,
        i = void 0 === e ? 1 : e;
      this.ctx.setGlobalAlpha(i);
    }, r.prototype.drawPattern = function (t, n, r) {
      return e(this, void 0, void 0, function () {
        var e = this;
        return i(this, function (i) {
          return [2, new Promise(function (i, o) {
            e.drawView(n, r, !0, !1, !0);
            var s = e,
              a = s.ctx;
            s.canvas;
            var h = n.width,
              d = n.height,
              c = n.left,
              l = n.top,
              f = r || {},
              u = f.borderRadius,
              p = void 0 === u ? 0 : u,
              g = f.backgroundImage,
              v = f.backgroundRepeat,
              y = void 0 === v ? "repeat" : v;
            g && function (t) {
              var o = a.createPattern(t.src, y);
              a.setFillStyle(o), e.roundRect(c, l, h, d, p, !0, !1), e.setBorder(n, r), i();
            }(t);
          })];
        });
      });
    }, r.prototype.drawView = function (t, e, i, n, r) {
      void 0 === i && (i = !0), void 0 === n && (n = !0), void 0 === r && (r = !0);
      var o = this.ctx,
        s = t.width,
        a = t.height,
        h = t.left,
        d = t.top,
        c = e || {},
        l = c.borderRadius,
        f = void 0 === l ? 0 : l,
        u = c.backgroundColor,
        p = void 0 === u ? "transparent" : u,
        g = c.overflow;
      e.opacity && this.setOpacity(e), this.setTransform(t, e), r && (o.save(), this.setShadow(e)), i && this.setBackground(p, s, a, h, d), e.clipPath ? this.clipPath(h, d, s, a, e.clipPath, i, !1) : this.roundRect(h, d, s, a, f, i, !1), r && o.restore(), n && this.setBorder(t, e), "hidden" == g && o.clip();
    }, r.prototype.drawImage = function (t, r, o, s) {
      return void 0 === r && (r = {}), void 0 === o && (o = {}), void 0 === s && (s = !0), e(this, void 0, void 0, function () {
        var a = this;
        return i(this, function (h) {
          switch (h.label) {
            case 0:
              return [4, new Promise(function (h, d) {
                return e(a, void 0, void 0, function () {
                  var e,
                    a,
                    d,
                    c,
                    l,
                    f,
                    u,
                    p,
                    g,
                    v,
                    y,
                    b,
                    x,
                    m,
                    w,
                    S,
                    z,
                    M,
                    k,
                    I,
                    P,
                    L = this;
                  return i(this, function (i) {
                    return e = this.ctx, a = o.borderRadius, d = void 0 === a ? 0 : a, c = o.backgroundColor, l = void 0 === c ? "transparent" : c, f = o.objectFit, u = void 0 === f ? "fill" : f, p = o.backgroundSize, g = void 0 === p ? "fill" : p, v = o.objectPosition, y = o.backgroundPosition, b = o.boxShadow, o.backgroundImage && (u = g, v = y), b && this.drawView(r, Object.assign(o, {
                      backgroundColor: l || b && (l || "#ffffff")
                    }), !0, !1, !0), x = r.width, m = r.height, w = r.left, S = r.top, e.save(), z = r.contentSize.left - r.borderSize.left, M = r.contentSize.top - r.borderSize.top, s || (this.setOpacity(o), this.setTransform(r, o), this.setBackground(l, x, m, w, S), this.roundRect(w, S, x, m, d, !!(d || !b && l), !1)), w += z, S += M, e.clip(), k = function k(t) {
                      if ("fill" !== u) {
                        var i = function (t, e, i) {
                            var n = t.objectFit,
                              r = t.objectPosition,
                              o = e.width / e.height,
                              s = i.width / i.height,
                              a = 1;
                            "contain" == n && o >= s || "cover" == n && o < s ? a = e.height / i.height : ("contain" == n && o < s || "cover" == n && o >= s) && (a = e.width / i.width);
                            var h = i.width * a,
                              d = i.height * a,
                              c = r || [],
                              l = c[0],
                              f = c[1],
                              u = /^\d+px|rpx$/.test(l) ? W(l, e.width) : (e.width - h) * (R(l) ? W(l, 1) : {
                                left: 0,
                                center: .5,
                                right: 1
                              }[l || "center"]),
                              p = /^\d+px|rpx$/.test(f) ? W(f, e.height) : (e.height - d) * (R(f) ? W(f, 1) : {
                                top: 0,
                                center: .5,
                                bottom: 1
                              }[f || "center"]),
                              g = function g(t, e) {
                                return [(t - u) / a, (e - p) / a];
                              },
                              v = g(0, 0),
                              y = v[0],
                              b = v[1],
                              x = g(e.width, e.height),
                              m = x[0],
                              w = x[1];
                            return {
                              sx: Math.max(y, 0),
                              sy: Math.max(b, 0),
                              sw: Math.min(m - y, i.width),
                              sh: Math.min(w - b, i.height),
                              dx: Math.max(u, 0),
                              dy: Math.max(p, 0),
                              dw: Math.min(h, e.width),
                              dh: Math.min(d, e.height)
                            };
                          }({
                            objectFit: u,
                            objectPosition: v
                          }, r.contentSize, t),
                          o = i.sx,
                          s = i.sy,
                          a = i.sh,
                          h = i.sw,
                          d = i.dx,
                          c = i.dy,
                          l = i.dh,
                          f = i.dw;
                        B == n.MP_BAIDU ? e.drawImage(t.src, d + w, c + S, f, l, o, s, h, a) : e.drawImage(t.src, o, s, h, a, d + w, c + S, f, l);
                      } else e.drawImage(t.src, w, S, x, m);
                    }, I = function I() {
                      e.restore(), L.drawView(r, o, !1, !0, !1), h(1);
                    }, P = function P(t) {
                      k(t), I();
                    }, P(t), [2];
                  });
                });
              })];
            case 1:
              return h.sent(), [2];
          }
        });
      });
    }, r.prototype.drawText = function (t, e, i, n) {
      var r = this.ctx,
        o = e.borderSize,
        s = e.contentSize,
        a = e.left,
        h = e.top,
        d = s.width,
        c = s.height,
        l = s.left - o.left,
        f = s.top - o.top,
        u = i.color,
        p = void 0 === u ? "#000000" : u,
        g = i.lineHeight,
        v = void 0 === g ? "1.4em" : g,
        y = i.fontSize,
        b = void 0 === y ? 14 : y,
        x = i.fontWeight,
        m = i.fontFamily,
        w = i.fontStyle,
        S = i.textAlign,
        z = void 0 === S ? "left" : S,
        M = i.verticalAlign,
        B = void 0 === M ? ft : M,
        k = i.backgroundColor,
        I = i.lineClamp,
        P = i.backgroundClip,
        R = i.textShadow,
        L = i.textDecoration;
      if (this.drawView(e, i, P != ht), v = W(v, b), t) {
        r.save(), this.setShadow({
          boxShadow: R
        }), a += l, h += f;
        var O = n.fontHeight,
          T = n.descent + n.ascent;
        switch (r.setFonts({
          fontFamily: m,
          fontSize: b,
          fontWeight: x,
          fontStyle: w
        }), r.setTextBaseline(T ? ft : B), r.setTextAlign(z), P ? this.setBackground(k, d, c, a, h) : r.setFillStyle(p), z) {
          case pt:
            break;
          case gt:
            a += .5 * d;
            break;
          case vt:
            a += d;
        }
        var A = n.lines * v,
          F = Math.ceil((c - A) / 2);
        switch (F < 0 && (F = 0), B) {
          case lt:
            break;
          case ft:
            h += F;
            break;
          case ut:
            h += 2 * F;
        }
        var j = (v - O) / 2,
          C = function C(t) {
            var e = r.measureText(t),
              i = e.actualBoundingBoxDescent,
              n = void 0 === i ? 0 : i,
              o = e.actualBoundingBoxAscent;
            return B == lt ? {
              fix: T ? void 0 === o ? 0 : o : 0,
              lineY: T ? 2 * j : j
            } : B == ft ? {
              fix: T ? v / 2 + n / 4 : v / 2,
              lineY: (v - O) / 2
            } : B == ut ? {
              fix: T ? v - n : v + j,
              lineY: 0
            } : {
              fix: 0,
              height: 0,
              lineY: 0
            };
          },
          E = function E(t, e, i) {
            var o = t;
            switch (z) {
              case pt:
                o += i;
                break;
              case gt:
                o = (t -= i / 2) + i;
                break;
              case vt:
                o = t, t -= i;
            }
            if (L) {
              r.setLineWidth(b / 13), r.beginPath();
              var s = .1 * n.fontHeight;
              /\bunderline\b/.test(L) && (r.moveTo(t, e + s), r.lineTo(o, e + s)), /\boverline\b/.test(L) && (T || (e -= j), r.moveTo(t, e - n.fontHeight - s), r.lineTo(o, e - n.fontHeight - s)), /\bline-through\b/.test(L) && (r.moveTo(t, e - .5 * n.fontHeight), r.lineTo(o, e - .5 * n.fontHeight)), r.closePath(), r.setStrokeStyle(p), r.stroke();
            }
          };
        if (!n.widths || 1 == n.widths.length && n.widths[0].total <= s.width) {
          var H = C(t),
            U = H.fix,
            Y = H.lineY;
          return r.fillText(t, a, h + U), E(a, (h += v) - Y, n && n.widths && n.widths[0].total || n.text), r.restore(), void this.setBorder(e, i);
        }
        for (var $ = t.split(""), D = h, X = a, _ = "", N = 0, V = 0; V <= $.length; V++) {
          var G = $[V] || "",
            q = "\n" === G,
            J = "" == G,
            Q = _ + (G = q ? "" : G),
            Z = r.measureText(Q).width;
          if (N >= I) break;
          if (X = a, Z > s.width || q || J) {
            if (N++, _ = J && Z <= s.width ? Q : _, N === I && Z > d) {
              for (; r.measureText("".concat(_, "...")).width > s.width && !(_.length <= 1);) {
                _ = _.substring(0, _.length - 1);
              }
              _ += "...";
            }
            var K = C(_);
            U = K.fix, Y = K.lineY;
            if (r.fillText(_, X, h + U), E(X, (h += v) - Y, Z), _ = G, h > D + c) break;
          } else _ = Q;
        }
        r.restore();
      }
    }, r.prototype.source = function (t) {
      return e(this, void 0, void 0, function () {
        var e,
          n,
          r,
          o = this;
        return i(this, function (i) {
          switch (i.label) {
            case 0:
              if (this.node = null, e = +new Date(), "{}" == JSON.stringify(t)) return [2];
              if (!t.type) for (n in t.type = ct, t.css = t.css || {}, t) {
                ["views", "children", "type", "css"].includes(n) || (t.css[n] = t[n], delete t[n]);
              }
              return t.css && !t.css.width && (t.css || (t.css = {})), [4, this.create(t)];
            case 1:
              return (r = i.sent()) ? (this.size = r.layout() || {}, this.node = r, this.onEffectFinished().then(function (t) {
                return o.lifecycle("onEffectSuccess", t);
              }).catch(function (t) {
                return o.lifecycle("onEffectFail", t);
              }), console.log("布局用时：" + (+new Date() - e) + "ms"), [2, this.size]) : [2, console.warn("no node")];
          }
        });
      });
    }, r.prototype.getImageInfo = function (t) {
      return this.imageBus[t] || (this.imageBus[t] = this.createImage(t, this.useCORS)), this.imageBus[t];
    }, r.prototype.create = function (n, r) {
      return e(this, void 0, void 0, function () {
        var e, o, s, a, h, d, c, l, f, u, p, g, v, y, b, m, w;
        return i(this, function (i) {
          switch (i.label) {
            case 0:
              if (e = n.type == at, o = [ht, dt].includes(n.type), s = n.css || {}, a = s.backgroundImage, h = s.display, e && !n.src && !n.url || o && !n.text) return [2];
              if (h == x) return [2];
              if (o && (n.text = String(n.text)), !(e || n.type == ct && a)) return [3, 4];
              d = e ? n.src : "", c = /url\((.+)\)/.exec(a), a && c && c[1] && (d = c[1] || ""), i.label = 1;
            case 1:
              return i.trys.push([1, 3,, 4]), [4, this.getImageInfo(d)];
            case 2:
              return l = i.sent(), f = l.width, u = l.height, !(p = l.path) && e ? [2] : (p && (n.attributes = Object.assign(n.attributes || {}, {
                width: f,
                height: u,
                path: p,
                src: p,
                naturalSrc: d
              })), [3, 4]);
            case 3:
              return g = i.sent(), n.type != ct ? [2] : (this.lifecycle("onEffectFail", _t(_t({}, g), {
                src: d
              })), [3, 4]);
            case 4:
              if (this.count += 1, v = new ot(n, r, this.root, this.ctx), !(y = n.views || n.children)) return [3, 8];
              b = 0, i.label = 5;
            case 5:
              return b < y.length ? (m = y[b], [4, this.create(m, v)]) : [3, 8];
            case 6:
              (w = i.sent()) && v.add(w), i.label = 7;
            case 7:
              return b++, [3, 5];
            case 8:
              return [2, v];
          }
        });
      });
    }, r.prototype.drawNode = function (t, n) {
      return void 0 === n && (n = !1), e(this, void 0, void 0, function () {
        var e, r, o, s, a, h, d, c, l, f, u, p, g, v, y, b, x, m, w, S;
        return i(this, function (i) {
          switch (i.label) {
            case 0:
              return e = t.layoutBox, r = t.computedStyle, o = t.attributes, s = t.name, a = t.children, h = t.fixedLine, d = t.attributes, c = d.src, l = d.text, ["fixed"].includes(r.position) && !n ? [2] : (this.ctx.save(), s !== ct ? [3, 7] : c ? r.backgroundRepeat ? [4, this.drawPattern(o, e, r)] : [3, 2] : [3, 5]);
            case 1:
              return i.sent(), [3, 4];
            case 2:
              return [4, this.drawImage(o, e, r, !1)];
            case 3:
              i.sent(), i.label = 4;
            case 4:
              return [3, 6];
            case 5:
              this.drawView(e, r), i.label = 6;
            case 6:
              return [3, 10];
            case 7:
              return s === at && c ? [4, this.drawImage(o, e, r, !1)] : [3, 9];
            case 8:
              return i.sent(), [3, 10];
            case 9:
              s === ht ? this.drawText(l, e, r, o) : s === dt && st.api && st.api.draw(l, this, e, r), i.label = 10;
            case 10:
              if (this.progress += 1, u = (f = h || {}).beforeElements, p = f.afterElements, !u) return [3, 14];
              g = 0, v = u, i.label = 11;
            case 11:
              return g < v.length ? (S = v[g], [4, this.drawNode(S)]) : [3, 14];
            case 12:
              i.sent(), i.label = 13;
            case 13:
              return g++, [3, 11];
            case 14:
              if (!a) return [3, 18];
              y = Object.values ? Object.values(a) : Object.keys(a).map(function (t) {
                return a[t];
              }), b = 0, x = y, i.label = 15;
            case 15:
              return b < x.length ? "absolute" === (S = x[b]).computedStyle.position ? [3, 17] : [4, this.drawNode(S)] : [3, 18];
            case 16:
              i.sent(), i.label = 17;
            case 17:
              return b++, [3, 15];
            case 18:
              if (!p) return [3, 22];
              m = 0, w = p, i.label = 19;
            case 19:
              return m < w.length ? (S = w[m], [4, this.drawNode(S)]) : [3, 22];
            case 20:
              i.sent(), i.label = 21;
            case 21:
              return m++, [3, 19];
            case 22:
              return this.ctx.restore(), [2];
          }
        });
      });
    }, r.prototype.render = function (t) {
      var n = this;
      return void 0 === t && (t = 30), new Promise(function (r, o) {
        return e(n, void 0, void 0, function () {
          var e, n, s, a, h, d, c, l, f, u;
          return i(this, function (i) {
            switch (i.label) {
              case 0:
                return e = +new Date(), this.init(), [4, (p = t, void 0 === p && (p = 0), new Promise(function (t) {
                  return setTimeout(t, p);
                }))];
              case 1:
                i.sent(), i.label = 2;
              case 2:
                if (i.trys.push([2, 14,, 15]), !this.node) return [3, 12];
                if (n = this.root.fixedLine || {}, s = n.beforeElements, a = n.afterElements, !s) return [3, 6];
                h = 0, d = s, i.label = 3;
              case 3:
                return h < d.length ? (f = d[h], [4, this.drawNode(f, !0)]) : [3, 6];
              case 4:
                i.sent(), i.label = 5;
              case 5:
                return h++, [3, 3];
              case 6:
                return [4, this.drawNode(this.node)];
              case 7:
                if (i.sent(), !a) return [3, 11];
                c = 0, l = a, i.label = 8;
              case 8:
                return c < l.length ? (f = l[c], [4, this.drawNode(f, !0)]) : [3, 11];
              case 9:
                i.sent(), i.label = 10;
              case 10:
                return c++, [3, 8];
              case 11:
                return r(this.node), [3, 13];
              case 12:
                this.lifecycle("onEffectFail", "node is empty"), i.label = 13;
              case 13:
                return [3, 15];
              case 14:
                return u = i.sent(), this.lifecycle("onEffectFail", u), o(u), [3, 15];
              case 15:
                return console.log("渲染用时：" + (+new Date() - e - 30) + "ms"), [2];
            }
            var p;
          });
        });
      });
    }, r.prototype.onEffectFinished = function () {
      var t = this,
        e = Object.keys(this.imageBus).map(function (e) {
          return t.imageBus[e];
        });
      return Promise.all(e);
    }, r.prototype.destroy = function () {
      this.node = [];
    }, r.prototype.save = function (t) {
      try {
        var e = t || {},
          i = e.fileType,
          n = void 0 === i ? "png" : i,
          r = e.quality,
          o = void 0 === r ? 1 : r;
        return this.canvas.toDataURL("image/".concat(n), o);
      } catch (t) {
        return this.lifecycle("onEffectFail", "image cross domain"), t;
      }
    }, r;
  }();
exports.default = exports.Painter = yt;
n.WEB == B && (window.Painter = yt);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 2)["default"], __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/wx.js */ 1)["default"]))

/***/ }),

/***/ 18:
/*!******************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/toConsumableArray.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var arrayWithoutHoles = __webpack_require__(/*! ./arrayWithoutHoles.js */ 19);
var iterableToArray = __webpack_require__(/*! ./iterableToArray.js */ 20);
var unsupportedIterableToArray = __webpack_require__(/*! ./unsupportedIterableToArray.js */ 8);
var nonIterableSpread = __webpack_require__(/*! ./nonIterableSpread.js */ 21);
function _toConsumableArray(arr) {
  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();
}
module.exports = _toConsumableArray, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 187:
/*!****************************************************!*\
  !*** /Users/lisicheng/project/lijian/utils/pay.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {

var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.wxpay = exports.ttpay = exports.alipay = void 0;
var _regenerator = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/regenerator */ 30));
var _asyncToGenerator2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ 32));
var _router = __webpack_require__(/*! ../router */ 47);
var _wechath = _interopRequireDefault(__webpack_require__(/*! ./wechath5 */ 44));
var _tools = __webpack_require__(/*! ./tools */ 50);
var _cache = _interopRequireDefault(__webpack_require__(/*! ./cache */ 46));
// 微信支付
var wxpay = /*#__PURE__*/function () {
  var _ref = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(options) {
    return _regenerator.default.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _context.next = 2;
            return (0, _tools.handleClientEvent)({
              // 微信小程序
              MP_WEIXIN: function MP_WEIXIN() {
                return new Promise(function (resolve, reject) {
                  uni.requestPayment({
                    provider: 'wxpay',
                    timeStamp: options.timeStamp,
                    // 支付签名时间戳，注意微信jssdk中的所有使用timestamp字段均为小写。但最新版的支付后台生成签名使用的timeStamp字段名需大写其中的S字符
                    nonceStr: options.nonceStr,
                    // 支付签名随机串，不长于 32 位
                    package: options.package,
                    // 统一支付接口返回的prepay_id参数值，提交格式如：prepay_id=***）
                    signType: options.signType,
                    // 签名方式，默认为'SHA1'，使用新版支付需传入'MD5'
                    paySign: options.paySign,
                    success: function success(res) {
                      return resolve(res);
                    },
                    cancel: function cancel(res) {
                      return reject(res);
                    },
                    fail: function fail(res) {
                      return reject(res);
                    }
                  });
                });
              },
              // 微信公众号
              OA_WEIXIN: function OA_WEIXIN() {
                return _wechath.default.wxPay(options);
              },
              // H5
              H5: function H5() {
                return new Promise(function (resolve, reject) {
                  window.open(options, '_self');
                  resolve();
                });
              },
              // APP
              IOS: function IOS() {
                return new Promise(function (resolve, reject) {
                  uni.requestPayment({
                    provider: 'wxpay',
                    orderInfo: options,
                    success: function success(res) {
                      return resolve(res);
                    },
                    cancel: function cancel(res) {
                      return reject(res);
                    },
                    fail: function fail(res) {
                      return reject(res);
                    }
                  });
                });
              },
              ANDROID: function ANDROID() {
                return new Promise(function (resolve, reject) {
                  uni.requestPayment({
                    provider: 'wxpay',
                    orderInfo: options,
                    success: function success(res) {
                      return resolve(res);
                    },
                    cancel: function cancel(res) {
                      return reject(res);
                    },
                    fail: function fail(res) {
                      return reject(res);
                    }
                  });
                });
              }
            });
          case 2:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));
  return function wxpay(_x) {
    return _ref.apply(this, arguments);
  };
}();

// 支付宝支付
exports.wxpay = wxpay;
var alipay = /*#__PURE__*/function () {
  var _ref2 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2(options, params, token) {
    return _regenerator.default.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            _context2.next = 2;
            return (0, _tools.handleClientEvent)({
              // 微信小程序
              MP_WEIXIN: function MP_WEIXIN() {
                return new Promise(function (resolve, reject) {
                  uni.$emit('Alipay');
                  // resolve()
                });
              },

              // 微信公众号
              OA_WEIXIN: function OA_WEIXIN() {
                return new Promise(function (resolve, reject) {
                  uni.navigateTo({
                    url: "/bundle/pages/toAlipay/toAlipay?id=".concat(params.order_id, "&from=").concat(params.from, "&pay_way=").concat(params.pay_way, "&key=").concat(token)
                  });
                  resolve();
                });
              },
              // H5
              H5: function H5() {
                return new Promise(function (resolve, reject) {
                  var alipayPage = window.open('', '_self');
                  alipayPage.document.body.innerHTML = options;
                  alipayPage.document.forms[0].submit();
                  resolve();
                });
              },
              // APP
              IOS: function IOS() {
                return new Promise(function (resolve, reject) {
                  uni.requestPayment({
                    provider: 'alipay',
                    orderInfo: options,
                    success: function success(res) {
                      return resolve('success');
                    },
                    cancel: function cancel(res) {
                      return reject('fail');
                    },
                    fail: function fail(res) {
                      return reject('fail');
                    }
                  });
                });
              },
              ANDROID: function ANDROID() {
                console.log(options);
                return new Promise(function (resolve, reject) {
                  uni.requestPayment({
                    provider: 'alipay',
                    orderInfo: options,
                    success: function success(res) {
                      return resolve('success');
                    },
                    cancel: function cancel(res) {
                      return reject('fail');
                    },
                    fail: function fail(res) {
                      return reject('fail');
                    }
                  });
                });
              }
            });
          case 2:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2);
  }));
  return function alipay(_x2, _x3, _x4) {
    return _ref2.apply(this, arguments);
  };
}();
exports.alipay = alipay;
var ttpay = /*#__PURE__*/function () {
  var _ref3 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee3(options) {
    return _regenerator.default.wrap(function _callee3$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            return _context3.abrupt("return", new Promise(function (resolve, reject) {
              tt.pay({
                orderInfo: options,
                service: 5,
                success: function success(res) {
                  if (res.code == 0) {
                    resolve(res);
                  } else {
                    reject(res);
                  }
                },
                cancel: function cancel(res) {
                  return reject(res);
                },
                fail: function fail(res) {
                  return reject(res);
                }
              });
            }));
          case 1:
          case "end":
            return _context3.stop();
        }
      }
    }, _callee3);
  }));
  return function ttpay(_x5) {
    return _ref3.apply(this, arguments);
  };
}();
exports.ttpay = ttpay;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 2)["default"]))

/***/ }),

/***/ 19:
/*!******************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var arrayLikeToArray = __webpack_require__(/*! ./arrayLikeToArray.js */ 9);
function _arrayWithoutHoles(arr) {
  if (Array.isArray(arr)) return arrayLikeToArray(arr);
}
module.exports = _arrayWithoutHoles, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 2:
/*!************************************************************!*\
  !*** ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(wx, global) {

var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.createApp = createApp;
exports.createComponent = createComponent;
exports.createPage = createPage;
exports.createPlugin = createPlugin;
exports.createSubpackageApp = createSubpackageApp;
exports.default = void 0;
var _slicedToArray2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ 5));
var _defineProperty2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/defineProperty */ 11));
var _construct2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/construct */ 15));
var _toConsumableArray2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ 18));
var _typeof2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/typeof */ 13));
var _uniI18n = __webpack_require__(/*! @dcloudio/uni-i18n */ 22);
var _vue = _interopRequireDefault(__webpack_require__(/*! vue */ 25));
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
var realAtob;
var b64 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';
var b64re = /^(?:[A-Za-z\d+/]{4})*?(?:[A-Za-z\d+/]{2}(?:==)?|[A-Za-z\d+/]{3}=?)?$/;
if (typeof atob !== 'function') {
  realAtob = function realAtob(str) {
    str = String(str).replace(/[\t\n\f\r ]+/g, '');
    if (!b64re.test(str)) {
      throw new Error("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");
    }

    // Adding the padding if missing, for semplicity
    str += '=='.slice(2 - (str.length & 3));
    var bitmap;
    var result = '';
    var r1;
    var r2;
    var i = 0;
    for (; i < str.length;) {
      bitmap = b64.indexOf(str.charAt(i++)) << 18 | b64.indexOf(str.charAt(i++)) << 12 | (r1 = b64.indexOf(str.charAt(i++))) << 6 | (r2 = b64.indexOf(str.charAt(i++)));
      result += r1 === 64 ? String.fromCharCode(bitmap >> 16 & 255) : r2 === 64 ? String.fromCharCode(bitmap >> 16 & 255, bitmap >> 8 & 255) : String.fromCharCode(bitmap >> 16 & 255, bitmap >> 8 & 255, bitmap & 255);
    }
    return result;
  };
} else {
  // 注意atob只能在全局对象上调用，例如：`const Base64 = {atob};Base64.atob('xxxx')`是错误的用法
  realAtob = atob;
}
function b64DecodeUnicode(str) {
  return decodeURIComponent(realAtob(str).split('').map(function (c) {
    return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
  }).join(''));
}
function getCurrentUserInfo() {
  var token = wx.getStorageSync('uni_id_token') || '';
  var tokenArr = token.split('.');
  if (!token || tokenArr.length !== 3) {
    return {
      uid: null,
      role: [],
      permission: [],
      tokenExpired: 0
    };
  }
  var userInfo;
  try {
    userInfo = JSON.parse(b64DecodeUnicode(tokenArr[1]));
  } catch (error) {
    throw new Error('获取当前用户信息出错，详细错误信息为：' + error.message);
  }
  userInfo.tokenExpired = userInfo.exp * 1000;
  delete userInfo.exp;
  delete userInfo.iat;
  return userInfo;
}
function uniIdMixin(Vue) {
  Vue.prototype.uniIDHasRole = function (roleId) {
    var _getCurrentUserInfo = getCurrentUserInfo(),
      role = _getCurrentUserInfo.role;
    return role.indexOf(roleId) > -1;
  };
  Vue.prototype.uniIDHasPermission = function (permissionId) {
    var _getCurrentUserInfo2 = getCurrentUserInfo(),
      permission = _getCurrentUserInfo2.permission;
    return this.uniIDHasRole('admin') || permission.indexOf(permissionId) > -1;
  };
  Vue.prototype.uniIDTokenValid = function () {
    var _getCurrentUserInfo3 = getCurrentUserInfo(),
      tokenExpired = _getCurrentUserInfo3.tokenExpired;
    return tokenExpired > Date.now();
  };
}
var _toString = Object.prototype.toString;
var hasOwnProperty = Object.prototype.hasOwnProperty;
function isFn(fn) {
  return typeof fn === 'function';
}
function isStr(str) {
  return typeof str === 'string';
}
function isObject(obj) {
  return obj !== null && (0, _typeof2.default)(obj) === 'object';
}
function isPlainObject(obj) {
  return _toString.call(obj) === '[object Object]';
}
function hasOwn(obj, key) {
  return hasOwnProperty.call(obj, key);
}
function noop() {}

/**
 * Create a cached version of a pure function.
 */
function cached(fn) {
  var cache = Object.create(null);
  return function cachedFn(str) {
    var hit = cache[str];
    return hit || (cache[str] = fn(str));
  };
}

/**
 * Camelize a hyphen-delimited string.
 */
var camelizeRE = /-(\w)/g;
var camelize = cached(function (str) {
  return str.replace(camelizeRE, function (_, c) {
    return c ? c.toUpperCase() : '';
  });
});
function sortObject(obj) {
  var sortObj = {};
  if (isPlainObject(obj)) {
    Object.keys(obj).sort().forEach(function (key) {
      sortObj[key] = obj[key];
    });
  }
  return !Object.keys(sortObj) ? obj : sortObj;
}
var HOOKS = ['invoke', 'success', 'fail', 'complete', 'returnValue'];
var globalInterceptors = {};
var scopedInterceptors = {};
function mergeHook(parentVal, childVal) {
  var res = childVal ? parentVal ? parentVal.concat(childVal) : Array.isArray(childVal) ? childVal : [childVal] : parentVal;
  return res ? dedupeHooks(res) : res;
}
function dedupeHooks(hooks) {
  var res = [];
  for (var i = 0; i < hooks.length; i++) {
    if (res.indexOf(hooks[i]) === -1) {
      res.push(hooks[i]);
    }
  }
  return res;
}
function removeHook(hooks, hook) {
  var index = hooks.indexOf(hook);
  if (index !== -1) {
    hooks.splice(index, 1);
  }
}
function mergeInterceptorHook(interceptor, option) {
  Object.keys(option).forEach(function (hook) {
    if (HOOKS.indexOf(hook) !== -1 && isFn(option[hook])) {
      interceptor[hook] = mergeHook(interceptor[hook], option[hook]);
    }
  });
}
function removeInterceptorHook(interceptor, option) {
  if (!interceptor || !option) {
    return;
  }
  Object.keys(option).forEach(function (hook) {
    if (HOOKS.indexOf(hook) !== -1 && isFn(option[hook])) {
      removeHook(interceptor[hook], option[hook]);
    }
  });
}
function addInterceptor(method, option) {
  if (typeof method === 'string' && isPlainObject(option)) {
    mergeInterceptorHook(scopedInterceptors[method] || (scopedInterceptors[method] = {}), option);
  } else if (isPlainObject(method)) {
    mergeInterceptorHook(globalInterceptors, method);
  }
}
function removeInterceptor(method, option) {
  if (typeof method === 'string') {
    if (isPlainObject(option)) {
      removeInterceptorHook(scopedInterceptors[method], option);
    } else {
      delete scopedInterceptors[method];
    }
  } else if (isPlainObject(method)) {
    removeInterceptorHook(globalInterceptors, method);
  }
}
function wrapperHook(hook, params) {
  return function (data) {
    return hook(data, params) || data;
  };
}
function isPromise(obj) {
  return !!obj && ((0, _typeof2.default)(obj) === 'object' || typeof obj === 'function') && typeof obj.then === 'function';
}
function queue(hooks, data, params) {
  var promise = false;
  for (var i = 0; i < hooks.length; i++) {
    var hook = hooks[i];
    if (promise) {
      promise = Promise.resolve(wrapperHook(hook, params));
    } else {
      var res = hook(data, params);
      if (isPromise(res)) {
        promise = Promise.resolve(res);
      }
      if (res === false) {
        return {
          then: function then() {}
        };
      }
    }
  }
  return promise || {
    then: function then(callback) {
      return callback(data);
    }
  };
}
function wrapperOptions(interceptor) {
  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  ['success', 'fail', 'complete'].forEach(function (name) {
    if (Array.isArray(interceptor[name])) {
      var oldCallback = options[name];
      options[name] = function callbackInterceptor(res) {
        queue(interceptor[name], res, options).then(function (res) {
          /* eslint-disable no-mixed-operators */
          return isFn(oldCallback) && oldCallback(res) || res;
        });
      };
    }
  });
  return options;
}
function wrapperReturnValue(method, returnValue) {
  var returnValueHooks = [];
  if (Array.isArray(globalInterceptors.returnValue)) {
    returnValueHooks.push.apply(returnValueHooks, (0, _toConsumableArray2.default)(globalInterceptors.returnValue));
  }
  var interceptor = scopedInterceptors[method];
  if (interceptor && Array.isArray(interceptor.returnValue)) {
    returnValueHooks.push.apply(returnValueHooks, (0, _toConsumableArray2.default)(interceptor.returnValue));
  }
  returnValueHooks.forEach(function (hook) {
    returnValue = hook(returnValue) || returnValue;
  });
  return returnValue;
}
function getApiInterceptorHooks(method) {
  var interceptor = Object.create(null);
  Object.keys(globalInterceptors).forEach(function (hook) {
    if (hook !== 'returnValue') {
      interceptor[hook] = globalInterceptors[hook].slice();
    }
  });
  var scopedInterceptor = scopedInterceptors[method];
  if (scopedInterceptor) {
    Object.keys(scopedInterceptor).forEach(function (hook) {
      if (hook !== 'returnValue') {
        interceptor[hook] = (interceptor[hook] || []).concat(scopedInterceptor[hook]);
      }
    });
  }
  return interceptor;
}
function invokeApi(method, api, options) {
  for (var _len = arguments.length, params = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {
    params[_key - 3] = arguments[_key];
  }
  var interceptor = getApiInterceptorHooks(method);
  if (interceptor && Object.keys(interceptor).length) {
    if (Array.isArray(interceptor.invoke)) {
      var res = queue(interceptor.invoke, options);
      return res.then(function (options) {
        // 重新访问 getApiInterceptorHooks, 允许 invoke 中再次调用 addInterceptor,removeInterceptor
        return api.apply(void 0, [wrapperOptions(getApiInterceptorHooks(method), options)].concat(params));
      });
    } else {
      return api.apply(void 0, [wrapperOptions(interceptor, options)].concat(params));
    }
  }
  return api.apply(void 0, [options].concat(params));
}
var promiseInterceptor = {
  returnValue: function returnValue(res) {
    if (!isPromise(res)) {
      return res;
    }
    return new Promise(function (resolve, reject) {
      res.then(function (res) {
        if (!res) {
          resolve(res);
          return;
        }
        if (res[0]) {
          reject(res[0]);
        } else {
          resolve(res[1]);
        }
      });
    });
  }
};
var SYNC_API_RE = /^\$|Window$|WindowStyle$|sendHostEvent|sendNativeEvent|restoreGlobal|requireGlobal|getCurrentSubNVue|getMenuButtonBoundingClientRect|^report|interceptors|Interceptor$|getSubNVueById|requireNativePlugin|upx2px|hideKeyboard|canIUse|^create|Sync$|Manager$|base64ToArrayBuffer|arrayBufferToBase64|getLocale|setLocale|invokePushCallback|getWindowInfo|getDeviceInfo|getAppBaseInfo|getSystemSetting|getAppAuthorizeSetting|initUTS|requireUTS|registerUTS/;
var CONTEXT_API_RE = /^create|Manager$/;

// Context例外情况
var CONTEXT_API_RE_EXC = ['createBLEConnection'];

// 同步例外情况
var ASYNC_API = ['createBLEConnection', 'createPushMessage'];
var CALLBACK_API_RE = /^on|^off/;
function isContextApi(name) {
  return CONTEXT_API_RE.test(name) && CONTEXT_API_RE_EXC.indexOf(name) === -1;
}
function isSyncApi(name) {
  return SYNC_API_RE.test(name) && ASYNC_API.indexOf(name) === -1;
}
function isCallbackApi(name) {
  return CALLBACK_API_RE.test(name) && name !== 'onPush';
}
function handlePromise(promise) {
  return promise.then(function (data) {
    return [null, data];
  }).catch(function (err) {
    return [err];
  });
}
function shouldPromise(name) {
  if (isContextApi(name) || isSyncApi(name) || isCallbackApi(name)) {
    return false;
  }
  return true;
}

/* eslint-disable no-extend-native */
if (!Promise.prototype.finally) {
  Promise.prototype.finally = function (callback) {
    var promise = this.constructor;
    return this.then(function (value) {
      return promise.resolve(callback()).then(function () {
        return value;
      });
    }, function (reason) {
      return promise.resolve(callback()).then(function () {
        throw reason;
      });
    });
  };
}
function promisify(name, api) {
  if (!shouldPromise(name) || !isFn(api)) {
    return api;
  }
  return function promiseApi() {
    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    for (var _len2 = arguments.length, params = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
      params[_key2 - 1] = arguments[_key2];
    }
    if (isFn(options.success) || isFn(options.fail) || isFn(options.complete)) {
      return wrapperReturnValue(name, invokeApi.apply(void 0, [name, api, options].concat(params)));
    }
    return wrapperReturnValue(name, handlePromise(new Promise(function (resolve, reject) {
      invokeApi.apply(void 0, [name, api, Object.assign({}, options, {
        success: resolve,
        fail: reject
      })].concat(params));
    })));
  };
}
var EPS = 1e-4;
var BASE_DEVICE_WIDTH = 750;
var isIOS = false;
var deviceWidth = 0;
var deviceDPR = 0;
function checkDeviceWidth() {
  var _wx$getSystemInfoSync = wx.getSystemInfoSync(),
    platform = _wx$getSystemInfoSync.platform,
    pixelRatio = _wx$getSystemInfoSync.pixelRatio,
    windowWidth = _wx$getSystemInfoSync.windowWidth; // uni=>wx runtime 编译目标是 uni 对象，内部不允许直接使用 uni

  deviceWidth = windowWidth;
  deviceDPR = pixelRatio;
  isIOS = platform === 'ios';
}
function upx2px(number, newDeviceWidth) {
  if (deviceWidth === 0) {
    checkDeviceWidth();
  }
  number = Number(number);
  if (number === 0) {
    return 0;
  }
  var result = number / BASE_DEVICE_WIDTH * (newDeviceWidth || deviceWidth);
  if (result < 0) {
    result = -result;
  }
  result = Math.floor(result + EPS);
  if (result === 0) {
    if (deviceDPR === 1 || !isIOS) {
      result = 1;
    } else {
      result = 0.5;
    }
  }
  return number < 0 ? -result : result;
}
var LOCALE_ZH_HANS = 'zh-Hans';
var LOCALE_ZH_HANT = 'zh-Hant';
var LOCALE_EN = 'en';
var LOCALE_FR = 'fr';
var LOCALE_ES = 'es';
var messages = {};
var locale;
{
  locale = normalizeLocale(wx.getSystemInfoSync().language) || LOCALE_EN;
}
function initI18nMessages() {
  if (!isEnableLocale()) {
    return;
  }
  var localeKeys = Object.keys(__uniConfig.locales);
  if (localeKeys.length) {
    localeKeys.forEach(function (locale) {
      var curMessages = messages[locale];
      var userMessages = __uniConfig.locales[locale];
      if (curMessages) {
        Object.assign(curMessages, userMessages);
      } else {
        messages[locale] = userMessages;
      }
    });
  }
}
initI18nMessages();
var i18n = (0, _uniI18n.initVueI18n)(locale, {});
var t = i18n.t;
var i18nMixin = i18n.mixin = {
  beforeCreate: function beforeCreate() {
    var _this = this;
    var unwatch = i18n.i18n.watchLocale(function () {
      _this.$forceUpdate();
    });
    this.$once('hook:beforeDestroy', function () {
      unwatch();
    });
  },
  methods: {
    $$t: function $$t(key, values) {
      return t(key, values);
    }
  }
};
var setLocale = i18n.setLocale;
var getLocale = i18n.getLocale;
function initAppLocale(Vue, appVm, locale) {
  var state = Vue.observable({
    locale: locale || i18n.getLocale()
  });
  var localeWatchers = [];
  appVm.$watchLocale = function (fn) {
    localeWatchers.push(fn);
  };
  Object.defineProperty(appVm, '$locale', {
    get: function get() {
      return state.locale;
    },
    set: function set(v) {
      state.locale = v;
      localeWatchers.forEach(function (watch) {
        return watch(v);
      });
    }
  });
}
function isEnableLocale() {
  return typeof __uniConfig !== 'undefined' && __uniConfig.locales && !!Object.keys(__uniConfig.locales).length;
}
function include(str, parts) {
  return !!parts.find(function (part) {
    return str.indexOf(part) !== -1;
  });
}
function startsWith(str, parts) {
  return parts.find(function (part) {
    return str.indexOf(part) === 0;
  });
}
function normalizeLocale(locale, messages) {
  if (!locale) {
    return;
  }
  locale = locale.trim().replace(/_/g, '-');
  if (messages && messages[locale]) {
    return locale;
  }
  locale = locale.toLowerCase();
  if (locale === 'chinese') {
    // 支付宝
    return LOCALE_ZH_HANS;
  }
  if (locale.indexOf('zh') === 0) {
    if (locale.indexOf('-hans') > -1) {
      return LOCALE_ZH_HANS;
    }
    if (locale.indexOf('-hant') > -1) {
      return LOCALE_ZH_HANT;
    }
    if (include(locale, ['-tw', '-hk', '-mo', '-cht'])) {
      return LOCALE_ZH_HANT;
    }
    return LOCALE_ZH_HANS;
  }
  var lang = startsWith(locale, [LOCALE_EN, LOCALE_FR, LOCALE_ES]);
  if (lang) {
    return lang;
  }
}
// export function initI18n() {
//   const localeKeys = Object.keys(__uniConfig.locales || {})
//   if (localeKeys.length) {
//     localeKeys.forEach((locale) =>
//       i18n.add(locale, __uniConfig.locales[locale])
//     )
//   }
// }

function getLocale$1() {
  // 优先使用 $locale
  if (isFn(getApp)) {
    var app = getApp({
      allowDefault: true
    });
    if (app && app.$vm) {
      return app.$vm.$locale;
    }
  }
  return normalizeLocale(wx.getSystemInfoSync().language) || LOCALE_EN;
}
function setLocale$1(locale) {
  var app = isFn(getApp) ? getApp() : false;
  if (!app) {
    return false;
  }
  var oldLocale = app.$vm.$locale;
  if (oldLocale !== locale) {
    app.$vm.$locale = locale;
    onLocaleChangeCallbacks.forEach(function (fn) {
      return fn({
        locale: locale
      });
    });
    return true;
  }
  return false;
}
var onLocaleChangeCallbacks = [];
function onLocaleChange(fn) {
  if (onLocaleChangeCallbacks.indexOf(fn) === -1) {
    onLocaleChangeCallbacks.push(fn);
  }
}
if (typeof global !== 'undefined') {
  global.getLocale = getLocale$1;
}
var interceptors = {
  promiseInterceptor: promiseInterceptor
};
var baseApi = /*#__PURE__*/Object.freeze({
  __proto__: null,
  upx2px: upx2px,
  getLocale: getLocale$1,
  setLocale: setLocale$1,
  onLocaleChange: onLocaleChange,
  addInterceptor: addInterceptor,
  removeInterceptor: removeInterceptor,
  interceptors: interceptors
});
function findExistsPageIndex(url) {
  var pages = getCurrentPages();
  var len = pages.length;
  while (len--) {
    var page = pages[len];
    if (page.$page && page.$page.fullPath === url) {
      return len;
    }
  }
  return -1;
}
var redirectTo = {
  name: function name(fromArgs) {
    if (fromArgs.exists === 'back' && fromArgs.delta) {
      return 'navigateBack';
    }
    return 'redirectTo';
  },
  args: function args(fromArgs) {
    if (fromArgs.exists === 'back' && fromArgs.url) {
      var existsPageIndex = findExistsPageIndex(fromArgs.url);
      if (existsPageIndex !== -1) {
        var delta = getCurrentPages().length - 1 - existsPageIndex;
        if (delta > 0) {
          fromArgs.delta = delta;
        }
      }
    }
  }
};
var previewImage = {
  args: function args(fromArgs) {
    var currentIndex = parseInt(fromArgs.current);
    if (isNaN(currentIndex)) {
      return;
    }
    var urls = fromArgs.urls;
    if (!Array.isArray(urls)) {
      return;
    }
    var len = urls.length;
    if (!len) {
      return;
    }
    if (currentIndex < 0) {
      currentIndex = 0;
    } else if (currentIndex >= len) {
      currentIndex = len - 1;
    }
    if (currentIndex > 0) {
      fromArgs.current = urls[currentIndex];
      fromArgs.urls = urls.filter(function (item, index) {
        return index < currentIndex ? item !== urls[currentIndex] : true;
      });
    } else {
      fromArgs.current = urls[0];
    }
    return {
      indicator: false,
      loop: false
    };
  }
};
var UUID_KEY = '__DC_STAT_UUID';
var deviceId;
function useDeviceId(result) {
  deviceId = deviceId || wx.getStorageSync(UUID_KEY);
  if (!deviceId) {
    deviceId = Date.now() + '' + Math.floor(Math.random() * 1e7);
    wx.setStorage({
      key: UUID_KEY,
      data: deviceId
    });
  }
  result.deviceId = deviceId;
}
function addSafeAreaInsets(result) {
  if (result.safeArea) {
    var safeArea = result.safeArea;
    result.safeAreaInsets = {
      top: safeArea.top,
      left: safeArea.left,
      right: result.windowWidth - safeArea.right,
      bottom: result.screenHeight - safeArea.bottom
    };
  }
}
function populateParameters(result) {
  var _result$brand = result.brand,
    brand = _result$brand === void 0 ? '' : _result$brand,
    _result$model = result.model,
    model = _result$model === void 0 ? '' : _result$model,
    _result$system = result.system,
    system = _result$system === void 0 ? '' : _result$system,
    _result$language = result.language,
    language = _result$language === void 0 ? '' : _result$language,
    theme = result.theme,
    version = result.version,
    platform = result.platform,
    fontSizeSetting = result.fontSizeSetting,
    SDKVersion = result.SDKVersion,
    pixelRatio = result.pixelRatio,
    deviceOrientation = result.deviceOrientation;
  // const isQuickApp = "mp-weixin".indexOf('quickapp-webview') !== -1

  var extraParam = {};

  // osName osVersion
  var osName = '';
  var osVersion = '';
  {
    osName = system.split(' ')[0] || '';
    osVersion = system.split(' ')[1] || '';
  }
  var hostVersion = version;

  // deviceType
  var deviceType = getGetDeviceType(result, model);

  // deviceModel
  var deviceBrand = getDeviceBrand(brand);

  // hostName
  var _hostName = getHostName(result);

  // deviceOrientation
  var _deviceOrientation = deviceOrientation; // 仅 微信 百度 支持

  // devicePixelRatio
  var _devicePixelRatio = pixelRatio;

  // SDKVersion
  var _SDKVersion = SDKVersion;

  // hostLanguage
  var hostLanguage = language.replace(/_/g, '-');

  // wx.getAccountInfoSync

  var parameters = {
    appId: "__UNI__81C1033",
    appName: "LikeShopPlus",
    appVersion: "3.2.0",
    appVersionCode: "100",
    appLanguage: getAppLanguage(hostLanguage),
    uniCompileVersion: "4.36",
    uniCompilerVersion: "4.36",
    uniRuntimeVersion: "4.36",
    uniPlatform: undefined || "mp-weixin",
    deviceBrand: deviceBrand,
    deviceModel: model,
    deviceType: deviceType,
    devicePixelRatio: _devicePixelRatio,
    deviceOrientation: _deviceOrientation,
    osName: osName.toLocaleLowerCase(),
    osVersion: osVersion,
    hostTheme: theme,
    hostVersion: hostVersion,
    hostLanguage: hostLanguage,
    hostName: _hostName,
    hostSDKVersion: _SDKVersion,
    hostFontSizeSetting: fontSizeSetting,
    windowTop: 0,
    windowBottom: 0,
    // TODO
    osLanguage: undefined,
    osTheme: undefined,
    ua: undefined,
    hostPackageName: undefined,
    browserName: undefined,
    browserVersion: undefined,
    isUniAppX: false
  };
  Object.assign(result, parameters, extraParam);
}
function getGetDeviceType(result, model) {
  var deviceType = result.deviceType || 'phone';
  {
    var deviceTypeMaps = {
      ipad: 'pad',
      windows: 'pc',
      mac: 'pc'
    };
    var deviceTypeMapsKeys = Object.keys(deviceTypeMaps);
    var _model = model.toLocaleLowerCase();
    for (var index = 0; index < deviceTypeMapsKeys.length; index++) {
      var _m = deviceTypeMapsKeys[index];
      if (_model.indexOf(_m) !== -1) {
        deviceType = deviceTypeMaps[_m];
        break;
      }
    }
  }
  return deviceType;
}
function getDeviceBrand(brand) {
  var deviceBrand = brand;
  if (deviceBrand) {
    deviceBrand = brand.toLocaleLowerCase();
  }
  return deviceBrand;
}
function getAppLanguage(defaultLanguage) {
  return getLocale$1 ? getLocale$1() : defaultLanguage;
}
function getHostName(result) {
  var _platform = 'WeChat';
  var _hostName = result.hostName || _platform; // mp-jd
  {
    if (result.environment) {
      _hostName = result.environment;
    } else if (result.host && result.host.env) {
      _hostName = result.host.env;
    }
  }
  return _hostName;
}
var getSystemInfo = {
  returnValue: function returnValue(result) {
    useDeviceId(result);
    addSafeAreaInsets(result);
    populateParameters(result);
  }
};
var showActionSheet = {
  args: function args(fromArgs) {
    if ((0, _typeof2.default)(fromArgs) === 'object') {
      fromArgs.alertText = fromArgs.title;
    }
  }
};
var getAppBaseInfo = {
  returnValue: function returnValue(result) {
    var _result = result,
      version = _result.version,
      language = _result.language,
      SDKVersion = _result.SDKVersion,
      theme = _result.theme;
    var _hostName = getHostName(result);
    var hostLanguage = language.replace('_', '-');
    result = sortObject(Object.assign(result, {
      appId: "__UNI__81C1033",
      appName: "LikeShopPlus",
      appVersion: "3.2.0",
      appVersionCode: "100",
      appLanguage: getAppLanguage(hostLanguage),
      hostVersion: version,
      hostLanguage: hostLanguage,
      hostName: _hostName,
      hostSDKVersion: SDKVersion,
      hostTheme: theme,
      isUniAppX: false,
      uniPlatform: undefined || "mp-weixin",
      uniCompileVersion: "4.36",
      uniCompilerVersion: "4.36"
    }));
  }
};
var getDeviceInfo = {
  returnValue: function returnValue(result) {
    var _result2 = result,
      brand = _result2.brand,
      model = _result2.model;
    var deviceType = getGetDeviceType(result, model);
    var deviceBrand = getDeviceBrand(brand);
    useDeviceId(result);
    result = sortObject(Object.assign(result, {
      deviceType: deviceType,
      deviceBrand: deviceBrand,
      deviceModel: model
    }));
  }
};
var getWindowInfo = {
  returnValue: function returnValue(result) {
    addSafeAreaInsets(result);
    result = sortObject(Object.assign(result, {
      windowTop: 0,
      windowBottom: 0
    }));
  }
};
var getAppAuthorizeSetting = {
  returnValue: function returnValue(result) {
    var locationReducedAccuracy = result.locationReducedAccuracy;
    result.locationAccuracy = 'unsupported';
    if (locationReducedAccuracy === true) {
      result.locationAccuracy = 'reduced';
    } else if (locationReducedAccuracy === false) {
      result.locationAccuracy = 'full';
    }
  }
};

// import navigateTo from 'uni-helpers/navigate-to'

var compressImage = {
  args: function args(fromArgs) {
    // https://developers.weixin.qq.com/community/develop/doc/000c08940c865011298e0a43256800?highLine=compressHeight
    if (fromArgs.compressedHeight && !fromArgs.compressHeight) {
      fromArgs.compressHeight = fromArgs.compressedHeight;
    }
    if (fromArgs.compressedWidth && !fromArgs.compressWidth) {
      fromArgs.compressWidth = fromArgs.compressedWidth;
    }
  }
};
var protocols = {
  redirectTo: redirectTo,
  // navigateTo,  // 由于在微信开发者工具的页面参数，会显示__id__参数，因此暂时关闭mp-weixin对于navigateTo的AOP
  previewImage: previewImage,
  getSystemInfo: getSystemInfo,
  getSystemInfoSync: getSystemInfo,
  showActionSheet: showActionSheet,
  getAppBaseInfo: getAppBaseInfo,
  getDeviceInfo: getDeviceInfo,
  getWindowInfo: getWindowInfo,
  getAppAuthorizeSetting: getAppAuthorizeSetting,
  compressImage: compressImage
};
var todos = ['vibrate', 'preloadPage', 'unPreloadPage', 'loadSubPackage'];
var canIUses = [];
var CALLBACKS = ['success', 'fail', 'cancel', 'complete'];
function processCallback(methodName, method, returnValue) {
  return function (res) {
    return method(processReturnValue(methodName, res, returnValue));
  };
}
function processArgs(methodName, fromArgs) {
  var argsOption = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
  var returnValue = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
  var keepFromArgs = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;
  if (isPlainObject(fromArgs)) {
    // 一般 api 的参数解析
    var toArgs = keepFromArgs === true ? fromArgs : {}; // returnValue 为 false 时，说明是格式化返回值，直接在返回值对象上修改赋值
    if (isFn(argsOption)) {
      argsOption = argsOption(fromArgs, toArgs) || {};
    }
    for (var key in fromArgs) {
      if (hasOwn(argsOption, key)) {
        var keyOption = argsOption[key];
        if (isFn(keyOption)) {
          keyOption = keyOption(fromArgs[key], fromArgs, toArgs);
        }
        if (!keyOption) {
          // 不支持的参数
          console.warn("The '".concat(methodName, "' method of platform '\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F' does not support option '").concat(key, "'"));
        } else if (isStr(keyOption)) {
          // 重写参数 key
          toArgs[keyOption] = fromArgs[key];
        } else if (isPlainObject(keyOption)) {
          // {name:newName,value:value}可重新指定参数 key:value
          toArgs[keyOption.name ? keyOption.name : key] = keyOption.value;
        }
      } else if (CALLBACKS.indexOf(key) !== -1) {
        if (isFn(fromArgs[key])) {
          toArgs[key] = processCallback(methodName, fromArgs[key], returnValue);
        }
      } else {
        if (!keepFromArgs) {
          toArgs[key] = fromArgs[key];
        }
      }
    }
    return toArgs;
  } else if (isFn(fromArgs)) {
    fromArgs = processCallback(methodName, fromArgs, returnValue);
  }
  return fromArgs;
}
function processReturnValue(methodName, res, returnValue) {
  var keepReturnValue = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;
  if (isFn(protocols.returnValue)) {
    // 处理通用 returnValue
    res = protocols.returnValue(methodName, res);
  }
  return processArgs(methodName, res, returnValue, {}, keepReturnValue);
}
function wrapper(methodName, method) {
  if (hasOwn(protocols, methodName)) {
    var protocol = protocols[methodName];
    if (!protocol) {
      // 暂不支持的 api
      return function () {
        console.error("Platform '\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F' does not support '".concat(methodName, "'."));
      };
    }
    return function (arg1, arg2) {
      // 目前 api 最多两个参数
      var options = protocol;
      if (isFn(protocol)) {
        options = protocol(arg1);
      }
      arg1 = processArgs(methodName, arg1, options.args, options.returnValue);
      var args = [arg1];
      if (typeof arg2 !== 'undefined') {
        args.push(arg2);
      }
      if (isFn(options.name)) {
        methodName = options.name(arg1);
      } else if (isStr(options.name)) {
        methodName = options.name;
      }
      var returnValue = wx[methodName].apply(wx, args);
      if (isSyncApi(methodName)) {
        // 同步 api
        return processReturnValue(methodName, returnValue, options.returnValue, isContextApi(methodName));
      }
      return returnValue;
    };
  }
  return method;
}
var todoApis = Object.create(null);
var TODOS = ['onTabBarMidButtonTap', 'subscribePush', 'unsubscribePush', 'onPush', 'offPush', 'share'];
function createTodoApi(name) {
  return function todoApi(_ref) {
    var fail = _ref.fail,
      complete = _ref.complete;
    var res = {
      errMsg: "".concat(name, ":fail method '").concat(name, "' not supported")
    };
    isFn(fail) && fail(res);
    isFn(complete) && complete(res);
  };
}
TODOS.forEach(function (name) {
  todoApis[name] = createTodoApi(name);
});
var providers = {
  oauth: ['weixin'],
  share: ['weixin'],
  payment: ['wxpay'],
  push: ['weixin']
};
function getProvider(_ref2) {
  var service = _ref2.service,
    success = _ref2.success,
    fail = _ref2.fail,
    complete = _ref2.complete;
  var res = false;
  if (providers[service]) {
    res = {
      errMsg: 'getProvider:ok',
      service: service,
      provider: providers[service]
    };
    isFn(success) && success(res);
  } else {
    res = {
      errMsg: 'getProvider:fail service not found'
    };
    isFn(fail) && fail(res);
  }
  isFn(complete) && complete(res);
}
var extraApi = /*#__PURE__*/Object.freeze({
  __proto__: null,
  getProvider: getProvider
});
var getEmitter = function () {
  var Emitter;
  return function getUniEmitter() {
    if (!Emitter) {
      Emitter = new _vue.default();
    }
    return Emitter;
  };
}();
function apply(ctx, method, args) {
  return ctx[method].apply(ctx, args);
}
function $on() {
  return apply(getEmitter(), '$on', Array.prototype.slice.call(arguments));
}
function $off() {
  return apply(getEmitter(), '$off', Array.prototype.slice.call(arguments));
}
function $once() {
  return apply(getEmitter(), '$once', Array.prototype.slice.call(arguments));
}
function $emit() {
  return apply(getEmitter(), '$emit', Array.prototype.slice.call(arguments));
}
var eventApi = /*#__PURE__*/Object.freeze({
  __proto__: null,
  $on: $on,
  $off: $off,
  $once: $once,
  $emit: $emit
});

/**
 * 框架内 try-catch
 */
/**
 * 开发者 try-catch
 */
function tryCatch(fn) {
  return function () {
    try {
      return fn.apply(fn, arguments);
    } catch (e) {
      // TODO
      console.error(e);
    }
  };
}
function getApiCallbacks(params) {
  var apiCallbacks = {};
  for (var name in params) {
    var param = params[name];
    if (isFn(param)) {
      apiCallbacks[name] = tryCatch(param);
      delete params[name];
    }
  }
  return apiCallbacks;
}
var cid;
var cidErrMsg;
var enabled;
function normalizePushMessage(message) {
  try {
    return JSON.parse(message);
  } catch (e) {}
  return message;
}
function invokePushCallback(args) {
  if (args.type === 'enabled') {
    enabled = true;
  } else if (args.type === 'clientId') {
    cid = args.cid;
    cidErrMsg = args.errMsg;
    invokeGetPushCidCallbacks(cid, args.errMsg);
  } else if (args.type === 'pushMsg') {
    var message = {
      type: 'receive',
      data: normalizePushMessage(args.message)
    };
    for (var i = 0; i < onPushMessageCallbacks.length; i++) {
      var callback = onPushMessageCallbacks[i];
      callback(message);
      // 该消息已被阻止
      if (message.stopped) {
        break;
      }
    }
  } else if (args.type === 'click') {
    onPushMessageCallbacks.forEach(function (callback) {
      callback({
        type: 'click',
        data: normalizePushMessage(args.message)
      });
    });
  }
}
var getPushCidCallbacks = [];
function invokeGetPushCidCallbacks(cid, errMsg) {
  getPushCidCallbacks.forEach(function (callback) {
    callback(cid, errMsg);
  });
  getPushCidCallbacks.length = 0;
}
function getPushClientId(args) {
  if (!isPlainObject(args)) {
    args = {};
  }
  var _getApiCallbacks = getApiCallbacks(args),
    success = _getApiCallbacks.success,
    fail = _getApiCallbacks.fail,
    complete = _getApiCallbacks.complete;
  var hasSuccess = isFn(success);
  var hasFail = isFn(fail);
  var hasComplete = isFn(complete);
  Promise.resolve().then(function () {
    if (typeof enabled === 'undefined') {
      enabled = false;
      cid = '';
      cidErrMsg = 'uniPush is not enabled';
    }
    getPushCidCallbacks.push(function (cid, errMsg) {
      var res;
      if (cid) {
        res = {
          errMsg: 'getPushClientId:ok',
          cid: cid
        };
        hasSuccess && success(res);
      } else {
        res = {
          errMsg: 'getPushClientId:fail' + (errMsg ? ' ' + errMsg : '')
        };
        hasFail && fail(res);
      }
      hasComplete && complete(res);
    });
    if (typeof cid !== 'undefined') {
      invokeGetPushCidCallbacks(cid, cidErrMsg);
    }
  });
}
var onPushMessageCallbacks = [];
// 不使用 defineOnApi 实现，是因为 defineOnApi 依赖 UniServiceJSBridge ，该对象目前在小程序上未提供，故简单实现
var onPushMessage = function onPushMessage(fn) {
  if (onPushMessageCallbacks.indexOf(fn) === -1) {
    onPushMessageCallbacks.push(fn);
  }
};
var offPushMessage = function offPushMessage(fn) {
  if (!fn) {
    onPushMessageCallbacks.length = 0;
  } else {
    var index = onPushMessageCallbacks.indexOf(fn);
    if (index > -1) {
      onPushMessageCallbacks.splice(index, 1);
    }
  }
};
var baseInfo = wx.getAppBaseInfo && wx.getAppBaseInfo();
if (!baseInfo) {
  baseInfo = wx.getSystemInfoSync();
}
var host = baseInfo ? baseInfo.host : null;
var shareVideoMessage = host && host.env === 'SAAASDK' ? wx.miniapp.shareVideoMessage : wx.shareVideoMessage;
var api = /*#__PURE__*/Object.freeze({
  __proto__: null,
  shareVideoMessage: shareVideoMessage,
  getPushClientId: getPushClientId,
  onPushMessage: onPushMessage,
  offPushMessage: offPushMessage,
  invokePushCallback: invokePushCallback
});
var mocks = ['__route__', '__wxExparserNodeId__', '__wxWebviewId__'];
function findVmByVueId(vm, vuePid) {
  var $children = vm.$children;
  // 优先查找直属(反向查找:https://github.com/dcloudio/uni-app/issues/1200)
  for (var i = $children.length - 1; i >= 0; i--) {
    var childVm = $children[i];
    if (childVm.$scope._$vueId === vuePid) {
      return childVm;
    }
  }
  // 反向递归查找
  var parentVm;
  for (var _i = $children.length - 1; _i >= 0; _i--) {
    parentVm = findVmByVueId($children[_i], vuePid);
    if (parentVm) {
      return parentVm;
    }
  }
}
function initBehavior(options) {
  return Behavior(options);
}
function isPage() {
  return !!this.route;
}
function initRelation(detail) {
  this.triggerEvent('__l', detail);
}
function selectAllComponents(mpInstance, selector, $refs) {
  var components = mpInstance.selectAllComponents(selector) || [];
  components.forEach(function (component) {
    var ref = component.dataset.ref;
    $refs[ref] = component.$vm || toSkip(component);
    {
      if (component.dataset.vueGeneric === 'scoped') {
        component.selectAllComponents('.scoped-ref').forEach(function (scopedComponent) {
          selectAllComponents(scopedComponent, selector, $refs);
        });
      }
    }
  });
}
function syncRefs(refs, newRefs) {
  var oldKeys = (0, _construct2.default)(Set, (0, _toConsumableArray2.default)(Object.keys(refs)));
  var newKeys = Object.keys(newRefs);
  newKeys.forEach(function (key) {
    var oldValue = refs[key];
    var newValue = newRefs[key];
    if (Array.isArray(oldValue) && Array.isArray(newValue) && oldValue.length === newValue.length && newValue.every(function (value) {
      return oldValue.includes(value);
    })) {
      return;
    }
    refs[key] = newValue;
    oldKeys.delete(key);
  });
  oldKeys.forEach(function (key) {
    delete refs[key];
  });
  return refs;
}
function initRefs(vm) {
  var mpInstance = vm.$scope;
  var refs = {};
  Object.defineProperty(vm, '$refs', {
    get: function get() {
      var $refs = {};
      selectAllComponents(mpInstance, '.vue-ref', $refs);
      // TODO 暂不考虑 for 中的 scoped
      var forComponents = mpInstance.selectAllComponents('.vue-ref-in-for') || [];
      forComponents.forEach(function (component) {
        var ref = component.dataset.ref;
        if (!$refs[ref]) {
          $refs[ref] = [];
        }
        $refs[ref].push(component.$vm || toSkip(component));
      });
      return syncRefs(refs, $refs);
    }
  });
}
function handleLink(event) {
  var _ref3 = event.detail || event.value,
    vuePid = _ref3.vuePid,
    vueOptions = _ref3.vueOptions; // detail 是微信,value 是百度(dipatch)

  var parentVm;
  if (vuePid) {
    parentVm = findVmByVueId(this.$vm, vuePid);
  }
  if (!parentVm) {
    parentVm = this.$vm;
  }
  vueOptions.parent = parentVm;
}
function markMPComponent(component) {
  // 在 Vue 中标记为小程序组件
  var IS_MP = '__v_isMPComponent';
  Object.defineProperty(component, IS_MP, {
    configurable: true,
    enumerable: false,
    value: true
  });
  return component;
}
function toSkip(obj) {
  var OB = '__ob__';
  var SKIP = '__v_skip';
  if (isObject(obj) && Object.isExtensible(obj)) {
    // 避免被 @vue/composition-api 观测
    Object.defineProperty(obj, OB, {
      configurable: true,
      enumerable: false,
      value: (0, _defineProperty2.default)({}, SKIP, true)
    });
  }
  return obj;
}
var WORKLET_RE = /_(.*)_worklet_factory_/;
function initWorkletMethods(mpMethods, vueMethods) {
  if (vueMethods) {
    Object.keys(vueMethods).forEach(function (name) {
      var matches = name.match(WORKLET_RE);
      if (matches) {
        var workletName = matches[1];
        mpMethods[name] = vueMethods[name];
        mpMethods[workletName] = vueMethods[workletName];
      }
    });
  }
}
var MPPage = Page;
var MPComponent = Component;
var customizeRE = /:/g;
var customize = cached(function (str) {
  return camelize(str.replace(customizeRE, '-'));
});
function initTriggerEvent(mpInstance) {
  var oldTriggerEvent = mpInstance.triggerEvent;
  var newTriggerEvent = function newTriggerEvent(event) {
    for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {
      args[_key3 - 1] = arguments[_key3];
    }
    // 事件名统一转驼峰格式，仅处理：当前组件为 vue 组件、当前组件为 vue 组件子组件
    if (this.$vm || this.dataset && this.dataset.comType) {
      event = customize(event);
    } else {
      // 针对微信/QQ小程序单独补充驼峰格式事件，以兼容历史项目
      var newEvent = customize(event);
      if (newEvent !== event) {
        oldTriggerEvent.apply(this, [newEvent].concat(args));
      }
    }
    return oldTriggerEvent.apply(this, [event].concat(args));
  };
  try {
    // 京东小程序 triggerEvent 为只读
    mpInstance.triggerEvent = newTriggerEvent;
  } catch (error) {
    mpInstance._triggerEvent = newTriggerEvent;
  }
}
function initHook(name, options, isComponent) {
  var oldHook = options[name];
  options[name] = function () {
    markMPComponent(this);
    initTriggerEvent(this);
    if (oldHook) {
      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
        args[_key4] = arguments[_key4];
      }
      return oldHook.apply(this, args);
    }
  };
}
if (!MPPage.__$wrappered) {
  MPPage.__$wrappered = true;
  Page = function Page() {
    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    initHook('onLoad', options);
    return MPPage(options);
  };
  Page.after = MPPage.after;
  Component = function Component() {
    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    initHook('created', options);
    return MPComponent(options);
  };
}
var PAGE_EVENT_HOOKS = ['onPullDownRefresh', 'onReachBottom', 'onAddToFavorites', 'onShareTimeline', 'onShareAppMessage', 'onPageScroll', 'onResize', 'onTabItemTap'];
function initMocks(vm, mocks) {
  var mpInstance = vm.$mp[vm.mpType];
  mocks.forEach(function (mock) {
    if (hasOwn(mpInstance, mock)) {
      vm[mock] = mpInstance[mock];
    }
  });
}
function hasHook(hook, vueOptions) {
  if (!vueOptions) {
    return true;
  }
  if (_vue.default.options && Array.isArray(_vue.default.options[hook])) {
    return true;
  }
  vueOptions = vueOptions.default || vueOptions;
  if (isFn(vueOptions)) {
    if (isFn(vueOptions.extendOptions[hook])) {
      return true;
    }
    if (vueOptions.super && vueOptions.super.options && Array.isArray(vueOptions.super.options[hook])) {
      return true;
    }
    return false;
  }
  if (isFn(vueOptions[hook]) || Array.isArray(vueOptions[hook])) {
    return true;
  }
  var mixins = vueOptions.mixins;
  if (Array.isArray(mixins)) {
    return !!mixins.find(function (mixin) {
      return hasHook(hook, mixin);
    });
  }
}
function initHooks(mpOptions, hooks, vueOptions) {
  hooks.forEach(function (hook) {
    if (hasHook(hook, vueOptions)) {
      mpOptions[hook] = function (args) {
        return this.$vm && this.$vm.__call_hook(hook, args);
      };
    }
  });
}
function initUnknownHooks(mpOptions, vueOptions) {
  var excludes = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];
  findHooks(vueOptions).forEach(function (hook) {
    return initHook$1(mpOptions, hook, excludes);
  });
}
function findHooks(vueOptions) {
  var hooks = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];
  if (vueOptions) {
    Object.keys(vueOptions).forEach(function (name) {
      if (name.indexOf('on') === 0 && isFn(vueOptions[name])) {
        hooks.push(name);
      }
    });
  }
  return hooks;
}
function initHook$1(mpOptions, hook, excludes) {
  if (excludes.indexOf(hook) === -1 && !hasOwn(mpOptions, hook)) {
    mpOptions[hook] = function (args) {
      return this.$vm && this.$vm.__call_hook(hook, args);
    };
  }
}
function initVueComponent(Vue, vueOptions) {
  vueOptions = vueOptions.default || vueOptions;
  var VueComponent;
  if (isFn(vueOptions)) {
    VueComponent = vueOptions;
  } else {
    VueComponent = Vue.extend(vueOptions);
  }
  vueOptions = VueComponent.options;
  return [VueComponent, vueOptions];
}
function initSlots(vm, vueSlots) {
  if (Array.isArray(vueSlots) && vueSlots.length) {
    var $slots = Object.create(null);
    vueSlots.forEach(function (slotName) {
      $slots[slotName] = true;
    });
    vm.$scopedSlots = vm.$slots = $slots;
  }
}
function initVueIds(vueIds, mpInstance) {
  vueIds = (vueIds || '').split(',');
  var len = vueIds.length;
  if (len === 1) {
    mpInstance._$vueId = vueIds[0];
  } else if (len === 2) {
    mpInstance._$vueId = vueIds[0];
    mpInstance._$vuePid = vueIds[1];
  }
}
function initData(vueOptions, context) {
  var data = vueOptions.data || {};
  var methods = vueOptions.methods || {};
  if (typeof data === 'function') {
    try {
      data = data.call(context); // 支持 Vue.prototype 上挂的数据
    } catch (e) {
      if (Object({"NODE_ENV":"development","VUE_APP_DARK_MODE":"false","VUE_APP_NAME":"LikeShopPlus","VUE_APP_PLATFORM":"mp-weixin","BASE_URL":"/"}).VUE_APP_DEBUG) {
        console.warn('根据 Vue 的 data 函数初始化小程序 data 失败，请尽量确保 data 函数中不访问 vm 对象，否则可能影响首次数据渲染速度。', data);
      }
    }
  } else {
    try {
      // 对 data 格式化
      data = JSON.parse(JSON.stringify(data));
    } catch (e) {}
  }
  if (!isPlainObject(data)) {
    data = {};
  }
  Object.keys(methods).forEach(function (methodName) {
    if (context.__lifecycle_hooks__.indexOf(methodName) === -1 && !hasOwn(data, methodName)) {
      data[methodName] = methods[methodName];
    }
  });
  return data;
}
var PROP_TYPES = [String, Number, Boolean, Object, Array, null];
function createObserver(name) {
  return function observer(newVal, oldVal) {
    if (this.$vm) {
      this.$vm[name] = newVal; // 为了触发其他非 render watcher
    }
  };
}

function initBehaviors(vueOptions, initBehavior) {
  var vueBehaviors = vueOptions.behaviors;
  var vueExtends = vueOptions.extends;
  var vueMixins = vueOptions.mixins;
  var vueProps = vueOptions.props;
  if (!vueProps) {
    vueOptions.props = vueProps = [];
  }
  var behaviors = [];
  if (Array.isArray(vueBehaviors)) {
    vueBehaviors.forEach(function (behavior) {
      behaviors.push(behavior.replace('uni://', "wx".concat("://")));
      if (behavior === 'uni://form-field') {
        if (Array.isArray(vueProps)) {
          vueProps.push('name');
          vueProps.push('value');
        } else {
          vueProps.name = {
            type: String,
            default: ''
          };
          vueProps.value = {
            type: [String, Number, Boolean, Array, Object, Date],
            default: ''
          };
        }
      }
    });
  }
  if (isPlainObject(vueExtends) && vueExtends.props) {
    behaviors.push(initBehavior({
      properties: initProperties(vueExtends.props, true)
    }));
  }
  if (Array.isArray(vueMixins)) {
    vueMixins.forEach(function (vueMixin) {
      if (isPlainObject(vueMixin) && vueMixin.props) {
        behaviors.push(initBehavior({
          properties: initProperties(vueMixin.props, true)
        }));
      }
    });
  }
  return behaviors;
}
function parsePropType(key, type, defaultValue, file) {
  // [String]=>String
  if (Array.isArray(type) && type.length === 1) {
    return type[0];
  }
  return type;
}
function initProperties(props) {
  var isBehavior = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  var file = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';
  var options = arguments.length > 3 ? arguments[3] : undefined;
  var properties = {};
  if (!isBehavior) {
    properties.vueId = {
      type: String,
      value: ''
    };
    {
      if (options.virtualHost) {
        properties.virtualHostStyle = {
          type: null,
          value: ''
        };
        properties.virtualHostClass = {
          type: null,
          value: ''
        };
      }
    }
    // scopedSlotsCompiler auto
    properties.scopedSlotsCompiler = {
      type: String,
      value: ''
    };
    properties.vueSlots = {
      // 小程序不能直接定义 $slots 的 props，所以通过 vueSlots 转换到 $slots
      type: null,
      value: [],
      observer: function observer(newVal, oldVal) {
        var $slots = Object.create(null);
        newVal.forEach(function (slotName) {
          $slots[slotName] = true;
        });
        this.setData({
          $slots: $slots
        });
      }
    };
  }
  if (Array.isArray(props)) {
    // ['title']
    props.forEach(function (key) {
      properties[key] = {
        type: null,
        observer: createObserver(key)
      };
    });
  } else if (isPlainObject(props)) {
    // {title:{type:String,default:''},content:String}
    Object.keys(props).forEach(function (key) {
      var opts = props[key];
      if (isPlainObject(opts)) {
        // title:{type:String,default:''}
        var value = opts.default;
        if (isFn(value)) {
          value = value();
        }
        opts.type = parsePropType(key, opts.type);
        properties[key] = {
          type: PROP_TYPES.indexOf(opts.type) !== -1 ? opts.type : null,
          value: value,
          observer: createObserver(key)
        };
      } else {
        // content:String
        var type = parsePropType(key, opts);
        properties[key] = {
          type: PROP_TYPES.indexOf(type) !== -1 ? type : null,
          observer: createObserver(key)
        };
      }
    });
  }
  return properties;
}
function wrapper$1(event) {
  // TODO 又得兼容 mpvue 的 mp 对象
  try {
    event.mp = JSON.parse(JSON.stringify(event));
  } catch (e) {}
  event.stopPropagation = noop;
  event.preventDefault = noop;
  event.target = event.target || {};
  if (!hasOwn(event, 'detail')) {
    event.detail = {};
  }
  if (hasOwn(event, 'markerId')) {
    event.detail = (0, _typeof2.default)(event.detail) === 'object' ? event.detail : {};
    event.detail.markerId = event.markerId;
  }
  if (isPlainObject(event.detail)) {
    event.target = Object.assign({}, event.target, event.detail);
  }
  return event;
}
function getExtraValue(vm, dataPathsArray) {
  var context = vm;
  dataPathsArray.forEach(function (dataPathArray) {
    var dataPath = dataPathArray[0];
    var value = dataPathArray[2];
    if (dataPath || typeof value !== 'undefined') {
      // ['','',index,'disable']
      var propPath = dataPathArray[1];
      var valuePath = dataPathArray[3];
      var vFor;
      if (Number.isInteger(dataPath)) {
        vFor = dataPath;
      } else if (!dataPath) {
        vFor = context;
      } else if (typeof dataPath === 'string' && dataPath) {
        if (dataPath.indexOf('#s#') === 0) {
          vFor = dataPath.substr(3);
        } else {
          vFor = vm.__get_value(dataPath, context);
        }
      }
      if (Number.isInteger(vFor)) {
        context = value;
      } else if (!propPath) {
        context = vFor[value];
      } else {
        if (Array.isArray(vFor)) {
          context = vFor.find(function (vForItem) {
            return vm.__get_value(propPath, vForItem) === value;
          });
        } else if (isPlainObject(vFor)) {
          context = Object.keys(vFor).find(function (vForKey) {
            return vm.__get_value(propPath, vFor[vForKey]) === value;
          });
        } else {
          console.error('v-for 暂不支持循环数据：', vFor);
        }
      }
      if (valuePath) {
        context = vm.__get_value(valuePath, context);
      }
    }
  });
  return context;
}
function processEventExtra(vm, extra, event, __args__) {
  var extraObj = {};
  if (Array.isArray(extra) && extra.length) {
    /**
     *[
     *    ['data.items', 'data.id', item.data.id],
     *    ['metas', 'id', meta.id]
     *],
     *[
     *    ['data.items', 'data.id', item.data.id],
     *    ['metas', 'id', meta.id]
     *],
     *'test'
     */
    extra.forEach(function (dataPath, index) {
      if (typeof dataPath === 'string') {
        if (!dataPath) {
          // model,prop.sync
          extraObj['$' + index] = vm;
        } else {
          if (dataPath === '$event') {
            // $event
            extraObj['$' + index] = event;
          } else if (dataPath === 'arguments') {
            extraObj['$' + index] = event.detail ? event.detail.__args__ || __args__ : __args__;
          } else if (dataPath.indexOf('$event.') === 0) {
            // $event.target.value
            extraObj['$' + index] = vm.__get_value(dataPath.replace('$event.', ''), event);
          } else {
            extraObj['$' + index] = vm.__get_value(dataPath);
          }
        }
      } else {
        extraObj['$' + index] = getExtraValue(vm, dataPath);
      }
    });
  }
  return extraObj;
}
function getObjByArray(arr) {
  var obj = {};
  for (var i = 1; i < arr.length; i++) {
    var element = arr[i];
    obj[element[0]] = element[1];
  }
  return obj;
}
function processEventArgs(vm, event) {
  var args = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];
  var extra = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];
  var isCustom = arguments.length > 4 ? arguments[4] : undefined;
  var methodName = arguments.length > 5 ? arguments[5] : undefined;
  var isCustomMPEvent = false; // wxcomponent 组件，传递原始 event 对象

  // fixed 用户直接触发 mpInstance.triggerEvent
  var __args__ = isPlainObject(event.detail) ? event.detail.__args__ || [event.detail] : [event.detail];
  if (isCustom) {
    // 自定义事件
    isCustomMPEvent = event.currentTarget && event.currentTarget.dataset && event.currentTarget.dataset.comType === 'wx';
    if (!args.length) {
      // 无参数，直接传入 event 或 detail 数组
      if (isCustomMPEvent) {
        return [event];
      }
      return __args__;
    }
  }
  var extraObj = processEventExtra(vm, extra, event, __args__);
  var ret = [];
  args.forEach(function (arg) {
    if (arg === '$event') {
      if (methodName === '__set_model' && !isCustom) {
        // input v-model value
        ret.push(event.target.value);
      } else {
        if (isCustom && !isCustomMPEvent) {
          ret.push(__args__[0]);
        } else {
          // wxcomponent 组件或内置组件
          ret.push(event);
        }
      }
    } else {
      if (Array.isArray(arg) && arg[0] === 'o') {
        ret.push(getObjByArray(arg));
      } else if (typeof arg === 'string' && hasOwn(extraObj, arg)) {
        ret.push(extraObj[arg]);
      } else {
        ret.push(arg);
      }
    }
  });
  return ret;
}
var ONCE = '~';
var CUSTOM = '^';
function isMatchEventType(eventType, optType) {
  return eventType === optType || optType === 'regionchange' && (eventType === 'begin' || eventType === 'end');
}
function getContextVm(vm) {
  var $parent = vm.$parent;
  // 父组件是 scoped slots 或者其他自定义组件时继续查找
  while ($parent && $parent.$parent && ($parent.$options.generic || $parent.$parent.$options.generic || $parent.$scope._$vuePid)) {
    $parent = $parent.$parent;
  }
  return $parent && $parent.$parent;
}
function handleEvent(event) {
  var _this2 = this;
  event = wrapper$1(event);

  // [['tap',[['handle',[1,2,a]],['handle1',[1,2,a]]]]]
  var dataset = (event.currentTarget || event.target).dataset;
  if (!dataset) {
    return console.warn('事件信息不存在');
  }
  var eventOpts = dataset.eventOpts || dataset['event-opts']; // 支付宝 web-view 组件 dataset 非驼峰
  if (!eventOpts) {
    return console.warn('事件信息不存在');
  }

  // [['handle',[1,2,a]],['handle1',[1,2,a]]]
  var eventType = event.type;
  var ret = [];
  eventOpts.forEach(function (eventOpt) {
    var type = eventOpt[0];
    var eventsArray = eventOpt[1];
    var isCustom = type.charAt(0) === CUSTOM;
    type = isCustom ? type.slice(1) : type;
    var isOnce = type.charAt(0) === ONCE;
    type = isOnce ? type.slice(1) : type;
    if (eventsArray && isMatchEventType(eventType, type)) {
      eventsArray.forEach(function (eventArray) {
        var methodName = eventArray[0];
        if (methodName) {
          var handlerCtx = _this2.$vm;
          if (handlerCtx.$options.generic) {
            // mp-weixin,mp-toutiao 抽象节点模拟 scoped slots
            handlerCtx = getContextVm(handlerCtx) || handlerCtx;
          }
          if (methodName === '$emit') {
            handlerCtx.$emit.apply(handlerCtx, processEventArgs(_this2.$vm, event, eventArray[1], eventArray[2], isCustom, methodName));
            return;
          }
          var handler = handlerCtx[methodName];
          if (!isFn(handler)) {
            var _type = _this2.$vm.mpType === 'page' ? 'Page' : 'Component';
            var path = _this2.route || _this2.is;
            throw new Error("".concat(_type, " \"").concat(path, "\" does not have a method \"").concat(methodName, "\""));
          }
          if (isOnce) {
            if (handler.once) {
              return;
            }
            handler.once = true;
          }
          var params = processEventArgs(_this2.$vm, event, eventArray[1], eventArray[2], isCustom, methodName);
          params = Array.isArray(params) ? params : [];
          // 参数尾部增加原始事件对象用于复杂表达式内获取额外数据
          if (/=\s*\S+\.eventParams\s*\|\|\s*\S+\[['"]event-params['"]\]/.test(handler.toString())) {
            // eslint-disable-next-line no-sparse-arrays
            params = params.concat([,,,,,,,,,, event]);
          }
          ret.push(handler.apply(handlerCtx, params));
        }
      });
    }
  });
  if (eventType === 'input' && ret.length === 1 && typeof ret[0] !== 'undefined') {
    return ret[0];
  }
}
var eventChannels = {};
function getEventChannel(id) {
  var eventChannel = eventChannels[id];
  delete eventChannels[id];
  return eventChannel;
}
var hooks = ['onShow', 'onHide', 'onError', 'onPageNotFound', 'onThemeChange', 'onUnhandledRejection'];
function initEventChannel() {
  _vue.default.prototype.getOpenerEventChannel = function () {
    // 微信小程序使用自身getOpenerEventChannel
    {
      return this.$scope.getOpenerEventChannel();
    }
  };
  var callHook = _vue.default.prototype.__call_hook;
  _vue.default.prototype.__call_hook = function (hook, args) {
    if (hook === 'onLoad' && args && args.__id__) {
      this.__eventChannel__ = getEventChannel(args.__id__);
      delete args.__id__;
    }
    return callHook.call(this, hook, args);
  };
}
function initScopedSlotsParams() {
  var center = {};
  var parents = {};
  function currentId(fn) {
    var vueIds = this.$options.propsData.vueId;
    if (vueIds) {
      var vueId = vueIds.split(',')[0];
      fn(vueId);
    }
  }
  _vue.default.prototype.$hasSSP = function (vueId) {
    var slot = center[vueId];
    if (!slot) {
      parents[vueId] = this;
      this.$on('hook:destroyed', function () {
        delete parents[vueId];
      });
    }
    return slot;
  };
  _vue.default.prototype.$getSSP = function (vueId, name, needAll) {
    var slot = center[vueId];
    if (slot) {
      var params = slot[name] || [];
      if (needAll) {
        return params;
      }
      return params[0];
    }
  };
  _vue.default.prototype.$setSSP = function (name, value) {
    var index = 0;
    currentId.call(this, function (vueId) {
      var slot = center[vueId];
      var params = slot[name] = slot[name] || [];
      params.push(value);
      index = params.length - 1;
    });
    return index;
  };
  _vue.default.prototype.$initSSP = function () {
    currentId.call(this, function (vueId) {
      center[vueId] = {};
    });
  };
  _vue.default.prototype.$callSSP = function () {
    currentId.call(this, function (vueId) {
      if (parents[vueId]) {
        parents[vueId].$forceUpdate();
      }
    });
  };
  _vue.default.mixin({
    destroyed: function destroyed() {
      var propsData = this.$options.propsData;
      var vueId = propsData && propsData.vueId;
      if (vueId) {
        delete center[vueId];
        delete parents[vueId];
      }
    }
  });
}
function parseBaseApp(vm, _ref4) {
  var mocks = _ref4.mocks,
    initRefs = _ref4.initRefs;
  initEventChannel();
  {
    initScopedSlotsParams();
  }
  if (vm.$options.store) {
    _vue.default.prototype.$store = vm.$options.store;
  }
  uniIdMixin(_vue.default);
  _vue.default.prototype.mpHost = "mp-weixin";
  _vue.default.mixin({
    beforeCreate: function beforeCreate() {
      if (!this.$options.mpType) {
        return;
      }
      this.mpType = this.$options.mpType;
      this.$mp = (0, _defineProperty2.default)({
        data: {}
      }, this.mpType, this.$options.mpInstance);
      this.$scope = this.$options.mpInstance;
      delete this.$options.mpType;
      delete this.$options.mpInstance;
      if (this.mpType === 'page' && typeof getApp === 'function') {
        // hack vue-i18n
        var app = getApp();
        if (app.$vm && app.$vm.$i18n) {
          this._i18n = app.$vm.$i18n;
        }
      }
      if (this.mpType !== 'app') {
        initRefs(this);
        initMocks(this, mocks);
      }
    }
  });
  var appOptions = {
    onLaunch: function onLaunch(args) {
      if (this.$vm) {
        // 已经初始化过了，主要是为了百度，百度 onShow 在 onLaunch 之前
        return;
      }
      {
        if (wx.canIUse && !wx.canIUse('nextTick')) {
          // 事实 上2.2.3 即可，简单使用 2.3.0 的 nextTick 判断
          console.error('当前微信基础库版本过低，请将 微信开发者工具-详情-项目设置-调试基础库版本 更换为`2.3.0`以上');
        }
      }
      this.$vm = vm;
      this.$vm.$mp = {
        app: this
      };
      this.$vm.$scope = this;
      // vm 上也挂载 globalData
      this.$vm.globalData = this.globalData;
      this.$vm._isMounted = true;
      this.$vm.__call_hook('mounted', args);
      this.$vm.__call_hook('onLaunch', args);
    }
  };

  // 兼容旧版本 globalData
  appOptions.globalData = vm.$options.globalData || {};
  // 将 methods 中的方法挂在 getApp() 中
  var methods = vm.$options.methods;
  if (methods) {
    Object.keys(methods).forEach(function (name) {
      appOptions[name] = methods[name];
    });
  }
  initAppLocale(_vue.default, vm, normalizeLocale(wx.getSystemInfoSync().language) || LOCALE_EN);
  initHooks(appOptions, hooks);
  initUnknownHooks(appOptions, vm.$options);
  return appOptions;
}
function parseApp(vm) {
  return parseBaseApp(vm, {
    mocks: mocks,
    initRefs: initRefs
  });
}
function createApp(vm) {
  App(parseApp(vm));
  return vm;
}
var encodeReserveRE = /[!'()*]/g;
var encodeReserveReplacer = function encodeReserveReplacer(c) {
  return '%' + c.charCodeAt(0).toString(16);
};
var commaRE = /%2C/g;

// fixed encodeURIComponent which is more conformant to RFC3986:
// - escapes [!'()*]
// - preserve commas
var encode = function encode(str) {
  return encodeURIComponent(str).replace(encodeReserveRE, encodeReserveReplacer).replace(commaRE, ',');
};
function stringifyQuery(obj) {
  var encodeStr = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : encode;
  var res = obj ? Object.keys(obj).map(function (key) {
    var val = obj[key];
    if (val === undefined) {
      return '';
    }
    if (val === null) {
      return encodeStr(key);
    }
    if (Array.isArray(val)) {
      var result = [];
      val.forEach(function (val2) {
        if (val2 === undefined) {
          return;
        }
        if (val2 === null) {
          result.push(encodeStr(key));
        } else {
          result.push(encodeStr(key) + '=' + encodeStr(val2));
        }
      });
      return result.join('&');
    }
    return encodeStr(key) + '=' + encodeStr(val);
  }).filter(function (x) {
    return x.length > 0;
  }).join('&') : null;
  return res ? "?".concat(res) : '';
}
function parseBaseComponent(vueComponentOptions) {
  var _ref5 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
    isPage = _ref5.isPage,
    initRelation = _ref5.initRelation;
  var needVueOptions = arguments.length > 2 ? arguments[2] : undefined;
  var _initVueComponent = initVueComponent(_vue.default, vueComponentOptions),
    _initVueComponent2 = (0, _slicedToArray2.default)(_initVueComponent, 2),
    VueComponent = _initVueComponent2[0],
    vueOptions = _initVueComponent2[1];
  var options = _objectSpread({
    multipleSlots: true,
    // styleIsolation: 'apply-shared',
    addGlobalClass: true
  }, vueOptions.options || {});
  {
    // 微信 multipleSlots 部分情况有 bug，导致内容顺序错乱 如 u-list，提供覆盖选项
    if (vueOptions['mp-weixin'] && vueOptions['mp-weixin'].options) {
      Object.assign(options, vueOptions['mp-weixin'].options);
    }
  }
  var componentOptions = {
    options: options,
    data: initData(vueOptions, _vue.default.prototype),
    behaviors: initBehaviors(vueOptions, initBehavior),
    properties: initProperties(vueOptions.props, false, vueOptions.__file, options),
    lifetimes: {
      attached: function attached() {
        var properties = this.properties;
        var options = {
          mpType: isPage.call(this) ? 'page' : 'component',
          mpInstance: this,
          propsData: properties
        };
        initVueIds(properties.vueId, this);

        // 处理父子关系
        initRelation.call(this, {
          vuePid: this._$vuePid,
          vueOptions: options
        });

        // 初始化 vue 实例
        this.$vm = new VueComponent(options);

        // 处理$slots,$scopedSlots（暂不支持动态变化$slots）
        initSlots(this.$vm, properties.vueSlots);

        // 触发首次 setData
        this.$vm.$mount();
      },
      ready: function ready() {
        // 当组件 props 默认值为 true，初始化时传入 false 会导致 created,ready 触发, 但 attached 不触发
        // https://developers.weixin.qq.com/community/develop/doc/00066ae2844cc0f8eb883e2a557800
        if (this.$vm) {
          this.$vm._isMounted = true;
          this.$vm.__call_hook('mounted');
          this.$vm.__call_hook('onReady');
        }
      },
      detached: function detached() {
        this.$vm && this.$vm.$destroy();
      }
    },
    pageLifetimes: {
      show: function show(args) {
        this.$vm && this.$vm.__call_hook('onPageShow', args);
      },
      hide: function hide() {
        this.$vm && this.$vm.__call_hook('onPageHide');
      },
      resize: function resize(size) {
        this.$vm && this.$vm.__call_hook('onPageResize', size);
      }
    },
    methods: {
      __l: handleLink,
      __e: handleEvent
    }
  };
  // externalClasses
  if (vueOptions.externalClasses) {
    componentOptions.externalClasses = vueOptions.externalClasses;
  }
  if (Array.isArray(vueOptions.wxsCallMethods)) {
    vueOptions.wxsCallMethods.forEach(function (callMethod) {
      componentOptions.methods[callMethod] = function (args) {
        return this.$vm[callMethod](args);
      };
    });
  }
  if (needVueOptions) {
    return [componentOptions, vueOptions, VueComponent];
  }
  if (isPage) {
    return componentOptions;
  }
  return [componentOptions, VueComponent];
}
function parseComponent(vueComponentOptions, needVueOptions) {
  return parseBaseComponent(vueComponentOptions, {
    isPage: isPage,
    initRelation: initRelation
  }, needVueOptions);
}
var hooks$1 = ['onShow', 'onHide', 'onUnload'];
hooks$1.push.apply(hooks$1, PAGE_EVENT_HOOKS);
function parseBasePage(vuePageOptions) {
  var _parseComponent = parseComponent(vuePageOptions, true),
    _parseComponent2 = (0, _slicedToArray2.default)(_parseComponent, 2),
    pageOptions = _parseComponent2[0],
    vueOptions = _parseComponent2[1];
  initHooks(pageOptions.methods, hooks$1, vueOptions);
  pageOptions.methods.onLoad = function (query) {
    this.options = query;
    var copyQuery = Object.assign({}, query);
    delete copyQuery.__id__;
    this.$page = {
      fullPath: '/' + (this.route || this.is) + stringifyQuery(copyQuery)
    };
    this.$vm.$mp.query = query; // 兼容 mpvue
    this.$vm.__call_hook('onLoad', query);
  };
  {
    initUnknownHooks(pageOptions.methods, vuePageOptions, ['onReady']);
  }
  {
    initWorkletMethods(pageOptions.methods, vueOptions.methods);
  }
  return pageOptions;
}
function parsePage(vuePageOptions) {
  return parseBasePage(vuePageOptions);
}
function createPage(vuePageOptions) {
  {
    return Component(parsePage(vuePageOptions));
  }
}
function createComponent(vueOptions) {
  {
    return Component(parseComponent(vueOptions));
  }
}
function createSubpackageApp(vm) {
  var appOptions = parseApp(vm);
  var app = getApp({
    allowDefault: true
  });
  vm.$scope = app;
  var globalData = app.globalData;
  if (globalData) {
    Object.keys(appOptions.globalData).forEach(function (name) {
      if (!hasOwn(globalData, name)) {
        globalData[name] = appOptions.globalData[name];
      }
    });
  }
  Object.keys(appOptions).forEach(function (name) {
    if (!hasOwn(app, name)) {
      app[name] = appOptions[name];
    }
  });
  if (isFn(appOptions.onShow) && wx.onAppShow) {
    wx.onAppShow(function () {
      for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
        args[_key5] = arguments[_key5];
      }
      vm.__call_hook('onShow', args);
    });
  }
  if (isFn(appOptions.onHide) && wx.onAppHide) {
    wx.onAppHide(function () {
      for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {
        args[_key6] = arguments[_key6];
      }
      vm.__call_hook('onHide', args);
    });
  }
  if (isFn(appOptions.onLaunch)) {
    var args = wx.getLaunchOptionsSync && wx.getLaunchOptionsSync();
    vm.__call_hook('onLaunch', args);
  }
  return vm;
}
function createPlugin(vm) {
  var appOptions = parseApp(vm);
  if (isFn(appOptions.onShow) && wx.onAppShow) {
    wx.onAppShow(function () {
      for (var _len7 = arguments.length, args = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {
        args[_key7] = arguments[_key7];
      }
      vm.__call_hook('onShow', args);
    });
  }
  if (isFn(appOptions.onHide) && wx.onAppHide) {
    wx.onAppHide(function () {
      for (var _len8 = arguments.length, args = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {
        args[_key8] = arguments[_key8];
      }
      vm.__call_hook('onHide', args);
    });
  }
  if (isFn(appOptions.onLaunch)) {
    var args = wx.getLaunchOptionsSync && wx.getLaunchOptionsSync();
    vm.__call_hook('onLaunch', args);
  }
  return vm;
}
todos.forEach(function (todoApi) {
  protocols[todoApi] = false;
});
canIUses.forEach(function (canIUseApi) {
  var apiName = protocols[canIUseApi] && protocols[canIUseApi].name ? protocols[canIUseApi].name : canIUseApi;
  if (!wx.canIUse(apiName)) {
    protocols[canIUseApi] = false;
  }
});
var uni = {};
if (typeof Proxy !== 'undefined' && "mp-weixin" !== 'app-plus') {
  uni = new Proxy({}, {
    get: function get(target, name) {
      if (hasOwn(target, name)) {
        return target[name];
      }
      if (baseApi[name]) {
        return baseApi[name];
      }
      if (api[name]) {
        return promisify(name, api[name]);
      }
      {
        if (extraApi[name]) {
          return promisify(name, extraApi[name]);
        }
        if (todoApis[name]) {
          return promisify(name, todoApis[name]);
        }
      }
      if (eventApi[name]) {
        return eventApi[name];
      }
      return promisify(name, wrapper(name, wx[name]));
    },
    set: function set(target, name, value) {
      target[name] = value;
      return true;
    }
  });
} else {
  Object.keys(baseApi).forEach(function (name) {
    uni[name] = baseApi[name];
  });
  {
    Object.keys(todoApis).forEach(function (name) {
      uni[name] = promisify(name, todoApis[name]);
    });
    Object.keys(extraApi).forEach(function (name) {
      uni[name] = promisify(name, extraApi[name]);
    });
  }
  Object.keys(eventApi).forEach(function (name) {
    uni[name] = eventApi[name];
  });
  Object.keys(api).forEach(function (name) {
    uni[name] = promisify(name, api[name]);
  });
  Object.keys(wx).forEach(function (name) {
    if (hasOwn(wx, name) || hasOwn(protocols, name)) {
      uni[name] = promisify(name, wrapper(name, wx[name]));
    }
  });
}
wx.createApp = createApp;
wx.createPage = createPage;
wx.createComponent = createComponent;
wx.createSubpackageApp = createSubpackageApp;
wx.createPlugin = createPlugin;
var uni$1 = uni;
var _default = uni$1;
exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/wx.js */ 1)["default"], __webpack_require__(/*! ./../../../webpack/buildin/global.js */ 3)))

/***/ }),

/***/ 20:
/*!****************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/iterableToArray.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function _iterableToArray(iter) {
  if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter);
}
module.exports = _iterableToArray, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 2028:
/*!***********************************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/uni_modules/c-3d-model/components/c-3d-model/js/uuid.js ***!
  \***********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _default = function _default() {
  var len = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 32;
  var radix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
  var chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split('');
  var uuid = [];
  radix = radix || chars.length;
  if (len) {
    // 如果指定uuid长度,只是取随机的字符,0|x为位运算,能去掉x的小数位,返回整数位
    for (var i = 0; i < len; i++) {
      uuid[i] = chars[0 | Math.random() * radix];
    }
  } else {
    var r;
    // rfc4122标准要求返回的uuid中,某些位为固定的字符
    uuid[8] = uuid[13] = uuid[18] = uuid[23] = '-';
    uuid[14] = '4';
    for (var _i = 0; _i < 36; _i++) {
      if (!uuid[_i]) {
        r = 0 | Math.random() * 16;
        uuid[_i] = chars[_i == 19 ? r & 0x3 | 0x8 : r];
      }
    }
  }
  return uuid.join('');
};
exports.default = _default;

/***/ }),

/***/ 2029:
/*!********************************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/node_modules/three-platformize/build/three.module.js ***!
  \********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);Object.defineProperty(exports,"__esModule",{value:true});exports.AxesHelper=exports.AudioLoader=exports.AudioListener=exports.AudioContext=exports.AudioAnalyser=exports.Audio=exports.ArrowHelper=exports.ArrayCamera=exports.ArcCurve=exports.AnimationUtils=exports.AnimationObjectGroup=exports.AnimationMixer=exports.AnimationLoader=exports.AnimationClip=exports.AmbientLightProbe=exports.AmbientLight=exports.AlwaysStencilFunc=exports.AlwaysDepth=exports.AlphaFormat=exports.AdditiveBlending=exports.AdditiveAnimationBlendMode=exports.AddOperation=exports.AddEquation=exports.ACESFilmicToneMapping=exports.$window=exports.$requestAnimationFrame=exports.$document=exports.$defaultWebGLExtensions=exports.$createImageBitmap=exports.$cancelAnimationFrame=exports.$atob=exports.$XMLHttpRequest=exports.$URL=exports.$TextDecoder=exports.$OffscreenCanvas=exports.$HTMLCanvasElement=exports.$DOMParser=exports.$Blob=void 0;exports.AxisHelper=AxisHelper;exports.BasicShadowMap=exports.BasicDepthPacking=exports.BackSide=void 0;exports.BinaryTextureLoader=BinaryTextureLoader;exports.BooleanKeyframeTrack=exports.Bone=void 0;exports.BoundingBoxHelper=BoundingBoxHelper;exports.CameraHelper=exports.Camera=exports.Cache=exports.ByteType=exports.BufferGeometryLoader=exports.BufferGeometry=exports.BufferAttribute=exports.BoxHelper=exports.BoxGeometry=exports.BoxBufferGeometry=exports.Box3Helper=exports.Box3=exports.Box2=void 0;exports.CanvasRenderer=CanvasRenderer;exports.DecrementStencilOp=exports.DataUtils=exports.DataTextureLoader=exports.DataTexture3D=exports.DataTexture2DArray=exports.DataTexture=exports.Cylindrical=exports.CylinderGeometry=exports.CylinderBufferGeometry=exports.CustomToneMapping=exports.CustomBlending=exports.CurvePath=exports.Curve=exports.CullFaceNone=exports.CullFaceFrontBack=exports.CullFaceFront=exports.CullFaceBack=exports.CubicInterpolant=exports.CubicBezierCurve3=exports.CubicBezierCurve=exports.CubeUVRefractionMapping=exports.CubeUVReflectionMapping=exports.CubeTextureLoader=exports.CubeTexture=exports.CubeRefractionMapping=exports.CubeReflectionMapping=exports.CubeCamera=exports.ConeGeometry=exports.ConeBufferGeometry=exports.CompressedTextureLoader=exports.CompressedTexture=exports.ColorKeyframeTrack=exports.Color=exports.Clock=exports.ClampToEdgeWrapping=exports.CircleGeometry=exports.CircleBufferGeometry=exports.CineonToneMapping=exports.CatmullRomCurve3=exports.CanvasTexture=void 0;exports.DstColorFactor=exports.DstAlphaFactor=exports.DoubleSide=exports.DodecahedronGeometry=exports.DodecahedronBufferGeometry=exports.DiscreteInterpolant=exports.DirectionalLightHelper=exports.DirectionalLight=exports.DepthTexture=exports.DepthStencilFormat=exports.DepthFormat=exports.DefaultLoadingManager=exports.DecrementWrapStencilOp=void 0;exports.DynamicBufferAttribute=DynamicBufferAttribute;exports.EdgesGeometry=exports.DynamicReadUsage=exports.DynamicDrawUsage=exports.DynamicCopyUsage=void 0;exports.EdgesHelper=EdgesHelper;exports.Float16BufferAttribute=exports.FlatShading=exports.FileLoader=exports.FaceColors=exports.ExtrudeGeometry=exports.ExtrudeBufferGeometry=exports.EventDispatcher=exports.Euler=exports.EquirectangularRefractionMapping=exports.EquirectangularReflectionMapping=exports.EqualStencilFunc=exports.EqualDepth=exports.EllipseCurve=void 0;exports.Float32Attribute=Float32Attribute;exports.Float32BufferAttribute=void 0;exports.Float64Attribute=Float64Attribute;exports.FogExp2=exports.Fog=exports.FloatType=exports.Float64BufferAttribute=void 0;exports.Font=Font;exports.FontLoader=FontLoader;exports.InstancedMesh=exports.InstancedInterleavedBuffer=exports.InstancedBufferGeometry=exports.InstancedBufferAttribute=exports.IncrementWrapStencilOp=exports.IncrementStencilOp=exports.ImmediateRenderObject=exports.ImageUtils=exports.ImageLoader=exports.ImageBitmapLoader=exports.IcosahedronGeometry=exports.IcosahedronBufferGeometry=exports.HemisphereLightProbe=exports.HemisphereLightHelper=exports.HemisphereLight=exports.HalfFloatType=exports.Group=exports.GridHelper=exports.GreaterStencilFunc=exports.GreaterEqualStencilFunc=exports.GreaterEqualDepth=exports.GreaterDepth=exports.GammaEncoding=exports.GLSL3=exports.GLSL1=exports.GLBufferAttribute=exports.Frustum=exports.FrontSide=void 0;exports.Int16Attribute=Int16Attribute;exports.Int16BufferAttribute=void 0;exports.Int32Attribute=Int32Attribute;exports.Int32BufferAttribute=void 0;exports.Int8Attribute=Int8Attribute;exports.InvertStencilOp=exports.InterpolateSmooth=exports.InterpolateLinear=exports.InterpolateDiscrete=exports.Interpolant=exports.InterleavedBufferAttribute=exports.InterleavedBuffer=exports.IntType=exports.Int8BufferAttribute=void 0;exports.JSONLoader=JSONLoader;exports.Layers=exports.LatheGeometry=exports.LatheBufferGeometry=exports.LOD=exports.KeyframeTrack=exports.KeepStencilOp=void 0;exports.LensFlare=LensFlare;exports.LineBasicMaterial=exports.Line3=exports.Line=exports.LightProbe=exports.Light=exports.LessStencilFunc=exports.LessEqualStencilFunc=exports.LessEqualDepth=exports.LessDepth=void 0;exports.MeshDistanceMaterial=exports.MeshDepthMaterial=exports.MeshBasicMaterial=exports.Mesh=exports.MaxEquation=exports.Matrix4=exports.Matrix3=exports.MathUtils=exports.Math=exports.MaterialLoader=exports.Material=exports.MOUSE=exports.LuminanceFormat=exports.LuminanceAlphaFormat=exports.LoopRepeat=exports.LoopPingPong=exports.LoopOnce=exports.LogLuvEncoding=exports.LoadingManager=exports.LoaderUtils=exports.Loader=exports.LinearToneMapping=exports.LinearMipmapNearestFilter=exports.LinearMipmapLinearFilter=exports.LinearMipMapNearestFilter=exports.LinearMipMapLinearFilter=exports.LinearInterpolant=exports.LinearFilter=exports.LinearEncoding=exports.LineStrip=exports.LineSegments=exports.LinePieces=exports.LineLoop=exports.LineDashedMaterial=exports.LineCurve3=exports.LineCurve=void 0;exports.MeshFaceMaterial=MeshFaceMaterial;exports.MixOperation=exports.MirroredRepeatWrapping=exports.MinEquation=exports.MeshToonMaterial=exports.MeshStandardMaterial=exports.MeshPhysicalMaterial=exports.MeshPhongMaterial=exports.MeshNormalMaterial=exports.MeshMatcapMaterial=exports.MeshLambertMaterial=void 0;exports.MultiMaterial=MultiMaterial;exports.PMREMGenerator=exports.PLATFORM=exports.PCFSoftShadowMap=exports.PCFShadowMap=exports.OrthographicCamera=exports.OneMinusSrcColorFactor=exports.OneMinusSrcAlphaFactor=exports.OneMinusDstColorFactor=exports.OneMinusDstAlphaFactor=exports.OneFactor=exports.OctahedronGeometry=exports.OctahedronBufferGeometry=exports.ObjectSpaceNormalMap=exports.ObjectLoader=exports.Object3D=exports.NumberKeyframeTrack=exports.NotEqualStencilFunc=exports.NotEqualDepth=exports.NormalBlending=exports.NormalAnimationBlendMode=exports.NoToneMapping=exports.NoColors=exports.NoBlending=exports.NeverStencilFunc=exports.NeverDepth=exports.NearestMipmapNearestFilter=exports.NearestMipmapLinearFilter=exports.NearestMipMapNearestFilter=exports.NearestMipMapLinearFilter=exports.NearestFilter=exports.MultiplyOperation=exports.MultiplyBlending=void 0;exports.ParametricGeometry=ParametricGeometry;exports.Particle=Particle;exports.ParticleBasicMaterial=ParticleBasicMaterial;exports.ParticleSystem=ParticleSystem;exports.ParticleSystemMaterial=ParticleSystemMaterial;exports.PlaneHelper=exports.PlaneGeometry=exports.PlaneBufferGeometry=exports.Plane=exports.PerspectiveCamera=exports.Path=void 0;exports.PointCloud=PointCloud;exports.PointCloudMaterial=PointCloudMaterial;exports.PolyhedronGeometry=exports.PolyhedronBufferGeometry=exports.PolarGridHelper=exports.PointsMaterial=exports.Points=exports.PointLightHelper=exports.PointLight=void 0;exports.SrcAlphaFactor=exports.SpriteMaterial=exports.Sprite=exports.SpotLightHelper=exports.SpotLight=exports.SplineCurve=exports.SphericalHarmonics3=exports.Spherical=exports.SphereGeometry=exports.SphereBufferGeometry=exports.Sphere=exports.SmoothShading=exports.SkinnedMesh=exports.SkeletonHelper=exports.Skeleton=exports.ShortType=exports.ShapeUtils=exports.ShapePath=exports.ShapeGeometry=exports.ShapeBufferGeometry=exports.Shape=exports.ShadowMaterial=exports.ShaderMaterial=exports.ShaderLib=exports.ShaderChunk=exports.SceneUtils=exports.Scene=exports.SRGB8_ALPHA8_ASTC_8x8_Format=exports.SRGB8_ALPHA8_ASTC_8x6_Format=exports.SRGB8_ALPHA8_ASTC_8x5_Format=exports.SRGB8_ALPHA8_ASTC_6x6_Format=exports.SRGB8_ALPHA8_ASTC_6x5_Format=exports.SRGB8_ALPHA8_ASTC_5x5_Format=exports.SRGB8_ALPHA8_ASTC_5x4_Format=exports.SRGB8_ALPHA8_ASTC_4x4_Format=exports.SRGB8_ALPHA8_ASTC_12x12_Format=exports.SRGB8_ALPHA8_ASTC_12x10_Format=exports.SRGB8_ALPHA8_ASTC_10x8_Format=exports.SRGB8_ALPHA8_ASTC_10x6_Format=exports.SRGB8_ALPHA8_ASTC_10x5_Format=exports.SRGB8_ALPHA8_ASTC_10x10_Format=exports.RingGeometry=exports.RingBufferGeometry=exports.ReverseSubtractEquation=exports.ReplaceStencilOp=exports.RepeatWrapping=exports.ReinhardToneMapping=exports.RedIntegerFormat=exports.RedFormat=exports.RectAreaLight=exports.Raycaster=exports.Ray=exports.RawShaderMaterial=exports.RGIntegerFormat=exports.RGFormat=exports.RGB_S3TC_DXT1_Format=exports.RGB_PVRTC_4BPPV1_Format=exports.RGB_PVRTC_2BPPV1_Format=exports.RGB_ETC2_Format=exports.RGB_ETC1_Format=exports.RGBM7Encoding=exports.RGBM16Encoding=exports.RGBIntegerFormat=exports.RGBFormat=exports.RGBEFormat=exports.RGBEEncoding=exports.RGBDEncoding=exports.RGBA_S3TC_DXT5_Format=exports.RGBA_S3TC_DXT3_Format=exports.RGBA_S3TC_DXT1_Format=exports.RGBA_PVRTC_4BPPV1_Format=exports.RGBA_PVRTC_2BPPV1_Format=exports.RGBA_ETC2_EAC_Format=exports.RGBA_BPTC_Format=exports.RGBA_ASTC_8x8_Format=exports.RGBA_ASTC_8x6_Format=exports.RGBA_ASTC_8x5_Format=exports.RGBA_ASTC_6x6_Format=exports.RGBA_ASTC_6x5_Format=exports.RGBA_ASTC_5x5_Format=exports.RGBA_ASTC_5x4_Format=exports.RGBA_ASTC_4x4_Format=exports.RGBA_ASTC_12x12_Format=exports.RGBA_ASTC_12x10_Format=exports.RGBA_ASTC_10x8_Format=exports.RGBA_ASTC_10x6_Format=exports.RGBA_ASTC_10x5_Format=exports.RGBA_ASTC_10x10_Format=exports.RGBAIntegerFormat=exports.RGBAFormat=exports.RGBADepthPacking=exports.REVISION=exports.QuaternionLinearInterpolant=exports.QuaternionKeyframeTrack=exports.Quaternion=exports.QuadraticBezierCurve3=exports.QuadraticBezierCurve=exports.PropertyMixer=exports.PropertyBinding=exports.PositionalAudio=void 0;exports.TetrahedronGeometry=exports.TetrahedronBufferGeometry=exports.TangentSpaceNormalMap=exports.TOUCH=exports.SubtractiveBlending=exports.SubtractEquation=exports.StringKeyframeTrack=exports.StreamReadUsage=exports.StreamDrawUsage=exports.StreamCopyUsage=exports.StereoCamera=exports.StaticReadUsage=exports.StaticDrawUsage=exports.StaticCopyUsage=exports.SrcColorFactor=exports.SrcAlphaSaturateFactor=void 0;exports.TextGeometry=TextGeometry;exports.UVMapping=exports.TubeGeometry=exports.TubeBufferGeometry=exports.TrianglesDrawMode=exports.TriangleStripDrawMode=exports.TriangleFanDrawMode=exports.Triangle=exports.TorusKnotGeometry=exports.TorusKnotBufferGeometry=exports.TorusGeometry=exports.TorusBufferGeometry=exports.TextureLoader=exports.Texture=void 0;exports.Uint16Attribute=Uint16Attribute;exports.Uint16BufferAttribute=void 0;exports.Uint32Attribute=Uint32Attribute;exports.Uint32BufferAttribute=void 0;exports.Uint8Attribute=Uint8Attribute;exports.Uint8BufferAttribute=void 0;exports.Uint8ClampedAttribute=Uint8ClampedAttribute;exports.VectorKeyframeTrack=exports.Vector4=exports.Vector3=exports.Vector2=exports.VSMShadowMap=exports.UnsignedShortType=exports.UnsignedShort565Type=exports.UnsignedShort5551Type=exports.UnsignedShort4444Type=exports.UnsignedIntType=exports.UnsignedInt248Type=exports.UnsignedByteType=exports.UniformsUtils=exports.UniformsLib=exports.Uniform=exports.Uint8ClampedBufferAttribute=void 0;exports.Vertex=Vertex;exports.WebGLRenderTarget=exports.WebGLMultisampleRenderTarget=exports.WebGLMultipleRenderTargets=exports.WebGLCubeRenderTarget=exports.WebGL1Renderer=exports.VideoTexture=exports.VertexColors=void 0;exports.WebGLRenderTargetCube=WebGLRenderTargetCube;exports.WebGLRenderer=WebGLRenderer;exports.WebGLUtils=WebGLUtils;exports.WireframeGeometry=void 0;exports.WireframeHelper=WireframeHelper;exports.WrapAroundEnding=void 0;exports.XHRLoader=XHRLoader;exports.sRGBEncoding=exports.ZeroStencilOp=exports.ZeroSlopeEnding=exports.ZeroFactor=exports.ZeroCurvatureEnding=void 0;var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ 32));var _regenerator=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/regenerator */ 30));var _slicedToArray2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ 5));var _get2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/get */ 2030));var _defineProperty2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/defineProperty */ 11));var _assertThisInitialized2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ 2033));var _inherits2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/inherits */ 2034));var _possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ 2035));var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ 2032));var _classCallCheck2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ 23));var _createClass2=_interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ 24));var _ENCODINGS;function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){(0,_defineProperty2.default)(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}/**
 * @license
 * Copyright 2010-2021 Three.js Authors
 * SPDX-License-Identifier: MIT
 */var $URL=undefined;exports.$URL=$URL;var $atob=undefined;exports.$atob=$atob;var $Blob=undefined;exports.$Blob=$Blob;var $window=undefined;exports.$window=$window;var $document=undefined;exports.$document=$document;var $DOMParser=undefined;exports.$DOMParser=$DOMParser;var $TextDecoder=undefined;exports.$TextDecoder=$TextDecoder;var $XMLHttpRequest=undefined;exports.$XMLHttpRequest=$XMLHttpRequest;var $OffscreenCanvas=undefined;exports.$OffscreenCanvas=$OffscreenCanvas;var $HTMLCanvasElement=undefined;exports.$HTMLCanvasElement=$HTMLCanvasElement;var $createImageBitmap=undefined;exports.$createImageBitmap=$createImageBitmap;var $requestAnimationFrame=undefined;exports.$requestAnimationFrame=$requestAnimationFrame;var $cancelAnimationFrame=undefined;exports.$cancelAnimationFrame=$cancelAnimationFrame;var $defaultWebGLExtensions={};exports.$defaultWebGLExtensions=$defaultWebGLExtensions;var Platform=/*#__PURE__*/function(){function Platform(){(0,_classCallCheck2.default)(this,Platform);}(0,_createClass2.default)(Platform,[{key:"set",value:function set(platform){this.platform=platform;var globals=platform.getGlobals();exports.$atob=$atob=globals.atob;exports.$Blob=$Blob=globals.Blob;exports.$window=$window=globals.window;exports.$document=$document=globals.document;exports.$XMLHttpRequest=$XMLHttpRequest=globals.XMLHttpRequest;exports.$OffscreenCanvas=$OffscreenCanvas=globals.OffscreenCanvas;exports.$HTMLCanvasElement=$HTMLCanvasElement=globals.HTMLCanvasElement;exports.$createImageBitmap=$createImageBitmap=globals.createImageBitmap;exports.$URL=$URL=$window.URL;exports.$DOMParser=$DOMParser=$window.DOMParser;exports.$TextDecoder=$TextDecoder=$window.TextDecoder;exports.$requestAnimationFrame=$requestAnimationFrame=$window.requestAnimationFrame;exports.$cancelAnimationFrame=$cancelAnimationFrame=$window.cancelAnimationFrame;if(platform.setWebGLExtensions)exports.$defaultWebGLExtensions=$defaultWebGLExtensions=platform.setWebGLExtensions();}},{key:"dispose",value:function dispose(){this.platform&&this.platform.dispose();this.platform=null;exports.$URL=$URL=null;exports.$Blob=$Blob=null;exports.$atob=$atob=null;exports.$window=$window=null;exports.$document=$document=null;exports.$DOMParser=$DOMParser=null;exports.$TextDecoder=$TextDecoder=null;exports.$XMLHttpRequest=$XMLHttpRequest=null;exports.$OffscreenCanvas=$OffscreenCanvas=null;exports.$HTMLCanvasElement=$HTMLCanvasElement=null;exports.$createImageBitmap=$createImageBitmap=null;exports.$requestAnimationFrame=$requestAnimationFrame=null;exports.$defaultWebGLExtensions=$defaultWebGLExtensions=null;}}]);return Platform;}();var PLATFORM=new Platform();exports.PLATFORM=PLATFORM;var REVISION='133';exports.REVISION=REVISION;var MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2};exports.MOUSE=MOUSE;var TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3};exports.TOUCH=TOUCH;var CullFaceNone=0;exports.CullFaceNone=CullFaceNone;var CullFaceBack=1;exports.CullFaceBack=CullFaceBack;var CullFaceFront=2;exports.CullFaceFront=CullFaceFront;var CullFaceFrontBack=3;exports.CullFaceFrontBack=CullFaceFrontBack;var BasicShadowMap=0;exports.BasicShadowMap=BasicShadowMap;var PCFShadowMap=1;exports.PCFShadowMap=PCFShadowMap;var PCFSoftShadowMap=2;exports.PCFSoftShadowMap=PCFSoftShadowMap;var VSMShadowMap=3;exports.VSMShadowMap=VSMShadowMap;var FrontSide=0;exports.FrontSide=FrontSide;var BackSide=1;exports.BackSide=BackSide;var DoubleSide=2;exports.DoubleSide=DoubleSide;var FlatShading=1;exports.FlatShading=FlatShading;var SmoothShading=2;exports.SmoothShading=SmoothShading;var NoBlending=0;exports.NoBlending=NoBlending;var NormalBlending=1;exports.NormalBlending=NormalBlending;var AdditiveBlending=2;exports.AdditiveBlending=AdditiveBlending;var SubtractiveBlending=3;exports.SubtractiveBlending=SubtractiveBlending;var MultiplyBlending=4;exports.MultiplyBlending=MultiplyBlending;var CustomBlending=5;exports.CustomBlending=CustomBlending;var AddEquation=100;exports.AddEquation=AddEquation;var SubtractEquation=101;exports.SubtractEquation=SubtractEquation;var ReverseSubtractEquation=102;exports.ReverseSubtractEquation=ReverseSubtractEquation;var MinEquation=103;exports.MinEquation=MinEquation;var MaxEquation=104;exports.MaxEquation=MaxEquation;var ZeroFactor=200;exports.ZeroFactor=ZeroFactor;var OneFactor=201;exports.OneFactor=OneFactor;var SrcColorFactor=202;exports.SrcColorFactor=SrcColorFactor;var OneMinusSrcColorFactor=203;exports.OneMinusSrcColorFactor=OneMinusSrcColorFactor;var SrcAlphaFactor=204;exports.SrcAlphaFactor=SrcAlphaFactor;var OneMinusSrcAlphaFactor=205;exports.OneMinusSrcAlphaFactor=OneMinusSrcAlphaFactor;var DstAlphaFactor=206;exports.DstAlphaFactor=DstAlphaFactor;var OneMinusDstAlphaFactor=207;exports.OneMinusDstAlphaFactor=OneMinusDstAlphaFactor;var DstColorFactor=208;exports.DstColorFactor=DstColorFactor;var OneMinusDstColorFactor=209;exports.OneMinusDstColorFactor=OneMinusDstColorFactor;var SrcAlphaSaturateFactor=210;exports.SrcAlphaSaturateFactor=SrcAlphaSaturateFactor;var NeverDepth=0;exports.NeverDepth=NeverDepth;var AlwaysDepth=1;exports.AlwaysDepth=AlwaysDepth;var LessDepth=2;exports.LessDepth=LessDepth;var LessEqualDepth=3;exports.LessEqualDepth=LessEqualDepth;var EqualDepth=4;exports.EqualDepth=EqualDepth;var GreaterEqualDepth=5;exports.GreaterEqualDepth=GreaterEqualDepth;var GreaterDepth=6;exports.GreaterDepth=GreaterDepth;var NotEqualDepth=7;exports.NotEqualDepth=NotEqualDepth;var MultiplyOperation=0;exports.MultiplyOperation=MultiplyOperation;var MixOperation=1;exports.MixOperation=MixOperation;var AddOperation=2;exports.AddOperation=AddOperation;var NoToneMapping=0;exports.NoToneMapping=NoToneMapping;var LinearToneMapping=1;exports.LinearToneMapping=LinearToneMapping;var ReinhardToneMapping=2;exports.ReinhardToneMapping=ReinhardToneMapping;var CineonToneMapping=3;exports.CineonToneMapping=CineonToneMapping;var ACESFilmicToneMapping=4;exports.ACESFilmicToneMapping=ACESFilmicToneMapping;var CustomToneMapping=5;exports.CustomToneMapping=CustomToneMapping;var UVMapping=300;exports.UVMapping=UVMapping;var CubeReflectionMapping=301;exports.CubeReflectionMapping=CubeReflectionMapping;var CubeRefractionMapping=302;exports.CubeRefractionMapping=CubeRefractionMapping;var EquirectangularReflectionMapping=303;exports.EquirectangularReflectionMapping=EquirectangularReflectionMapping;var EquirectangularRefractionMapping=304;exports.EquirectangularRefractionMapping=EquirectangularRefractionMapping;var CubeUVReflectionMapping=306;exports.CubeUVReflectionMapping=CubeUVReflectionMapping;var CubeUVRefractionMapping=307;exports.CubeUVRefractionMapping=CubeUVRefractionMapping;var RepeatWrapping=1000;exports.RepeatWrapping=RepeatWrapping;var ClampToEdgeWrapping=1001;exports.ClampToEdgeWrapping=ClampToEdgeWrapping;var MirroredRepeatWrapping=1002;exports.MirroredRepeatWrapping=MirroredRepeatWrapping;var NearestFilter=1003;exports.NearestFilter=NearestFilter;var NearestMipmapNearestFilter=1004;exports.NearestMipmapNearestFilter=NearestMipmapNearestFilter;var NearestMipMapNearestFilter=1004;exports.NearestMipMapNearestFilter=NearestMipMapNearestFilter;var NearestMipmapLinearFilter=1005;exports.NearestMipmapLinearFilter=NearestMipmapLinearFilter;var NearestMipMapLinearFilter=1005;exports.NearestMipMapLinearFilter=NearestMipMapLinearFilter;var LinearFilter=1006;exports.LinearFilter=LinearFilter;var LinearMipmapNearestFilter=1007;exports.LinearMipmapNearestFilter=LinearMipmapNearestFilter;var LinearMipMapNearestFilter=1007;exports.LinearMipMapNearestFilter=LinearMipMapNearestFilter;var LinearMipmapLinearFilter=1008;exports.LinearMipmapLinearFilter=LinearMipmapLinearFilter;var LinearMipMapLinearFilter=1008;exports.LinearMipMapLinearFilter=LinearMipMapLinearFilter;var UnsignedByteType=1009;exports.UnsignedByteType=UnsignedByteType;var ByteType=1010;exports.ByteType=ByteType;var ShortType=1011;exports.ShortType=ShortType;var UnsignedShortType=1012;exports.UnsignedShortType=UnsignedShortType;var IntType=1013;exports.IntType=IntType;var UnsignedIntType=1014;exports.UnsignedIntType=UnsignedIntType;var FloatType=1015;exports.FloatType=FloatType;var HalfFloatType=1016;exports.HalfFloatType=HalfFloatType;var UnsignedShort4444Type=1017;exports.UnsignedShort4444Type=UnsignedShort4444Type;var UnsignedShort5551Type=1018;exports.UnsignedShort5551Type=UnsignedShort5551Type;var UnsignedShort565Type=1019;exports.UnsignedShort565Type=UnsignedShort565Type;var UnsignedInt248Type=1020;exports.UnsignedInt248Type=UnsignedInt248Type;var AlphaFormat=1021;exports.AlphaFormat=AlphaFormat;var RGBFormat=1022;exports.RGBFormat=RGBFormat;var RGBAFormat=1023;exports.RGBAFormat=RGBAFormat;var LuminanceFormat=1024;exports.LuminanceFormat=LuminanceFormat;var LuminanceAlphaFormat=1025;exports.LuminanceAlphaFormat=LuminanceAlphaFormat;var RGBEFormat=RGBAFormat;exports.RGBEFormat=RGBEFormat;var DepthFormat=1026;exports.DepthFormat=DepthFormat;var DepthStencilFormat=1027;exports.DepthStencilFormat=DepthStencilFormat;var RedFormat=1028;exports.RedFormat=RedFormat;var RedIntegerFormat=1029;exports.RedIntegerFormat=RedIntegerFormat;var RGFormat=1030;exports.RGFormat=RGFormat;var RGIntegerFormat=1031;exports.RGIntegerFormat=RGIntegerFormat;var RGBIntegerFormat=1032;exports.RGBIntegerFormat=RGBIntegerFormat;var RGBAIntegerFormat=1033;exports.RGBAIntegerFormat=RGBAIntegerFormat;var RGB_S3TC_DXT1_Format=33776;exports.RGB_S3TC_DXT1_Format=RGB_S3TC_DXT1_Format;var RGBA_S3TC_DXT1_Format=33777;exports.RGBA_S3TC_DXT1_Format=RGBA_S3TC_DXT1_Format;var RGBA_S3TC_DXT3_Format=33778;exports.RGBA_S3TC_DXT3_Format=RGBA_S3TC_DXT3_Format;var RGBA_S3TC_DXT5_Format=33779;exports.RGBA_S3TC_DXT5_Format=RGBA_S3TC_DXT5_Format;var RGB_PVRTC_4BPPV1_Format=35840;exports.RGB_PVRTC_4BPPV1_Format=RGB_PVRTC_4BPPV1_Format;var RGB_PVRTC_2BPPV1_Format=35841;exports.RGB_PVRTC_2BPPV1_Format=RGB_PVRTC_2BPPV1_Format;var RGBA_PVRTC_4BPPV1_Format=35842;exports.RGBA_PVRTC_4BPPV1_Format=RGBA_PVRTC_4BPPV1_Format;var RGBA_PVRTC_2BPPV1_Format=35843;exports.RGBA_PVRTC_2BPPV1_Format=RGBA_PVRTC_2BPPV1_Format;var RGB_ETC1_Format=36196;exports.RGB_ETC1_Format=RGB_ETC1_Format;var RGB_ETC2_Format=37492;exports.RGB_ETC2_Format=RGB_ETC2_Format;var RGBA_ETC2_EAC_Format=37496;exports.RGBA_ETC2_EAC_Format=RGBA_ETC2_EAC_Format;var RGBA_ASTC_4x4_Format=37808;exports.RGBA_ASTC_4x4_Format=RGBA_ASTC_4x4_Format;var RGBA_ASTC_5x4_Format=37809;exports.RGBA_ASTC_5x4_Format=RGBA_ASTC_5x4_Format;var RGBA_ASTC_5x5_Format=37810;exports.RGBA_ASTC_5x5_Format=RGBA_ASTC_5x5_Format;var RGBA_ASTC_6x5_Format=37811;exports.RGBA_ASTC_6x5_Format=RGBA_ASTC_6x5_Format;var RGBA_ASTC_6x6_Format=37812;exports.RGBA_ASTC_6x6_Format=RGBA_ASTC_6x6_Format;var RGBA_ASTC_8x5_Format=37813;exports.RGBA_ASTC_8x5_Format=RGBA_ASTC_8x5_Format;var RGBA_ASTC_8x6_Format=37814;exports.RGBA_ASTC_8x6_Format=RGBA_ASTC_8x6_Format;var RGBA_ASTC_8x8_Format=37815;exports.RGBA_ASTC_8x8_Format=RGBA_ASTC_8x8_Format;var RGBA_ASTC_10x5_Format=37816;exports.RGBA_ASTC_10x5_Format=RGBA_ASTC_10x5_Format;var RGBA_ASTC_10x6_Format=37817;exports.RGBA_ASTC_10x6_Format=RGBA_ASTC_10x6_Format;var RGBA_ASTC_10x8_Format=37818;exports.RGBA_ASTC_10x8_Format=RGBA_ASTC_10x8_Format;var RGBA_ASTC_10x10_Format=37819;exports.RGBA_ASTC_10x10_Format=RGBA_ASTC_10x10_Format;var RGBA_ASTC_12x10_Format=37820;exports.RGBA_ASTC_12x10_Format=RGBA_ASTC_12x10_Format;var RGBA_ASTC_12x12_Format=37821;exports.RGBA_ASTC_12x12_Format=RGBA_ASTC_12x12_Format;var RGBA_BPTC_Format=36492;exports.RGBA_BPTC_Format=RGBA_BPTC_Format;var SRGB8_ALPHA8_ASTC_4x4_Format=37840;exports.SRGB8_ALPHA8_ASTC_4x4_Format=SRGB8_ALPHA8_ASTC_4x4_Format;var SRGB8_ALPHA8_ASTC_5x4_Format=37841;exports.SRGB8_ALPHA8_ASTC_5x4_Format=SRGB8_ALPHA8_ASTC_5x4_Format;var SRGB8_ALPHA8_ASTC_5x5_Format=37842;exports.SRGB8_ALPHA8_ASTC_5x5_Format=SRGB8_ALPHA8_ASTC_5x5_Format;var SRGB8_ALPHA8_ASTC_6x5_Format=37843;exports.SRGB8_ALPHA8_ASTC_6x5_Format=SRGB8_ALPHA8_ASTC_6x5_Format;var SRGB8_ALPHA8_ASTC_6x6_Format=37844;exports.SRGB8_ALPHA8_ASTC_6x6_Format=SRGB8_ALPHA8_ASTC_6x6_Format;var SRGB8_ALPHA8_ASTC_8x5_Format=37845;exports.SRGB8_ALPHA8_ASTC_8x5_Format=SRGB8_ALPHA8_ASTC_8x5_Format;var SRGB8_ALPHA8_ASTC_8x6_Format=37846;exports.SRGB8_ALPHA8_ASTC_8x6_Format=SRGB8_ALPHA8_ASTC_8x6_Format;var SRGB8_ALPHA8_ASTC_8x8_Format=37847;exports.SRGB8_ALPHA8_ASTC_8x8_Format=SRGB8_ALPHA8_ASTC_8x8_Format;var SRGB8_ALPHA8_ASTC_10x5_Format=37848;exports.SRGB8_ALPHA8_ASTC_10x5_Format=SRGB8_ALPHA8_ASTC_10x5_Format;var SRGB8_ALPHA8_ASTC_10x6_Format=37849;exports.SRGB8_ALPHA8_ASTC_10x6_Format=SRGB8_ALPHA8_ASTC_10x6_Format;var SRGB8_ALPHA8_ASTC_10x8_Format=37850;exports.SRGB8_ALPHA8_ASTC_10x8_Format=SRGB8_ALPHA8_ASTC_10x8_Format;var SRGB8_ALPHA8_ASTC_10x10_Format=37851;exports.SRGB8_ALPHA8_ASTC_10x10_Format=SRGB8_ALPHA8_ASTC_10x10_Format;var SRGB8_ALPHA8_ASTC_12x10_Format=37852;exports.SRGB8_ALPHA8_ASTC_12x10_Format=SRGB8_ALPHA8_ASTC_12x10_Format;var SRGB8_ALPHA8_ASTC_12x12_Format=37853;exports.SRGB8_ALPHA8_ASTC_12x12_Format=SRGB8_ALPHA8_ASTC_12x12_Format;var LoopOnce=2200;exports.LoopOnce=LoopOnce;var LoopRepeat=2201;exports.LoopRepeat=LoopRepeat;var LoopPingPong=2202;exports.LoopPingPong=LoopPingPong;var InterpolateDiscrete=2300;exports.InterpolateDiscrete=InterpolateDiscrete;var InterpolateLinear=2301;exports.InterpolateLinear=InterpolateLinear;var InterpolateSmooth=2302;exports.InterpolateSmooth=InterpolateSmooth;var ZeroCurvatureEnding=2400;exports.ZeroCurvatureEnding=ZeroCurvatureEnding;var ZeroSlopeEnding=2401;exports.ZeroSlopeEnding=ZeroSlopeEnding;var WrapAroundEnding=2402;exports.WrapAroundEnding=WrapAroundEnding;var NormalAnimationBlendMode=2500;exports.NormalAnimationBlendMode=NormalAnimationBlendMode;var AdditiveAnimationBlendMode=2501;exports.AdditiveAnimationBlendMode=AdditiveAnimationBlendMode;var TrianglesDrawMode=0;exports.TrianglesDrawMode=TrianglesDrawMode;var TriangleStripDrawMode=1;exports.TriangleStripDrawMode=TriangleStripDrawMode;var TriangleFanDrawMode=2;exports.TriangleFanDrawMode=TriangleFanDrawMode;var LinearEncoding=3000;exports.LinearEncoding=LinearEncoding;var sRGBEncoding=3001;exports.sRGBEncoding=sRGBEncoding;var GammaEncoding=3007;exports.GammaEncoding=GammaEncoding;var RGBEEncoding=3002;exports.RGBEEncoding=RGBEEncoding;var LogLuvEncoding=3003;exports.LogLuvEncoding=LogLuvEncoding;var RGBM7Encoding=3004;exports.RGBM7Encoding=RGBM7Encoding;var RGBM16Encoding=3005;exports.RGBM16Encoding=RGBM16Encoding;var RGBDEncoding=3006;exports.RGBDEncoding=RGBDEncoding;var BasicDepthPacking=3200;exports.BasicDepthPacking=BasicDepthPacking;var RGBADepthPacking=3201;exports.RGBADepthPacking=RGBADepthPacking;var TangentSpaceNormalMap=0;exports.TangentSpaceNormalMap=TangentSpaceNormalMap;var ObjectSpaceNormalMap=1;exports.ObjectSpaceNormalMap=ObjectSpaceNormalMap;var ZeroStencilOp=0;exports.ZeroStencilOp=ZeroStencilOp;var KeepStencilOp=7680;exports.KeepStencilOp=KeepStencilOp;var ReplaceStencilOp=7681;exports.ReplaceStencilOp=ReplaceStencilOp;var IncrementStencilOp=7682;exports.IncrementStencilOp=IncrementStencilOp;var DecrementStencilOp=7683;exports.DecrementStencilOp=DecrementStencilOp;var IncrementWrapStencilOp=34055;exports.IncrementWrapStencilOp=IncrementWrapStencilOp;var DecrementWrapStencilOp=34056;exports.DecrementWrapStencilOp=DecrementWrapStencilOp;var InvertStencilOp=5386;exports.InvertStencilOp=InvertStencilOp;var NeverStencilFunc=512;exports.NeverStencilFunc=NeverStencilFunc;var LessStencilFunc=513;exports.LessStencilFunc=LessStencilFunc;var EqualStencilFunc=514;exports.EqualStencilFunc=EqualStencilFunc;var LessEqualStencilFunc=515;exports.LessEqualStencilFunc=LessEqualStencilFunc;var GreaterStencilFunc=516;exports.GreaterStencilFunc=GreaterStencilFunc;var NotEqualStencilFunc=517;exports.NotEqualStencilFunc=NotEqualStencilFunc;var GreaterEqualStencilFunc=518;exports.GreaterEqualStencilFunc=GreaterEqualStencilFunc;var AlwaysStencilFunc=519;exports.AlwaysStencilFunc=AlwaysStencilFunc;var StaticDrawUsage=35044;exports.StaticDrawUsage=StaticDrawUsage;var DynamicDrawUsage=35048;exports.DynamicDrawUsage=DynamicDrawUsage;var StreamDrawUsage=35040;exports.StreamDrawUsage=StreamDrawUsage;var StaticReadUsage=35045;exports.StaticReadUsage=StaticReadUsage;var DynamicReadUsage=35049;exports.DynamicReadUsage=DynamicReadUsage;var StreamReadUsage=35041;exports.StreamReadUsage=StreamReadUsage;var StaticCopyUsage=35046;exports.StaticCopyUsage=StaticCopyUsage;var DynamicCopyUsage=35050;exports.DynamicCopyUsage=DynamicCopyUsage;var StreamCopyUsage=35042;exports.StreamCopyUsage=StreamCopyUsage;var GLSL1='100';exports.GLSL1=GLSL1;var GLSL3='300 es';/**
 * https://github.com/mrdoob/eventdispatcher.js/
 */exports.GLSL3=GLSL3;var EventDispatcher=/*#__PURE__*/function(){function EventDispatcher(){(0,_classCallCheck2.default)(this,EventDispatcher);}(0,_createClass2.default)(EventDispatcher,[{key:"addEventListener",value:function addEventListener(type,listener){if(this._listeners===undefined)this._listeners={};var listeners=this._listeners;if(listeners[type]===undefined){listeners[type]=[];}if(listeners[type].indexOf(listener)===-1){listeners[type].push(listener);}}},{key:"hasEventListener",value:function hasEventListener(type,listener){if(this._listeners===undefined)return false;var listeners=this._listeners;return listeners[type]!==undefined&&listeners[type].indexOf(listener)!==-1;}},{key:"removeEventListener",value:function removeEventListener(type,listener){if(this._listeners===undefined)return;var listeners=this._listeners;var listenerArray=listeners[type];if(listenerArray!==undefined){var index=listenerArray.indexOf(listener);if(index!==-1){listenerArray.splice(index,1);}}}},{key:"dispatchEvent",value:function dispatchEvent(event){if(this._listeners===undefined)return;var listeners=this._listeners;var listenerArray=listeners[event.type];if(listenerArray!==undefined){event.target=this;// Make a copy, in case listeners are removed while iterating.
var array=listenerArray.slice(0);for(var i=0,l=array.length;i<l;i++){array[i].call(this,event);}event.target=null;}}}]);return EventDispatcher;}();exports.EventDispatcher=EventDispatcher;var _seed=1234567;var DEG2RAD=Math.PI/180;var RAD2DEG=180/Math.PI;//
var _lut=[];for(var i=0;i<256;i++){_lut[i]=(i<16?'0':'')+i.toString(16);}var hasRandomUUID=typeof crypto!=='undefined'&&'randomUUID'in crypto;function generateUUID(){if(hasRandomUUID){return crypto.randomUUID().toUpperCase();}// TODO Remove this code when crypto.randomUUID() is available everywhere
// http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136
var d0=Math.random()*0xffffffff|0;var d1=Math.random()*0xffffffff|0;var d2=Math.random()*0xffffffff|0;var d3=Math.random()*0xffffffff|0;var uuid=_lut[d0&0xff]+_lut[d0>>8&0xff]+_lut[d0>>16&0xff]+_lut[d0>>24&0xff]+'-'+_lut[d1&0xff]+_lut[d1>>8&0xff]+'-'+_lut[d1>>16&0x0f|0x40]+_lut[d1>>24&0xff]+'-'+_lut[d2&0x3f|0x80]+_lut[d2>>8&0xff]+'-'+_lut[d2>>16&0xff]+_lut[d2>>24&0xff]+_lut[d3&0xff]+_lut[d3>>8&0xff]+_lut[d3>>16&0xff]+_lut[d3>>24&0xff];// .toUpperCase() here flattens concatenated strings to save heap memory space.
return uuid.toUpperCase();}function clamp(value,min,max){return Math.max(min,Math.min(max,value));}// compute euclidian modulo of m % n
// https://en.wikipedia.org/wiki/Modulo_operation
function euclideanModulo(n,m){return(n%m+m)%m;}// Linear mapping from range <a1, a2> to range <b1, b2>
function mapLinear(x,a1,a2,b1,b2){return b1+(x-a1)*(b2-b1)/(a2-a1);}// https://www.gamedev.net/tutorials/programming/general-and-gameplay-programming/inverse-lerp-a-super-useful-yet-often-overlooked-function-r5230/
function inverseLerp(x,y,value){if(x!==y){return(value-x)/(y-x);}else{return 0;}}// https://en.wikipedia.org/wiki/Linear_interpolation
function lerp(x,y,t){return(1-t)*x+t*y;}// http://www.rorydriscoll.com/2016/03/07/frame-rate-independent-damping-using-lerp/
function damp(x,y,lambda,dt){return lerp(x,y,1-Math.exp(-lambda*dt));}// https://www.desmos.com/calculator/vcsjnyz7x4
function pingpong(x){var length=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;return length-Math.abs(euclideanModulo(x,length*2)-length);}// http://en.wikipedia.org/wiki/Smoothstep
function smoothstep(x,min,max){if(x<=min)return 0;if(x>=max)return 1;x=(x-min)/(max-min);return x*x*(3-2*x);}function smootherstep(x,min,max){if(x<=min)return 0;if(x>=max)return 1;x=(x-min)/(max-min);return x*x*x*(x*(x*6-15)+10);}// Random integer from <low, high> interval
function randInt(low,high){return low+Math.floor(Math.random()*(high-low+1));}// Random float from <low, high> interval
function randFloat(low,high){return low+Math.random()*(high-low);}// Random float from <-range/2, range/2> interval
function randFloatSpread(range){return range*(0.5-Math.random());}// Deterministic pseudo-random float in the interval [ 0, 1 ]
function seededRandom(s){if(s!==undefined)_seed=s%2147483647;// Park-Miller algorithm
_seed=_seed*16807%2147483647;return(_seed-1)/2147483646;}function degToRad(degrees){return degrees*DEG2RAD;}function radToDeg(radians){return radians*RAD2DEG;}function isPowerOfTwo(value){return(value&value-1)===0&&value!==0;}function ceilPowerOfTwo(value){return Math.pow(2,Math.ceil(Math.log(value)/Math.LN2));}function floorPowerOfTwo(value){return Math.pow(2,Math.floor(Math.log(value)/Math.LN2));}function setQuaternionFromProperEuler(q,a,b,c,order){// Intrinsic Proper Euler Angles - see https://en.wikipedia.org/wiki/Euler_angles
// rotations are applied to the axes in the order specified by 'order'
// rotation by angle 'a' is applied first, then by angle 'b', then by angle 'c'
// angles are in radians
var cos=Math.cos;var sin=Math.sin;var c2=cos(b/2);var s2=sin(b/2);var c13=cos((a+c)/2);var s13=sin((a+c)/2);var c1_3=cos((a-c)/2);var s1_3=sin((a-c)/2);var c3_1=cos((c-a)/2);var s3_1=sin((c-a)/2);switch(order){case'XYX':q.set(c2*s13,s2*c1_3,s2*s1_3,c2*c13);break;case'YZY':q.set(s2*s1_3,c2*s13,s2*c1_3,c2*c13);break;case'ZXZ':q.set(s2*c1_3,s2*s1_3,c2*s13,c2*c13);break;case'XZX':q.set(c2*s13,s2*s3_1,s2*c3_1,c2*c13);break;case'YXY':q.set(s2*c3_1,c2*s13,s2*s3_1,c2*c13);break;case'ZYZ':q.set(s2*s3_1,s2*c3_1,c2*s13,c2*c13);break;default:console.warn('THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: '+order);}}var MathUtils=/*#__PURE__*/Object.freeze({__proto__:null,DEG2RAD:DEG2RAD,RAD2DEG:RAD2DEG,generateUUID:generateUUID,clamp:clamp,euclideanModulo:euclideanModulo,mapLinear:mapLinear,inverseLerp:inverseLerp,lerp:lerp,damp:damp,pingpong:pingpong,smoothstep:smoothstep,smootherstep:smootherstep,randInt:randInt,randFloat:randFloat,randFloatSpread:randFloatSpread,seededRandom:seededRandom,degToRad:degToRad,radToDeg:radToDeg,isPowerOfTwo:isPowerOfTwo,ceilPowerOfTwo:ceilPowerOfTwo,floorPowerOfTwo:floorPowerOfTwo,setQuaternionFromProperEuler:setQuaternionFromProperEuler});exports.MathUtils=exports.Math=MathUtils;var Vector2=/*#__PURE__*/function(_Symbol$iterator){function Vector2(){var x=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var y=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;(0,_classCallCheck2.default)(this,Vector2);this.x=x;this.y=y;}(0,_createClass2.default)(Vector2,[{key:"width",get:function get(){return this.x;},set:function set(value){this.x=value;}},{key:"height",get:function get(){return this.y;},set:function set(value){this.y=value;}},{key:"set",value:function set(x,y){this.x=x;this.y=y;return this;}},{key:"setScalar",value:function setScalar(scalar){this.x=scalar;this.y=scalar;return this;}},{key:"setX",value:function setX(x){this.x=x;return this;}},{key:"setY",value:function setY(y){this.y=y;return this;}},{key:"setComponent",value:function setComponent(index,value){switch(index){case 0:this.x=value;break;case 1:this.y=value;break;default:throw new Error('index is out of range: '+index);}return this;}},{key:"getComponent",value:function getComponent(index){switch(index){case 0:return this.x;case 1:return this.y;default:throw new Error('index is out of range: '+index);}}},{key:"clone",value:function clone(){return new this.constructor(this.x,this.y);}},{key:"copy",value:function copy(v){this.x=v.x;this.y=v.y;return this;}},{key:"add",value:function add(v,w){if(w!==undefined){console.warn('THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.');return this.addVectors(v,w);}this.x+=v.x;this.y+=v.y;return this;}},{key:"addScalar",value:function addScalar(s){this.x+=s;this.y+=s;return this;}},{key:"addVectors",value:function addVectors(a,b){this.x=a.x+b.x;this.y=a.y+b.y;return this;}},{key:"addScaledVector",value:function addScaledVector(v,s){this.x+=v.x*s;this.y+=v.y*s;return this;}},{key:"sub",value:function sub(v,w){if(w!==undefined){console.warn('THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.');return this.subVectors(v,w);}this.x-=v.x;this.y-=v.y;return this;}},{key:"subScalar",value:function subScalar(s){this.x-=s;this.y-=s;return this;}},{key:"subVectors",value:function subVectors(a,b){this.x=a.x-b.x;this.y=a.y-b.y;return this;}},{key:"multiply",value:function multiply(v){this.x*=v.x;this.y*=v.y;return this;}},{key:"multiplyScalar",value:function multiplyScalar(scalar){this.x*=scalar;this.y*=scalar;return this;}},{key:"divide",value:function divide(v){this.x/=v.x;this.y/=v.y;return this;}},{key:"divideScalar",value:function divideScalar(scalar){return this.multiplyScalar(1/scalar);}},{key:"applyMatrix3",value:function applyMatrix3(m){var x=this.x,y=this.y;var e=m.elements;this.x=e[0]*x+e[3]*y+e[6];this.y=e[1]*x+e[4]*y+e[7];return this;}},{key:"min",value:function min(v){this.x=Math.min(this.x,v.x);this.y=Math.min(this.y,v.y);return this;}},{key:"max",value:function max(v){this.x=Math.max(this.x,v.x);this.y=Math.max(this.y,v.y);return this;}},{key:"clamp",value:function clamp(min,max){// assumes min < max, componentwise
this.x=Math.max(min.x,Math.min(max.x,this.x));this.y=Math.max(min.y,Math.min(max.y,this.y));return this;}},{key:"clampScalar",value:function clampScalar(minVal,maxVal){this.x=Math.max(minVal,Math.min(maxVal,this.x));this.y=Math.max(minVal,Math.min(maxVal,this.y));return this;}},{key:"clampLength",value:function clampLength(min,max){var length=this.length();return this.divideScalar(length||1).multiplyScalar(Math.max(min,Math.min(max,length)));}},{key:"floor",value:function floor(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this;}},{key:"ceil",value:function ceil(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this;}},{key:"round",value:function round(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this;}},{key:"roundToZero",value:function roundToZero(){this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x);this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y);return this;}},{key:"negate",value:function negate(){this.x=-this.x;this.y=-this.y;return this;}},{key:"dot",value:function dot(v){return this.x*v.x+this.y*v.y;}},{key:"cross",value:function cross(v){return this.x*v.y-this.y*v.x;}},{key:"lengthSq",value:function lengthSq(){return this.x*this.x+this.y*this.y;}},{key:"length",value:function length(){return Math.sqrt(this.x*this.x+this.y*this.y);}},{key:"manhattanLength",value:function manhattanLength(){return Math.abs(this.x)+Math.abs(this.y);}},{key:"normalize",value:function normalize(){return this.divideScalar(this.length()||1);}},{key:"angle",value:function angle(){// computes the angle in radians with respect to the positive x-axis
var angle=Math.atan2(-this.y,-this.x)+Math.PI;return angle;}},{key:"distanceTo",value:function distanceTo(v){return Math.sqrt(this.distanceToSquared(v));}},{key:"distanceToSquared",value:function distanceToSquared(v){var dx=this.x-v.x,dy=this.y-v.y;return dx*dx+dy*dy;}},{key:"manhattanDistanceTo",value:function manhattanDistanceTo(v){return Math.abs(this.x-v.x)+Math.abs(this.y-v.y);}},{key:"setLength",value:function setLength(length){return this.normalize().multiplyScalar(length);}},{key:"lerp",value:function lerp(v,alpha){this.x+=(v.x-this.x)*alpha;this.y+=(v.y-this.y)*alpha;return this;}},{key:"lerpVectors",value:function lerpVectors(v1,v2,alpha){this.x=v1.x+(v2.x-v1.x)*alpha;this.y=v1.y+(v2.y-v1.y)*alpha;return this;}},{key:"equals",value:function equals(v){return v.x===this.x&&v.y===this.y;}},{key:"fromArray",value:function fromArray(array){var offset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;this.x=array[offset];this.y=array[offset+1];return this;}},{key:"toArray",value:function toArray(){var array=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var offset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;array[offset]=this.x;array[offset+1]=this.y;return array;}},{key:"fromBufferAttribute",value:function fromBufferAttribute(attribute,index,offset){if(offset!==undefined){console.warn('THREE.Vector2: offset has been removed from .fromBufferAttribute().');}this.x=attribute.getX(index);this.y=attribute.getY(index);return this;}},{key:"rotateAround",value:function rotateAround(center,angle){var c=Math.cos(angle),s=Math.sin(angle);var x=this.x-center.x;var y=this.y-center.y;this.x=x*c-y*s+center.x;this.y=x*s+y*c+center.y;return this;}},{key:"random",value:function random(){this.x=Math.random();this.y=Math.random();return this;}},{key:_Symbol$iterator,value:/*#__PURE__*/_regenerator.default.mark(function value(){return _regenerator.default.wrap(function value$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return this.x;case 2:_context2.next=4;return this.y;case 4:case"end":return _context2.stop();}}},value,this);})}]);return Vector2;}(Symbol.iterator);exports.Vector2=Vector2;Vector2.prototype.isVector2=true;var Matrix3=/*#__PURE__*/function(){function Matrix3(){(0,_classCallCheck2.default)(this,Matrix3);this.elements=[1,0,0,0,1,0,0,0,1];if(arguments.length>0){console.error('THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.');}}(0,_createClass2.default)(Matrix3,[{key:"set",value:function set(n11,n12,n13,n21,n22,n23,n31,n32,n33){var te=this.elements;te[0]=n11;te[1]=n21;te[2]=n31;te[3]=n12;te[4]=n22;te[5]=n32;te[6]=n13;te[7]=n23;te[8]=n33;return this;}},{key:"identity",value:function identity(){this.set(1,0,0,0,1,0,0,0,1);return this;}},{key:"copy",value:function copy(m){var te=this.elements;var me=m.elements;te[0]=me[0];te[1]=me[1];te[2]=me[2];te[3]=me[3];te[4]=me[4];te[5]=me[5];te[6]=me[6];te[7]=me[7];te[8]=me[8];return this;}},{key:"extractBasis",value:function extractBasis(xAxis,yAxis,zAxis){xAxis.setFromMatrix3Column(this,0);yAxis.setFromMatrix3Column(this,1);zAxis.setFromMatrix3Column(this,2);return this;}},{key:"setFromMatrix4",value:function setFromMatrix4(m){var me=m.elements;this.set(me[0],me[4],me[8],me[1],me[5],me[9],me[2],me[6],me[10]);return this;}},{key:"multiply",value:function multiply(m){return this.multiplyMatrices(this,m);}},{key:"premultiply",value:function premultiply(m){return this.multiplyMatrices(m,this);}},{key:"multiplyMatrices",value:function multiplyMatrices(a,b){var ae=a.elements;var be=b.elements;var te=this.elements;var a11=ae[0],a12=ae[3],a13=ae[6];var a21=ae[1],a22=ae[4],a23=ae[7];var a31=ae[2],a32=ae[5],a33=ae[8];var b11=be[0],b12=be[3],b13=be[6];var b21=be[1],b22=be[4],b23=be[7];var b31=be[2],b32=be[5],b33=be[8];te[0]=a11*b11+a12*b21+a13*b31;te[3]=a11*b12+a12*b22+a13*b32;te[6]=a11*b13+a12*b23+a13*b33;te[1]=a21*b11+a22*b21+a23*b31;te[4]=a21*b12+a22*b22+a23*b32;te[7]=a21*b13+a22*b23+a23*b33;te[2]=a31*b11+a32*b21+a33*b31;te[5]=a31*b12+a32*b22+a33*b32;te[8]=a31*b13+a32*b23+a33*b33;return this;}},{key:"multiplyScalar",value:function multiplyScalar(s){var te=this.elements;te[0]*=s;te[3]*=s;te[6]*=s;te[1]*=s;te[4]*=s;te[7]*=s;te[2]*=s;te[5]*=s;te[8]*=s;return this;}},{key:"determinant",value:function determinant(){var te=this.elements;var a=te[0],b=te[1],c=te[2],d=te[3],e=te[4],f=te[5],g=te[6],h=te[7],i=te[8];return a*e*i-a*f*h-b*d*i+b*f*g+c*d*h-c*e*g;}},{key:"invert",value:function invert(){var te=this.elements,n11=te[0],n21=te[1],n31=te[2],n12=te[3],n22=te[4],n32=te[5],n13=te[6],n23=te[7],n33=te[8],t11=n33*n22-n32*n23,t12=n32*n13-n33*n12,t13=n23*n12-n22*n13,det=n11*t11+n21*t12+n31*t13;if(det===0)return this.set(0,0,0,0,0,0,0,0,0);var detInv=1/det;te[0]=t11*detInv;te[1]=(n31*n23-n33*n21)*detInv;te[2]=(n32*n21-n31*n22)*detInv;te[3]=t12*detInv;te[4]=(n33*n11-n31*n13)*detInv;te[5]=(n31*n12-n32*n11)*detInv;te[6]=t13*detInv;te[7]=(n21*n13-n23*n11)*detInv;te[8]=(n22*n11-n21*n12)*detInv;return this;}},{key:"transpose",value:function transpose(){var tmp;var m=this.elements;tmp=m[1];m[1]=m[3];m[3]=tmp;tmp=m[2];m[2]=m[6];m[6]=tmp;tmp=m[5];m[5]=m[7];m[7]=tmp;return this;}},{key:"getNormalMatrix",value:function getNormalMatrix(matrix4){return this.setFromMatrix4(matrix4).invert().transpose();}},{key:"transposeIntoArray",value:function transposeIntoArray(r){var m=this.elements;r[0]=m[0];r[1]=m[3];r[2]=m[6];r[3]=m[1];r[4]=m[4];r[5]=m[7];r[6]=m[2];r[7]=m[5];r[8]=m[8];return this;}},{key:"setUvTransform",value:function setUvTransform(tx,ty,sx,sy,rotation,cx,cy){var c=Math.cos(rotation);var s=Math.sin(rotation);this.set(sx*c,sx*s,-sx*(c*cx+s*cy)+cx+tx,-sy*s,sy*c,-sy*(-s*cx+c*cy)+cy+ty,0,0,1);return this;}},{key:"scale",value:function scale(sx,sy){var te=this.elements;te[0]*=sx;te[3]*=sx;te[6]*=sx;te[1]*=sy;te[4]*=sy;te[7]*=sy;return this;}},{key:"rotate",value:function rotate(theta){var c=Math.cos(theta);var s=Math.sin(theta);var te=this.elements;var a11=te[0],a12=te[3],a13=te[6];var a21=te[1],a22=te[4],a23=te[7];te[0]=c*a11+s*a21;te[3]=c*a12+s*a22;te[6]=c*a13+s*a23;te[1]=-s*a11+c*a21;te[4]=-s*a12+c*a22;te[7]=-s*a13+c*a23;return this;}},{key:"translate",value:function translate(tx,ty){var te=this.elements;te[0]+=tx*te[2];te[3]+=tx*te[5];te[6]+=tx*te[8];te[1]+=ty*te[2];te[4]+=ty*te[5];te[7]+=ty*te[8];return this;}},{key:"equals",value:function equals(matrix){var te=this.elements;var me=matrix.elements;for(var _i=0;_i<9;_i++){if(te[_i]!==me[_i])return false;}return true;}},{key:"fromArray",value:function fromArray(array){var offset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;for(var _i2=0;_i2<9;_i2++){this.elements[_i2]=array[_i2+offset];}return this;}},{key:"toArray",value:function toArray(){var array=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var offset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var te=this.elements;array[offset]=te[0];array[offset+1]=te[1];array[offset+2]=te[2];array[offset+3]=te[3];array[offset+4]=te[4];array[offset+5]=te[5];array[offset+6]=te[6];array[offset+7]=te[7];array[offset+8]=te[8];return array;}},{key:"clone",value:function clone(){return new this.constructor().fromArray(this.elements);}}]);return Matrix3;}();exports.Matrix3=Matrix3;Matrix3.prototype.isMatrix3=true;function arrayMax(array){if(array.length===0)return-Infinity;var max=array[0];for(var _i3=1,l=array.length;_i3<l;++_i3){if(array[_i3]>max)max=array[_i3];}return max;}var TYPED_ARRAYS={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function getTypedArray(type,buffer){return new TYPED_ARRAYS[type](buffer);}function createElementNS(name){return $document.createElementNS('http://www.w3.org/1999/xhtml',name);}var _canvas;var ImageUtils=/*#__PURE__*/function(){function ImageUtils(){(0,_classCallCheck2.default)(this,ImageUtils);}(0,_createClass2.default)(ImageUtils,null,[{key:"getDataURL",value:function getDataURL(image){if(/^data:/i.test(image.src)){return image.src;}if(typeof $HTMLCanvasElement=='undefined'){return image.src;}var canvas;if(image instanceof $HTMLCanvasElement){canvas=image;}else{if(_canvas===undefined)_canvas=createElementNS('canvas');_canvas.width=image.width;_canvas.height=image.height;var context=_canvas.getContext('2d');if(image instanceof ImageData){context.putImageData(image,0,0);}else{context.drawImage(image,0,0,image.width,image.height);}canvas=_canvas;}if(canvas.width>2048||canvas.height>2048){console.warn('THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons',image);return canvas.toDataURL('image/jpeg',0.6);}else{return canvas.toDataURL('image/png');}}}]);return ImageUtils;}();exports.ImageUtils=ImageUtils;var textureId=0;var Texture=/*#__PURE__*/function(_EventDispatcher){(0,_inherits2.default)(Texture,_EventDispatcher);var _super=_createSuper(Texture);function Texture(){var _this2;var image=arguments.length>0&&arguments[0]!==undefined?arguments[0]:Texture.DEFAULT_IMAGE;var mapping=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Texture.DEFAULT_MAPPING;var wrapS=arguments.length>2&&arguments[2]!==undefined?arguments[2]:ClampToEdgeWrapping;var wrapT=arguments.length>3&&arguments[3]!==undefined?arguments[3]:ClampToEdgeWrapping;var magFilter=arguments.length>4&&arguments[4]!==undefined?arguments[4]:LinearFilter;var minFilter=arguments.length>5&&arguments[5]!==undefined?arguments[5]:LinearMipmapLinearFilter;var format=arguments.length>6&&arguments[6]!==undefined?arguments[6]:RGBAFormat;var type=arguments.length>7&&arguments[7]!==undefined?arguments[7]:UnsignedByteType;var anisotropy=arguments.length>8&&arguments[8]!==undefined?arguments[8]:1;var encoding=arguments.length>9&&arguments[9]!==undefined?arguments[9]:LinearEncoding;(0,_classCallCheck2.default)(this,Texture);_this2=_super.call(this);Object.defineProperty((0,_assertThisInitialized2.default)(_this2),'id',{value:textureId++});_this2.uuid=generateUUID();_this2.name='';_this2.image=image;_this2.mipmaps=[];_this2.mapping=mapping;_this2.wrapS=wrapS;_this2.wrapT=wrapT;_this2.magFilter=magFilter;_this2.minFilter=minFilter;_this2.anisotropy=anisotropy;_this2.format=format;_this2.internalFormat=null;_this2.type=type;_this2.offset=new Vector2(0,0);_this2.repeat=new Vector2(1,1);_this2.center=new Vector2(0,0);_this2.rotation=0;_this2.matrixAutoUpdate=true;_this2.matrix=new Matrix3();_this2.generateMipmaps=true;_this2.premultiplyAlpha=false;_this2.flipY=true;_this2.unpackAlignment=4;// valid values: 1, 2, 4, 8 (see http://www.khronos.org/opengles/sdk/docs/man/xhtml/glPixelStorei.xml)
// Values of encoding !== THREE.LinearEncoding only supported on map, envMap and emissiveMap.
//
// Also changing the encoding after already used by a Material will not automatically make the Material
// update. You need to explicitly call Material.needsUpdate to trigger it to recompile.
_this2.encoding=encoding;_this2.version=0;_this2.onUpdate=null;_this2.isRenderTargetTexture=false;return _this2;}(0,_createClass2.default)(Texture,[{key:"updateMatrix",value:function updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y);}},{key:"clone",value:function clone(){return new this.constructor().copy(this);}},{key:"copy",value:function copy(source){this.name=source.name;this.image=source.image;this.mipmaps=source.mipmaps.slice(0);this.mapping=source.mapping;this.wrapS=source.wrapS;this.wrapT=source.wrapT;this.magFilter=source.magFilter;this.minFilter=source.minFilter;this.anisotropy=source.anisotropy;this.format=source.format;this.internalFormat=source.internalFormat;this.type=source.type;this.offset.copy(source.offset);this.repeat.copy(source.repeat);this.center.copy(source.center);this.rotation=source.rotation;this.matrixAutoUpdate=source.matrixAutoUpdate;this.matrix.copy(source.matrix);this.generateMipmaps=source.generateMipmaps;this.premultiplyAlpha=source.premultiplyAlpha;this.flipY=source.flipY;this.unpackAlignment=source.unpackAlignment;this.encoding=source.encoding;return this;}},{key:"toJSON",value:function toJSON(meta){var isRootObject=meta===undefined||typeof meta==='string';if(!isRootObject&&meta.textures[this.uuid]!==undefined){return meta.textures[this.uuid];}var output={metadata:{version:4.5,type:'Texture',generator:'Texture.toJSON'},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==undefined){// TODO: Move to THREE.Image
var image=this.image;if(image.uuid===undefined){image.uuid=generateUUID();// UGH
}if(!isRootObject&&meta.images[image.uuid]===undefined){var url;if(Array.isArray(image)){// process array of images e.g. CubeTexture
url=[];for(var _i4=0,l=image.length;_i4<l;_i4++){// check cube texture with data textures
if(image[_i4].isDataTexture){url.push(serializeImage(image[_i4].image));}else{url.push(serializeImage(image[_i4]));}}}else{// process single image
url=serializeImage(image);}meta.images[image.uuid]={uuid:image.uuid,url:url};}output.image=image.uuid;}if(!isRootObject){meta.textures[this.uuid]=output;}return output;}},{key:"dispose",value:function dispose(){this.dispatchEvent({type:'dispose'});}},{key:"transformUv",value:function transformUv(uv){if(this.mapping!==UVMapping)return uv;uv.applyMatrix3(this.matrix);if(uv.x<0||uv.x>1){switch(this.wrapS){case RepeatWrapping:uv.x=uv.x-Math.floor(uv.x);break;case ClampToEdgeWrapping:uv.x=uv.x<0?0:1;break;case MirroredRepeatWrapping:if(Math.abs(Math.floor(uv.x)%2)===1){uv.x=Math.ceil(uv.x)-uv.x;}else{uv.x=uv.x-Math.floor(uv.x);}break;}}if(uv.y<0||uv.y>1){switch(this.wrapT){case RepeatWrapping:uv.y=uv.y-Math.floor(uv.y);break;case ClampToEdgeWrapping:uv.y=uv.y<0?0:1;break;case MirroredRepeatWrapping:if(Math.abs(Math.floor(uv.y)%2)===1){uv.y=Math.ceil(uv.y)-uv.y;}else{uv.y=uv.y-Math.floor(uv.y);}break;}}if(this.flipY){uv.y=1-uv.y;}return uv;}},{key:"needsUpdate",set:function set(value){if(value===true)this.version++;}}]);return Texture;}(EventDispatcher);exports.Texture=Texture;Texture.DEFAULT_IMAGE=undefined;Texture.DEFAULT_MAPPING=UVMapping;Texture.prototype.isTexture=true;function serializeImage(image){if(typeof HTMLImageElement!=='undefined'&&image instanceof HTMLImageElement||typeof $HTMLCanvasElement!=='undefined'&&image instanceof $HTMLCanvasElement||typeof ImageBitmap!=='undefined'&&image instanceof ImageBitmap){// default images
return ImageUtils.getDataURL(image);}else{if(image.data){// images of DataTexture
return{data:Array.prototype.slice.call(image.data),width:image.width,height:image.height,type:image.data.constructor.name};}else{console.warn('THREE.Texture: Unable to serialize Texture.');return{};}}}var Vector4=/*#__PURE__*/function(_Symbol$iterator2){function Vector4(){var x=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var y=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var z=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var w=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;(0,_classCallCheck2.default)(this,Vector4);this.x=x;this.y=y;this.z=z;this.w=w;}(0,_createClass2.default)(Vector4,[{key:"width",get:function get(){return this.z;},set:function set(value){this.z=value;}},{key:"height",get:function get(){return this.w;},set:function set(value){this.w=value;}},{key:"set",value:function set(x,y,z,w){this.x=x;this.y=y;this.z=z;this.w=w;return this;}},{key:"setScalar",value:function setScalar(scalar){this.x=scalar;this.y=scalar;this.z=scalar;this.w=scalar;return this;}},{key:"setX",value:function setX(x){this.x=x;return this;}},{key:"setY",value:function setY(y){this.y=y;return this;}},{key:"setZ",value:function setZ(z){this.z=z;return this;}},{key:"setW",value:function setW(w){this.w=w;return this;}},{key:"setComponent",value:function setComponent(index,value){switch(index){case 0:this.x=value;break;case 1:this.y=value;break;case 2:this.z=value;break;case 3:this.w=value;break;default:throw new Error('index is out of range: '+index);}return this;}},{key:"getComponent",value:function getComponent(index){switch(index){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error('index is out of range: '+index);}}},{key:"clone",value:function clone(){return new this.constructor(this.x,this.y,this.z,this.w);}},{key:"copy",value:function copy(v){this.x=v.x;this.y=v.y;this.z=v.z;this.w=v.w!==undefined?v.w:1;return this;}},{key:"add",value:function add(v,w){if(w!==undefined){console.warn('THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.');return this.addVectors(v,w);}this.x+=v.x;this.y+=v.y;this.z+=v.z;this.w+=v.w;return this;}},{key:"addScalar",value:function addScalar(s){this.x+=s;this.y+=s;this.z+=s;this.w+=s;return this;}},{key:"addVectors",value:function addVectors(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;this.w=a.w+b.w;return this;}},{key:"addScaledVector",value:function addScaledVector(v,s){this.x+=v.x*s;this.y+=v.y*s;this.z+=v.z*s;this.w+=v.w*s;return this;}},{key:"sub",value:function sub(v,w){if(w!==undefined){console.warn('THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.');return this.subVectors(v,w);}this.x-=v.x;this.y-=v.y;this.z-=v.z;this.w-=v.w;return this;}},{key:"subScalar",value:function subScalar(s){this.x-=s;this.y-=s;this.z-=s;this.w-=s;return this;}},{key:"subVectors",value:function subVectors(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;this.w=a.w-b.w;return this;}},{key:"multiply",value:function multiply(v){this.x*=v.x;this.y*=v.y;this.z*=v.z;this.w*=v.w;return this;}},{key:"multiplyScalar",value:function multiplyScalar(scalar){this.x*=scalar;this.y*=scalar;this.z*=scalar;this.w*=scalar;return this;}},{key:"applyMatrix4",value:function applyMatrix4(m){var x=this.x,y=this.y,z=this.z,w=this.w;var e=m.elements;this.x=e[0]*x+e[4]*y+e[8]*z+e[12]*w;this.y=e[1]*x+e[5]*y+e[9]*z+e[13]*w;this.z=e[2]*x+e[6]*y+e[10]*z+e[14]*w;this.w=e[3]*x+e[7]*y+e[11]*z+e[15]*w;return this;}},{key:"divideScalar",value:function divideScalar(scalar){return this.multiplyScalar(1/scalar);}},{key:"setAxisAngleFromQuaternion",value:function setAxisAngleFromQuaternion(q){// http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm
// q is assumed to be normalized
this.w=2*Math.acos(q.w);var s=Math.sqrt(1-q.w*q.w);if(s<0.0001){this.x=1;this.y=0;this.z=0;}else{this.x=q.x/s;this.y=q.y/s;this.z=q.z/s;}return this;}},{key:"setAxisAngleFromRotationMatrix",value:function setAxisAngleFromRotationMatrix(m){// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToAngle/index.htm
// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)
var angle,x,y,z;// variables for result
var epsilon=0.01,// margin to allow for rounding errors
epsilon2=0.1,// margin to distinguish between 0 and 180 degrees
te=m.elements,m11=te[0],m12=te[4],m13=te[8],m21=te[1],m22=te[5],m23=te[9],m31=te[2],m32=te[6],m33=te[10];if(Math.abs(m12-m21)<epsilon&&Math.abs(m13-m31)<epsilon&&Math.abs(m23-m32)<epsilon){// singularity found
// first check for identity matrix which must have +1 for all terms
// in leading diagonal and zero in other terms
if(Math.abs(m12+m21)<epsilon2&&Math.abs(m13+m31)<epsilon2&&Math.abs(m23+m32)<epsilon2&&Math.abs(m11+m22+m33-3)<epsilon2){// this singularity is identity matrix so angle = 0
this.set(1,0,0,0);return this;// zero angle, arbitrary axis
}// otherwise this singularity is angle = 180
angle=Math.PI;var xx=(m11+1)/2;var yy=(m22+1)/2;var zz=(m33+1)/2;var xy=(m12+m21)/4;var xz=(m13+m31)/4;var yz=(m23+m32)/4;if(xx>yy&&xx>zz){// m11 is the largest diagonal term
if(xx<epsilon){x=0;y=0.707106781;z=0.707106781;}else{x=Math.sqrt(xx);y=xy/x;z=xz/x;}}else if(yy>zz){// m22 is the largest diagonal term
if(yy<epsilon){x=0.707106781;y=0;z=0.707106781;}else{y=Math.sqrt(yy);x=xy/y;z=yz/y;}}else{// m33 is the largest diagonal term so base result on this
if(zz<epsilon){x=0.707106781;y=0.707106781;z=0;}else{z=Math.sqrt(zz);x=xz/z;y=yz/z;}}this.set(x,y,z,angle);return this;// return 180 deg rotation
}// as we have reached here there are no singularities so we can handle normally
var s=Math.sqrt((m32-m23)*(m32-m23)+(m13-m31)*(m13-m31)+(m21-m12)*(m21-m12));// used to normalize
if(Math.abs(s)<0.001)s=1;// prevent divide by zero, should not happen if matrix is orthogonal and should be
// caught by singularity test above, but I've left it in just in case
this.x=(m32-m23)/s;this.y=(m13-m31)/s;this.z=(m21-m12)/s;this.w=Math.acos((m11+m22+m33-1)/2);return this;}},{key:"min",value:function min(v){this.x=Math.min(this.x,v.x);this.y=Math.min(this.y,v.y);this.z=Math.min(this.z,v.z);this.w=Math.min(this.w,v.w);return this;}},{key:"max",value:function max(v){this.x=Math.max(this.x,v.x);this.y=Math.max(this.y,v.y);this.z=Math.max(this.z,v.z);this.w=Math.max(this.w,v.w);return this;}},{key:"clamp",value:function clamp(min,max){// assumes min < max, componentwise
this.x=Math.max(min.x,Math.min(max.x,this.x));this.y=Math.max(min.y,Math.min(max.y,this.y));this.z=Math.max(min.z,Math.min(max.z,this.z));this.w=Math.max(min.w,Math.min(max.w,this.w));return this;}},{key:"clampScalar",value:function clampScalar(minVal,maxVal){this.x=Math.max(minVal,Math.min(maxVal,this.x));this.y=Math.max(minVal,Math.min(maxVal,this.y));this.z=Math.max(minVal,Math.min(maxVal,this.z));this.w=Math.max(minVal,Math.min(maxVal,this.w));return this;}},{key:"clampLength",value:function clampLength(min,max){var length=this.length();return this.divideScalar(length||1).multiplyScalar(Math.max(min,Math.min(max,length)));}},{key:"floor",value:function floor(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);this.w=Math.floor(this.w);return this;}},{key:"ceil",value:function ceil(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);this.w=Math.ceil(this.w);return this;}},{key:"round",value:function round(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);this.w=Math.round(this.w);return this;}},{key:"roundToZero",value:function roundToZero(){this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x);this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y);this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z);this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w);return this;}},{key:"negate",value:function negate(){this.x=-this.x;this.y=-this.y;this.z=-this.z;this.w=-this.w;return this;}},{key:"dot",value:function dot(v){return this.x*v.x+this.y*v.y+this.z*v.z+this.w*v.w;}},{key:"lengthSq",value:function lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w;}},{key:"length",value:function length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);}},{key:"manhattanLength",value:function manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w);}},{key:"normalize",value:function normalize(){return this.divideScalar(this.length()||1);}},{key:"setLength",value:function setLength(length){return this.normalize().multiplyScalar(length);}},{key:"lerp",value:function lerp(v,alpha){this.x+=(v.x-this.x)*alpha;this.y+=(v.y-this.y)*alpha;this.z+=(v.z-this.z)*alpha;this.w+=(v.w-this.w)*alpha;return this;}},{key:"lerpVectors",value:function lerpVectors(v1,v2,alpha){this.x=v1.x+(v2.x-v1.x)*alpha;this.y=v1.y+(v2.y-v1.y)*alpha;this.z=v1.z+(v2.z-v1.z)*alpha;this.w=v1.w+(v2.w-v1.w)*alpha;return this;}},{key:"equals",value:function equals(v){return v.x===this.x&&v.y===this.y&&v.z===this.z&&v.w===this.w;}},{key:"fromArray",value:function fromArray(array){var offset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;this.x=array[offset];this.y=array[offset+1];this.z=array[offset+2];this.w=array[offset+3];return this;}},{key:"toArray",value:function toArray(){var array=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var offset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;array[offset]=this.x;array[offset+1]=this.y;array[offset+2]=this.z;array[offset+3]=this.w;return array;}},{key:"fromBufferAttribute",value:function fromBufferAttribute(attribute,index,offset){if(offset!==undefined){console.warn('THREE.Vector4: offset has been removed from .fromBufferAttribute().');}this.x=attribute.getX(index);this.y=attribute.getY(index);this.z=attribute.getZ(index);this.w=attribute.getW(index);return this;}},{key:"random",value:function random(){this.x=Math.random();this.y=Math.random();this.z=Math.random();this.w=Math.random();return this;}},{key:_Symbol$iterator2,value:/*#__PURE__*/_regenerator.default.mark(function value(){return _regenerator.default.wrap(function value$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return this.x;case 2:_context3.next=4;return this.y;case 4:_context3.next=6;return this.z;case 6:_context3.next=8;return this.w;case 8:case"end":return _context3.stop();}}},value,this);})}]);return Vector4;}(Symbol.iterator);exports.Vector4=Vector4;Vector4.prototype.isVector4=true;/*
 In options, we can specify:
 * Texture parameters for an auto-generated target texture
 * depthBuffer/stencilBuffer: Booleans to indicate if we should generate these buffers
*/var WebGLRenderTarget=/*#__PURE__*/function(_EventDispatcher2){(0,_inherits2.default)(WebGLRenderTarget,_EventDispatcher2);var _super2=_createSuper(WebGLRenderTarget);function WebGLRenderTarget(width,height){var _this3;var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};(0,_classCallCheck2.default)(this,WebGLRenderTarget);_this3=_super2.call(this);_this3.width=width;_this3.height=height;_this3.depth=1;_this3.scissor=new Vector4(0,0,width,height);_this3.scissorTest=false;_this3.viewport=new Vector4(0,0,width,height);_this3.texture=new Texture(undefined,options.mapping,options.wrapS,options.wrapT,options.magFilter,options.minFilter,options.format,options.type,options.anisotropy,options.encoding);_this3.texture.isRenderTargetTexture=true;_this3.texture.image={width:width,height:height,depth:1};_this3.texture.generateMipmaps=options.generateMipmaps!==undefined?options.generateMipmaps:false;_this3.texture.internalFormat=options.internalFormat!==undefined?options.internalFormat:null;_this3.texture.minFilter=options.minFilter!==undefined?options.minFilter:LinearFilter;_this3.depthBuffer=options.depthBuffer!==undefined?options.depthBuffer:true;_this3.stencilBuffer=options.stencilBuffer!==undefined?options.stencilBuffer:false;_this3.depthTexture=options.depthTexture!==undefined?options.depthTexture:null;return _this3;}(0,_createClass2.default)(WebGLRenderTarget,[{key:"setTexture",value:function setTexture(texture){texture.image={width:this.width,height:this.height,depth:this.depth};this.texture=texture;}},{key:"setSize",value:function setSize(width,height){var depth=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;if(this.width!==width||this.height!==height||this.depth!==depth){this.width=width;this.height=height;this.depth=depth;this.texture.image.width=width;this.texture.image.height=height;this.texture.image.depth=depth;this.dispose();}this.viewport.set(0,0,width,height);this.scissor.set(0,0,width,height);}},{key:"clone",value:function clone(){return new this.constructor().copy(this);}},{key:"copy",value:function copy(source){this.width=source.width;this.height=source.height;this.depth=source.depth;this.viewport.copy(source.viewport);this.texture=source.texture.clone();this.texture.image=_objectSpread({},this.texture.image);// See #20328.
this.depthBuffer=source.depthBuffer;this.stencilBuffer=source.stencilBuffer;this.depthTexture=source.depthTexture;return this;}},{key:"dispose",value:function dispose(){this.dispatchEvent({type:'dispose'});}}]);return WebGLRenderTarget;}(EventDispatcher);exports.WebGLRenderTarget=WebGLRenderTarget;WebGLRenderTarget.prototype.isWebGLRenderTarget=true;var WebGLMultipleRenderTargets=/*#__PURE__*/function(_WebGLRenderTarget){(0,_inherits2.default)(WebGLMultipleRenderTargets,_WebGLRenderTarget);var _super3=_createSuper(WebGLMultipleRenderTargets);function WebGLMultipleRenderTargets(width,height,count){var _this4;(0,_classCallCheck2.default)(this,WebGLMultipleRenderTargets);_this4=_super3.call(this,width,height);var texture=_this4.texture;_this4.texture=[];for(var _i5=0;_i5<count;_i5++){_this4.texture[_i5]=texture.clone();}return _this4;}(0,_createClass2.default)(WebGLMultipleRenderTargets,[{key:"setSize",value:function setSize(width,height){var depth=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;if(this.width!==width||this.height!==height||this.depth!==depth){this.width=width;this.height=height;this.depth=depth;for(var _i6=0,il=this.texture.length;_i6<il;_i6++){this.texture[_i6].image.width=width;this.texture[_i6].image.height=height;this.texture[_i6].image.depth=depth;}this.dispose();}this.viewport.set(0,0,width,height);this.scissor.set(0,0,width,height);return this;}},{key:"copy",value:function copy(source){this.dispose();this.width=source.width;this.height=source.height;this.depth=source.depth;this.viewport.set(0,0,this.width,this.height);this.scissor.set(0,0,this.width,this.height);this.depthBuffer=source.depthBuffer;this.stencilBuffer=source.stencilBuffer;this.depthTexture=source.depthTexture;this.texture.length=0;for(var _i7=0,il=source.texture.length;_i7<il;_i7++){this.texture[_i7]=source.texture[_i7].clone();}return this;}}]);return WebGLMultipleRenderTargets;}(WebGLRenderTarget);exports.WebGLMultipleRenderTargets=WebGLMultipleRenderTargets;WebGLMultipleRenderTargets.prototype.isWebGLMultipleRenderTargets=true;var WebGLMultisampleRenderTarget=/*#__PURE__*/function(_WebGLRenderTarget2){(0,_inherits2.default)(WebGLMultisampleRenderTarget,_WebGLRenderTarget2);var _super4=_createSuper(WebGLMultisampleRenderTarget);function WebGLMultisampleRenderTarget(width,height,options){var _this5;(0,_classCallCheck2.default)(this,WebGLMultisampleRenderTarget);_this5=_super4.call(this,width,height,options);_this5.samples=4;return _this5;}(0,_createClass2.default)(WebGLMultisampleRenderTarget,[{key:"copy",value:function copy(source){(0,_get2.default)((0,_getPrototypeOf2.default)(WebGLMultisampleRenderTarget.prototype),"copy",this).call(this,source);this.samples=source.samples;return this;}}]);return WebGLMultisampleRenderTarget;}(WebGLRenderTarget);exports.WebGLMultisampleRenderTarget=WebGLMultisampleRenderTarget;WebGLMultisampleRenderTarget.prototype.isWebGLMultisampleRenderTarget=true;var Quaternion=/*#__PURE__*/function(){function Quaternion(){var x=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var y=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var z=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var w=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;(0,_classCallCheck2.default)(this,Quaternion);this._x=x;this._y=y;this._z=z;this._w=w;}(0,_createClass2.default)(Quaternion,[{key:"x",get:function get(){return this._x;},set:function set(value){this._x=value;this._onChangeCallback();}},{key:"y",get:function get(){return this._y;},set:function set(value){this._y=value;this._onChangeCallback();}},{key:"z",get:function get(){return this._z;},set:function set(value){this._z=value;this._onChangeCallback();}},{key:"w",get:function get(){return this._w;},set:function set(value){this._w=value;this._onChangeCallback();}},{key:"set",value:function set(x,y,z,w){this._x=x;this._y=y;this._z=z;this._w=w;this._onChangeCallback();return this;}},{key:"clone",value:function clone(){return new this.constructor(this._x,this._y,this._z,this._w);}},{key:"copy",value:function copy(quaternion){this._x=quaternion.x;this._y=quaternion.y;this._z=quaternion.z;this._w=quaternion.w;this._onChangeCallback();return this;}},{key:"setFromEuler",value:function setFromEuler(euler,update){if(!(euler&&euler.isEuler)){throw new Error('THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.');}var x=euler._x,y=euler._y,z=euler._z,order=euler._order;// http://www.mathworks.com/matlabcentral/fileexchange/
// 	20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/
//	content/SpinCalc.m
var cos=Math.cos;var sin=Math.sin;var c1=cos(x/2);var c2=cos(y/2);var c3=cos(z/2);var s1=sin(x/2);var s2=sin(y/2);var s3=sin(z/2);switch(order){case'XYZ':this._x=s1*c2*c3+c1*s2*s3;this._y=c1*s2*c3-s1*c2*s3;this._z=c1*c2*s3+s1*s2*c3;this._w=c1*c2*c3-s1*s2*s3;break;case'YXZ':this._x=s1*c2*c3+c1*s2*s3;this._y=c1*s2*c3-s1*c2*s3;this._z=c1*c2*s3-s1*s2*c3;this._w=c1*c2*c3+s1*s2*s3;break;case'ZXY':this._x=s1*c2*c3-c1*s2*s3;this._y=c1*s2*c3+s1*c2*s3;this._z=c1*c2*s3+s1*s2*c3;this._w=c1*c2*c3-s1*s2*s3;break;case'ZYX':this._x=s1*c2*c3-c1*s2*s3;this._y=c1*s2*c3+s1*c2*s3;this._z=c1*c2*s3-s1*s2*c3;this._w=c1*c2*c3+s1*s2*s3;break;case'YZX':this._x=s1*c2*c3+c1*s2*s3;this._y=c1*s2*c3+s1*c2*s3;this._z=c1*c2*s3-s1*s2*c3;this._w=c1*c2*c3-s1*s2*s3;break;case'XZY':this._x=s1*c2*c3-c1*s2*s3;this._y=c1*s2*c3-s1*c2*s3;this._z=c1*c2*s3+s1*s2*c3;this._w=c1*c2*c3+s1*s2*s3;break;default:console.warn('THREE.Quaternion: .setFromEuler() encountered an unknown order: '+order);}if(update!==false)this._onChangeCallback();return this;}},{key:"setFromAxisAngle",value:function setFromAxisAngle(axis,angle){// http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm
// assumes axis is normalized
var halfAngle=angle/2,s=Math.sin(halfAngle);this._x=axis.x*s;this._y=axis.y*s;this._z=axis.z*s;this._w=Math.cos(halfAngle);this._onChangeCallback();return this;}},{key:"setFromRotationMatrix",value:function setFromRotationMatrix(m){// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm
// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)
var te=m.elements,m11=te[0],m12=te[4],m13=te[8],m21=te[1],m22=te[5],m23=te[9],m31=te[2],m32=te[6],m33=te[10],trace=m11+m22+m33;if(trace>0){var s=0.5/Math.sqrt(trace+1.0);this._w=0.25/s;this._x=(m32-m23)*s;this._y=(m13-m31)*s;this._z=(m21-m12)*s;}else if(m11>m22&&m11>m33){var _s=2.0*Math.sqrt(1.0+m11-m22-m33);this._w=(m32-m23)/_s;this._x=0.25*_s;this._y=(m12+m21)/_s;this._z=(m13+m31)/_s;}else if(m22>m33){var _s2=2.0*Math.sqrt(1.0+m22-m11-m33);this._w=(m13-m31)/_s2;this._x=(m12+m21)/_s2;this._y=0.25*_s2;this._z=(m23+m32)/_s2;}else{var _s3=2.0*Math.sqrt(1.0+m33-m11-m22);this._w=(m21-m12)/_s3;this._x=(m13+m31)/_s3;this._y=(m23+m32)/_s3;this._z=0.25*_s3;}this._onChangeCallback();return this;}},{key:"setFromUnitVectors",value:function setFromUnitVectors(vFrom,vTo){// assumes direction vectors vFrom and vTo are normalized
var r=vFrom.dot(vTo)+1;if(r<Number.EPSILON){// vFrom and vTo point in opposite directions
r=0;if(Math.abs(vFrom.x)>Math.abs(vFrom.z)){this._x=-vFrom.y;this._y=vFrom.x;this._z=0;this._w=r;}else{this._x=0;this._y=-vFrom.z;this._z=vFrom.y;this._w=r;}}else{// crossVectors( vFrom, vTo ); // inlined to avoid cyclic dependency on Vector3
this._x=vFrom.y*vTo.z-vFrom.z*vTo.y;this._y=vFrom.z*vTo.x-vFrom.x*vTo.z;this._z=vFrom.x*vTo.y-vFrom.y*vTo.x;this._w=r;}return this.normalize();}},{key:"angleTo",value:function angleTo(q){return 2*Math.acos(Math.abs(clamp(this.dot(q),-1,1)));}},{key:"rotateTowards",value:function rotateTowards(q,step){var angle=this.angleTo(q);if(angle===0)return this;var t=Math.min(1,step/angle);this.slerp(q,t);return this;}},{key:"identity",value:function identity(){return this.set(0,0,0,1);}},{key:"invert",value:function invert(){// quaternion is assumed to have unit length
return this.conjugate();}},{key:"conjugate",value:function conjugate(){this._x*=-1;this._y*=-1;this._z*=-1;this._onChangeCallback();return this;}},{key:"dot",value:function dot(v){return this._x*v._x+this._y*v._y+this._z*v._z+this._w*v._w;}},{key:"lengthSq",value:function lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w;}},{key:"length",value:function length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w);}},{key:"normalize",value:function normalize(){var l=this.length();if(l===0){this._x=0;this._y=0;this._z=0;this._w=1;}else{l=1/l;this._x=this._x*l;this._y=this._y*l;this._z=this._z*l;this._w=this._w*l;}this._onChangeCallback();return this;}},{key:"multiply",value:function multiply(q,p){if(p!==undefined){console.warn('THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.');return this.multiplyQuaternions(q,p);}return this.multiplyQuaternions(this,q);}},{key:"premultiply",value:function premultiply(q){return this.multiplyQuaternions(q,this);}},{key:"multiplyQuaternions",value:function multiplyQuaternions(a,b){// from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm
var qax=a._x,qay=a._y,qaz=a._z,qaw=a._w;var qbx=b._x,qby=b._y,qbz=b._z,qbw=b._w;this._x=qax*qbw+qaw*qbx+qay*qbz-qaz*qby;this._y=qay*qbw+qaw*qby+qaz*qbx-qax*qbz;this._z=qaz*qbw+qaw*qbz+qax*qby-qay*qbx;this._w=qaw*qbw-qax*qbx-qay*qby-qaz*qbz;this._onChangeCallback();return this;}},{key:"slerp",value:function slerp(qb,t){if(t===0)return this;if(t===1)return this.copy(qb);var x=this._x,y=this._y,z=this._z,w=this._w;// http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/
var cosHalfTheta=w*qb._w+x*qb._x+y*qb._y+z*qb._z;if(cosHalfTheta<0){this._w=-qb._w;this._x=-qb._x;this._y=-qb._y;this._z=-qb._z;cosHalfTheta=-cosHalfTheta;}else{this.copy(qb);}if(cosHalfTheta>=1.0){this._w=w;this._x=x;this._y=y;this._z=z;return this;}var sqrSinHalfTheta=1.0-cosHalfTheta*cosHalfTheta;if(sqrSinHalfTheta<=Number.EPSILON){var s=1-t;this._w=s*w+t*this._w;this._x=s*x+t*this._x;this._y=s*y+t*this._y;this._z=s*z+t*this._z;this.normalize();this._onChangeCallback();return this;}var sinHalfTheta=Math.sqrt(sqrSinHalfTheta);var halfTheta=Math.atan2(sinHalfTheta,cosHalfTheta);var ratioA=Math.sin((1-t)*halfTheta)/sinHalfTheta,ratioB=Math.sin(t*halfTheta)/sinHalfTheta;this._w=w*ratioA+this._w*ratioB;this._x=x*ratioA+this._x*ratioB;this._y=y*ratioA+this._y*ratioB;this._z=z*ratioA+this._z*ratioB;this._onChangeCallback();return this;}},{key:"slerpQuaternions",value:function slerpQuaternions(qa,qb,t){this.copy(qa).slerp(qb,t);}},{key:"random",value:function random(){// Derived from http://planning.cs.uiuc.edu/node198.html
// Note, this source uses w, x, y, z ordering,
// so we swap the order below.
var u1=Math.random();var sqrt1u1=Math.sqrt(1-u1);var sqrtu1=Math.sqrt(u1);var u2=2*Math.PI*Math.random();var u3=2*Math.PI*Math.random();return this.set(sqrt1u1*Math.cos(u2),sqrtu1*Math.sin(u3),sqrtu1*Math.cos(u3),sqrt1u1*Math.sin(u2));}},{key:"equals",value:function equals(quaternion){return quaternion._x===this._x&&quaternion._y===this._y&&quaternion._z===this._z&&quaternion._w===this._w;}},{key:"fromArray",value:function fromArray(array){var offset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;this._x=array[offset];this._y=array[offset+1];this._z=array[offset+2];this._w=array[offset+3];this._onChangeCallback();return this;}},{key:"toArray",value:function toArray(){var array=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var offset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;array[offset]=this._x;array[offset+1]=this._y;array[offset+2]=this._z;array[offset+3]=this._w;return array;}},{key:"fromBufferAttribute",value:function fromBufferAttribute(attribute,index){this._x=attribute.getX(index);this._y=attribute.getY(index);this._z=attribute.getZ(index);this._w=attribute.getW(index);return this;}},{key:"_onChange",value:function _onChange(callback){this._onChangeCallback=callback;return this;}},{key:"_onChangeCallback",value:function _onChangeCallback(){}}],[{key:"slerp",value:function slerp(qa,qb,qm,t){console.warn('THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead.');return qm.slerpQuaternions(qa,qb,t);}},{key:"slerpFlat",value:function slerpFlat(dst,dstOffset,src0,srcOffset0,src1,srcOffset1,t){// fuzz-free, array-based Quaternion SLERP operation
var x0=src0[srcOffset0+0],y0=src0[srcOffset0+1],z0=src0[srcOffset0+2],w0=src0[srcOffset0+3];var x1=src1[srcOffset1+0],y1=src1[srcOffset1+1],z1=src1[srcOffset1+2],w1=src1[srcOffset1+3];if(t===0){dst[dstOffset+0]=x0;dst[dstOffset+1]=y0;dst[dstOffset+2]=z0;dst[dstOffset+3]=w0;return;}if(t===1){dst[dstOffset+0]=x1;dst[dstOffset+1]=y1;dst[dstOffset+2]=z1;dst[dstOffset+3]=w1;return;}if(w0!==w1||x0!==x1||y0!==y1||z0!==z1){var s=1-t;var cos=x0*x1+y0*y1+z0*z1+w0*w1,dir=cos>=0?1:-1,sqrSin=1-cos*cos;// Skip the Slerp for tiny steps to avoid numeric problems:
if(sqrSin>Number.EPSILON){var sin=Math.sqrt(sqrSin),len=Math.atan2(sin,cos*dir);s=Math.sin(s*len)/sin;t=Math.sin(t*len)/sin;}var tDir=t*dir;x0=x0*s+x1*tDir;y0=y0*s+y1*tDir;z0=z0*s+z1*tDir;w0=w0*s+w1*tDir;// Normalize in case we just did a lerp:
if(s===1-t){var f=1/Math.sqrt(x0*x0+y0*y0+z0*z0+w0*w0);x0*=f;y0*=f;z0*=f;w0*=f;}}dst[dstOffset]=x0;dst[dstOffset+1]=y0;dst[dstOffset+2]=z0;dst[dstOffset+3]=w0;}},{key:"multiplyQuaternionsFlat",value:function multiplyQuaternionsFlat(dst,dstOffset,src0,srcOffset0,src1,srcOffset1){var x0=src0[srcOffset0];var y0=src0[srcOffset0+1];var z0=src0[srcOffset0+2];var w0=src0[srcOffset0+3];var x1=src1[srcOffset1];var y1=src1[srcOffset1+1];var z1=src1[srcOffset1+2];var w1=src1[srcOffset1+3];dst[dstOffset]=x0*w1+w0*x1+y0*z1-z0*y1;dst[dstOffset+1]=y0*w1+w0*y1+z0*x1-x0*z1;dst[dstOffset+2]=z0*w1+w0*z1+x0*y1-y0*x1;dst[dstOffset+3]=w0*w1-x0*x1-y0*y1-z0*z1;return dst;}}]);return Quaternion;}();exports.Quaternion=Quaternion;Quaternion.prototype.isQuaternion=true;var Vector3=/*#__PURE__*/function(_Symbol$iterator3){function Vector3(){var x=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var y=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var z=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;(0,_classCallCheck2.default)(this,Vector3);this.x=x;this.y=y;this.z=z;}(0,_createClass2.default)(Vector3,[{key:"set",value:function set(x,y,z){if(z===undefined)z=this.z;// sprite.scale.set(x,y)
this.x=x;this.y=y;this.z=z;return this;}},{key:"setScalar",value:function setScalar(scalar){this.x=scalar;this.y=scalar;this.z=scalar;return this;}},{key:"setX",value:function setX(x){this.x=x;return this;}},{key:"setY",value:function setY(y){this.y=y;return this;}},{key:"setZ",value:function setZ(z){this.z=z;return this;}},{key:"setComponent",value:function setComponent(index,value){switch(index){case 0:this.x=value;break;case 1:this.y=value;break;case 2:this.z=value;break;default:throw new Error('index is out of range: '+index);}return this;}},{key:"getComponent",value:function getComponent(index){switch(index){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error('index is out of range: '+index);}}},{key:"clone",value:function clone(){return new this.constructor(this.x,this.y,this.z);}},{key:"copy",value:function copy(v){this.x=v.x;this.y=v.y;this.z=v.z;return this;}},{key:"add",value:function add(v,w){if(w!==undefined){console.warn('THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.');return this.addVectors(v,w);}this.x+=v.x;this.y+=v.y;this.z+=v.z;return this;}},{key:"addScalar",value:function addScalar(s){this.x+=s;this.y+=s;this.z+=s;return this;}},{key:"addVectors",value:function addVectors(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;return this;}},{key:"addScaledVector",value:function addScaledVector(v,s){this.x+=v.x*s;this.y+=v.y*s;this.z+=v.z*s;return this;}},{key:"sub",value:function sub(v,w){if(w!==undefined){console.warn('THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.');return this.subVectors(v,w);}this.x-=v.x;this.y-=v.y;this.z-=v.z;return this;}},{key:"subScalar",value:function subScalar(s){this.x-=s;this.y-=s;this.z-=s;return this;}},{key:"subVectors",value:function subVectors(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;return this;}},{key:"multiply",value:function multiply(v,w){if(w!==undefined){console.warn('THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.');return this.multiplyVectors(v,w);}this.x*=v.x;this.y*=v.y;this.z*=v.z;return this;}},{key:"multiplyScalar",value:function multiplyScalar(scalar){this.x*=scalar;this.y*=scalar;this.z*=scalar;return this;}},{key:"multiplyVectors",value:function multiplyVectors(a,b){this.x=a.x*b.x;this.y=a.y*b.y;this.z=a.z*b.z;return this;}},{key:"applyEuler",value:function applyEuler(euler){if(!(euler&&euler.isEuler)){console.error('THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.');}return this.applyQuaternion(_quaternion$4.setFromEuler(euler));}},{key:"applyAxisAngle",value:function applyAxisAngle(axis,angle){return this.applyQuaternion(_quaternion$4.setFromAxisAngle(axis,angle));}},{key:"applyMatrix3",value:function applyMatrix3(m){var x=this.x,y=this.y,z=this.z;var e=m.elements;this.x=e[0]*x+e[3]*y+e[6]*z;this.y=e[1]*x+e[4]*y+e[7]*z;this.z=e[2]*x+e[5]*y+e[8]*z;return this;}},{key:"applyNormalMatrix",value:function applyNormalMatrix(m){return this.applyMatrix3(m).normalize();}},{key:"applyMatrix4",value:function applyMatrix4(m){var x=this.x,y=this.y,z=this.z;var e=m.elements;var w=1/(e[3]*x+e[7]*y+e[11]*z+e[15]);this.x=(e[0]*x+e[4]*y+e[8]*z+e[12])*w;this.y=(e[1]*x+e[5]*y+e[9]*z+e[13])*w;this.z=(e[2]*x+e[6]*y+e[10]*z+e[14])*w;return this;}},{key:"applyQuaternion",value:function applyQuaternion(q){var x=this.x,y=this.y,z=this.z;var qx=q.x,qy=q.y,qz=q.z,qw=q.w;// calculate quat * vector
var ix=qw*x+qy*z-qz*y;var iy=qw*y+qz*x-qx*z;var iz=qw*z+qx*y-qy*x;var iw=-qx*x-qy*y-qz*z;// calculate result * inverse quat
this.x=ix*qw+iw*-qx+iy*-qz-iz*-qy;this.y=iy*qw+iw*-qy+iz*-qx-ix*-qz;this.z=iz*qw+iw*-qz+ix*-qy-iy*-qx;return this;}},{key:"project",value:function project(camera){return this.applyMatrix4(camera.matrixWorldInverse).applyMatrix4(camera.projectionMatrix);}},{key:"unproject",value:function unproject(camera){return this.applyMatrix4(camera.projectionMatrixInverse).applyMatrix4(camera.matrixWorld);}},{key:"transformDirection",value:function transformDirection(m){// input: THREE.Matrix4 affine matrix
// vector interpreted as a direction
var x=this.x,y=this.y,z=this.z;var e=m.elements;this.x=e[0]*x+e[4]*y+e[8]*z;this.y=e[1]*x+e[5]*y+e[9]*z;this.z=e[2]*x+e[6]*y+e[10]*z;return this.normalize();}},{key:"divide",value:function divide(v){this.x/=v.x;this.y/=v.y;this.z/=v.z;return this;}},{key:"divideScalar",value:function divideScalar(scalar){return this.multiplyScalar(1/scalar);}},{key:"min",value:function min(v){this.x=Math.min(this.x,v.x);this.y=Math.min(this.y,v.y);this.z=Math.min(this.z,v.z);return this;}},{key:"max",value:function max(v){this.x=Math.max(this.x,v.x);this.y=Math.max(this.y,v.y);this.z=Math.max(this.z,v.z);return this;}},{key:"clamp",value:function clamp(min,max){// assumes min < max, componentwise
this.x=Math.max(min.x,Math.min(max.x,this.x));this.y=Math.max(min.y,Math.min(max.y,this.y));this.z=Math.max(min.z,Math.min(max.z,this.z));return this;}},{key:"clampScalar",value:function clampScalar(minVal,maxVal){this.x=Math.max(minVal,Math.min(maxVal,this.x));this.y=Math.max(minVal,Math.min(maxVal,this.y));this.z=Math.max(minVal,Math.min(maxVal,this.z));return this;}},{key:"clampLength",value:function clampLength(min,max){var length=this.length();return this.divideScalar(length||1).multiplyScalar(Math.max(min,Math.min(max,length)));}},{key:"floor",value:function floor(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);return this;}},{key:"ceil",value:function ceil(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);return this;}},{key:"round",value:function round(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);return this;}},{key:"roundToZero",value:function roundToZero(){this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x);this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y);this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z);return this;}},{key:"negate",value:function negate(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this;}},{key:"dot",value:function dot(v){return this.x*v.x+this.y*v.y+this.z*v.z;}// TODO lengthSquared?
},{key:"lengthSq",value:function lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z;}},{key:"length",value:function length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);}},{key:"manhattanLength",value:function manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z);}},{key:"normalize",value:function normalize(){return this.divideScalar(this.length()||1);}},{key:"setLength",value:function setLength(length){return this.normalize().multiplyScalar(length);}},{key:"lerp",value:function lerp(v,alpha){this.x+=(v.x-this.x)*alpha;this.y+=(v.y-this.y)*alpha;this.z+=(v.z-this.z)*alpha;return this;}},{key:"lerpVectors",value:function lerpVectors(v1,v2,alpha){this.x=v1.x+(v2.x-v1.x)*alpha;this.y=v1.y+(v2.y-v1.y)*alpha;this.z=v1.z+(v2.z-v1.z)*alpha;return this;}},{key:"cross",value:function cross(v,w){if(w!==undefined){console.warn('THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.');return this.crossVectors(v,w);}return this.crossVectors(this,v);}},{key:"crossVectors",value:function crossVectors(a,b){var ax=a.x,ay=a.y,az=a.z;var bx=b.x,by=b.y,bz=b.z;this.x=ay*bz-az*by;this.y=az*bx-ax*bz;this.z=ax*by-ay*bx;return this;}},{key:"projectOnVector",value:function projectOnVector(v){var denominator=v.lengthSq();if(denominator===0)return this.set(0,0,0);var scalar=v.dot(this)/denominator;return this.copy(v).multiplyScalar(scalar);}},{key:"projectOnPlane",value:function projectOnPlane(planeNormal){_vector$c.copy(this).projectOnVector(planeNormal);return this.sub(_vector$c);}},{key:"reflect",value:function reflect(normal){// reflect incident vector off plane orthogonal to normal
// normal is assumed to have unit length
return this.sub(_vector$c.copy(normal).multiplyScalar(2*this.dot(normal)));}},{key:"angleTo",value:function angleTo(v){var denominator=Math.sqrt(this.lengthSq()*v.lengthSq());if(denominator===0)return Math.PI/2;var theta=this.dot(v)/denominator;// clamp, to handle numerical problems
return Math.acos(clamp(theta,-1,1));}},{key:"distanceTo",value:function distanceTo(v){return Math.sqrt(this.distanceToSquared(v));}},{key:"distanceToSquared",value:function distanceToSquared(v){var dx=this.x-v.x,dy=this.y-v.y,dz=this.z-v.z;return dx*dx+dy*dy+dz*dz;}},{key:"manhattanDistanceTo",value:function manhattanDistanceTo(v){return Math.abs(this.x-v.x)+Math.abs(this.y-v.y)+Math.abs(this.z-v.z);}},{key:"setFromSpherical",value:function setFromSpherical(s){return this.setFromSphericalCoords(s.radius,s.phi,s.theta);}},{key:"setFromSphericalCoords",value:function setFromSphericalCoords(radius,phi,theta){var sinPhiRadius=Math.sin(phi)*radius;this.x=sinPhiRadius*Math.sin(theta);this.y=Math.cos(phi)*radius;this.z=sinPhiRadius*Math.cos(theta);return this;}},{key:"setFromCylindrical",value:function setFromCylindrical(c){return this.setFromCylindricalCoords(c.radius,c.theta,c.y);}},{key:"setFromCylindricalCoords",value:function setFromCylindricalCoords(radius,theta,y){this.x=radius*Math.sin(theta);this.y=y;this.z=radius*Math.cos(theta);return this;}},{key:"setFromMatrixPosition",value:function setFromMatrixPosition(m){var e=m.elements;this.x=e[12];this.y=e[13];this.z=e[14];return this;}},{key:"setFromMatrixScale",value:function setFromMatrixScale(m){var sx=this.setFromMatrixColumn(m,0).length();var sy=this.setFromMatrixColumn(m,1).length();var sz=this.setFromMatrixColumn(m,2).length();this.x=sx;this.y=sy;this.z=sz;return this;}},{key:"setFromMatrixColumn",value:function setFromMatrixColumn(m,index){return this.fromArray(m.elements,index*4);}},{key:"setFromMatrix3Column",value:function setFromMatrix3Column(m,index){return this.fromArray(m.elements,index*3);}},{key:"equals",value:function equals(v){return v.x===this.x&&v.y===this.y&&v.z===this.z;}},{key:"fromArray",value:function fromArray(array){var offset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;this.x=array[offset];this.y=array[offset+1];this.z=array[offset+2];return this;}},{key:"toArray",value:function toArray(){var array=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var offset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;array[offset]=this.x;array[offset+1]=this.y;array[offset+2]=this.z;return array;}},{key:"fromBufferAttribute",value:function fromBufferAttribute(attribute,index,offset){if(offset!==undefined){console.warn('THREE.Vector3: offset has been removed from .fromBufferAttribute().');}this.x=attribute.getX(index);this.y=attribute.getY(index);this.z=attribute.getZ(index);return this;}},{key:"random",value:function random(){this.x=Math.random();this.y=Math.random();this.z=Math.random();return this;}},{key:"randomDirection",value:function randomDirection(){// Derived from https://mathworld.wolfram.com/SpherePointPicking.html
var u=(Math.random()-0.5)*2;var t=Math.random()*Math.PI*2;var f=Math.sqrt(1-Math.pow(u,2));this.x=f*Math.cos(t);this.y=f*Math.sin(t);this.z=u;return this;}},{key:_Symbol$iterator3,value:/*#__PURE__*/_regenerator.default.mark(function value(){return _regenerator.default.wrap(function value$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return this.x;case 2:_context4.next=4;return this.y;case 4:_context4.next=6;return this.z;case 6:case"end":return _context4.stop();}}},value,this);})}]);return Vector3;}(Symbol.iterator);exports.Vector3=Vector3;Vector3.prototype.isVector3=true;var _vector$c=/*@__PURE__*/new Vector3();var _quaternion$4=/*@__PURE__*/new Quaternion();var Box3=/*#__PURE__*/function(){function Box3(){var min=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new Vector3(+Infinity,+Infinity,+Infinity);var max=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new Vector3(-Infinity,-Infinity,-Infinity);(0,_classCallCheck2.default)(this,Box3);this.min=min;this.max=max;}(0,_createClass2.default)(Box3,[{key:"set",value:function set(min,max){this.min.copy(min);this.max.copy(max);return this;}},{key:"setFromArray",value:function setFromArray(array){var minX=+Infinity;var minY=+Infinity;var minZ=+Infinity;var maxX=-Infinity;var maxY=-Infinity;var maxZ=-Infinity;for(var _i8=0,l=array.length;_i8<l;_i8+=3){var x=array[_i8];var y=array[_i8+1];var z=array[_i8+2];if(x<minX)minX=x;if(y<minY)minY=y;if(z<minZ)minZ=z;if(x>maxX)maxX=x;if(y>maxY)maxY=y;if(z>maxZ)maxZ=z;}this.min.set(minX,minY,minZ);this.max.set(maxX,maxY,maxZ);return this;}},{key:"setFromBufferAttribute",value:function setFromBufferAttribute(attribute){var minX=+Infinity;var minY=+Infinity;var minZ=+Infinity;var maxX=-Infinity;var maxY=-Infinity;var maxZ=-Infinity;for(var _i9=0,l=attribute.count;_i9<l;_i9++){var x=attribute.getX(_i9);var y=attribute.getY(_i9);var z=attribute.getZ(_i9);if(x<minX)minX=x;if(y<minY)minY=y;if(z<minZ)minZ=z;if(x>maxX)maxX=x;if(y>maxY)maxY=y;if(z>maxZ)maxZ=z;}this.min.set(minX,minY,minZ);this.max.set(maxX,maxY,maxZ);return this;}},{key:"setFromPoints",value:function setFromPoints(points){this.makeEmpty();for(var _i10=0,il=points.length;_i10<il;_i10++){this.expandByPoint(points[_i10]);}return this;}},{key:"setFromCenterAndSize",value:function setFromCenterAndSize(center,size){var halfSize=_vector$b.copy(size).multiplyScalar(0.5);this.min.copy(center).sub(halfSize);this.max.copy(center).add(halfSize);return this;}},{key:"setFromObject",value:function setFromObject(object){this.makeEmpty();return this.expandByObject(object);}},{key:"clone",value:function clone(){return new this.constructor().copy(this);}},{key:"copy",value:function copy(box){this.min.copy(box.min);this.max.copy(box.max);return this;}},{key:"makeEmpty",value:function makeEmpty(){this.min.x=this.min.y=this.min.z=+Infinity;this.max.x=this.max.y=this.max.z=-Infinity;return this;}},{key:"isEmpty",value:function isEmpty(){// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes
return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z;}},{key:"getCenter",value:function getCenter(target){return this.isEmpty()?target.set(0,0,0):target.addVectors(this.min,this.max).multiplyScalar(0.5);}},{key:"getSize",value:function getSize(target){return this.isEmpty()?target.set(0,0,0):target.subVectors(this.max,this.min);}},{key:"expandByPoint",value:function expandByPoint(point){this.min.min(point);this.max.max(point);return this;}},{key:"expandByVector",value:function expandByVector(vector){this.min.sub(vector);this.max.add(vector);return this;}},{key:"expandByScalar",value:function expandByScalar(scalar){this.min.addScalar(-scalar);this.max.addScalar(scalar);return this;}},{key:"expandByObject",value:function expandByObject(object){// Computes the world-axis-aligned bounding box of an object (including its children),
// accounting for both the object's, and children's, world transforms
object.updateWorldMatrix(false,false);var geometry=object.geometry;if(geometry!==undefined){if(geometry.boundingBox===null){geometry.computeBoundingBox();}_box$3.copy(geometry.boundingBox);_box$3.applyMatrix4(object.matrixWorld);this.union(_box$3);}var children=object.children;for(var _i11=0,l=children.length;_i11<l;_i11++){this.expandByObject(children[_i11]);}return this;}},{key:"containsPoint",value:function containsPoint(point){return point.x<this.min.x||point.x>this.max.x||point.y<this.min.y||point.y>this.max.y||point.z<this.min.z||point.z>this.max.z?false:true;}},{key:"containsBox",value:function containsBox(box){return this.min.x<=box.min.x&&box.max.x<=this.max.x&&this.min.y<=box.min.y&&box.max.y<=this.max.y&&this.min.z<=box.min.z&&box.max.z<=this.max.z;}},{key:"getParameter",value:function getParameter(point,target){// This can potentially have a divide by zero if the box
// has a size dimension of 0.
return target.set((point.x-this.min.x)/(this.max.x-this.min.x),(point.y-this.min.y)/(this.max.y-this.min.y),(point.z-this.min.z)/(this.max.z-this.min.z));}},{key:"intersectsBox",value:function intersectsBox(box){// using 6 splitting planes to rule out intersections.
return box.max.x<this.min.x||box.min.x>this.max.x||box.max.y<this.min.y||box.min.y>this.max.y||box.max.z<this.min.z||box.min.z>this.max.z?false:true;}},{key:"intersectsSphere",value:function intersectsSphere(sphere){// Find the point on the AABB closest to the sphere center.
this.clampPoint(sphere.center,_vector$b);// If that point is inside the sphere, the AABB and sphere intersect.
return _vector$b.distanceToSquared(sphere.center)<=sphere.radius*sphere.radius;}},{key:"intersectsPlane",value:function intersectsPlane(plane){// We compute the minimum and maximum dot product values. If those values
// are on the same side (back or front) of the plane, then there is no intersection.
var min,max;if(plane.normal.x>0){min=plane.normal.x*this.min.x;max=plane.normal.x*this.max.x;}else{min=plane.normal.x*this.max.x;max=plane.normal.x*this.min.x;}if(plane.normal.y>0){min+=plane.normal.y*this.min.y;max+=plane.normal.y*this.max.y;}else{min+=plane.normal.y*this.max.y;max+=plane.normal.y*this.min.y;}if(plane.normal.z>0){min+=plane.normal.z*this.min.z;max+=plane.normal.z*this.max.z;}else{min+=plane.normal.z*this.max.z;max+=plane.normal.z*this.min.z;}return min<=-plane.constant&&max>=-plane.constant;}},{key:"intersectsTriangle",value:function intersectsTriangle(triangle){if(this.isEmpty()){return false;}// compute box center and extents
this.getCenter(_center);_extents.subVectors(this.max,_center);// translate triangle to aabb origin
_v0$2.subVectors(triangle.a,_center);_v1$7.subVectors(triangle.b,_center);_v2$3.subVectors(triangle.c,_center);// compute edge vectors for triangle
_f0.subVectors(_v1$7,_v0$2);_f1.subVectors(_v2$3,_v1$7);_f2.subVectors(_v0$2,_v2$3);// test against axes that are given by cross product combinations of the edges of the triangle and the edges of the aabb
// make an axis testing of each of the 3 sides of the aabb against each of the 3 sides of the triangle = 9 axis of separation
// axis_ij = u_i x f_j (u0, u1, u2 = face normals of aabb = x,y,z axes vectors since aabb is axis aligned)
var axes=[0,-_f0.z,_f0.y,0,-_f1.z,_f1.y,0,-_f2.z,_f2.y,_f0.z,0,-_f0.x,_f1.z,0,-_f1.x,_f2.z,0,-_f2.x,-_f0.y,_f0.x,0,-_f1.y,_f1.x,0,-_f2.y,_f2.x,0];if(!satForAxes(axes,_v0$2,_v1$7,_v2$3,_extents)){return false;}// test 3 face normals from the aabb
axes=[1,0,0,0,1,0,0,0,1];if(!satForAxes(axes,_v0$2,_v1$7,_v2$3,_extents)){return false;}// finally testing the face normal of the triangle
// use already existing triangle edge vectors here
_triangleNormal.crossVectors(_f0,_f1);axes=[_triangleNormal.x,_triangleNormal.y,_triangleNormal.z];return satForAxes(axes,_v0$2,_v1$7,_v2$3,_extents);}},{key:"clampPoint",value:function clampPoint(point,target){return target.copy(point).clamp(this.min,this.max);}},{key:"distanceToPoint",value:function distanceToPoint(point){var clampedPoint=_vector$b.copy(point).clamp(this.min,this.max);return clampedPoint.sub(point).length();}},{key:"getBoundingSphere",value:function getBoundingSphere(target){this.getCenter(target.center);target.radius=this.getSize(_vector$b).length()*0.5;return target;}},{key:"intersect",value:function intersect(box){this.min.max(box.min);this.max.min(box.max);// ensure that if there is no overlap, the result is fully empty, not slightly empty with non-inf/+inf values that will cause subsequence intersects to erroneously return valid values.
if(this.isEmpty())this.makeEmpty();return this;}},{key:"union",value:function union(box){this.min.min(box.min);this.max.max(box.max);return this;}},{key:"applyMatrix4",value:function applyMatrix4(matrix){// transform of empty box is an empty box.
if(this.isEmpty())return this;// NOTE: I am using a binary pattern to specify all 2^3 combinations below
_points[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(matrix);// 000
_points[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(matrix);// 001
_points[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(matrix);// 010
_points[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(matrix);// 011
_points[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(matrix);// 100
_points[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(matrix);// 101
_points[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(matrix);// 110
_points[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(matrix);// 111
this.setFromPoints(_points);return this;}},{key:"translate",value:function translate(offset){this.min.add(offset);this.max.add(offset);return this;}},{key:"equals",value:function equals(box){return box.min.equals(this.min)&&box.max.equals(this.max);}}]);return Box3;}();exports.Box3=Box3;Box3.prototype.isBox3=true;var _points=[/*@__PURE__*/new Vector3(),/*@__PURE__*/new Vector3(),/*@__PURE__*/new Vector3(),/*@__PURE__*/new Vector3(),/*@__PURE__*/new Vector3(),/*@__PURE__*/new Vector3(),/*@__PURE__*/new Vector3(),/*@__PURE__*/new Vector3()];var _vector$b=/*@__PURE__*/new Vector3();var _box$3=/*@__PURE__*/new Box3();// triangle centered vertices
var _v0$2=/*@__PURE__*/new Vector3();var _v1$7=/*@__PURE__*/new Vector3();var _v2$3=/*@__PURE__*/new Vector3();// triangle edge vectors
var _f0=/*@__PURE__*/new Vector3();var _f1=/*@__PURE__*/new Vector3();var _f2=/*@__PURE__*/new Vector3();var _center=/*@__PURE__*/new Vector3();var _extents=/*@__PURE__*/new Vector3();var _triangleNormal=/*@__PURE__*/new Vector3();var _testAxis=/*@__PURE__*/new Vector3();function satForAxes(axes,v0,v1,v2,extents){for(var _i12=0,j=axes.length-3;_i12<=j;_i12+=3){_testAxis.fromArray(axes,_i12);// project the aabb onto the seperating axis
var r=extents.x*Math.abs(_testAxis.x)+extents.y*Math.abs(_testAxis.y)+extents.z*Math.abs(_testAxis.z);// project all 3 vertices of the triangle onto the seperating axis
var p0=v0.dot(_testAxis);var p1=v1.dot(_testAxis);var p2=v2.dot(_testAxis);// actual test, basically see if either of the most extreme of the triangle points intersects r
if(Math.max(-Math.max(p0,p1,p2),Math.min(p0,p1,p2))>r){// points of the projected triangle are outside the projected half-length of the aabb
// the axis is seperating and we can exit
return false;}}return true;}var _box$2=/*@__PURE__*/new Box3();var _v1$6=/*@__PURE__*/new Vector3();var _toFarthestPoint=/*@__PURE__*/new Vector3();var _toPoint=/*@__PURE__*/new Vector3();var Sphere=/*#__PURE__*/function(){function Sphere(){var center=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new Vector3();var radius=arguments.length>1&&arguments[1]!==undefined?arguments[1]:-1;(0,_classCallCheck2.default)(this,Sphere);this.center=center;this.radius=radius;}(0,_createClass2.default)(Sphere,[{key:"set",value:function set(center,radius){this.center.copy(center);this.radius=radius;return this;}},{key:"setFromPoints",value:function setFromPoints(points,optionalCenter){var center=this.center;if(optionalCenter!==undefined){center.copy(optionalCenter);}else{_box$2.setFromPoints(points).getCenter(center);}var maxRadiusSq=0;for(var _i13=0,il=points.length;_i13<il;_i13++){maxRadiusSq=Math.max(maxRadiusSq,center.distanceToSquared(points[_i13]));}this.radius=Math.sqrt(maxRadiusSq);return this;}},{key:"copy",value:function copy(sphere){this.center.copy(sphere.center);this.radius=sphere.radius;return this;}},{key:"isEmpty",value:function isEmpty(){return this.radius<0;}},{key:"makeEmpty",value:function makeEmpty(){this.center.set(0,0,0);this.radius=-1;return this;}},{key:"containsPoint",value:function containsPoint(point){return point.distanceToSquared(this.center)<=this.radius*this.radius;}},{key:"distanceToPoint",value:function distanceToPoint(point){return point.distanceTo(this.center)-this.radius;}},{key:"intersectsSphere",value:function intersectsSphere(sphere){var radiusSum=this.radius+sphere.radius;return sphere.center.distanceToSquared(this.center)<=radiusSum*radiusSum;}},{key:"intersectsBox",value:function intersectsBox(box){return box.intersectsSphere(this);}},{key:"intersectsPlane",value:function intersectsPlane(plane){return Math.abs(plane.distanceToPoint(this.center))<=this.radius;}},{key:"clampPoint",value:function clampPoint(point,target){var deltaLengthSq=this.center.distanceToSquared(point);target.copy(point);if(deltaLengthSq>this.radius*this.radius){target.sub(this.center).normalize();target.multiplyScalar(this.radius).add(this.center);}return target;}},{key:"getBoundingBox",value:function getBoundingBox(target){if(this.isEmpty()){// Empty sphere produces empty bounding box
target.makeEmpty();return target;}target.set(this.center,this.center);target.expandByScalar(this.radius);return target;}},{key:"applyMatrix4",value:function applyMatrix4(matrix){this.center.applyMatrix4(matrix);this.radius=this.radius*matrix.getMaxScaleOnAxis();return this;}},{key:"translate",value:function translate(offset){this.center.add(offset);return this;}},{key:"expandByPoint",value:function expandByPoint(point){// from https://github.com/juj/MathGeoLib/blob/2940b99b99cfe575dd45103ef20f4019dee15b54/src/Geometry/Sphere.cpp#L649-L671
_toPoint.subVectors(point,this.center);var lengthSq=_toPoint.lengthSq();if(lengthSq>this.radius*this.radius){var length=Math.sqrt(lengthSq);var missingRadiusHalf=(length-this.radius)*0.5;// Nudge this sphere towards the target point. Add half the missing distance to radius,
// and the other half to position. This gives a tighter enclosure, instead of if
// the whole missing distance were just added to radius.
this.center.add(_toPoint.multiplyScalar(missingRadiusHalf/length));this.radius+=missingRadiusHalf;}return this;}},{key:"union",value:function union(sphere){// from https://github.com/juj/MathGeoLib/blob/2940b99b99cfe575dd45103ef20f4019dee15b54/src/Geometry/Sphere.cpp#L759-L769
// To enclose another sphere into this sphere, we only need to enclose two points:
// 1) Enclose the farthest point on the other sphere into this sphere.
// 2) Enclose the opposite point of the farthest point into this sphere.
_toFarthestPoint.subVectors(sphere.center,this.center).normalize().multiplyScalar(sphere.radius);this.expandByPoint(_v1$6.copy(sphere.center).add(_toFarthestPoint));this.expandByPoint(_v1$6.copy(sphere.center).sub(_toFarthestPoint));return this;}},{key:"equals",value:function equals(sphere){return sphere.center.equals(this.center)&&sphere.radius===this.radius;}},{key:"clone",value:function clone(){return new this.constructor().copy(this);}}]);return Sphere;}();exports.Sphere=Sphere;var _vector$a=/*@__PURE__*/new Vector3();var _segCenter=/*@__PURE__*/new Vector3();var _segDir=/*@__PURE__*/new Vector3();var _diff=/*@__PURE__*/new Vector3();var _edge1=/*@__PURE__*/new Vector3();var _edge2=/*@__PURE__*/new Vector3();var _normal$1=/*@__PURE__*/new Vector3();var Ray=/*#__PURE__*/function(){function Ray(){var origin=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new Vector3();var direction=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new Vector3(0,0,-1);(0,_classCallCheck2.default)(this,Ray);this.origin=origin;this.direction=direction;}(0,_createClass2.default)(Ray,[{key:"set",value:function set(origin,direction){this.origin.copy(origin);this.direction.copy(direction);return this;}},{key:"copy",value:function copy(ray){this.origin.copy(ray.origin);this.direction.copy(ray.direction);return this;}},{key:"at",value:function at(t,target){return target.copy(this.direction).multiplyScalar(t).add(this.origin);}},{key:"lookAt",value:function lookAt(v){this.direction.copy(v).sub(this.origin).normalize();return this;}},{key:"recast",value:function recast(t){this.origin.copy(this.at(t,_vector$a));return this;}},{key:"closestPointToPoint",value:function closestPointToPoint(point,target){target.subVectors(point,this.origin);var directionDistance=target.dot(this.direction);if(directionDistance<0){return target.copy(this.origin);}return target.copy(this.direction).multiplyScalar(directionDistance).add(this.origin);}},{key:"distanceToPoint",value:function distanceToPoint(point){return Math.sqrt(this.distanceSqToPoint(point));}},{key:"distanceSqToPoint",value:function distanceSqToPoint(point){var directionDistance=_vector$a.subVectors(point,this.origin).dot(this.direction);// point behind the ray
if(directionDistance<0){return this.origin.distanceToSquared(point);}_vector$a.copy(this.direction).multiplyScalar(directionDistance).add(this.origin);return _vector$a.distanceToSquared(point);}},{key:"distanceSqToSegment",value:function distanceSqToSegment(v0,v1,optionalPointOnRay,optionalPointOnSegment){// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteDistRaySegment.h
// It returns the min distance between the ray and the segment
// defined by v0 and v1
// It can also set two optional targets :
// - The closest point on the ray
// - The closest point on the segment
_segCenter.copy(v0).add(v1).multiplyScalar(0.5);_segDir.copy(v1).sub(v0).normalize();_diff.copy(this.origin).sub(_segCenter);var segExtent=v0.distanceTo(v1)*0.5;var a01=-this.direction.dot(_segDir);var b0=_diff.dot(this.direction);var b1=-_diff.dot(_segDir);var c=_diff.lengthSq();var det=Math.abs(1-a01*a01);var s0,s1,sqrDist,extDet;if(det>0){// The ray and segment are not parallel.
s0=a01*b1-b0;s1=a01*b0-b1;extDet=segExtent*det;if(s0>=0){if(s1>=-extDet){if(s1<=extDet){// region 0
// Minimum at interior points of ray and segment.
var invDet=1/det;s0*=invDet;s1*=invDet;sqrDist=s0*(s0+a01*s1+2*b0)+s1*(a01*s0+s1+2*b1)+c;}else{// region 1
s1=segExtent;s0=Math.max(0,-(a01*s1+b0));sqrDist=-s0*s0+s1*(s1+2*b1)+c;}}else{// region 5
s1=-segExtent;s0=Math.max(0,-(a01*s1+b0));sqrDist=-s0*s0+s1*(s1+2*b1)+c;}}else{if(s1<=-extDet){// region 4
s0=Math.max(0,-(-a01*segExtent+b0));s1=s0>0?-segExtent:Math.min(Math.max(-segExtent,-b1),segExtent);sqrDist=-s0*s0+s1*(s1+2*b1)+c;}else if(s1<=extDet){// region 3
s0=0;s1=Math.min(Math.max(-segExtent,-b1),segExtent);sqrDist=s1*(s1+2*b1)+c;}else{// region 2
s0=Math.max(0,-(a01*segExtent+b0));s1=s0>0?segExtent:Math.min(Math.max(-segExtent,-b1),segExtent);sqrDist=-s0*s0+s1*(s1+2*b1)+c;}}}else{// Ray and segment are parallel.
s1=a01>0?-segExtent:segExtent;s0=Math.max(0,-(a01*s1+b0));sqrDist=-s0*s0+s1*(s1+2*b1)+c;}if(optionalPointOnRay){optionalPointOnRay.copy(this.direction).multiplyScalar(s0).add(this.origin);}if(optionalPointOnSegment){optionalPointOnSegment.copy(_segDir).multiplyScalar(s1).add(_segCenter);}return sqrDist;}},{key:"intersectSphere",value:function intersectSphere(sphere,target){_vector$a.subVectors(sphere.center,this.origin);var tca=_vector$a.dot(this.direction);var d2=_vector$a.dot(_vector$a)-tca*tca;var radius2=sphere.radius*sphere.radius;if(d2>radius2)return null;var thc=Math.sqrt(radius2-d2);// t0 = first intersect point - entrance on front of sphere
var t0=tca-thc;// t1 = second intersect point - exit point on back of sphere
var t1=tca+thc;// test to see if both t0 and t1 are behind the ray - if so, return null
if(t0<0&&t1<0)return null;// test to see if t0 is behind the ray:
// if it is, the ray is inside the sphere, so return the second exit point scaled by t1,
// in order to always return an intersect point that is in front of the ray.
if(t0<0)return this.at(t1,target);// else t0 is in front of the ray, so return the first collision point scaled by t0
return this.at(t0,target);}},{key:"intersectsSphere",value:function intersectsSphere(sphere){return this.distanceSqToPoint(sphere.center)<=sphere.radius*sphere.radius;}},{key:"distanceToPlane",value:function distanceToPlane(plane){var denominator=plane.normal.dot(this.direction);if(denominator===0){// line is coplanar, return origin
if(plane.distanceToPoint(this.origin)===0){return 0;}// Null is preferable to undefined since undefined means.... it is undefined
return null;}var t=-(this.origin.dot(plane.normal)+plane.constant)/denominator;// Return if the ray never intersects the plane
return t>=0?t:null;}},{key:"intersectPlane",value:function intersectPlane(plane,target){var t=this.distanceToPlane(plane);if(t===null){return null;}return this.at(t,target);}},{key:"intersectsPlane",value:function intersectsPlane(plane){// check if the ray lies on the plane first
var distToPoint=plane.distanceToPoint(this.origin);if(distToPoint===0){return true;}var denominator=plane.normal.dot(this.direction);if(denominator*distToPoint<0){return true;}// ray origin is behind the plane (and is pointing behind it)
return false;}},{key:"intersectBox",value:function intersectBox(box,target){var tmin,tmax,tymin,tymax,tzmin,tzmax;var invdirx=1/this.direction.x,invdiry=1/this.direction.y,invdirz=1/this.direction.z;var origin=this.origin;if(invdirx>=0){tmin=(box.min.x-origin.x)*invdirx;tmax=(box.max.x-origin.x)*invdirx;}else{tmin=(box.max.x-origin.x)*invdirx;tmax=(box.min.x-origin.x)*invdirx;}if(invdiry>=0){tymin=(box.min.y-origin.y)*invdiry;tymax=(box.max.y-origin.y)*invdiry;}else{tymin=(box.max.y-origin.y)*invdiry;tymax=(box.min.y-origin.y)*invdiry;}if(tmin>tymax||tymin>tmax)return null;// These lines also handle the case where tmin or tmax is NaN
// (result of 0 * Infinity). x !== x returns true if x is NaN
if(tymin>tmin||tmin!==tmin)tmin=tymin;if(tymax<tmax||tmax!==tmax)tmax=tymax;if(invdirz>=0){tzmin=(box.min.z-origin.z)*invdirz;tzmax=(box.max.z-origin.z)*invdirz;}else{tzmin=(box.max.z-origin.z)*invdirz;tzmax=(box.min.z-origin.z)*invdirz;}if(tmin>tzmax||tzmin>tmax)return null;if(tzmin>tmin||tmin!==tmin)tmin=tzmin;if(tzmax<tmax||tmax!==tmax)tmax=tzmax;//return point closest to the ray (positive side)
if(tmax<0)return null;return this.at(tmin>=0?tmin:tmax,target);}},{key:"intersectsBox",value:function intersectsBox(box){return this.intersectBox(box,_vector$a)!==null;}},{key:"intersectTriangle",value:function intersectTriangle(a,b,c,backfaceCulling,target){// Compute the offset origin, edges, and normal.
// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteIntrRay3Triangle3.h
_edge1.subVectors(b,a);_edge2.subVectors(c,a);_normal$1.crossVectors(_edge1,_edge2);// Solve Q + t*D = b1*E1 + b2*E2 (Q = kDiff, D = ray direction,
// E1 = kEdge1, E2 = kEdge2, N = Cross(E1,E2)) by
//   |Dot(D,N)|*b1 = sign(Dot(D,N))*Dot(D,Cross(Q,E2))
//   |Dot(D,N)|*b2 = sign(Dot(D,N))*Dot(D,Cross(E1,Q))
//   |Dot(D,N)|*t = -sign(Dot(D,N))*Dot(Q,N)
var DdN=this.direction.dot(_normal$1);var sign;if(DdN>0){if(backfaceCulling)return null;sign=1;}else if(DdN<0){sign=-1;DdN=-DdN;}else{return null;}_diff.subVectors(this.origin,a);var DdQxE2=sign*this.direction.dot(_edge2.crossVectors(_diff,_edge2));// b1 < 0, no intersection
if(DdQxE2<0){return null;}var DdE1xQ=sign*this.direction.dot(_edge1.cross(_diff));// b2 < 0, no intersection
if(DdE1xQ<0){return null;}// b1+b2 > 1, no intersection
if(DdQxE2+DdE1xQ>DdN){return null;}// Line intersects triangle, check if ray does.
var QdN=-sign*_diff.dot(_normal$1);// t < 0, no intersection
if(QdN<0){return null;}// Ray intersects triangle.
return this.at(QdN/DdN,target);}},{key:"applyMatrix4",value:function applyMatrix4(matrix4){this.origin.applyMatrix4(matrix4);this.direction.transformDirection(matrix4);return this;}},{key:"equals",value:function equals(ray){return ray.origin.equals(this.origin)&&ray.direction.equals(this.direction);}},{key:"clone",value:function clone(){return new this.constructor().copy(this);}}]);return Ray;}();exports.Ray=Ray;var Matrix4=/*#__PURE__*/function(){function Matrix4(){(0,_classCallCheck2.default)(this,Matrix4);this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];if(arguments.length>0){console.error('THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.');}}(0,_createClass2.default)(Matrix4,[{key:"set",value:function set(n11,n12,n13,n14,n21,n22,n23,n24,n31,n32,n33,n34,n41,n42,n43,n44){var te=this.elements;te[0]=n11;te[4]=n12;te[8]=n13;te[12]=n14;te[1]=n21;te[5]=n22;te[9]=n23;te[13]=n24;te[2]=n31;te[6]=n32;te[10]=n33;te[14]=n34;te[3]=n41;te[7]=n42;te[11]=n43;te[15]=n44;return this;}},{key:"identity",value:function identity(){this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this;}},{key:"clone",value:function clone(){return new Matrix4().fromArray(this.elements);}},{key:"copy",value:function copy(m){var te=this.elements;var me=m.elements;te[0]=me[0];te[1]=me[1];te[2]=me[2];te[3]=me[3];te[4]=me[4];te[5]=me[5];te[6]=me[6];te[7]=me[7];te[8]=me[8];te[9]=me[9];te[10]=me[10];te[11]=me[11];te[12]=me[12];te[13]=me[13];te[14]=me[14];te[15]=me[15];return this;}},{key:"copyPosition",value:function copyPosition(m){var te=this.elements,me=m.elements;te[12]=me[12];te[13]=me[13];te[14]=me[14];return this;}},{key:"setFromMatrix3",value:function setFromMatrix3(m){var me=m.elements;this.set(me[0],me[3],me[6],0,me[1],me[4],me[7],0,me[2],me[5],me[8],0,0,0,0,1);return this;}},{key:"extractBasis",value:function extractBasis(xAxis,yAxis,zAxis){xAxis.setFromMatrixColumn(this,0);yAxis.setFromMatrixColumn(this,1);zAxis.setFromMatrixColumn(this,2);return this;}},{key:"makeBasis",value:function makeBasis(xAxis,yAxis,zAxis){this.set(xAxis.x,yAxis.x,zAxis.x,0,xAxis.y,yAxis.y,zAxis.y,0,xAxis.z,yAxis.z,zAxis.z,0,0,0,0,1);return this;}},{key:"extractRotation",value:function extractRotation(m){// this method does not support reflection matrices
var te=this.elements;var me=m.elements;var scaleX=1/_v1$5.setFromMatrixColumn(m,0).length();var scaleY=1/_v1$5.setFromMatrixColumn(m,1).length();var scaleZ=1/_v1$5.setFromMatrixColumn(m,2).length();te[0]=me[0]*scaleX;te[1]=me[1]*scaleX;te[2]=me[2]*scaleX;te[3]=0;te[4]=me[4]*scaleY;te[5]=me[5]*scaleY;te[6]=me[6]*scaleY;te[7]=0;te[8]=me[8]*scaleZ;te[9]=me[9]*scaleZ;te[10]=me[10]*scaleZ;te[11]=0;te[12]=0;te[13]=0;te[14]=0;te[15]=1;return this;}},{key:"makeRotationFromEuler",value:function makeRotationFromEuler(euler){if(!(euler&&euler.isEuler)){console.error('THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.');}var te=this.elements;var x=euler.x,y=euler.y,z=euler.z;var a=Math.cos(x),b=Math.sin(x);var c=Math.cos(y),d=Math.sin(y);var e=Math.cos(z),f=Math.sin(z);if(euler.order==='XYZ'){var ae=a*e,af=a*f,be=b*e,bf=b*f;te[0]=c*e;te[4]=-c*f;te[8]=d;te[1]=af+be*d;te[5]=ae-bf*d;te[9]=-b*c;te[2]=bf-ae*d;te[6]=be+af*d;te[10]=a*c;}else if(euler.order==='YXZ'){var ce=c*e,cf=c*f,de=d*e,df=d*f;te[0]=ce+df*b;te[4]=de*b-cf;te[8]=a*d;te[1]=a*f;te[5]=a*e;te[9]=-b;te[2]=cf*b-de;te[6]=df+ce*b;te[10]=a*c;}else if(euler.order==='ZXY'){var _ce=c*e,_cf=c*f,_de=d*e,_df=d*f;te[0]=_ce-_df*b;te[4]=-a*f;te[8]=_de+_cf*b;te[1]=_cf+_de*b;te[5]=a*e;te[9]=_df-_ce*b;te[2]=-a*d;te[6]=b;te[10]=a*c;}else if(euler.order==='ZYX'){var _ae=a*e,_af=a*f,_be=b*e,_bf=b*f;te[0]=c*e;te[4]=_be*d-_af;te[8]=_ae*d+_bf;te[1]=c*f;te[5]=_bf*d+_ae;te[9]=_af*d-_be;te[2]=-d;te[6]=b*c;te[10]=a*c;}else if(euler.order==='YZX'){var ac=a*c,ad=a*d,bc=b*c,bd=b*d;te[0]=c*e;te[4]=bd-ac*f;te[8]=bc*f+ad;te[1]=f;te[5]=a*e;te[9]=-b*e;te[2]=-d*e;te[6]=ad*f+bc;te[10]=ac-bd*f;}else if(euler.order==='XZY'){var _ac=a*c,_ad=a*d,_bc=b*c,_bd=b*d;te[0]=c*e;te[4]=-f;te[8]=d*e;te[1]=_ac*f+_bd;te[5]=a*e;te[9]=_ad*f-_bc;te[2]=_bc*f-_ad;te[6]=b*e;te[10]=_bd*f+_ac;}// bottom row
te[3]=0;te[7]=0;te[11]=0;// last column
te[12]=0;te[13]=0;te[14]=0;te[15]=1;return this;}},{key:"makeRotationFromQuaternion",value:function makeRotationFromQuaternion(q){return this.compose(_zero,q,_one);}},{key:"lookAt",value:function lookAt(eye,target,up){var te=this.elements;_z.subVectors(eye,target);if(_z.lengthSq()===0){// eye and target are in the same position
_z.z=1;}_z.normalize();_x.crossVectors(up,_z);if(_x.lengthSq()===0){// up and z are parallel
if(Math.abs(up.z)===1){_z.x+=0.0001;}else{_z.z+=0.0001;}_z.normalize();_x.crossVectors(up,_z);}_x.normalize();_y.crossVectors(_z,_x);te[0]=_x.x;te[4]=_y.x;te[8]=_z.x;te[1]=_x.y;te[5]=_y.y;te[9]=_z.y;te[2]=_x.z;te[6]=_y.z;te[10]=_z.z;return this;}},{key:"multiply",value:function multiply(m,n){if(n!==undefined){console.warn('THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.');return this.multiplyMatrices(m,n);}return this.multiplyMatrices(this,m);}},{key:"premultiply",value:function premultiply(m){return this.multiplyMatrices(m,this);}},{key:"multiplyMatrices",value:function multiplyMatrices(a,b){var ae=a.elements;var be=b.elements;var te=this.elements;var a11=ae[0],a12=ae[4],a13=ae[8],a14=ae[12];var a21=ae[1],a22=ae[5],a23=ae[9],a24=ae[13];var a31=ae[2],a32=ae[6],a33=ae[10],a34=ae[14];var a41=ae[3],a42=ae[7],a43=ae[11],a44=ae[15];var b11=be[0],b12=be[4],b13=be[8],b14=be[12];var b21=be[1],b22=be[5],b23=be[9],b24=be[13];var b31=be[2],b32=be[6],b33=be[10],b34=be[14];var b41=be[3],b42=be[7],b43=be[11],b44=be[15];te[0]=a11*b11+a12*b21+a13*b31+a14*b41;te[4]=a11*b12+a12*b22+a13*b32+a14*b42;te[8]=a11*b13+a12*b23+a13*b33+a14*b43;te[12]=a11*b14+a12*b24+a13*b34+a14*b44;te[1]=a21*b11+a22*b21+a23*b31+a24*b41;te[5]=a21*b12+a22*b22+a23*b32+a24*b42;te[9]=a21*b13+a22*b23+a23*b33+a24*b43;te[13]=a21*b14+a22*b24+a23*b34+a24*b44;te[2]=a31*b11+a32*b21+a33*b31+a34*b41;te[6]=a31*b12+a32*b22+a33*b32+a34*b42;te[10]=a31*b13+a32*b23+a33*b33+a34*b43;te[14]=a31*b14+a32*b24+a33*b34+a34*b44;te[3]=a41*b11+a42*b21+a43*b31+a44*b41;te[7]=a41*b12+a42*b22+a43*b32+a44*b42;te[11]=a41*b13+a42*b23+a43*b33+a44*b43;te[15]=a41*b14+a42*b24+a43*b34+a44*b44;return this;}},{key:"multiplyScalar",value:function multiplyScalar(s){var te=this.elements;te[0]*=s;te[4]*=s;te[8]*=s;te[12]*=s;te[1]*=s;te[5]*=s;te[9]*=s;te[13]*=s;te[2]*=s;te[6]*=s;te[10]*=s;te[14]*=s;te[3]*=s;te[7]*=s;te[11]*=s;te[15]*=s;return this;}},{key:"determinant",value:function determinant(){var te=this.elements;var n11=te[0],n12=te[4],n13=te[8],n14=te[12];var n21=te[1],n22=te[5],n23=te[9],n24=te[13];var n31=te[2],n32=te[6],n33=te[10],n34=te[14];var n41=te[3],n42=te[7],n43=te[11],n44=te[15];//TODO: make this more efficient
//( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )
return n41*(+n14*n23*n32-n13*n24*n32-n14*n22*n33+n12*n24*n33+n13*n22*n34-n12*n23*n34)+n42*(+n11*n23*n34-n11*n24*n33+n14*n21*n33-n13*n21*n34+n13*n24*n31-n14*n23*n31)+n43*(+n11*n24*n32-n11*n22*n34-n14*n21*n32+n12*n21*n34+n14*n22*n31-n12*n24*n31)+n44*(-n13*n22*n31-n11*n23*n32+n11*n22*n33+n13*n21*n32-n12*n21*n33+n12*n23*n31);}},{key:"transpose",value:function transpose(){var te=this.elements;var tmp;tmp=te[1];te[1]=te[4];te[4]=tmp;tmp=te[2];te[2]=te[8];te[8]=tmp;tmp=te[6];te[6]=te[9];te[9]=tmp;tmp=te[3];te[3]=te[12];te[12]=tmp;tmp=te[7];te[7]=te[13];te[13]=tmp;tmp=te[11];te[11]=te[14];te[14]=tmp;return this;}},{key:"setPosition",value:function setPosition(x,y,z){var te=this.elements;if(x.isVector3){te[12]=x.x;te[13]=x.y;te[14]=x.z;}else{te[12]=x;te[13]=y;te[14]=z;}return this;}},{key:"invert",value:function invert(){// based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm
var te=this.elements,n11=te[0],n21=te[1],n31=te[2],n41=te[3],n12=te[4],n22=te[5],n32=te[6],n42=te[7],n13=te[8],n23=te[9],n33=te[10],n43=te[11],n14=te[12],n24=te[13],n34=te[14],n44=te[15],t11=n23*n34*n42-n24*n33*n42+n24*n32*n43-n22*n34*n43-n23*n32*n44+n22*n33*n44,t12=n14*n33*n42-n13*n34*n42-n14*n32*n43+n12*n34*n43+n13*n32*n44-n12*n33*n44,t13=n13*n24*n42-n14*n23*n42+n14*n22*n43-n12*n24*n43-n13*n22*n44+n12*n23*n44,t14=n14*n23*n32-n13*n24*n32-n14*n22*n33+n12*n24*n33+n13*n22*n34-n12*n23*n34;var det=n11*t11+n21*t12+n31*t13+n41*t14;if(det===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var detInv=1/det;te[0]=t11*detInv;te[1]=(n24*n33*n41-n23*n34*n41-n24*n31*n43+n21*n34*n43+n23*n31*n44-n21*n33*n44)*detInv;te[2]=(n22*n34*n41-n24*n32*n41+n24*n31*n42-n21*n34*n42-n22*n31*n44+n21*n32*n44)*detInv;te[3]=(n23*n32*n41-n22*n33*n41-n23*n31*n42+n21*n33*n42+n22*n31*n43-n21*n32*n43)*detInv;te[4]=t12*detInv;te[5]=(n13*n34*n41-n14*n33*n41+n14*n31*n43-n11*n34*n43-n13*n31*n44+n11*n33*n44)*detInv;te[6]=(n14*n32*n41-n12*n34*n41-n14*n31*n42+n11*n34*n42+n12*n31*n44-n11*n32*n44)*detInv;te[7]=(n12*n33*n41-n13*n32*n41+n13*n31*n42-n11*n33*n42-n12*n31*n43+n11*n32*n43)*detInv;te[8]=t13*detInv;te[9]=(n14*n23*n41-n13*n24*n41-n14*n21*n43+n11*n24*n43+n13*n21*n44-n11*n23*n44)*detInv;te[10]=(n12*n24*n41-n14*n22*n41+n14*n21*n42-n11*n24*n42-n12*n21*n44+n11*n22*n44)*detInv;te[11]=(n13*n22*n41-n12*n23*n41-n13*n21*n42+n11*n23*n42+n12*n21*n43-n11*n22*n43)*detInv;te[12]=t14*detInv;te[13]=(n13*n24*n31-n14*n23*n31+n14*n21*n33-n11*n24*n33-n13*n21*n34+n11*n23*n34)*detInv;te[14]=(n14*n22*n31-n12*n24*n31-n14*n21*n32+n11*n24*n32+n12*n21*n34-n11*n22*n34)*detInv;te[15]=(n12*n23*n31-n13*n22*n31+n13*n21*n32-n11*n23*n32-n12*n21*n33+n11*n22*n33)*detInv;return this;}},{key:"scale",value:function scale(v){var te=this.elements;var x=v.x,y=v.y,z=v.z;te[0]*=x;te[4]*=y;te[8]*=z;te[1]*=x;te[5]*=y;te[9]*=z;te[2]*=x;te[6]*=y;te[10]*=z;te[3]*=x;te[7]*=y;te[11]*=z;return this;}},{key:"getMaxScaleOnAxis",value:function getMaxScaleOnAxis(){var te=this.elements;var scaleXSq=te[0]*te[0]+te[1]*te[1]+te[2]*te[2];var scaleYSq=te[4]*te[4]+te[5]*te[5]+te[6]*te[6];var scaleZSq=te[8]*te[8]+te[9]*te[9]+te[10]*te[10];return Math.sqrt(Math.max(scaleXSq,scaleYSq,scaleZSq));}},{key:"makeTranslation",value:function makeTranslation(x,y,z){this.set(1,0,0,x,0,1,0,y,0,0,1,z,0,0,0,1);return this;}},{key:"makeRotationX",value:function makeRotationX(theta){var c=Math.cos(theta),s=Math.sin(theta);this.set(1,0,0,0,0,c,-s,0,0,s,c,0,0,0,0,1);return this;}},{key:"makeRotationY",value:function makeRotationY(theta){var c=Math.cos(theta),s=Math.sin(theta);this.set(c,0,s,0,0,1,0,0,-s,0,c,0,0,0,0,1);return this;}},{key:"makeRotationZ",value:function makeRotationZ(theta){var c=Math.cos(theta),s=Math.sin(theta);this.set(c,-s,0,0,s,c,0,0,0,0,1,0,0,0,0,1);return this;}},{key:"makeRotationAxis",value:function makeRotationAxis(axis,angle){// Based on http://www.gamedev.net/reference/articles/article1199.asp
var c=Math.cos(angle);var s=Math.sin(angle);var t=1-c;var x=axis.x,y=axis.y,z=axis.z;var tx=t*x,ty=t*y;this.set(tx*x+c,tx*y-s*z,tx*z+s*y,0,tx*y+s*z,ty*y+c,ty*z-s*x,0,tx*z-s*y,ty*z+s*x,t*z*z+c,0,0,0,0,1);return this;}},{key:"makeScale",value:function makeScale(x,y,z){this.set(x,0,0,0,0,y,0,0,0,0,z,0,0,0,0,1);return this;}},{key:"makeShear",value:function makeShear(xy,xz,yx,yz,zx,zy){this.set(1,yx,zx,0,xy,1,zy,0,xz,yz,1,0,0,0,0,1);return this;}},{key:"compose",value:function compose(position,quaternion,scale){var te=this.elements;var x=quaternion._x,y=quaternion._y,z=quaternion._z,w=quaternion._w;var x2=x+x,y2=y+y,z2=z+z;var xx=x*x2,xy=x*y2,xz=x*z2;var yy=y*y2,yz=y*z2,zz=z*z2;var wx=w*x2,wy=w*y2,wz=w*z2;var sx=scale.x,sy=scale.y,sz=scale.z;te[0]=(1-(yy+zz))*sx;te[1]=(xy+wz)*sx;te[2]=(xz-wy)*sx;te[3]=0;te[4]=(xy-wz)*sy;te[5]=(1-(xx+zz))*sy;te[6]=(yz+wx)*sy;te[7]=0;te[8]=(xz+wy)*sz;te[9]=(yz-wx)*sz;te[10]=(1-(xx+yy))*sz;te[11]=0;te[12]=position.x;te[13]=position.y;te[14]=position.z;te[15]=1;return this;}},{key:"decompose",value:function decompose(position,quaternion,scale){var te=this.elements;var sx=_v1$5.set(te[0],te[1],te[2]).length();var sy=_v1$5.set(te[4],te[5],te[6]).length();var sz=_v1$5.set(te[8],te[9],te[10]).length();// if determine is negative, we need to invert one scale
var det=this.determinant();if(det<0)sx=-sx;position.x=te[12];position.y=te[13];position.z=te[14];// scale the rotation part
_m1$2.copy(this);var invSX=1/sx;var invSY=1/sy;var invSZ=1/sz;_m1$2.elements[0]*=invSX;_m1$2.elements[1]*=invSX;_m1$2.elements[2]*=invSX;_m1$2.elements[4]*=invSY;_m1$2.elements[5]*=invSY;_m1$2.elements[6]*=invSY;_m1$2.elements[8]*=invSZ;_m1$2.elements[9]*=invSZ;_m1$2.elements[10]*=invSZ;quaternion.setFromRotationMatrix(_m1$2);scale.x=sx;scale.y=sy;scale.z=sz;return this;}},{key:"makePerspective",value:function makePerspective(left,right,top,bottom,near,far){if(far===undefined){console.warn('THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.');}var te=this.elements;var x=2*near/(right-left);var y=2*near/(top-bottom);var a=(right+left)/(right-left);var b=(top+bottom)/(top-bottom);var c=-(far+near)/(far-near);var d=-2*far*near/(far-near);te[0]=x;te[4]=0;te[8]=a;te[12]=0;te[1]=0;te[5]=y;te[9]=b;te[13]=0;te[2]=0;te[6]=0;te[10]=c;te[14]=d;te[3]=0;te[7]=0;te[11]=-1;te[15]=0;return this;}},{key:"makeOrthographic",value:function makeOrthographic(left,right,top,bottom,near,far){var te=this.elements;var w=1.0/(right-left);var h=1.0/(top-bottom);var p=1.0/(far-near);var x=(right+left)*w;var y=(top+bottom)*h;var z=(far+near)*p;te[0]=2*w;te[4]=0;te[8]=0;te[12]=-x;te[1]=0;te[5]=2*h;te[9]=0;te[13]=-y;te[2]=0;te[6]=0;te[10]=-2*p;te[14]=-z;te[3]=0;te[7]=0;te[11]=0;te[15]=1;return this;}},{key:"equals",value:function equals(matrix){var te=this.elements;var me=matrix.elements;for(var _i14=0;_i14<16;_i14++){if(te[_i14]!==me[_i14])return false;}return true;}},{key:"fromArray",value:function fromArray(array){var offset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;for(var _i15=0;_i15<16;_i15++){this.elements[_i15]=array[_i15+offset];}return this;}},{key:"toArray",value:function toArray(){var array=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var offset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var te=this.elements;array[offset]=te[0];array[offset+1]=te[1];array[offset+2]=te[2];array[offset+3]=te[3];array[offset+4]=te[4];array[offset+5]=te[5];array[offset+6]=te[6];array[offset+7]=te[7];array[offset+8]=te[8];array[offset+9]=te[9];array[offset+10]=te[10];array[offset+11]=te[11];array[offset+12]=te[12];array[offset+13]=te[13];array[offset+14]=te[14];array[offset+15]=te[15];return array;}}]);return Matrix4;}();exports.Matrix4=Matrix4;Matrix4.prototype.isMatrix4=true;var _v1$5=/*@__PURE__*/new Vector3();var _m1$2=/*@__PURE__*/new Matrix4();var _zero=/*@__PURE__*/new Vector3(0,0,0);var _one=/*@__PURE__*/new Vector3(1,1,1);var _x=/*@__PURE__*/new Vector3();var _y=/*@__PURE__*/new Vector3();var _z=/*@__PURE__*/new Vector3();var _matrix$1=/*@__PURE__*/new Matrix4();var _quaternion$3=/*@__PURE__*/new Quaternion();var Euler=/*#__PURE__*/function(){function Euler(){var x=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var y=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var z=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var order=arguments.length>3&&arguments[3]!==undefined?arguments[3]:Euler.DefaultOrder;(0,_classCallCheck2.default)(this,Euler);this._x=x;this._y=y;this._z=z;this._order=order;}(0,_createClass2.default)(Euler,[{key:"x",get:function get(){return this._x;},set:function set(value){this._x=value;this._onChangeCallback();}},{key:"y",get:function get(){return this._y;},set:function set(value){this._y=value;this._onChangeCallback();}},{key:"z",get:function get(){return this._z;},set:function set(value){this._z=value;this._onChangeCallback();}},{key:"order",get:function get(){return this._order;},set:function set(value){this._order=value;this._onChangeCallback();}},{key:"set",value:function set(x,y,z){var order=arguments.length>3&&arguments[3]!==undefined?arguments[3]:this._order;this._x=x;this._y=y;this._z=z;this._order=order;this._onChangeCallback();return this;}},{key:"clone",value:function clone(){return new this.constructor(this._x,this._y,this._z,this._order);}},{key:"copy",value:function copy(euler){this._x=euler._x;this._y=euler._y;this._z=euler._z;this._order=euler._order;this._onChangeCallback();return this;}},{key:"setFromRotationMatrix",value:function setFromRotationMatrix(m){var order=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this._order;var update=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)
var te=m.elements;var m11=te[0],m12=te[4],m13=te[8];var m21=te[1],m22=te[5],m23=te[9];var m31=te[2],m32=te[6],m33=te[10];switch(order){case'XYZ':this._y=Math.asin(clamp(m13,-1,1));if(Math.abs(m13)<0.9999999){this._x=Math.atan2(-m23,m33);this._z=Math.atan2(-m12,m11);}else{this._x=Math.atan2(m32,m22);this._z=0;}break;case'YXZ':this._x=Math.asin(-clamp(m23,-1,1));if(Math.abs(m23)<0.9999999){this._y=Math.atan2(m13,m33);this._z=Math.atan2(m21,m22);}else{this._y=Math.atan2(-m31,m11);this._z=0;}break;case'ZXY':this._x=Math.asin(clamp(m32,-1,1));if(Math.abs(m32)<0.9999999){this._y=Math.atan2(-m31,m33);this._z=Math.atan2(-m12,m22);}else{this._y=0;this._z=Math.atan2(m21,m11);}break;case'ZYX':this._y=Math.asin(-clamp(m31,-1,1));if(Math.abs(m31)<0.9999999){this._x=Math.atan2(m32,m33);this._z=Math.atan2(m21,m11);}else{this._x=0;this._z=Math.atan2(-m12,m22);}break;case'YZX':this._z=Math.asin(clamp(m21,-1,1));if(Math.abs(m21)<0.9999999){this._x=Math.atan2(-m23,m22);this._y=Math.atan2(-m31,m11);}else{this._x=0;this._y=Math.atan2(m13,m33);}break;case'XZY':this._z=Math.asin(-clamp(m12,-1,1));if(Math.abs(m12)<0.9999999){this._x=Math.atan2(m32,m22);this._y=Math.atan2(m13,m11);}else{this._x=Math.atan2(-m23,m33);this._y=0;}break;default:console.warn('THREE.Euler: .setFromRotationMatrix() encountered an unknown order: '+order);}this._order=order;if(update===true)this._onChangeCallback();return this;}},{key:"setFromQuaternion",value:function setFromQuaternion(q,order,update){_matrix$1.makeRotationFromQuaternion(q);return this.setFromRotationMatrix(_matrix$1,order,update);}},{key:"setFromVector3",value:function setFromVector3(v){var order=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this._order;return this.set(v.x,v.y,v.z,order);}},{key:"reorder",value:function reorder(newOrder){// WARNING: this discards revolution information -bhouston
_quaternion$3.setFromEuler(this);return this.setFromQuaternion(_quaternion$3,newOrder);}},{key:"equals",value:function equals(euler){return euler._x===this._x&&euler._y===this._y&&euler._z===this._z&&euler._order===this._order;}},{key:"fromArray",value:function fromArray(array){this._x=array[0];this._y=array[1];this._z=array[2];if(array[3]!==undefined)this._order=array[3];this._onChangeCallback();return this;}},{key:"toArray",value:function toArray(){var array=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var offset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;array[offset]=this._x;array[offset+1]=this._y;array[offset+2]=this._z;array[offset+3]=this._order;return array;}},{key:"toVector3",value:function toVector3(optionalResult){if(optionalResult){return optionalResult.set(this._x,this._y,this._z);}else{return new Vector3(this._x,this._y,this._z);}}},{key:"_onChange",value:function _onChange(callback){this._onChangeCallback=callback;return this;}},{key:"_onChangeCallback",value:function _onChangeCallback(){}}]);return Euler;}();exports.Euler=Euler;Euler.prototype.isEuler=true;Euler.DefaultOrder='XYZ';Euler.RotationOrders=['XYZ','YZX','ZXY','XZY','YXZ','ZYX'];var Layers=/*#__PURE__*/function(){function Layers(){(0,_classCallCheck2.default)(this,Layers);this.mask=1|0;}(0,_createClass2.default)(Layers,[{key:"set",value:function set(channel){this.mask=1<<channel|0;}},{key:"enable",value:function enable(channel){this.mask|=1<<channel|0;}},{key:"enableAll",value:function enableAll(){this.mask=0xffffffff|0;}},{key:"toggle",value:function toggle(channel){this.mask^=1<<channel|0;}},{key:"disable",value:function disable(channel){this.mask&=~(1<<channel|0);}},{key:"disableAll",value:function disableAll(){this.mask=0;}},{key:"test",value:function test(layers){return(this.mask&layers.mask)!==0;}}]);return Layers;}();exports.Layers=Layers;var _object3DId=0;var _v1$4=/*@__PURE__*/new Vector3();var _q1=/*@__PURE__*/new Quaternion();var _m1$1=/*@__PURE__*/new Matrix4();var _target=/*@__PURE__*/new Vector3();var _position$3=/*@__PURE__*/new Vector3();var _scale$2=/*@__PURE__*/new Vector3();var _quaternion$2=/*@__PURE__*/new Quaternion();var _xAxis=/*@__PURE__*/new Vector3(1,0,0);var _yAxis=/*@__PURE__*/new Vector3(0,1,0);var _zAxis=/*@__PURE__*/new Vector3(0,0,1);var _addedEvent={type:'added'};var _removedEvent={type:'removed'};var Object3D=/*#__PURE__*/function(_EventDispatcher3){(0,_inherits2.default)(Object3D,_EventDispatcher3);var _super5=_createSuper(Object3D);function Object3D(){var _this6;(0,_classCallCheck2.default)(this,Object3D);_this6=_super5.call(this);Object.defineProperty((0,_assertThisInitialized2.default)(_this6),'id',{value:_object3DId++});_this6.uuid=generateUUID();_this6.name='';_this6.type='Object3D';_this6.parent=null;_this6.children=[];_this6.up=Object3D.DefaultUp.clone();var position=new Vector3();var rotation=new Euler();var quaternion=new Quaternion();var scale=new Vector3(1,1,1);function onRotationChange(){quaternion.setFromEuler(rotation,false);}function onQuaternionChange(){rotation.setFromQuaternion(quaternion,undefined,false);}rotation._onChange(onRotationChange);quaternion._onChange(onQuaternionChange);Object.defineProperties((0,_assertThisInitialized2.default)(_this6),{position:{configurable:true,enumerable:true,value:position},rotation:{configurable:true,enumerable:true,value:rotation},quaternion:{configurable:true,enumerable:true,value:quaternion},scale:{configurable:true,enumerable:true,value:scale},modelViewMatrix:{value:new Matrix4()},normalMatrix:{value:new Matrix3()}});_this6.matrix=new Matrix4();_this6.matrixWorld=new Matrix4();_this6.matrixAutoUpdate=Object3D.DefaultMatrixAutoUpdate;_this6.matrixWorldNeedsUpdate=false;_this6.layers=new Layers();_this6.visible=true;_this6.castShadow=false;_this6.receiveShadow=false;_this6.frustumCulled=true;_this6.renderOrder=0;_this6.animations=[];_this6.userData={};return _this6;}(0,_createClass2.default)(Object3D,[{key:"onBeforeRender",value:function onBeforeRender(/* renderer, scene, camera, geometry, material, group */){}},{key:"onAfterRender",value:function onAfterRender(/* renderer, scene, camera, geometry, material, group */){}},{key:"applyMatrix4",value:function applyMatrix4(matrix){if(this.matrixAutoUpdate)this.updateMatrix();this.matrix.premultiply(matrix);this.matrix.decompose(this.position,this.quaternion,this.scale);}},{key:"applyQuaternion",value:function applyQuaternion(q){this.quaternion.premultiply(q);return this;}},{key:"setRotationFromAxisAngle",value:function setRotationFromAxisAngle(axis,angle){// assumes axis is normalized
this.quaternion.setFromAxisAngle(axis,angle);}},{key:"setRotationFromEuler",value:function setRotationFromEuler(euler){this.quaternion.setFromEuler(euler,true);}},{key:"setRotationFromMatrix",value:function setRotationFromMatrix(m){// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)
this.quaternion.setFromRotationMatrix(m);}},{key:"setRotationFromQuaternion",value:function setRotationFromQuaternion(q){// assumes q is normalized
this.quaternion.copy(q);}},{key:"rotateOnAxis",value:function rotateOnAxis(axis,angle){// rotate object on axis in object space
// axis is assumed to be normalized
_q1.setFromAxisAngle(axis,angle);this.quaternion.multiply(_q1);return this;}},{key:"rotateOnWorldAxis",value:function rotateOnWorldAxis(axis,angle){// rotate object on axis in world space
// axis is assumed to be normalized
// method assumes no rotated parent
_q1.setFromAxisAngle(axis,angle);this.quaternion.premultiply(_q1);return this;}},{key:"rotateX",value:function rotateX(angle){return this.rotateOnAxis(_xAxis,angle);}},{key:"rotateY",value:function rotateY(angle){return this.rotateOnAxis(_yAxis,angle);}},{key:"rotateZ",value:function rotateZ(angle){return this.rotateOnAxis(_zAxis,angle);}},{key:"translateOnAxis",value:function translateOnAxis(axis,distance){// translate object by distance along axis in object space
// axis is assumed to be normalized
_v1$4.copy(axis).applyQuaternion(this.quaternion);this.position.add(_v1$4.multiplyScalar(distance));return this;}},{key:"translateX",value:function translateX(distance){return this.translateOnAxis(_xAxis,distance);}},{key:"translateY",value:function translateY(distance){return this.translateOnAxis(_yAxis,distance);}},{key:"translateZ",value:function translateZ(distance){return this.translateOnAxis(_zAxis,distance);}},{key:"localToWorld",value:function localToWorld(vector){return vector.applyMatrix4(this.matrixWorld);}},{key:"worldToLocal",value:function worldToLocal(vector){return vector.applyMatrix4(_m1$1.copy(this.matrixWorld).invert());}},{key:"lookAt",value:function lookAt(x,y,z){// This method does not support objects having non-uniformly-scaled parent(s)
if(x.isVector3){_target.copy(x);}else{_target.set(x,y,z);}var parent=this.parent;this.updateWorldMatrix(true,false);_position$3.setFromMatrixPosition(this.matrixWorld);if(this.isCamera||this.isLight){_m1$1.lookAt(_position$3,_target,this.up);}else{_m1$1.lookAt(_target,_position$3,this.up);}this.quaternion.setFromRotationMatrix(_m1$1);if(parent){_m1$1.extractRotation(parent.matrixWorld);_q1.setFromRotationMatrix(_m1$1);this.quaternion.premultiply(_q1.invert());}}},{key:"add",value:function add(object){if(arguments.length>1){for(var _i16=0;_i16<arguments.length;_i16++){this.add(arguments[_i16]);}return this;}if(object===this){console.error('THREE.Object3D.add: object can\'t be added as a child of itself.',object);return this;}if(object&&object.isObject3D){if(object.parent!==null){object.parent.remove(object);}object.parent=this;this.children.push(object);object.dispatchEvent(_addedEvent);}else{console.error('THREE.Object3D.add: object not an instance of THREE.Object3D.',object);}return this;}},{key:"remove",value:function remove(object){if(arguments.length>1){for(var _i17=0;_i17<arguments.length;_i17++){this.remove(arguments[_i17]);}return this;}var index=this.children.indexOf(object);if(index!==-1){object.parent=null;this.children.splice(index,1);object.dispatchEvent(_removedEvent);}return this;}},{key:"removeFromParent",value:function removeFromParent(){var parent=this.parent;if(parent!==null){parent.remove(this);}return this;}},{key:"clear",value:function clear(){for(var _i18=0;_i18<this.children.length;_i18++){var object=this.children[_i18];object.parent=null;object.dispatchEvent(_removedEvent);}this.children.length=0;return this;}},{key:"attach",value:function attach(object){// adds object as a child of this, while maintaining the object's world transform
this.updateWorldMatrix(true,false);_m1$1.copy(this.matrixWorld).invert();if(object.parent!==null){object.parent.updateWorldMatrix(true,false);_m1$1.multiply(object.parent.matrixWorld);}object.applyMatrix4(_m1$1);this.add(object);object.updateWorldMatrix(false,true);return this;}},{key:"getObjectById",value:function getObjectById(id){return this.getObjectByProperty('id',id);}},{key:"getObjectByName",value:function getObjectByName(name){return this.getObjectByProperty('name',name);}},{key:"getObjectByProperty",value:function getObjectByProperty(name,value){if(this[name]===value)return this;for(var _i19=0,l=this.children.length;_i19<l;_i19++){var child=this.children[_i19];var object=child.getObjectByProperty(name,value);if(object!==undefined){return object;}}return undefined;}},{key:"getWorldPosition",value:function getWorldPosition(target){this.updateWorldMatrix(true,false);return target.setFromMatrixPosition(this.matrixWorld);}},{key:"getWorldQuaternion",value:function getWorldQuaternion(target){this.updateWorldMatrix(true,false);this.matrixWorld.decompose(_position$3,target,_scale$2);return target;}},{key:"getWorldScale",value:function getWorldScale(target){this.updateWorldMatrix(true,false);this.matrixWorld.decompose(_position$3,_quaternion$2,target);return target;}},{key:"getWorldDirection",value:function getWorldDirection(target){this.updateWorldMatrix(true,false);var e=this.matrixWorld.elements;return target.set(e[8],e[9],e[10]).normalize();}},{key:"raycast",value:function raycast(){}},{key:"traverse",value:function traverse(callback){callback(this);var children=this.children;for(var _i20=0,l=children.length;_i20<l;_i20++){children[_i20].traverse(callback);}}},{key:"traverseVisible",value:function traverseVisible(callback){if(this.visible===false)return;callback(this);var children=this.children;for(var _i21=0,l=children.length;_i21<l;_i21++){children[_i21].traverseVisible(callback);}}},{key:"traverseAncestors",value:function traverseAncestors(callback){var parent=this.parent;if(parent!==null){callback(parent);parent.traverseAncestors(callback);}}},{key:"updateMatrix",value:function updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale);this.matrixWorldNeedsUpdate=true;}},{key:"updateMatrixWorld",value:function updateMatrixWorld(force){if(this.matrixAutoUpdate)this.updateMatrix();if(this.matrixWorldNeedsUpdate||force){if(this.parent===null){this.matrixWorld.copy(this.matrix);}else{this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix);}this.matrixWorldNeedsUpdate=false;force=true;}// update children
var children=this.children;for(var _i22=0,l=children.length;_i22<l;_i22++){children[_i22].updateMatrixWorld(force);}}},{key:"updateWorldMatrix",value:function updateWorldMatrix(updateParents,updateChildren){var parent=this.parent;if(updateParents===true&&parent!==null){parent.updateWorldMatrix(true,false);}if(this.matrixAutoUpdate)this.updateMatrix();if(this.parent===null){this.matrixWorld.copy(this.matrix);}else{this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix);}// update children
if(updateChildren===true){var children=this.children;for(var _i23=0,l=children.length;_i23<l;_i23++){children[_i23].updateWorldMatrix(false,true);}}}},{key:"toJSON",value:function toJSON(meta){// meta is a string when called from JSON.stringify
var isRootObject=meta===undefined||typeof meta==='string';var output={};// meta is a hash used to collect geometries, materials.
// not providing it implies that this is the root object
// being serialized.
if(isRootObject){// initialize meta obj
meta={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}};output.metadata={version:4.5,type:'Object',generator:'Object3D.toJSON'};}// standard Object3D serialization
var object={};object.uuid=this.uuid;object.type=this.type;if(this.name!=='')object.name=this.name;if(this.castShadow===true)object.castShadow=true;if(this.receiveShadow===true)object.receiveShadow=true;if(this.visible===false)object.visible=false;if(this.frustumCulled===false)object.frustumCulled=false;if(this.renderOrder!==0)object.renderOrder=this.renderOrder;if(JSON.stringify(this.userData)!=='{}')object.userData=this.userData;object.layers=this.layers.mask;object.matrix=this.matrix.toArray();if(this.matrixAutoUpdate===false)object.matrixAutoUpdate=false;// object specific properties
if(this.isInstancedMesh){object.type='InstancedMesh';object.count=this.count;object.instanceMatrix=this.instanceMatrix.toJSON();if(this.instanceColor!==null)object.instanceColor=this.instanceColor.toJSON();}//
function serialize(library,element){if(library[element.uuid]===undefined){library[element.uuid]=element.toJSON(meta);}return element.uuid;}if(this.isScene){if(this.background){if(this.background.isColor){object.background=this.background.toJSON();}else if(this.background.isTexture){object.background=this.background.toJSON(meta).uuid;}}if(this.environment&&this.environment.isTexture){object.environment=this.environment.toJSON(meta).uuid;}}else if(this.isMesh||this.isLine||this.isPoints){object.geometry=serialize(meta.geometries,this.geometry);var parameters=this.geometry.parameters;if(parameters!==undefined&&parameters.shapes!==undefined){var shapes=parameters.shapes;if(Array.isArray(shapes)){for(var _i24=0,l=shapes.length;_i24<l;_i24++){var shape=shapes[_i24];serialize(meta.shapes,shape);}}else{serialize(meta.shapes,shapes);}}}if(this.isSkinnedMesh){object.bindMode=this.bindMode;object.bindMatrix=this.bindMatrix.toArray();if(this.skeleton!==undefined){serialize(meta.skeletons,this.skeleton);object.skeleton=this.skeleton.uuid;}}if(this.material!==undefined){if(Array.isArray(this.material)){var uuids=[];for(var _i25=0,_l=this.material.length;_i25<_l;_i25++){uuids.push(serialize(meta.materials,this.material[_i25]));}object.material=uuids;}else{object.material=serialize(meta.materials,this.material);}}//
if(this.children.length>0){object.children=[];for(var _i26=0;_i26<this.children.length;_i26++){object.children.push(this.children[_i26].toJSON(meta).object);}}//
if(this.animations.length>0){object.animations=[];for(var _i27=0;_i27<this.animations.length;_i27++){var animation=this.animations[_i27];object.animations.push(serialize(meta.animations,animation));}}if(isRootObject){var geometries=extractFromCache(meta.geometries);var materials=extractFromCache(meta.materials);var textures=extractFromCache(meta.textures);var images=extractFromCache(meta.images);var _shapes=extractFromCache(meta.shapes);var skeletons=extractFromCache(meta.skeletons);var animations=extractFromCache(meta.animations);if(geometries.length>0)output.geometries=geometries;if(materials.length>0)output.materials=materials;if(textures.length>0)output.textures=textures;if(images.length>0)output.images=images;if(_shapes.length>0)output.shapes=_shapes;if(skeletons.length>0)output.skeletons=skeletons;if(animations.length>0)output.animations=animations;}output.object=object;return output;// extract data from the cache hash
// remove metadata on each item
// and return as array
function extractFromCache(cache){var values=[];for(var key in cache){var data=cache[key];delete data.metadata;values.push(data);}return values;}}},{key:"clone",value:function clone(recursive){return new this.constructor().copy(this,recursive);}},{key:"copy",value:function copy(source){var recursive=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;this.name=source.name;this.up.copy(source.up);this.position.copy(source.position);this.rotation.order=source.rotation.order;this.quaternion.copy(source.quaternion);this.scale.copy(source.scale);this.matrix.copy(source.matrix);this.matrixWorld.copy(source.matrixWorld);this.matrixAutoUpdate=source.matrixAutoUpdate;this.matrixWorldNeedsUpdate=source.matrixWorldNeedsUpdate;this.layers.mask=source.layers.mask;this.visible=source.visible;this.castShadow=source.castShadow;this.receiveShadow=source.receiveShadow;this.frustumCulled=source.frustumCulled;this.renderOrder=source.renderOrder;this.userData=JSON.parse(JSON.stringify(source.userData));if(recursive===true){for(var _i28=0;_i28<source.children.length;_i28++){var child=source.children[_i28];this.add(child.clone());}}return this;}}]);return Object3D;}(EventDispatcher);exports.Object3D=Object3D;Object3D.DefaultUp=new Vector3(0,1,0);Object3D.DefaultMatrixAutoUpdate=true;Object3D.prototype.isObject3D=true;var _v0$1=/*@__PURE__*/new Vector3();var _v1$3=/*@__PURE__*/new Vector3();var _v2$2=/*@__PURE__*/new Vector3();var _v3$1=/*@__PURE__*/new Vector3();var _vab=/*@__PURE__*/new Vector3();var _vac=/*@__PURE__*/new Vector3();var _vbc=/*@__PURE__*/new Vector3();var _vap=/*@__PURE__*/new Vector3();var _vbp=/*@__PURE__*/new Vector3();var _vcp=/*@__PURE__*/new Vector3();var Triangle=/*#__PURE__*/function(){function Triangle(){var a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new Vector3();var b=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new Vector3();var c=arguments.length>2&&arguments[2]!==undefined?arguments[2]:new Vector3();(0,_classCallCheck2.default)(this,Triangle);this.a=a;this.b=b;this.c=c;}(0,_createClass2.default)(Triangle,[{key:"set",value:function set(a,b,c){this.a.copy(a);this.b.copy(b);this.c.copy(c);return this;}},{key:"setFromPointsAndIndices",value:function setFromPointsAndIndices(points,i0,i1,i2){this.a.copy(points[i0]);this.b.copy(points[i1]);this.c.copy(points[i2]);return this;}},{key:"setFromAttributeAndIndices",value:function setFromAttributeAndIndices(attribute,i0,i1,i2){this.a.fromBufferAttribute(attribute,i0);this.b.fromBufferAttribute(attribute,i1);this.c.fromBufferAttribute(attribute,i2);return this;}},{key:"clone",value:function clone(){return new this.constructor().copy(this);}},{key:"copy",value:function copy(triangle){this.a.copy(triangle.a);this.b.copy(triangle.b);this.c.copy(triangle.c);return this;}},{key:"getArea",value:function getArea(){_v0$1.subVectors(this.c,this.b);_v1$3.subVectors(this.a,this.b);return _v0$1.cross(_v1$3).length()*0.5;}},{key:"getMidpoint",value:function getMidpoint(target){return target.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3);}},{key:"getNormal",value:function getNormal(target){return Triangle.getNormal(this.a,this.b,this.c,target);}},{key:"getPlane",value:function getPlane(target){return target.setFromCoplanarPoints(this.a,this.b,this.c);}},{key:"getBarycoord",value:function getBarycoord(point,target){return Triangle.getBarycoord(point,this.a,this.b,this.c,target);}},{key:"getUV",value:function getUV(point,uv1,uv2,uv3,target){return Triangle.getUV(point,this.a,this.b,this.c,uv1,uv2,uv3,target);}},{key:"containsPoint",value:function containsPoint(point){return Triangle.containsPoint(point,this.a,this.b,this.c);}},{key:"isFrontFacing",value:function isFrontFacing(direction){return Triangle.isFrontFacing(this.a,this.b,this.c,direction);}},{key:"intersectsBox",value:function intersectsBox(box){return box.intersectsTriangle(this);}},{key:"closestPointToPoint",value:function closestPointToPoint(p,target){var a=this.a,b=this.b,c=this.c;var v,w;// algorithm thanks to Real-Time Collision Detection by Christer Ericson,
// published by Morgan Kaufmann Publishers, (c) 2005 Elsevier Inc.,
// under the accompanying license; see chapter 5.1.5 for detailed explanation.
// basically, we're distinguishing which of the voronoi regions of the triangle
// the point lies in with the minimum amount of redundant computation.
_vab.subVectors(b,a);_vac.subVectors(c,a);_vap.subVectors(p,a);var d1=_vab.dot(_vap);var d2=_vac.dot(_vap);if(d1<=0&&d2<=0){// vertex region of A; barycentric coords (1, 0, 0)
return target.copy(a);}_vbp.subVectors(p,b);var d3=_vab.dot(_vbp);var d4=_vac.dot(_vbp);if(d3>=0&&d4<=d3){// vertex region of B; barycentric coords (0, 1, 0)
return target.copy(b);}var vc=d1*d4-d3*d2;if(vc<=0&&d1>=0&&d3<=0){v=d1/(d1-d3);// edge region of AB; barycentric coords (1-v, v, 0)
return target.copy(a).addScaledVector(_vab,v);}_vcp.subVectors(p,c);var d5=_vab.dot(_vcp);var d6=_vac.dot(_vcp);if(d6>=0&&d5<=d6){// vertex region of C; barycentric coords (0, 0, 1)
return target.copy(c);}var vb=d5*d2-d1*d6;if(vb<=0&&d2>=0&&d6<=0){w=d2/(d2-d6);// edge region of AC; barycentric coords (1-w, 0, w)
return target.copy(a).addScaledVector(_vac,w);}var va=d3*d6-d5*d4;if(va<=0&&d4-d3>=0&&d5-d6>=0){_vbc.subVectors(c,b);w=(d4-d3)/(d4-d3+(d5-d6));// edge region of BC; barycentric coords (0, 1-w, w)
return target.copy(b).addScaledVector(_vbc,w);// edge region of BC
}// face region
var denom=1/(va+vb+vc);// u = va * denom
v=vb*denom;w=vc*denom;return target.copy(a).addScaledVector(_vab,v).addScaledVector(_vac,w);}},{key:"equals",value:function equals(triangle){return triangle.a.equals(this.a)&&triangle.b.equals(this.b)&&triangle.c.equals(this.c);}}],[{key:"getNormal",value:function getNormal(a,b,c,target){target.subVectors(c,b);_v0$1.subVectors(a,b);target.cross(_v0$1);var targetLengthSq=target.lengthSq();if(targetLengthSq>0){return target.multiplyScalar(1/Math.sqrt(targetLengthSq));}return target.set(0,0,0);}// static/instance method to calculate barycentric coordinates
// based on: http://www.blackpawn.com/texts/pointinpoly/default.html
},{key:"getBarycoord",value:function getBarycoord(point,a,b,c,target){_v0$1.subVectors(c,a);_v1$3.subVectors(b,a);_v2$2.subVectors(point,a);var dot00=_v0$1.dot(_v0$1);var dot01=_v0$1.dot(_v1$3);var dot02=_v0$1.dot(_v2$2);var dot11=_v1$3.dot(_v1$3);var dot12=_v1$3.dot(_v2$2);var denom=dot00*dot11-dot01*dot01;// collinear or singular triangle
if(denom===0){// arbitrary location outside of triangle?
// not sure if this is the best idea, maybe should be returning undefined
return target.set(-2,-1,-1);}var invDenom=1/denom;var u=(dot11*dot02-dot01*dot12)*invDenom;var v=(dot00*dot12-dot01*dot02)*invDenom;// barycentric coordinates must always sum to 1
return target.set(1-u-v,v,u);}},{key:"containsPoint",value:function containsPoint(point,a,b,c){this.getBarycoord(point,a,b,c,_v3$1);return _v3$1.x>=0&&_v3$1.y>=0&&_v3$1.x+_v3$1.y<=1;}},{key:"getUV",value:function getUV(point,p1,p2,p3,uv1,uv2,uv3,target){this.getBarycoord(point,p1,p2,p3,_v3$1);target.set(0,0);target.addScaledVector(uv1,_v3$1.x);target.addScaledVector(uv2,_v3$1.y);target.addScaledVector(uv3,_v3$1.z);return target;}},{key:"isFrontFacing",value:function isFrontFacing(a,b,c,direction){_v0$1.subVectors(c,b);_v1$3.subVectors(a,b);// strictly front facing
return _v0$1.cross(_v1$3).dot(direction)<0?true:false;}}]);return Triangle;}();exports.Triangle=Triangle;var materialId=0;var Material=/*#__PURE__*/function(_EventDispatcher4){(0,_inherits2.default)(Material,_EventDispatcher4);var _super6=_createSuper(Material);function Material(){var _this7;(0,_classCallCheck2.default)(this,Material);_this7=_super6.call(this);Object.defineProperty((0,_assertThisInitialized2.default)(_this7),'id',{value:materialId++});_this7.uuid=generateUUID();_this7.name='';_this7.type='Material';_this7.fog=true;_this7.blending=NormalBlending;_this7.side=FrontSide;_this7.vertexColors=false;_this7.opacity=1;_this7.format=RGBAFormat;_this7.transparent=false;_this7.blendSrc=SrcAlphaFactor;_this7.blendDst=OneMinusSrcAlphaFactor;_this7.blendEquation=AddEquation;_this7.blendSrcAlpha=null;_this7.blendDstAlpha=null;_this7.blendEquationAlpha=null;_this7.depthFunc=LessEqualDepth;_this7.depthTest=true;_this7.depthWrite=true;_this7.stencilWriteMask=0xff;_this7.stencilFunc=AlwaysStencilFunc;_this7.stencilRef=0;_this7.stencilFuncMask=0xff;_this7.stencilFail=KeepStencilOp;_this7.stencilZFail=KeepStencilOp;_this7.stencilZPass=KeepStencilOp;_this7.stencilWrite=false;_this7.clippingPlanes=null;_this7.clipIntersection=false;_this7.clipShadows=false;_this7.shadowSide=null;_this7.colorWrite=true;_this7.precision=null;// override the renderer's default precision for this material
_this7.polygonOffset=false;_this7.polygonOffsetFactor=0;_this7.polygonOffsetUnits=0;_this7.dithering=false;_this7.alphaToCoverage=false;_this7.premultipliedAlpha=false;_this7.visible=true;_this7.toneMapped=true;_this7.userData={};_this7.version=0;_this7._alphaTest=0;return _this7;}(0,_createClass2.default)(Material,[{key:"alphaTest",get:function get(){return this._alphaTest;},set:function set(value){if(this._alphaTest>0!==value>0){this.version++;}this._alphaTest=value;}},{key:"onBuild",value:function onBuild(/* shaderobject, renderer */){}},{key:"onBeforeRender",value:function onBeforeRender(/* renderer, scene, camera, geometry, object, group */){}},{key:"onBeforeCompile",value:function onBeforeCompile(/* shaderobject, renderer */){}},{key:"customProgramCacheKey",value:function customProgramCacheKey(){return this.onBeforeCompile.toString();}},{key:"setValues",value:function setValues(values){if(values===undefined)return;for(var key in values){var newValue=values[key];if(newValue===undefined){console.warn('THREE.Material: \''+key+'\' parameter is undefined.');continue;}// for backward compatability if shading is set in the constructor
if(key==='shading'){console.warn('THREE.'+this.type+': .shading has been removed. Use the boolean .flatShading instead.');this.flatShading=newValue===FlatShading?true:false;continue;}var currentValue=this[key];if(currentValue===undefined){console.warn('THREE.'+this.type+': \''+key+'\' is not a property of this material.');continue;}if(currentValue&&currentValue.isColor){currentValue.set(newValue);}else if(currentValue&&currentValue.isVector3&&newValue&&newValue.isVector3){currentValue.copy(newValue);}else{this[key]=newValue;}}}},{key:"toJSON",value:function toJSON(meta){var isRoot=meta===undefined||typeof meta==='string';if(isRoot){meta={textures:{},images:{}};}var data={metadata:{version:4.5,type:'Material',generator:'Material.toJSON'}};// standard Material serialization
data.uuid=this.uuid;data.type=this.type;if(this.name!=='')data.name=this.name;if(this.color&&this.color.isColor)data.color=this.color.getHex();if(this.roughness!==undefined)data.roughness=this.roughness;if(this.metalness!==undefined)data.metalness=this.metalness;if(this.sheen!==undefined)data.sheen=this.sheen;if(this.sheenTint&&this.sheenTint.isColor)data.sheenTint=this.sheenTint.getHex();if(this.sheenRoughness!==undefined)data.sheenRoughness=this.sheenRoughness;if(this.emissive&&this.emissive.isColor)data.emissive=this.emissive.getHex();if(this.emissiveIntensity&&this.emissiveIntensity!==1)data.emissiveIntensity=this.emissiveIntensity;if(this.specular&&this.specular.isColor)data.specular=this.specular.getHex();if(this.specularIntensity!==undefined)data.specularIntensity=this.specularIntensity;if(this.specularTint&&this.specularTint.isColor)data.specularTint=this.specularTint.getHex();if(this.shininess!==undefined)data.shininess=this.shininess;if(this.clearcoat!==undefined)data.clearcoat=this.clearcoat;if(this.clearcoatRoughness!==undefined)data.clearcoatRoughness=this.clearcoatRoughness;if(this.clearcoatMap&&this.clearcoatMap.isTexture){data.clearcoatMap=this.clearcoatMap.toJSON(meta).uuid;}if(this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture){data.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(meta).uuid;}if(this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture){data.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(meta).uuid;data.clearcoatNormalScale=this.clearcoatNormalScale.toArray();}if(this.map&&this.map.isTexture)data.map=this.map.toJSON(meta).uuid;if(this.matcap&&this.matcap.isTexture)data.matcap=this.matcap.toJSON(meta).uuid;if(this.alphaMap&&this.alphaMap.isTexture)data.alphaMap=this.alphaMap.toJSON(meta).uuid;if(this.lightMap&&this.lightMap.isTexture){data.lightMap=this.lightMap.toJSON(meta).uuid;data.lightMapIntensity=this.lightMapIntensity;}if(this.aoMap&&this.aoMap.isTexture){data.aoMap=this.aoMap.toJSON(meta).uuid;data.aoMapIntensity=this.aoMapIntensity;}if(this.bumpMap&&this.bumpMap.isTexture){data.bumpMap=this.bumpMap.toJSON(meta).uuid;data.bumpScale=this.bumpScale;}if(this.normalMap&&this.normalMap.isTexture){data.normalMap=this.normalMap.toJSON(meta).uuid;data.normalMapType=this.normalMapType;data.normalScale=this.normalScale.toArray();}if(this.displacementMap&&this.displacementMap.isTexture){data.displacementMap=this.displacementMap.toJSON(meta).uuid;data.displacementScale=this.displacementScale;data.displacementBias=this.displacementBias;}if(this.roughnessMap&&this.roughnessMap.isTexture)data.roughnessMap=this.roughnessMap.toJSON(meta).uuid;if(this.metalnessMap&&this.metalnessMap.isTexture)data.metalnessMap=this.metalnessMap.toJSON(meta).uuid;if(this.emissiveMap&&this.emissiveMap.isTexture)data.emissiveMap=this.emissiveMap.toJSON(meta).uuid;if(this.specularMap&&this.specularMap.isTexture)data.specularMap=this.specularMap.toJSON(meta).uuid;if(this.specularIntensityMap&&this.specularIntensityMap.isTexture)data.specularIntensityMap=this.specularIntensityMap.toJSON(meta).uuid;if(this.specularTintMap&&this.specularTintMap.isTexture)data.specularTintMap=this.specularTintMap.toJSON(meta).uuid;if(this.envMap&&this.envMap.isTexture){data.envMap=this.envMap.toJSON(meta).uuid;if(this.combine!==undefined)data.combine=this.combine;}if(this.envMapIntensity!==undefined)data.envMapIntensity=this.envMapIntensity;if(this.reflectivity!==undefined)data.reflectivity=this.reflectivity;if(this.refractionRatio!==undefined)data.refractionRatio=this.refractionRatio;if(this.gradientMap&&this.gradientMap.isTexture){data.gradientMap=this.gradientMap.toJSON(meta).uuid;}if(this.transmission!==undefined)data.transmission=this.transmission;if(this.transmissionMap&&this.transmissionMap.isTexture)data.transmissionMap=this.transmissionMap.toJSON(meta).uuid;if(this.thickness!==undefined)data.thickness=this.thickness;if(this.thicknessMap&&this.thicknessMap.isTexture)data.thicknessMap=this.thicknessMap.toJSON(meta).uuid;if(this.attenuationDistance!==undefined)data.attenuationDistance=this.attenuationDistance;if(this.attenuationTint!==undefined)data.attenuationTint=this.attenuationTint.getHex();if(this.size!==undefined)data.size=this.size;if(this.shadowSide!==null)data.shadowSide=this.shadowSide;if(this.sizeAttenuation!==undefined)data.sizeAttenuation=this.sizeAttenuation;if(this.blending!==NormalBlending)data.blending=this.blending;if(this.side!==FrontSide)data.side=this.side;if(this.vertexColors)data.vertexColors=true;if(this.opacity<1)data.opacity=this.opacity;if(this.format!==RGBAFormat)data.format=this.format;if(this.transparent===true)data.transparent=this.transparent;data.depthFunc=this.depthFunc;data.depthTest=this.depthTest;data.depthWrite=this.depthWrite;data.colorWrite=this.colorWrite;data.stencilWrite=this.stencilWrite;data.stencilWriteMask=this.stencilWriteMask;data.stencilFunc=this.stencilFunc;data.stencilRef=this.stencilRef;data.stencilFuncMask=this.stencilFuncMask;data.stencilFail=this.stencilFail;data.stencilZFail=this.stencilZFail;data.stencilZPass=this.stencilZPass;// rotation (SpriteMaterial)
if(this.rotation&&this.rotation!==0)data.rotation=this.rotation;if(this.polygonOffset===true)data.polygonOffset=true;if(this.polygonOffsetFactor!==0)data.polygonOffsetFactor=this.polygonOffsetFactor;if(this.polygonOffsetUnits!==0)data.polygonOffsetUnits=this.polygonOffsetUnits;if(this.linewidth&&this.linewidth!==1)data.linewidth=this.linewidth;if(this.dashSize!==undefined)data.dashSize=this.dashSize;if(this.gapSize!==undefined)data.gapSize=this.gapSize;if(this.scale!==undefined)data.scale=this.scale;if(this.dithering===true)data.dithering=true;if(this.alphaTest>0)data.alphaTest=this.alphaTest;if(this.alphaToCoverage===true)data.alphaToCoverage=this.alphaToCoverage;if(this.premultipliedAlpha===true)data.premultipliedAlpha=this.premultipliedAlpha;if(this.wireframe===true)data.wireframe=this.wireframe;if(this.wireframeLinewidth>1)data.wireframeLinewidth=this.wireframeLinewidth;if(this.wireframeLinecap!=='round')data.wireframeLinecap=this.wireframeLinecap;if(this.wireframeLinejoin!=='round')data.wireframeLinejoin=this.wireframeLinejoin;if(this.flatShading===true)data.flatShading=this.flatShading;if(this.visible===false)data.visible=false;if(this.toneMapped===false)data.toneMapped=false;if(JSON.stringify(this.userData)!=='{}')data.userData=this.userData;// TODO: Copied from Object3D.toJSON
function extractFromCache(cache){var values=[];for(var key in cache){var _data=cache[key];delete _data.metadata;values.push(_data);}return values;}if(isRoot){var textures=extractFromCache(meta.textures);var images=extractFromCache(meta.images);if(textures.length>0)data.textures=textures;if(images.length>0)data.images=images;}return data;}},{key:"clone",value:function clone(){return new this.constructor().copy(this);}},{key:"copy",value:function copy(source){this.name=source.name;this.fog=source.fog;this.blending=source.blending;this.side=source.side;this.vertexColors=source.vertexColors;this.opacity=source.opacity;this.format=source.format;this.transparent=source.transparent;this.blendSrc=source.blendSrc;this.blendDst=source.blendDst;this.blendEquation=source.blendEquation;this.blendSrcAlpha=source.blendSrcAlpha;this.blendDstAlpha=source.blendDstAlpha;this.blendEquationAlpha=source.blendEquationAlpha;this.depthFunc=source.depthFunc;this.depthTest=source.depthTest;this.depthWrite=source.depthWrite;this.stencilWriteMask=source.stencilWriteMask;this.stencilFunc=source.stencilFunc;this.stencilRef=source.stencilRef;this.stencilFuncMask=source.stencilFuncMask;this.stencilFail=source.stencilFail;this.stencilZFail=source.stencilZFail;this.stencilZPass=source.stencilZPass;this.stencilWrite=source.stencilWrite;var srcPlanes=source.clippingPlanes;var dstPlanes=null;if(srcPlanes!==null){var n=srcPlanes.length;dstPlanes=new Array(n);for(var _i29=0;_i29!==n;++_i29){dstPlanes[_i29]=srcPlanes[_i29].clone();}}this.clippingPlanes=dstPlanes;this.clipIntersection=source.clipIntersection;this.clipShadows=source.clipShadows;this.shadowSide=source.shadowSide;this.colorWrite=source.colorWrite;this.precision=source.precision;this.polygonOffset=source.polygonOffset;this.polygonOffsetFactor=source.polygonOffsetFactor;this.polygonOffsetUnits=source.polygonOffsetUnits;this.dithering=source.dithering;this.alphaTest=source.alphaTest;this.alphaToCoverage=source.alphaToCoverage;this.premultipliedAlpha=source.premultipliedAlpha;this.visible=source.visible;this.toneMapped=source.toneMapped;this.userData=JSON.parse(JSON.stringify(source.userData));return this;}},{key:"dispose",value:function dispose(){this.dispatchEvent({type:'dispose'});}},{key:"needsUpdate",set:function set(value){if(value===true)this.version++;}}]);return Material;}(EventDispatcher);exports.Material=Material;Material.prototype.isMaterial=true;var _colorKeywords={'aliceblue':0xF0F8FF,'antiquewhite':0xFAEBD7,'aqua':0x00FFFF,'aquamarine':0x7FFFD4,'azure':0xF0FFFF,'beige':0xF5F5DC,'bisque':0xFFE4C4,'black':0x000000,'blanchedalmond':0xFFEBCD,'blue':0x0000FF,'blueviolet':0x8A2BE2,'brown':0xA52A2A,'burlywood':0xDEB887,'cadetblue':0x5F9EA0,'chartreuse':0x7FFF00,'chocolate':0xD2691E,'coral':0xFF7F50,'cornflowerblue':0x6495ED,'cornsilk':0xFFF8DC,'crimson':0xDC143C,'cyan':0x00FFFF,'darkblue':0x00008B,'darkcyan':0x008B8B,'darkgoldenrod':0xB8860B,'darkgray':0xA9A9A9,'darkgreen':0x006400,'darkgrey':0xA9A9A9,'darkkhaki':0xBDB76B,'darkmagenta':0x8B008B,'darkolivegreen':0x556B2F,'darkorange':0xFF8C00,'darkorchid':0x9932CC,'darkred':0x8B0000,'darksalmon':0xE9967A,'darkseagreen':0x8FBC8F,'darkslateblue':0x483D8B,'darkslategray':0x2F4F4F,'darkslategrey':0x2F4F4F,'darkturquoise':0x00CED1,'darkviolet':0x9400D3,'deeppink':0xFF1493,'deepskyblue':0x00BFFF,'dimgray':0x696969,'dimgrey':0x696969,'dodgerblue':0x1E90FF,'firebrick':0xB22222,'floralwhite':0xFFFAF0,'forestgreen':0x228B22,'fuchsia':0xFF00FF,'gainsboro':0xDCDCDC,'ghostwhite':0xF8F8FF,'gold':0xFFD700,'goldenrod':0xDAA520,'gray':0x808080,'green':0x008000,'greenyellow':0xADFF2F,'grey':0x808080,'honeydew':0xF0FFF0,'hotpink':0xFF69B4,'indianred':0xCD5C5C,'indigo':0x4B0082,'ivory':0xFFFFF0,'khaki':0xF0E68C,'lavender':0xE6E6FA,'lavenderblush':0xFFF0F5,'lawngreen':0x7CFC00,'lemonchiffon':0xFFFACD,'lightblue':0xADD8E6,'lightcoral':0xF08080,'lightcyan':0xE0FFFF,'lightgoldenrodyellow':0xFAFAD2,'lightgray':0xD3D3D3,'lightgreen':0x90EE90,'lightgrey':0xD3D3D3,'lightpink':0xFFB6C1,'lightsalmon':0xFFA07A,'lightseagreen':0x20B2AA,'lightskyblue':0x87CEFA,'lightslategray':0x778899,'lightslategrey':0x778899,'lightsteelblue':0xB0C4DE,'lightyellow':0xFFFFE0,'lime':0x00FF00,'limegreen':0x32CD32,'linen':0xFAF0E6,'magenta':0xFF00FF,'maroon':0x800000,'mediumaquamarine':0x66CDAA,'mediumblue':0x0000CD,'mediumorchid':0xBA55D3,'mediumpurple':0x9370DB,'mediumseagreen':0x3CB371,'mediumslateblue':0x7B68EE,'mediumspringgreen':0x00FA9A,'mediumturquoise':0x48D1CC,'mediumvioletred':0xC71585,'midnightblue':0x191970,'mintcream':0xF5FFFA,'mistyrose':0xFFE4E1,'moccasin':0xFFE4B5,'navajowhite':0xFFDEAD,'navy':0x000080,'oldlace':0xFDF5E6,'olive':0x808000,'olivedrab':0x6B8E23,'orange':0xFFA500,'orangered':0xFF4500,'orchid':0xDA70D6,'palegoldenrod':0xEEE8AA,'palegreen':0x98FB98,'paleturquoise':0xAFEEEE,'palevioletred':0xDB7093,'papayawhip':0xFFEFD5,'peachpuff':0xFFDAB9,'peru':0xCD853F,'pink':0xFFC0CB,'plum':0xDDA0DD,'powderblue':0xB0E0E6,'purple':0x800080,'rebeccapurple':0x663399,'red':0xFF0000,'rosybrown':0xBC8F8F,'royalblue':0x4169E1,'saddlebrown':0x8B4513,'salmon':0xFA8072,'sandybrown':0xF4A460,'seagreen':0x2E8B57,'seashell':0xFFF5EE,'sienna':0xA0522D,'silver':0xC0C0C0,'skyblue':0x87CEEB,'slateblue':0x6A5ACD,'slategray':0x708090,'slategrey':0x708090,'snow':0xFFFAFA,'springgreen':0x00FF7F,'steelblue':0x4682B4,'tan':0xD2B48C,'teal':0x008080,'thistle':0xD8BFD8,'tomato':0xFF6347,'turquoise':0x40E0D0,'violet':0xEE82EE,'wheat':0xF5DEB3,'white':0xFFFFFF,'whitesmoke':0xF5F5F5,'yellow':0xFFFF00,'yellowgreen':0x9ACD32};var _hslA={h:0,s:0,l:0};var _hslB={h:0,s:0,l:0};function hue2rgb(p,q,t){if(t<0)t+=1;if(t>1)t-=1;if(t<1/6)return p+(q-p)*6*t;if(t<1/2)return q;if(t<2/3)return p+(q-p)*6*(2/3-t);return p;}function SRGBToLinear(c){return c<0.04045?c*0.0773993808:Math.pow(c*0.9478672986+0.0521327014,2.4);}function LinearToSRGB(c){return c<0.0031308?c*12.92:1.055*Math.pow(c,0.41666)-0.055;}var Color=/*#__PURE__*/function(){function Color(r,g,b){(0,_classCallCheck2.default)(this,Color);if(g===undefined&&b===undefined){// r is THREE.Color, hex or string
return this.set(r);}return this.setRGB(r,g,b);}(0,_createClass2.default)(Color,[{key:"set",value:function set(value){if(value&&value.isColor){this.copy(value);}else if(typeof value==='number'){this.setHex(value);}else if(typeof value==='string'){this.setStyle(value);}return this;}},{key:"setScalar",value:function setScalar(scalar){this.r=scalar;this.g=scalar;this.b=scalar;return this;}},{key:"setHex",value:function setHex(hex){hex=Math.floor(hex);this.r=(hex>>16&255)/255;this.g=(hex>>8&255)/255;this.b=(hex&255)/255;return this;}},{key:"setRGB",value:function setRGB(r,g,b){this.r=r;this.g=g;this.b=b;return this;}},{key:"setHSL",value:function setHSL(h,s,l){// h,s,l ranges are in 0.0 - 1.0
h=euclideanModulo(h,1);s=clamp(s,0,1);l=clamp(l,0,1);if(s===0){this.r=this.g=this.b=l;}else{var p=l<=0.5?l*(1+s):l+s-l*s;var q=2*l-p;this.r=hue2rgb(q,p,h+1/3);this.g=hue2rgb(q,p,h);this.b=hue2rgb(q,p,h-1/3);}return this;}},{key:"setStyle",value:function setStyle(style){function handleAlpha(string){if(string===undefined)return;if(parseFloat(string)<1){console.warn('THREE.Color: Alpha component of '+style+' will be ignored.');}}var m;if(m=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(style)){// rgb / hsl
var color;var name=m[1];var components=m[2];switch(name){case'rgb':case'rgba':if(color=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(components)){// rgb(255,0,0) rgba(255,0,0,0.5)
this.r=Math.min(255,parseInt(color[1],10))/255;this.g=Math.min(255,parseInt(color[2],10))/255;this.b=Math.min(255,parseInt(color[3],10))/255;handleAlpha(color[4]);return this;}if(color=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(components)){// rgb(100%,0%,0%) rgba(100%,0%,0%,0.5)
this.r=Math.min(100,parseInt(color[1],10))/100;this.g=Math.min(100,parseInt(color[2],10))/100;this.b=Math.min(100,parseInt(color[3],10))/100;handleAlpha(color[4]);return this;}break;case'hsl':case'hsla':if(color=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(components)){// hsl(120,50%,50%) hsla(120,50%,50%,0.5)
var h=parseFloat(color[1])/360;var s=parseInt(color[2],10)/100;var l=parseInt(color[3],10)/100;handleAlpha(color[4]);return this.setHSL(h,s,l);}break;}}else if(m=/^\#([A-Fa-f\d]+)$/.exec(style)){// hex color
var hex=m[1];var size=hex.length;if(size===3){// #ff0
this.r=parseInt(hex.charAt(0)+hex.charAt(0),16)/255;this.g=parseInt(hex.charAt(1)+hex.charAt(1),16)/255;this.b=parseInt(hex.charAt(2)+hex.charAt(2),16)/255;return this;}else if(size===6){// #ff0000
this.r=parseInt(hex.charAt(0)+hex.charAt(1),16)/255;this.g=parseInt(hex.charAt(2)+hex.charAt(3),16)/255;this.b=parseInt(hex.charAt(4)+hex.charAt(5),16)/255;return this;}}if(style&&style.length>0){return this.setColorName(style);}return this;}},{key:"setColorName",value:function setColorName(style){// color keywords
var hex=_colorKeywords[style.toLowerCase()];if(hex!==undefined){// red
this.setHex(hex);}else{// unknown color
console.warn('THREE.Color: Unknown color '+style);}return this;}},{key:"clone",value:function clone(){return new this.constructor(this.r,this.g,this.b);}},{key:"copy",value:function copy(color){this.r=color.r;this.g=color.g;this.b=color.b;return this;}},{key:"copyGammaToLinear",value:function copyGammaToLinear(color){var gammaFactor=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2.0;this.r=Math.pow(color.r,gammaFactor);this.g=Math.pow(color.g,gammaFactor);this.b=Math.pow(color.b,gammaFactor);return this;}},{key:"copyLinearToGamma",value:function copyLinearToGamma(color){var gammaFactor=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2.0;var safeInverse=gammaFactor>0?1.0/gammaFactor:1.0;this.r=Math.pow(color.r,safeInverse);this.g=Math.pow(color.g,safeInverse);this.b=Math.pow(color.b,safeInverse);return this;}},{key:"convertGammaToLinear",value:function convertGammaToLinear(gammaFactor){this.copyGammaToLinear(this,gammaFactor);return this;}},{key:"convertLinearToGamma",value:function convertLinearToGamma(gammaFactor){this.copyLinearToGamma(this,gammaFactor);return this;}},{key:"copySRGBToLinear",value:function copySRGBToLinear(color){this.r=SRGBToLinear(color.r);this.g=SRGBToLinear(color.g);this.b=SRGBToLinear(color.b);return this;}},{key:"copyLinearToSRGB",value:function copyLinearToSRGB(color){this.r=LinearToSRGB(color.r);this.g=LinearToSRGB(color.g);this.b=LinearToSRGB(color.b);return this;}},{key:"convertSRGBToLinear",value:function convertSRGBToLinear(){this.copySRGBToLinear(this);return this;}},{key:"convertLinearToSRGB",value:function convertLinearToSRGB(){this.copyLinearToSRGB(this);return this;}},{key:"getHex",value:function getHex(){return this.r*255<<16^this.g*255<<8^this.b*255<<0;}},{key:"getHexString",value:function getHexString(){return('000000'+this.getHex().toString(16)).slice(-6);}},{key:"getHSL",value:function getHSL(target){// h,s,l ranges are in 0.0 - 1.0
var r=this.r,g=this.g,b=this.b;var max=Math.max(r,g,b);var min=Math.min(r,g,b);var hue,saturation;var lightness=(min+max)/2.0;if(min===max){hue=0;saturation=0;}else{var delta=max-min;saturation=lightness<=0.5?delta/(max+min):delta/(2-max-min);switch(max){case r:hue=(g-b)/delta+(g<b?6:0);break;case g:hue=(b-r)/delta+2;break;case b:hue=(r-g)/delta+4;break;}hue/=6;}target.h=hue;target.s=saturation;target.l=lightness;return target;}},{key:"getStyle",value:function getStyle(){return'rgb('+(this.r*255|0)+','+(this.g*255|0)+','+(this.b*255|0)+')';}},{key:"offsetHSL",value:function offsetHSL(h,s,l){this.getHSL(_hslA);_hslA.h+=h;_hslA.s+=s;_hslA.l+=l;this.setHSL(_hslA.h,_hslA.s,_hslA.l);return this;}},{key:"add",value:function add(color){this.r+=color.r;this.g+=color.g;this.b+=color.b;return this;}},{key:"addColors",value:function addColors(color1,color2){this.r=color1.r+color2.r;this.g=color1.g+color2.g;this.b=color1.b+color2.b;return this;}},{key:"addScalar",value:function addScalar(s){this.r+=s;this.g+=s;this.b+=s;return this;}},{key:"sub",value:function sub(color){this.r=Math.max(0,this.r-color.r);this.g=Math.max(0,this.g-color.g);this.b=Math.max(0,this.b-color.b);return this;}},{key:"multiply",value:function multiply(color){this.r*=color.r;this.g*=color.g;this.b*=color.b;return this;}},{key:"multiplyScalar",value:function multiplyScalar(s){this.r*=s;this.g*=s;this.b*=s;return this;}},{key:"lerp",value:function lerp(color,alpha){this.r+=(color.r-this.r)*alpha;this.g+=(color.g-this.g)*alpha;this.b+=(color.b-this.b)*alpha;return this;}},{key:"lerpColors",value:function lerpColors(color1,color2,alpha){this.r=color1.r+(color2.r-color1.r)*alpha;this.g=color1.g+(color2.g-color1.g)*alpha;this.b=color1.b+(color2.b-color1.b)*alpha;return this;}},{key:"lerpHSL",value:function lerpHSL(color,alpha){this.getHSL(_hslA);color.getHSL(_hslB);var h=lerp(_hslA.h,_hslB.h,alpha);var s=lerp(_hslA.s,_hslB.s,alpha);var l=lerp(_hslA.l,_hslB.l,alpha);this.setHSL(h,s,l);return this;}},{key:"equals",value:function equals(c){return c.r===this.r&&c.g===this.g&&c.b===this.b;}},{key:"fromArray",value:function fromArray(array){var offset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;this.r=array[offset];this.g=array[offset+1];this.b=array[offset+2];return this;}},{key:"toArray",value:function toArray(){var array=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var offset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;array[offset]=this.r;array[offset+1]=this.g;array[offset+2]=this.b;return array;}},{key:"fromBufferAttribute",value:function fromBufferAttribute(attribute,index){this.r=attribute.getX(index);this.g=attribute.getY(index);this.b=attribute.getZ(index);if(attribute.normalized===true){// assuming Uint8Array
this.r/=255;this.g/=255;this.b/=255;}return this;}},{key:"toJSON",value:function toJSON(){return this.getHex();}}]);return Color;}();exports.Color=Color;Color.NAMES=_colorKeywords;Color.prototype.isColor=true;Color.prototype.r=1;Color.prototype.g=1;Color.prototype.b=1;/**
 * parameters = {
 *  color: <hex>,
 *  opacity: <float>,
 *  map: new THREE.Texture( <Image> ),
 *
 *  lightMap: new THREE.Texture( <Image> ),
 *  lightMapIntensity: <float>
 *
 *  aoMap: new THREE.Texture( <Image> ),
 *  aoMapIntensity: <float>
 *
 *  specularMap: new THREE.Texture( <Image> ),
 *
 *  alphaMap: new THREE.Texture( <Image> ),
 *
 *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),
 *  combine: THREE.Multiply,
 *  reflectivity: <float>,
 *  refractionRatio: <float>,
 *
 *  depthTest: <bool>,
 *  depthWrite: <bool>,
 *
 *  wireframe: <boolean>,
 *  wireframeLinewidth: <float>,
 * }
 */var MeshBasicMaterial=/*#__PURE__*/function(_Material){(0,_inherits2.default)(MeshBasicMaterial,_Material);var _super7=_createSuper(MeshBasicMaterial);function MeshBasicMaterial(parameters){var _this8;(0,_classCallCheck2.default)(this,MeshBasicMaterial);_this8=_super7.call(this);_this8.type='MeshBasicMaterial';_this8.color=new Color(0xffffff);// emissive
_this8.map=null;_this8.lightMap=null;_this8.lightMapIntensity=1.0;_this8.aoMap=null;_this8.aoMapIntensity=1.0;_this8.specularMap=null;_this8.alphaMap=null;_this8.envMap=null;_this8.combine=MultiplyOperation;_this8.reflectivity=1;_this8.refractionRatio=0.98;_this8.wireframe=false;_this8.wireframeLinewidth=1;_this8.wireframeLinecap='round';_this8.wireframeLinejoin='round';_this8.setValues(parameters);return _this8;}(0,_createClass2.default)(MeshBasicMaterial,[{key:"copy",value:function copy(source){(0,_get2.default)((0,_getPrototypeOf2.default)(MeshBasicMaterial.prototype),"copy",this).call(this,source);this.color.copy(source.color);this.map=source.map;this.lightMap=source.lightMap;this.lightMapIntensity=source.lightMapIntensity;this.aoMap=source.aoMap;this.aoMapIntensity=source.aoMapIntensity;this.specularMap=source.specularMap;this.alphaMap=source.alphaMap;this.envMap=source.envMap;this.combine=source.combine;this.reflectivity=source.reflectivity;this.refractionRatio=source.refractionRatio;this.wireframe=source.wireframe;this.wireframeLinewidth=source.wireframeLinewidth;this.wireframeLinecap=source.wireframeLinecap;this.wireframeLinejoin=source.wireframeLinejoin;return this;}}]);return MeshBasicMaterial;}(Material);exports.MeshBasicMaterial=MeshBasicMaterial;MeshBasicMaterial.prototype.isMeshBasicMaterial=true;var _vector$9=/*@__PURE__*/new Vector3();var _vector2$1=/*@__PURE__*/new Vector2();var BufferAttribute=/*#__PURE__*/function(){function BufferAttribute(array,itemSize,normalized){(0,_classCallCheck2.default)(this,BufferAttribute);if(Array.isArray(array)){throw new TypeError('THREE.BufferAttribute: array should be a Typed Array.');}this.name='';this.array=array;this.itemSize=itemSize;this.count=array!==undefined?array.length/itemSize:0;this.normalized=normalized===true;this.usage=StaticDrawUsage;this.updateRange={offset:0,count:-1};this.version=0;}(0,_createClass2.default)(BufferAttribute,[{key:"onUploadCallback",value:function onUploadCallback(){}},{key:"needsUpdate",set:function set(value){if(value===true)this.version++;}},{key:"setUsage",value:function setUsage(value){this.usage=value;return this;}},{key:"copy",value:function copy(source){this.name=source.name;this.array=new source.array.constructor(source.array);this.itemSize=source.itemSize;this.count=source.count;this.normalized=source.normalized;this.usage=source.usage;return this;}},{key:"copyAt",value:function copyAt(index1,attribute,index2){index1*=this.itemSize;index2*=attribute.itemSize;for(var _i30=0,l=this.itemSize;_i30<l;_i30++){this.array[index1+_i30]=attribute.array[index2+_i30];}return this;}},{key:"copyArray",value:function copyArray(array){this.array.set(array);return this;}},{key:"copyColorsArray",value:function copyColorsArray(colors){var array=this.array;var offset=0;for(var _i31=0,l=colors.length;_i31<l;_i31++){var color=colors[_i31];if(color===undefined){console.warn('THREE.BufferAttribute.copyColorsArray(): color is undefined',_i31);color=new Color();}array[offset++]=color.r;array[offset++]=color.g;array[offset++]=color.b;}return this;}},{key:"copyVector2sArray",value:function copyVector2sArray(vectors){var array=this.array;var offset=0;for(var _i32=0,l=vectors.length;_i32<l;_i32++){var vector=vectors[_i32];if(vector===undefined){console.warn('THREE.BufferAttribute.copyVector2sArray(): vector is undefined',_i32);vector=new Vector2();}array[offset++]=vector.x;array[offset++]=vector.y;}return this;}},{key:"copyVector3sArray",value:function copyVector3sArray(vectors){var array=this.array;var offset=0;for(var _i33=0,l=vectors.length;_i33<l;_i33++){var vector=vectors[_i33];if(vector===undefined){console.warn('THREE.BufferAttribute.copyVector3sArray(): vector is undefined',_i33);vector=new Vector3();}array[offset++]=vector.x;array[offset++]=vector.y;array[offset++]=vector.z;}return this;}},{key:"copyVector4sArray",value:function copyVector4sArray(vectors){var array=this.array;var offset=0;for(var _i34=0,l=vectors.length;_i34<l;_i34++){var vector=vectors[_i34];if(vector===undefined){console.warn('THREE.BufferAttribute.copyVector4sArray(): vector is undefined',_i34);vector=new Vector4();}array[offset++]=vector.x;array[offset++]=vector.y;array[offset++]=vector.z;array[offset++]=vector.w;}return this;}},{key:"applyMatrix3",value:function applyMatrix3(m){if(this.itemSize===2){for(var _i35=0,l=this.count;_i35<l;_i35++){_vector2$1.fromBufferAttribute(this,_i35);_vector2$1.applyMatrix3(m);this.setXY(_i35,_vector2$1.x,_vector2$1.y);}}else if(this.itemSize===3){for(var _i36=0,_l2=this.count;_i36<_l2;_i36++){_vector$9.fromBufferAttribute(this,_i36);_vector$9.applyMatrix3(m);this.setXYZ(_i36,_vector$9.x,_vector$9.y,_vector$9.z);}}return this;}},{key:"applyMatrix4",value:function applyMatrix4(m){for(var _i37=0,l=this.count;_i37<l;_i37++){_vector$9.x=this.getX(_i37);_vector$9.y=this.getY(_i37);_vector$9.z=this.getZ(_i37);_vector$9.applyMatrix4(m);this.setXYZ(_i37,_vector$9.x,_vector$9.y,_vector$9.z);}return this;}},{key:"applyNormalMatrix",value:function applyNormalMatrix(m){for(var _i38=0,l=this.count;_i38<l;_i38++){_vector$9.x=this.getX(_i38);_vector$9.y=this.getY(_i38);_vector$9.z=this.getZ(_i38);_vector$9.applyNormalMatrix(m);this.setXYZ(_i38,_vector$9.x,_vector$9.y,_vector$9.z);}return this;}},{key:"transformDirection",value:function transformDirection(m){for(var _i39=0,l=this.count;_i39<l;_i39++){_vector$9.x=this.getX(_i39);_vector$9.y=this.getY(_i39);_vector$9.z=this.getZ(_i39);_vector$9.transformDirection(m);this.setXYZ(_i39,_vector$9.x,_vector$9.y,_vector$9.z);}return this;}},{key:"set",value:function set(value){var offset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;this.array.set(value,offset);return this;}},{key:"getX",value:function getX(index){return this.array[index*this.itemSize];}},{key:"setX",value:function setX(index,x){this.array[index*this.itemSize]=x;return this;}},{key:"getY",value:function getY(index){return this.array[index*this.itemSize+1];}},{key:"setY",value:function setY(index,y){this.array[index*this.itemSize+1]=y;return this;}},{key:"getZ",value:function getZ(index){return this.array[index*this.itemSize+2];}},{key:"setZ",value:function setZ(index,z){this.array[index*this.itemSize+2]=z;return this;}},{key:"getW",value:function getW(index){return this.array[index*this.itemSize+3];}},{key:"setW",value:function setW(index,w){this.array[index*this.itemSize+3]=w;return this;}},{key:"setXY",value:function setXY(index,x,y){index*=this.itemSize;this.array[index+0]=x;this.array[index+1]=y;return this;}},{key:"setXYZ",value:function setXYZ(index,x,y,z){index*=this.itemSize;this.array[index+0]=x;this.array[index+1]=y;this.array[index+2]=z;return this;}},{key:"setXYZW",value:function setXYZW(index,x,y,z,w){index*=this.itemSize;this.array[index+0]=x;this.array[index+1]=y;this.array[index+2]=z;this.array[index+3]=w;return this;}},{key:"onUpload",value:function onUpload(callback){this.onUploadCallback=callback;return this;}},{key:"clone",value:function clone(){return new this.constructor(this.array,this.itemSize).copy(this);}},{key:"toJSON",value:function toJSON(){var data={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};if(this.name!=='')data.name=this.name;if(this.usage!==StaticDrawUsage)data.usage=this.usage;if(this.updateRange.offset!==0||this.updateRange.count!==-1)data.updateRange=this.updateRange;return data;}}]);return BufferAttribute;}();exports.BufferAttribute=BufferAttribute;BufferAttribute.prototype.isBufferAttribute=true;//
var Int8BufferAttribute=/*#__PURE__*/function(_BufferAttribute){(0,_inherits2.default)(Int8BufferAttribute,_BufferAttribute);var _super8=_createSuper(Int8BufferAttribute);function Int8BufferAttribute(array,itemSize,normalized){(0,_classCallCheck2.default)(this,Int8BufferAttribute);return _super8.call(this,new Int8Array(array),itemSize,normalized);}return(0,_createClass2.default)(Int8BufferAttribute);}(BufferAttribute);exports.Int8BufferAttribute=Int8BufferAttribute;var Uint8BufferAttribute=/*#__PURE__*/function(_BufferAttribute2){(0,_inherits2.default)(Uint8BufferAttribute,_BufferAttribute2);var _super9=_createSuper(Uint8BufferAttribute);function Uint8BufferAttribute(array,itemSize,normalized){(0,_classCallCheck2.default)(this,Uint8BufferAttribute);return _super9.call(this,new Uint8Array(array),itemSize,normalized);}return(0,_createClass2.default)(Uint8BufferAttribute);}(BufferAttribute);exports.Uint8BufferAttribute=Uint8BufferAttribute;var Uint8ClampedBufferAttribute=/*#__PURE__*/function(_BufferAttribute3){(0,_inherits2.default)(Uint8ClampedBufferAttribute,_BufferAttribute3);var _super10=_createSuper(Uint8ClampedBufferAttribute);function Uint8ClampedBufferAttribute(array,itemSize,normalized){(0,_classCallCheck2.default)(this,Uint8ClampedBufferAttribute);return _super10.call(this,new Uint8ClampedArray(array),itemSize,normalized);}return(0,_createClass2.default)(Uint8ClampedBufferAttribute);}(BufferAttribute);exports.Uint8ClampedBufferAttribute=Uint8ClampedBufferAttribute;var Int16BufferAttribute=/*#__PURE__*/function(_BufferAttribute4){(0,_inherits2.default)(Int16BufferAttribute,_BufferAttribute4);var _super11=_createSuper(Int16BufferAttribute);function Int16BufferAttribute(array,itemSize,normalized){(0,_classCallCheck2.default)(this,Int16BufferAttribute);return _super11.call(this,new Int16Array(array),itemSize,normalized);}return(0,_createClass2.default)(Int16BufferAttribute);}(BufferAttribute);exports.Int16BufferAttribute=Int16BufferAttribute;var Uint16BufferAttribute=/*#__PURE__*/function(_BufferAttribute5){(0,_inherits2.default)(Uint16BufferAttribute,_BufferAttribute5);var _super12=_createSuper(Uint16BufferAttribute);function Uint16BufferAttribute(array,itemSize,normalized){(0,_classCallCheck2.default)(this,Uint16BufferAttribute);return _super12.call(this,new Uint16Array(array),itemSize,normalized);}return(0,_createClass2.default)(Uint16BufferAttribute);}(BufferAttribute);exports.Uint16BufferAttribute=Uint16BufferAttribute;var Int32BufferAttribute=/*#__PURE__*/function(_BufferAttribute6){(0,_inherits2.default)(Int32BufferAttribute,_BufferAttribute6);var _super13=_createSuper(Int32BufferAttribute);function Int32BufferAttribute(array,itemSize,normalized){(0,_classCallCheck2.default)(this,Int32BufferAttribute);return _super13.call(this,new Int32Array(array),itemSize,normalized);}return(0,_createClass2.default)(Int32BufferAttribute);}(BufferAttribute);exports.Int32BufferAttribute=Int32BufferAttribute;var Uint32BufferAttribute=/*#__PURE__*/function(_BufferAttribute7){(0,_inherits2.default)(Uint32BufferAttribute,_BufferAttribute7);var _super14=_createSuper(Uint32BufferAttribute);function Uint32BufferAttribute(array,itemSize,normalized){(0,_classCallCheck2.default)(this,Uint32BufferAttribute);return _super14.call(this,new Uint32Array(array),itemSize,normalized);}return(0,_createClass2.default)(Uint32BufferAttribute);}(BufferAttribute);exports.Uint32BufferAttribute=Uint32BufferAttribute;var Float16BufferAttribute=/*#__PURE__*/function(_BufferAttribute8){(0,_inherits2.default)(Float16BufferAttribute,_BufferAttribute8);var _super15=_createSuper(Float16BufferAttribute);function Float16BufferAttribute(array,itemSize,normalized){(0,_classCallCheck2.default)(this,Float16BufferAttribute);return _super15.call(this,new Uint16Array(array),itemSize,normalized);}return(0,_createClass2.default)(Float16BufferAttribute);}(BufferAttribute);exports.Float16BufferAttribute=Float16BufferAttribute;Float16BufferAttribute.prototype.isFloat16BufferAttribute=true;var Float32BufferAttribute=/*#__PURE__*/function(_BufferAttribute9){(0,_inherits2.default)(Float32BufferAttribute,_BufferAttribute9);var _super16=_createSuper(Float32BufferAttribute);function Float32BufferAttribute(array,itemSize,normalized){(0,_classCallCheck2.default)(this,Float32BufferAttribute);return _super16.call(this,new Float32Array(array),itemSize,normalized);}return(0,_createClass2.default)(Float32BufferAttribute);}(BufferAttribute);exports.Float32BufferAttribute=Float32BufferAttribute;var Float64BufferAttribute=/*#__PURE__*/function(_BufferAttribute10){(0,_inherits2.default)(Float64BufferAttribute,_BufferAttribute10);var _super17=_createSuper(Float64BufferAttribute);function Float64BufferAttribute(array,itemSize,normalized){(0,_classCallCheck2.default)(this,Float64BufferAttribute);return _super17.call(this,new Float64Array(array),itemSize,normalized);}return(0,_createClass2.default)(Float64BufferAttribute);}(BufferAttribute);exports.Float64BufferAttribute=Float64BufferAttribute;var _id=0;var _m1=/*@__PURE__*/new Matrix4();var _obj=/*@__PURE__*/new Object3D();var _offset=/*@__PURE__*/new Vector3();var _box$1=/*@__PURE__*/new Box3();var _boxMorphTargets=/*@__PURE__*/new Box3();var _vector$8=/*@__PURE__*/new Vector3();var BufferGeometry=/*#__PURE__*/function(_EventDispatcher5){(0,_inherits2.default)(BufferGeometry,_EventDispatcher5);var _super18=_createSuper(BufferGeometry);function BufferGeometry(){var _this9;(0,_classCallCheck2.default)(this,BufferGeometry);_this9=_super18.call(this);Object.defineProperty((0,_assertThisInitialized2.default)(_this9),'id',{value:_id++});_this9.uuid=generateUUID();_this9.name='';_this9.type='BufferGeometry';_this9.index=null;_this9.attributes={};_this9.morphAttributes={};_this9.morphTargetsRelative=false;_this9.groups=[];_this9.boundingBox=null;_this9.boundingSphere=null;_this9.drawRange={start:0,count:Infinity};_this9.userData={};return _this9;}(0,_createClass2.default)(BufferGeometry,[{key:"getIndex",value:function getIndex(){return this.index;}},{key:"setIndex",value:function setIndex(index){if(Array.isArray(index)){this.index=new(arrayMax(index)>65535?Uint32BufferAttribute:Uint16BufferAttribute)(index,1);}else{this.index=index;}return this;}},{key:"getAttribute",value:function getAttribute(name){return this.attributes[name];}},{key:"setAttribute",value:function setAttribute(name,attribute){this.attributes[name]=attribute;return this;}},{key:"deleteAttribute",value:function deleteAttribute(name){delete this.attributes[name];return this;}},{key:"hasAttribute",value:function hasAttribute(name){return this.attributes[name]!==undefined;}},{key:"addGroup",value:function addGroup(start,count){var materialIndex=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;this.groups.push({start:start,count:count,materialIndex:materialIndex});}},{key:"clearGroups",value:function clearGroups(){this.groups=[];}},{key:"setDrawRange",value:function setDrawRange(start,count){this.drawRange.start=start;this.drawRange.count=count;}},{key:"applyMatrix4",value:function applyMatrix4(matrix){var position=this.attributes.position;if(position!==undefined){position.applyMatrix4(matrix);position.needsUpdate=true;}var normal=this.attributes.normal;if(normal!==undefined){var normalMatrix=new Matrix3().getNormalMatrix(matrix);normal.applyNormalMatrix(normalMatrix);normal.needsUpdate=true;}var tangent=this.attributes.tangent;if(tangent!==undefined){tangent.transformDirection(matrix);tangent.needsUpdate=true;}if(this.boundingBox!==null){this.computeBoundingBox();}if(this.boundingSphere!==null){this.computeBoundingSphere();}return this;}},{key:"applyQuaternion",value:function applyQuaternion(q){_m1.makeRotationFromQuaternion(q);this.applyMatrix4(_m1);return this;}},{key:"rotateX",value:function rotateX(angle){// rotate geometry around world x-axis
_m1.makeRotationX(angle);this.applyMatrix4(_m1);return this;}},{key:"rotateY",value:function rotateY(angle){// rotate geometry around world y-axis
_m1.makeRotationY(angle);this.applyMatrix4(_m1);return this;}},{key:"rotateZ",value:function rotateZ(angle){// rotate geometry around world z-axis
_m1.makeRotationZ(angle);this.applyMatrix4(_m1);return this;}},{key:"translate",value:function translate(x,y,z){// translate geometry
_m1.makeTranslation(x,y,z);this.applyMatrix4(_m1);return this;}},{key:"scale",value:function scale(x,y,z){// scale geometry
_m1.makeScale(x,y,z);this.applyMatrix4(_m1);return this;}},{key:"lookAt",value:function lookAt(vector){_obj.lookAt(vector);_obj.updateMatrix();this.applyMatrix4(_obj.matrix);return this;}},{key:"center",value:function center(){this.computeBoundingBox();this.boundingBox.getCenter(_offset).negate();this.translate(_offset.x,_offset.y,_offset.z);return this;}},{key:"setFromPoints",value:function setFromPoints(points){var position=[];for(var _i40=0,l=points.length;_i40<l;_i40++){var point=points[_i40];position.push(point.x,point.y,point.z||0);}this.setAttribute('position',new Float32BufferAttribute(position,3));return this;}},{key:"computeBoundingBox",value:function computeBoundingBox(){if(this.boundingBox===null){this.boundingBox=new Box3();}var position=this.attributes.position;var morphAttributesPosition=this.morphAttributes.position;if(position&&position.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this);this.boundingBox.set(new Vector3(-Infinity,-Infinity,-Infinity),new Vector3(+Infinity,+Infinity,+Infinity));return;}if(position!==undefined){this.boundingBox.setFromBufferAttribute(position);// process morph attributes if present
if(morphAttributesPosition){for(var _i41=0,il=morphAttributesPosition.length;_i41<il;_i41++){var morphAttribute=morphAttributesPosition[_i41];_box$1.setFromBufferAttribute(morphAttribute);if(this.morphTargetsRelative){_vector$8.addVectors(this.boundingBox.min,_box$1.min);this.boundingBox.expandByPoint(_vector$8);_vector$8.addVectors(this.boundingBox.max,_box$1.max);this.boundingBox.expandByPoint(_vector$8);}else{this.boundingBox.expandByPoint(_box$1.min);this.boundingBox.expandByPoint(_box$1.max);}}}}else{this.boundingBox.makeEmpty();}if(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z)){console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this);}}},{key:"computeBoundingSphere",value:function computeBoundingSphere(){if(this.boundingSphere===null){this.boundingSphere=new Sphere();}var position=this.attributes.position;var morphAttributesPosition=this.morphAttributes.position;if(position&&position.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this);this.boundingSphere.set(new Vector3(),Infinity);return;}if(position){// first, find the center of the bounding sphere
var center=this.boundingSphere.center;_box$1.setFromBufferAttribute(position);// process morph attributes if present
if(morphAttributesPosition){for(var _i42=0,il=morphAttributesPosition.length;_i42<il;_i42++){var morphAttribute=morphAttributesPosition[_i42];_boxMorphTargets.setFromBufferAttribute(morphAttribute);if(this.morphTargetsRelative){_vector$8.addVectors(_box$1.min,_boxMorphTargets.min);_box$1.expandByPoint(_vector$8);_vector$8.addVectors(_box$1.max,_boxMorphTargets.max);_box$1.expandByPoint(_vector$8);}else{_box$1.expandByPoint(_boxMorphTargets.min);_box$1.expandByPoint(_boxMorphTargets.max);}}}_box$1.getCenter(center);// second, try to find a boundingSphere with a radius smaller than the
// boundingSphere of the boundingBox: sqrt(3) smaller in the best case
var maxRadiusSq=0;for(var _i43=0,_il=position.count;_i43<_il;_i43++){_vector$8.fromBufferAttribute(position,_i43);maxRadiusSq=Math.max(maxRadiusSq,center.distanceToSquared(_vector$8));}// process morph attributes if present
if(morphAttributesPosition){for(var _i44=0,_il2=morphAttributesPosition.length;_i44<_il2;_i44++){var _morphAttribute=morphAttributesPosition[_i44];var morphTargetsRelative=this.morphTargetsRelative;for(var j=0,jl=_morphAttribute.count;j<jl;j++){_vector$8.fromBufferAttribute(_morphAttribute,j);if(morphTargetsRelative){_offset.fromBufferAttribute(position,j);_vector$8.add(_offset);}maxRadiusSq=Math.max(maxRadiusSq,center.distanceToSquared(_vector$8));}}}this.boundingSphere.radius=Math.sqrt(maxRadiusSq);if(isNaN(this.boundingSphere.radius)){console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this);}}}},{key:"computeTangents",value:function computeTangents(){var index=this.index;var attributes=this.attributes;// based on http://www.terathon.com/code/tangent.html
// (per vertex tangents)
if(index===null||attributes.position===undefined||attributes.normal===undefined||attributes.uv===undefined){console.error('THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)');return;}var indices=index.array;var positions=attributes.position.array;var normals=attributes.normal.array;var uvs=attributes.uv.array;var nVertices=positions.length/3;if(attributes.tangent===undefined){this.setAttribute('tangent',new BufferAttribute(new Float32Array(4*nVertices),4));}var tangents=attributes.tangent.array;var tan1=[],tan2=[];for(var _i45=0;_i45<nVertices;_i45++){tan1[_i45]=new Vector3();tan2[_i45]=new Vector3();}var vA=new Vector3(),vB=new Vector3(),vC=new Vector3(),uvA=new Vector2(),uvB=new Vector2(),uvC=new Vector2(),sdir=new Vector3(),tdir=new Vector3();function handleTriangle(a,b,c){vA.fromArray(positions,a*3);vB.fromArray(positions,b*3);vC.fromArray(positions,c*3);uvA.fromArray(uvs,a*2);uvB.fromArray(uvs,b*2);uvC.fromArray(uvs,c*2);vB.sub(vA);vC.sub(vA);uvB.sub(uvA);uvC.sub(uvA);var r=1.0/(uvB.x*uvC.y-uvC.x*uvB.y);// silently ignore degenerate uv triangles having coincident or colinear vertices
if(!isFinite(r))return;sdir.copy(vB).multiplyScalar(uvC.y).addScaledVector(vC,-uvB.y).multiplyScalar(r);tdir.copy(vC).multiplyScalar(uvB.x).addScaledVector(vB,-uvC.x).multiplyScalar(r);tan1[a].add(sdir);tan1[b].add(sdir);tan1[c].add(sdir);tan2[a].add(tdir);tan2[b].add(tdir);tan2[c].add(tdir);}var groups=this.groups;if(groups.length===0){groups=[{start:0,count:indices.length}];}for(var _i46=0,il=groups.length;_i46<il;++_i46){var group=groups[_i46];var start=group.start;var count=group.count;for(var j=start,jl=start+count;j<jl;j+=3){handleTriangle(indices[j+0],indices[j+1],indices[j+2]);}}var tmp=new Vector3(),tmp2=new Vector3();var n=new Vector3(),n2=new Vector3();function handleVertex(v){n.fromArray(normals,v*3);n2.copy(n);var t=tan1[v];// Gram-Schmidt orthogonalize
tmp.copy(t);tmp.sub(n.multiplyScalar(n.dot(t))).normalize();// Calculate handedness
tmp2.crossVectors(n2,t);var test=tmp2.dot(tan2[v]);var w=test<0.0?-1.0:1.0;tangents[v*4]=tmp.x;tangents[v*4+1]=tmp.y;tangents[v*4+2]=tmp.z;tangents[v*4+3]=w;}for(var _i47=0,_il3=groups.length;_i47<_il3;++_i47){var _group=groups[_i47];var _start2=_group.start;var _count=_group.count;for(var _j=_start2,_jl=_start2+_count;_j<_jl;_j+=3){handleVertex(indices[_j+0]);handleVertex(indices[_j+1]);handleVertex(indices[_j+2]);}}}},{key:"computeVertexNormals",value:function computeVertexNormals(){var index=this.index;var positionAttribute=this.getAttribute('position');if(positionAttribute!==undefined){var normalAttribute=this.getAttribute('normal');if(normalAttribute===undefined){normalAttribute=new BufferAttribute(new Float32Array(positionAttribute.count*3),3);this.setAttribute('normal',normalAttribute);}else{// reset existing normals to zero
for(var _i48=0,il=normalAttribute.count;_i48<il;_i48++){normalAttribute.setXYZ(_i48,0,0,0);}}var pA=new Vector3(),pB=new Vector3(),pC=new Vector3();var nA=new Vector3(),nB=new Vector3(),nC=new Vector3();var cb=new Vector3(),ab=new Vector3();// indexed elements
if(index){for(var _i49=0,_il4=index.count;_i49<_il4;_i49+=3){var vA=index.getX(_i49+0);var vB=index.getX(_i49+1);var vC=index.getX(_i49+2);pA.fromBufferAttribute(positionAttribute,vA);pB.fromBufferAttribute(positionAttribute,vB);pC.fromBufferAttribute(positionAttribute,vC);cb.subVectors(pC,pB);ab.subVectors(pA,pB);cb.cross(ab);nA.fromBufferAttribute(normalAttribute,vA);nB.fromBufferAttribute(normalAttribute,vB);nC.fromBufferAttribute(normalAttribute,vC);nA.add(cb);nB.add(cb);nC.add(cb);normalAttribute.setXYZ(vA,nA.x,nA.y,nA.z);normalAttribute.setXYZ(vB,nB.x,nB.y,nB.z);normalAttribute.setXYZ(vC,nC.x,nC.y,nC.z);}}else{// non-indexed elements (unconnected triangle soup)
for(var _i50=0,_il5=positionAttribute.count;_i50<_il5;_i50+=3){pA.fromBufferAttribute(positionAttribute,_i50+0);pB.fromBufferAttribute(positionAttribute,_i50+1);pC.fromBufferAttribute(positionAttribute,_i50+2);cb.subVectors(pC,pB);ab.subVectors(pA,pB);cb.cross(ab);normalAttribute.setXYZ(_i50+0,cb.x,cb.y,cb.z);normalAttribute.setXYZ(_i50+1,cb.x,cb.y,cb.z);normalAttribute.setXYZ(_i50+2,cb.x,cb.y,cb.z);}}this.normalizeNormals();normalAttribute.needsUpdate=true;}}},{key:"merge",value:function merge(geometry,offset){if(!(geometry&&geometry.isBufferGeometry)){console.error('THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.',geometry);return;}if(offset===undefined){offset=0;console.warn('THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. '+'Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge.');}var attributes=this.attributes;for(var key in attributes){if(geometry.attributes[key]===undefined)continue;var attribute1=attributes[key];var attributeArray1=attribute1.array;var attribute2=geometry.attributes[key];var attributeArray2=attribute2.array;var attributeOffset=attribute2.itemSize*offset;var length=Math.min(attributeArray2.length,attributeArray1.length-attributeOffset);for(var _i51=0,j=attributeOffset;_i51<length;_i51++,j++){attributeArray1[j]=attributeArray2[_i51];}}return this;}},{key:"normalizeNormals",value:function normalizeNormals(){var normals=this.attributes.normal;for(var _i52=0,il=normals.count;_i52<il;_i52++){_vector$8.fromBufferAttribute(normals,_i52);_vector$8.normalize();normals.setXYZ(_i52,_vector$8.x,_vector$8.y,_vector$8.z);}}},{key:"toNonIndexed",value:function toNonIndexed(){function convertBufferAttribute(attribute,indices){var array=attribute.array;var itemSize=attribute.itemSize;var normalized=attribute.normalized;var array2=new array.constructor(indices.length*itemSize);var index=0,index2=0;for(var _i53=0,l=indices.length;_i53<l;_i53++){if(attribute.isInterleavedBufferAttribute){index=indices[_i53]*attribute.data.stride+attribute.offset;}else{index=indices[_i53]*itemSize;}for(var j=0;j<itemSize;j++){array2[index2++]=array[index++];}}return new BufferAttribute(array2,itemSize,normalized);}//
if(this.index===null){console.warn('THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed.');return this;}var geometry2=new BufferGeometry();var indices=this.index.array;var attributes=this.attributes;// attributes
for(var name in attributes){var attribute=attributes[name];var newAttribute=convertBufferAttribute(attribute,indices);geometry2.setAttribute(name,newAttribute);}// morph attributes
var morphAttributes=this.morphAttributes;for(var _name in morphAttributes){var morphArray=[];var morphAttribute=morphAttributes[_name];// morphAttribute: array of Float32BufferAttributes
for(var _i54=0,il=morphAttribute.length;_i54<il;_i54++){var _attribute=morphAttribute[_i54];var _newAttribute=convertBufferAttribute(_attribute,indices);morphArray.push(_newAttribute);}geometry2.morphAttributes[_name]=morphArray;}geometry2.morphTargetsRelative=this.morphTargetsRelative;// groups
var groups=this.groups;for(var _i55=0,l=groups.length;_i55<l;_i55++){var group=groups[_i55];geometry2.addGroup(group.start,group.count,group.materialIndex);}return geometry2;}},{key:"toJSON",value:function toJSON(){var data={metadata:{version:4.5,type:'BufferGeometry',generator:'BufferGeometry.toJSON'}};// standard BufferGeometry serialization
data.uuid=this.uuid;data.type=this.type;if(this.name!=='')data.name=this.name;if(Object.keys(this.userData).length>0)data.userData=this.userData;if(this.parameters!==undefined){var parameters=this.parameters;for(var key in parameters){if(parameters[key]!==undefined)data[key]=parameters[key];}return data;}// for simplicity the code assumes attributes are not shared across geometries, see #15811
data.data={attributes:{}};var index=this.index;if(index!==null){data.data.index={type:index.array.constructor.name,array:Array.prototype.slice.call(index.array)};}var attributes=this.attributes;for(var _key in attributes){var attribute=attributes[_key];data.data.attributes[_key]=attribute.toJSON(data.data);}var morphAttributes={};var hasMorphAttributes=false;for(var _key2 in this.morphAttributes){var attributeArray=this.morphAttributes[_key2];var array=[];for(var _i56=0,il=attributeArray.length;_i56<il;_i56++){var _attribute2=attributeArray[_i56];array.push(_attribute2.toJSON(data.data));}if(array.length>0){morphAttributes[_key2]=array;hasMorphAttributes=true;}}if(hasMorphAttributes){data.data.morphAttributes=morphAttributes;data.data.morphTargetsRelative=this.morphTargetsRelative;}var groups=this.groups;if(groups.length>0){data.data.groups=JSON.parse(JSON.stringify(groups));}var boundingSphere=this.boundingSphere;if(boundingSphere!==null){data.data.boundingSphere={center:boundingSphere.center.toArray(),radius:boundingSphere.radius};}return data;}},{key:"clone",value:function clone(){return new this.constructor().copy(this);}},{key:"copy",value:function copy(source){// reset
this.index=null;this.attributes={};this.morphAttributes={};this.groups=[];this.boundingBox=null;this.boundingSphere=null;// used for storing cloned, shared data
var data={};// name
this.name=source.name;// index
var index=source.index;if(index!==null){this.setIndex(index.clone(data));}// attributes
var attributes=source.attributes;for(var name in attributes){var attribute=attributes[name];this.setAttribute(name,attribute.clone(data));}// morph attributes
var morphAttributes=source.morphAttributes;for(var _name2 in morphAttributes){var array=[];var morphAttribute=morphAttributes[_name2];// morphAttribute: array of Float32BufferAttributes
for(var _i57=0,l=morphAttribute.length;_i57<l;_i57++){array.push(morphAttribute[_i57].clone(data));}this.morphAttributes[_name2]=array;}this.morphTargetsRelative=source.morphTargetsRelative;// groups
var groups=source.groups;for(var _i58=0,_l3=groups.length;_i58<_l3;_i58++){var group=groups[_i58];this.addGroup(group.start,group.count,group.materialIndex);}// bounding box
var boundingBox=source.boundingBox;if(boundingBox!==null){this.boundingBox=boundingBox.clone();}// bounding sphere
var boundingSphere=source.boundingSphere;if(boundingSphere!==null){this.boundingSphere=boundingSphere.clone();}// draw range
this.drawRange.start=source.drawRange.start;this.drawRange.count=source.drawRange.count;// user data
this.userData=source.userData;// geometry generator parameters
if(source.parameters!==undefined)this.parameters=Object.assign({},source.parameters);return this;}},{key:"dispose",value:function dispose(){this.dispatchEvent({type:'dispose'});}}]);return BufferGeometry;}(EventDispatcher);exports.BufferGeometry=BufferGeometry;BufferGeometry.prototype.isBufferGeometry=true;var _inverseMatrix$2=/*@__PURE__*/new Matrix4();var _ray$2=/*@__PURE__*/new Ray();var _sphere$3=/*@__PURE__*/new Sphere();var _vA$1=/*@__PURE__*/new Vector3();var _vB$1=/*@__PURE__*/new Vector3();var _vC$1=/*@__PURE__*/new Vector3();var _tempA=/*@__PURE__*/new Vector3();var _tempB=/*@__PURE__*/new Vector3();var _tempC=/*@__PURE__*/new Vector3();var _morphA=/*@__PURE__*/new Vector3();var _morphB=/*@__PURE__*/new Vector3();var _morphC=/*@__PURE__*/new Vector3();var _uvA$1=/*@__PURE__*/new Vector2();var _uvB$1=/*@__PURE__*/new Vector2();var _uvC$1=/*@__PURE__*/new Vector2();var _intersectionPoint=/*@__PURE__*/new Vector3();var _intersectionPointWorld=/*@__PURE__*/new Vector3();var Mesh=/*#__PURE__*/function(_Object3D){(0,_inherits2.default)(Mesh,_Object3D);var _super19=_createSuper(Mesh);function Mesh(){var _this10;var geometry=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new BufferGeometry();var material=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new MeshBasicMaterial();(0,_classCallCheck2.default)(this,Mesh);_this10=_super19.call(this);_this10.type='Mesh';_this10.geometry=geometry;_this10.material=material;_this10.updateMorphTargets();return _this10;}(0,_createClass2.default)(Mesh,[{key:"copy",value:function copy(source){(0,_get2.default)((0,_getPrototypeOf2.default)(Mesh.prototype),"copy",this).call(this,source);if(source.morphTargetInfluences!==undefined){this.morphTargetInfluences=source.morphTargetInfluences.slice();}if(source.morphTargetDictionary!==undefined){this.morphTargetDictionary=Object.assign({},source.morphTargetDictionary);}this.material=source.material;this.geometry=source.geometry;return this;}},{key:"updateMorphTargets",value:function updateMorphTargets(){var geometry=this.geometry;if(geometry.isBufferGeometry){var morphAttributes=geometry.morphAttributes;var keys=Object.keys(morphAttributes);if(keys.length>0){var morphAttribute=morphAttributes[keys[0]];if(morphAttribute!==undefined){this.morphTargetInfluences=[];this.morphTargetDictionary={};for(var m=0,ml=morphAttribute.length;m<ml;m++){var name=morphAttribute[m].name||String(m);this.morphTargetInfluences.push(0);this.morphTargetDictionary[name]=m;}}}}else{var morphTargets=geometry.morphTargets;if(morphTargets!==undefined&&morphTargets.length>0){console.error('THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.');}}}},{key:"raycast",value:function raycast(raycaster,intersects){var geometry=this.geometry;var material=this.material;var matrixWorld=this.matrixWorld;if(material===undefined)return;// Checking boundingSphere distance to ray
if(geometry.boundingSphere===null)geometry.computeBoundingSphere();_sphere$3.copy(geometry.boundingSphere);_sphere$3.applyMatrix4(matrixWorld);if(raycaster.ray.intersectsSphere(_sphere$3)===false)return;//
_inverseMatrix$2.copy(matrixWorld).invert();_ray$2.copy(raycaster.ray).applyMatrix4(_inverseMatrix$2);// Check boundingBox before continuing
if(geometry.boundingBox!==null){if(_ray$2.intersectsBox(geometry.boundingBox)===false)return;}var intersection;if(geometry.isBufferGeometry){var index=geometry.index;var position=geometry.attributes.position;var morphPosition=geometry.morphAttributes.position;var morphTargetsRelative=geometry.morphTargetsRelative;var uv=geometry.attributes.uv;var uv2=geometry.attributes.uv2;var groups=geometry.groups;var drawRange=geometry.drawRange;if(index!==null){// indexed buffer geometry
if(Array.isArray(material)){for(var _i59=0,il=groups.length;_i59<il;_i59++){var group=groups[_i59];var groupMaterial=material[group.materialIndex];var start=Math.max(group.start,drawRange.start);var end=Math.min(index.count,Math.min(group.start+group.count,drawRange.start+drawRange.count));for(var j=start,jl=end;j<jl;j+=3){var a=index.getX(j);var b=index.getX(j+1);var c=index.getX(j+2);intersection=checkBufferGeometryIntersection(this,groupMaterial,raycaster,_ray$2,position,morphPosition,morphTargetsRelative,uv,uv2,a,b,c);if(intersection){intersection.faceIndex=Math.floor(j/3);// triangle number in indexed buffer semantics
intersection.face.materialIndex=group.materialIndex;intersects.push(intersection);}}}}else{var _start3=Math.max(0,drawRange.start);var _end2=Math.min(index.count,drawRange.start+drawRange.count);for(var _i60=_start3,_il6=_end2;_i60<_il6;_i60+=3){var _a=index.getX(_i60);var _b=index.getX(_i60+1);var _c=index.getX(_i60+2);intersection=checkBufferGeometryIntersection(this,material,raycaster,_ray$2,position,morphPosition,morphTargetsRelative,uv,uv2,_a,_b,_c);if(intersection){intersection.faceIndex=Math.floor(_i60/3);// triangle number in indexed buffer semantics
intersects.push(intersection);}}}}else if(position!==undefined){// non-indexed buffer geometry
if(Array.isArray(material)){for(var _i61=0,_il7=groups.length;_i61<_il7;_i61++){var _group2=groups[_i61];var _groupMaterial=material[_group2.materialIndex];var _start4=Math.max(_group2.start,drawRange.start);var _end3=Math.min(position.count,Math.min(_group2.start+_group2.count,drawRange.start+drawRange.count));for(var _j2=_start4,_jl2=_end3;_j2<_jl2;_j2+=3){var _a2=_j2;var _b2=_j2+1;var _c2=_j2+2;intersection=checkBufferGeometryIntersection(this,_groupMaterial,raycaster,_ray$2,position,morphPosition,morphTargetsRelative,uv,uv2,_a2,_b2,_c2);if(intersection){intersection.faceIndex=Math.floor(_j2/3);// triangle number in non-indexed buffer semantics
intersection.face.materialIndex=_group2.materialIndex;intersects.push(intersection);}}}}else{var _start5=Math.max(0,drawRange.start);var _end4=Math.min(position.count,drawRange.start+drawRange.count);for(var _i62=_start5,_il8=_end4;_i62<_il8;_i62+=3){var _a3=_i62;var _b3=_i62+1;var _c3=_i62+2;intersection=checkBufferGeometryIntersection(this,material,raycaster,_ray$2,position,morphPosition,morphTargetsRelative,uv,uv2,_a3,_b3,_c3);if(intersection){intersection.faceIndex=Math.floor(_i62/3);// triangle number in non-indexed buffer semantics
intersects.push(intersection);}}}}}else if(geometry.isGeometry){console.error('THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.');}}}]);return Mesh;}(Object3D);exports.Mesh=Mesh;Mesh.prototype.isMesh=true;function checkIntersection(object,material,raycaster,ray,pA,pB,pC,point){var intersect;if(material.side===BackSide){intersect=ray.intersectTriangle(pC,pB,pA,true,point);}else{intersect=ray.intersectTriangle(pA,pB,pC,material.side!==DoubleSide,point);}if(intersect===null)return null;_intersectionPointWorld.copy(point);_intersectionPointWorld.applyMatrix4(object.matrixWorld);var distance=raycaster.ray.origin.distanceTo(_intersectionPointWorld);if(distance<raycaster.near||distance>raycaster.far)return null;return{distance:distance,point:_intersectionPointWorld.clone(),object:object};}function checkBufferGeometryIntersection(object,material,raycaster,ray,position,morphPosition,morphTargetsRelative,uv,uv2,a,b,c){_vA$1.fromBufferAttribute(position,a);_vB$1.fromBufferAttribute(position,b);_vC$1.fromBufferAttribute(position,c);var morphInfluences=object.morphTargetInfluences;if(morphPosition&&morphInfluences){_morphA.set(0,0,0);_morphB.set(0,0,0);_morphC.set(0,0,0);for(var _i63=0,il=morphPosition.length;_i63<il;_i63++){var influence=morphInfluences[_i63];var morphAttribute=morphPosition[_i63];if(influence===0)continue;_tempA.fromBufferAttribute(morphAttribute,a);_tempB.fromBufferAttribute(morphAttribute,b);_tempC.fromBufferAttribute(morphAttribute,c);if(morphTargetsRelative){_morphA.addScaledVector(_tempA,influence);_morphB.addScaledVector(_tempB,influence);_morphC.addScaledVector(_tempC,influence);}else{_morphA.addScaledVector(_tempA.sub(_vA$1),influence);_morphB.addScaledVector(_tempB.sub(_vB$1),influence);_morphC.addScaledVector(_tempC.sub(_vC$1),influence);}}_vA$1.add(_morphA);_vB$1.add(_morphB);_vC$1.add(_morphC);}if(object.isSkinnedMesh){object.boneTransform(a,_vA$1);object.boneTransform(b,_vB$1);object.boneTransform(c,_vC$1);}var intersection=checkIntersection(object,material,raycaster,ray,_vA$1,_vB$1,_vC$1,_intersectionPoint);if(intersection){if(uv){_uvA$1.fromBufferAttribute(uv,a);_uvB$1.fromBufferAttribute(uv,b);_uvC$1.fromBufferAttribute(uv,c);intersection.uv=Triangle.getUV(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2());}if(uv2){_uvA$1.fromBufferAttribute(uv2,a);_uvB$1.fromBufferAttribute(uv2,b);_uvC$1.fromBufferAttribute(uv2,c);intersection.uv2=Triangle.getUV(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2());}var face={a:a,b:b,c:c,normal:new Vector3(),materialIndex:0};Triangle.getNormal(_vA$1,_vB$1,_vC$1,face.normal);intersection.face=face;}return intersection;}var BoxGeometry=/*#__PURE__*/function(_BufferGeometry){(0,_inherits2.default)(BoxGeometry,_BufferGeometry);var _super20=_createSuper(BoxGeometry);function BoxGeometry(){var _this11;var width=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var height=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var depth=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var widthSegments=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;var heightSegments=arguments.length>4&&arguments[4]!==undefined?arguments[4]:1;var depthSegments=arguments.length>5&&arguments[5]!==undefined?arguments[5]:1;(0,_classCallCheck2.default)(this,BoxGeometry);_this11=_super20.call(this);_this11.type='BoxGeometry';_this11.parameters={width:width,height:height,depth:depth,widthSegments:widthSegments,heightSegments:heightSegments,depthSegments:depthSegments};var scope=(0,_assertThisInitialized2.default)(_this11);// segments
widthSegments=Math.floor(widthSegments);heightSegments=Math.floor(heightSegments);depthSegments=Math.floor(depthSegments);// buffers
var indices=[];var vertices=[];var normals=[];var uvs=[];// helper variables
var numberOfVertices=0;var groupStart=0;// build each side of the box geometry
buildPlane('z','y','x',-1,-1,depth,height,width,depthSegments,heightSegments,0);// px
buildPlane('z','y','x',1,-1,depth,height,-width,depthSegments,heightSegments,1);// nx
buildPlane('x','z','y',1,1,width,depth,height,widthSegments,depthSegments,2);// py
buildPlane('x','z','y',1,-1,width,depth,-height,widthSegments,depthSegments,3);// ny
buildPlane('x','y','z',1,-1,width,height,depth,widthSegments,heightSegments,4);// pz
buildPlane('x','y','z',-1,-1,width,height,-depth,widthSegments,heightSegments,5);// nz
// build geometry
_this11.setIndex(indices);_this11.setAttribute('position',new Float32BufferAttribute(vertices,3));_this11.setAttribute('normal',new Float32BufferAttribute(normals,3));_this11.setAttribute('uv',new Float32BufferAttribute(uvs,2));function buildPlane(u,v,w,udir,vdir,width,height,depth,gridX,gridY,materialIndex){var segmentWidth=width/gridX;var segmentHeight=height/gridY;var widthHalf=width/2;var heightHalf=height/2;var depthHalf=depth/2;var gridX1=gridX+1;var gridY1=gridY+1;var vertexCounter=0;var groupCount=0;var vector=new Vector3();// generate vertices, normals and uvs
for(var iy=0;iy<gridY1;iy++){var y=iy*segmentHeight-heightHalf;for(var ix=0;ix<gridX1;ix++){var x=ix*segmentWidth-widthHalf;// set values to correct vector component
vector[u]=x*udir;vector[v]=y*vdir;vector[w]=depthHalf;// now apply vector to vertex buffer
vertices.push(vector.x,vector.y,vector.z);// set values to correct vector component
vector[u]=0;vector[v]=0;vector[w]=depth>0?1:-1;// now apply vector to normal buffer
normals.push(vector.x,vector.y,vector.z);// uvs
uvs.push(ix/gridX);uvs.push(1-iy/gridY);// counters
vertexCounter+=1;}}// indices
// 1. you need three indices to draw a single face
// 2. a single segment consists of two faces
// 3. so we need to generate six (2*3) indices per segment
for(var _iy=0;_iy<gridY;_iy++){for(var _ix=0;_ix<gridX;_ix++){var a=numberOfVertices+_ix+gridX1*_iy;var b=numberOfVertices+_ix+gridX1*(_iy+1);var c=numberOfVertices+(_ix+1)+gridX1*(_iy+1);var d=numberOfVertices+(_ix+1)+gridX1*_iy;// faces
indices.push(a,b,d);indices.push(b,c,d);// increase counter
groupCount+=6;}}// add a group to the geometry. this will ensure multi material support
scope.addGroup(groupStart,groupCount,materialIndex);// calculate new start value for groups
groupStart+=groupCount;// update total number of vertices
numberOfVertices+=vertexCounter;}return _this11;}(0,_createClass2.default)(BoxGeometry,null,[{key:"fromJSON",value:function fromJSON(data){return new BoxGeometry(data.width,data.height,data.depth,data.widthSegments,data.heightSegments,data.depthSegments);}}]);return BoxGeometry;}(BufferGeometry);/**
 * Uniform Utilities
 */exports.BoxGeometry=exports.BoxBufferGeometry=BoxGeometry;function cloneUniforms(src){var dst={};for(var u in src){dst[u]={};for(var p in src[u]){var property=src[u][p];if(property&&(property.isColor||property.isMatrix3||property.isMatrix4||property.isVector2||property.isVector3||property.isVector4||property.isTexture||property.isQuaternion)){dst[u][p]=property.clone();}else if(Array.isArray(property)){dst[u][p]=property.slice();}else{dst[u][p]=property;}}}return dst;}function mergeUniforms(uniforms){var merged={};for(var u=0;u<uniforms.length;u++){var _tmp=cloneUniforms(uniforms[u]);for(var p in _tmp){merged[p]=_tmp[p];}}return merged;}// Legacy
var UniformsUtils={clone:cloneUniforms,merge:mergeUniforms};exports.UniformsUtils=UniformsUtils;var default_vertex="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}";var default_fragment="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";/**
 * parameters = {
 *  defines: { "label" : "value" },
 *  uniforms: { "parameter1": { value: 1.0 }, "parameter2": { value2: 2 } },
 *
 *  fragmentShader: <string>,
 *  vertexShader: <string>,
 *
 *  wireframe: <boolean>,
 *  wireframeLinewidth: <float>,
 *
 *  lights: <bool>
 * }
 */var ShaderMaterial=/*#__PURE__*/function(_Material2){(0,_inherits2.default)(ShaderMaterial,_Material2);var _super21=_createSuper(ShaderMaterial);function ShaderMaterial(parameters){var _this12;(0,_classCallCheck2.default)(this,ShaderMaterial);_this12=_super21.call(this);_this12.type='ShaderMaterial';_this12.defines={};_this12.uniforms={};_this12.vertexShader=default_vertex;_this12.fragmentShader=default_fragment;_this12.linewidth=1;_this12.wireframe=false;_this12.wireframeLinewidth=1;_this12.fog=false;// set to use scene fog
_this12.lights=false;// set to use scene lights
_this12.clipping=false;// set to use user-defined clipping planes
_this12.extensions={derivatives:false,// set to use derivatives
fragDepth:false,// set to use fragment depth values
drawBuffers:false,// set to use draw buffers
shaderTextureLOD:false// set to use shader texture LOD
};// When rendered geometry doesn't include these attributes but the material does,
// use these default values in WebGL. This avoids errors when buffer data is missing.
_this12.defaultAttributeValues={'color':[1,1,1],'uv':[0,0],'uv2':[0,0]};_this12.index0AttributeName=undefined;_this12.uniformsNeedUpdate=false;_this12.glslVersion=null;if(parameters!==undefined){if(parameters.attributes!==undefined){console.error('THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.');}_this12.setValues(parameters);}return _this12;}(0,_createClass2.default)(ShaderMaterial,[{key:"copy",value:function copy(source){(0,_get2.default)((0,_getPrototypeOf2.default)(ShaderMaterial.prototype),"copy",this).call(this,source);this.fragmentShader=source.fragmentShader;this.vertexShader=source.vertexShader;this.uniforms=cloneUniforms(source.uniforms);this.defines=Object.assign({},source.defines);this.wireframe=source.wireframe;this.wireframeLinewidth=source.wireframeLinewidth;this.lights=source.lights;this.clipping=source.clipping;this.extensions=Object.assign({},source.extensions);this.glslVersion=source.glslVersion;return this;}},{key:"toJSON",value:function toJSON(meta){var data=(0,_get2.default)((0,_getPrototypeOf2.default)(ShaderMaterial.prototype),"toJSON",this).call(this,meta);data.glslVersion=this.glslVersion;data.uniforms={};for(var name in this.uniforms){var uniform=this.uniforms[name];var _value=uniform.value;if(_value&&_value.isTexture){data.uniforms[name]={type:'t',value:_value.toJSON(meta).uuid};}else if(_value&&_value.isColor){data.uniforms[name]={type:'c',value:_value.getHex()};}else if(_value&&_value.isVector2){data.uniforms[name]={type:'v2',value:_value.toArray()};}else if(_value&&_value.isVector3){data.uniforms[name]={type:'v3',value:_value.toArray()};}else if(_value&&_value.isVector4){data.uniforms[name]={type:'v4',value:_value.toArray()};}else if(_value&&_value.isMatrix3){data.uniforms[name]={type:'m3',value:_value.toArray()};}else if(_value&&_value.isMatrix4){data.uniforms[name]={type:'m4',value:_value.toArray()};}else{data.uniforms[name]={value:_value};// note: the array variants v2v, v3v, v4v, m4v and tv are not supported so far
}}if(Object.keys(this.defines).length>0)data.defines=this.defines;data.vertexShader=this.vertexShader;data.fragmentShader=this.fragmentShader;var extensions={};for(var key in this.extensions){if(this.extensions[key]===true)extensions[key]=true;}if(Object.keys(extensions).length>0)data.extensions=extensions;return data;}}]);return ShaderMaterial;}(Material);exports.ShaderMaterial=ShaderMaterial;ShaderMaterial.prototype.isShaderMaterial=true;var Camera=/*#__PURE__*/function(_Object3D2){(0,_inherits2.default)(Camera,_Object3D2);var _super22=_createSuper(Camera);function Camera(){var _this13;(0,_classCallCheck2.default)(this,Camera);_this13=_super22.call(this);_this13.type='Camera';_this13.matrixWorldInverse=new Matrix4();_this13.projectionMatrix=new Matrix4();_this13.projectionMatrixInverse=new Matrix4();return _this13;}(0,_createClass2.default)(Camera,[{key:"copy",value:function copy(source,recursive){(0,_get2.default)((0,_getPrototypeOf2.default)(Camera.prototype),"copy",this).call(this,source,recursive);this.matrixWorldInverse.copy(source.matrixWorldInverse);this.projectionMatrix.copy(source.projectionMatrix);this.projectionMatrixInverse.copy(source.projectionMatrixInverse);return this;}},{key:"getWorldDirection",value:function getWorldDirection(target){this.updateWorldMatrix(true,false);var e=this.matrixWorld.elements;return target.set(-e[8],-e[9],-e[10]).normalize();}},{key:"updateMatrixWorld",value:function updateMatrixWorld(force){(0,_get2.default)((0,_getPrototypeOf2.default)(Camera.prototype),"updateMatrixWorld",this).call(this,force);this.matrixWorldInverse.copy(this.matrixWorld).invert();}},{key:"updateWorldMatrix",value:function updateWorldMatrix(updateParents,updateChildren){(0,_get2.default)((0,_getPrototypeOf2.default)(Camera.prototype),"updateWorldMatrix",this).call(this,updateParents,updateChildren);this.matrixWorldInverse.copy(this.matrixWorld).invert();}},{key:"clone",value:function clone(){return new this.constructor().copy(this);}}]);return Camera;}(Object3D);exports.Camera=Camera;Camera.prototype.isCamera=true;var PerspectiveCamera=/*#__PURE__*/function(_Camera){(0,_inherits2.default)(PerspectiveCamera,_Camera);var _super23=_createSuper(PerspectiveCamera);function PerspectiveCamera(){var _this14;var fov=arguments.length>0&&arguments[0]!==undefined?arguments[0]:50;var aspect=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var near=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0.1;var far=arguments.length>3&&arguments[3]!==undefined?arguments[3]:2000;(0,_classCallCheck2.default)(this,PerspectiveCamera);_this14=_super23.call(this);_this14.type='PerspectiveCamera';_this14.fov=fov;_this14.zoom=1;_this14.near=near;_this14.far=far;_this14.focus=10;_this14.aspect=aspect;_this14.view=null;_this14.filmGauge=35;// width of the film (default in millimeters)
_this14.filmOffset=0;// horizontal film offset (same unit as gauge)
_this14.updateProjectionMatrix();return _this14;}(0,_createClass2.default)(PerspectiveCamera,[{key:"copy",value:function copy(source,recursive){(0,_get2.default)((0,_getPrototypeOf2.default)(PerspectiveCamera.prototype),"copy",this).call(this,source,recursive);this.fov=source.fov;this.zoom=source.zoom;this.near=source.near;this.far=source.far;this.focus=source.focus;this.aspect=source.aspect;this.view=source.view===null?null:Object.assign({},source.view);this.filmGauge=source.filmGauge;this.filmOffset=source.filmOffset;return this;}/**
	 * Sets the FOV by focal length in respect to the current .filmGauge.
	 *
	 * The default film gauge is 35, so that the focal length can be specified for
	 * a 35mm (full frame) camera.
	 *
	 * Values for focal length and film gauge must have the same unit.
	 */},{key:"setFocalLength",value:function setFocalLength(focalLength){/** see {@link http://www.bobatkins.com/photography/technical/field_of_view.html} */var vExtentSlope=0.5*this.getFilmHeight()/focalLength;this.fov=RAD2DEG*2*Math.atan(vExtentSlope);this.updateProjectionMatrix();}/**
	 * Calculates the focal length from the current .fov and .filmGauge.
	 */},{key:"getFocalLength",value:function getFocalLength(){var vExtentSlope=Math.tan(DEG2RAD*0.5*this.fov);return 0.5*this.getFilmHeight()/vExtentSlope;}},{key:"getEffectiveFOV",value:function getEffectiveFOV(){return RAD2DEG*2*Math.atan(Math.tan(DEG2RAD*0.5*this.fov)/this.zoom);}},{key:"getFilmWidth",value:function getFilmWidth(){// film not completely covered in portrait format (aspect < 1)
return this.filmGauge*Math.min(this.aspect,1);}},{key:"getFilmHeight",value:function getFilmHeight(){// film not completely covered in landscape format (aspect > 1)
return this.filmGauge/Math.max(this.aspect,1);}/**
	 * Sets an offset in a larger frustum. This is useful for multi-window or
	 * multi-monitor/multi-machine setups.
	 *
	 * For example, if you have 3x2 monitors and each monitor is 1920x1080 and
	 * the monitors are in grid like this
	 *
	 *   +---+---+---+
	 *   | A | B | C |
	 *   +---+---+---+
	 *   | D | E | F |
	 *   +---+---+---+
	 *
	 * then for each monitor you would call it like this
	 *
	 *   const w = 1920;
	 *   const h = 1080;
	 *   const fullWidth = w * 3;
	 *   const fullHeight = h * 2;
	 *
	 *   --A--
	 *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );
	 *   --B--
	 *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );
	 *   --C--
	 *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );
	 *   --D--
	 *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );
	 *   --E--
	 *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );
	 *   --F--
	 *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );
	 *
	 *   Note there is no reason monitors have to be the same size or in a grid.
	 */},{key:"setViewOffset",value:function setViewOffset(fullWidth,fullHeight,x,y,width,height){this.aspect=fullWidth/fullHeight;if(this.view===null){this.view={enabled:true,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1};}this.view.enabled=true;this.view.fullWidth=fullWidth;this.view.fullHeight=fullHeight;this.view.offsetX=x;this.view.offsetY=y;this.view.width=width;this.view.height=height;this.updateProjectionMatrix();}},{key:"clearViewOffset",value:function clearViewOffset(){if(this.view!==null){this.view.enabled=false;}this.updateProjectionMatrix();}},{key:"updateProjectionMatrix",value:function updateProjectionMatrix(){var near=this.near;var top=near*Math.tan(DEG2RAD*0.5*this.fov)/this.zoom;var height=2*top;var width=this.aspect*height;var left=-0.5*width;var view=this.view;if(this.view!==null&&this.view.enabled){var fullWidth=view.fullWidth,fullHeight=view.fullHeight;left+=view.offsetX*width/fullWidth;top-=view.offsetY*height/fullHeight;width*=view.width/fullWidth;height*=view.height/fullHeight;}var skew=this.filmOffset;if(skew!==0)left+=near*skew/this.getFilmWidth();this.projectionMatrix.makePerspective(left,left+width,top,top-height,near,this.far);this.projectionMatrixInverse.copy(this.projectionMatrix).invert();}},{key:"toJSON",value:function toJSON(meta){var data=(0,_get2.default)((0,_getPrototypeOf2.default)(PerspectiveCamera.prototype),"toJSON",this).call(this,meta);data.object.fov=this.fov;data.object.zoom=this.zoom;data.object.near=this.near;data.object.far=this.far;data.object.focus=this.focus;data.object.aspect=this.aspect;if(this.view!==null)data.object.view=Object.assign({},this.view);data.object.filmGauge=this.filmGauge;data.object.filmOffset=this.filmOffset;return data;}}]);return PerspectiveCamera;}(Camera);exports.PerspectiveCamera=PerspectiveCamera;PerspectiveCamera.prototype.isPerspectiveCamera=true;var fov=90,aspect=1;var CubeCamera=/*#__PURE__*/function(_Object3D3){(0,_inherits2.default)(CubeCamera,_Object3D3);var _super24=_createSuper(CubeCamera);function CubeCamera(near,far,renderTarget){var _this15;(0,_classCallCheck2.default)(this,CubeCamera);_this15=_super24.call(this);_this15.type='CubeCamera';if(renderTarget.isWebGLCubeRenderTarget!==true){console.error('THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.');return(0,_possibleConstructorReturn2.default)(_this15);}_this15.renderTarget=renderTarget;var cameraPX=new PerspectiveCamera(fov,aspect,near,far);cameraPX.layers=_this15.layers;cameraPX.up.set(0,-1,0);cameraPX.lookAt(new Vector3(1,0,0));_this15.add(cameraPX);var cameraNX=new PerspectiveCamera(fov,aspect,near,far);cameraNX.layers=_this15.layers;cameraNX.up.set(0,-1,0);cameraNX.lookAt(new Vector3(-1,0,0));_this15.add(cameraNX);var cameraPY=new PerspectiveCamera(fov,aspect,near,far);cameraPY.layers=_this15.layers;cameraPY.up.set(0,0,1);cameraPY.lookAt(new Vector3(0,1,0));_this15.add(cameraPY);var cameraNY=new PerspectiveCamera(fov,aspect,near,far);cameraNY.layers=_this15.layers;cameraNY.up.set(0,0,-1);cameraNY.lookAt(new Vector3(0,-1,0));_this15.add(cameraNY);var cameraPZ=new PerspectiveCamera(fov,aspect,near,far);cameraPZ.layers=_this15.layers;cameraPZ.up.set(0,-1,0);cameraPZ.lookAt(new Vector3(0,0,1));_this15.add(cameraPZ);var cameraNZ=new PerspectiveCamera(fov,aspect,near,far);cameraNZ.layers=_this15.layers;cameraNZ.up.set(0,-1,0);cameraNZ.lookAt(new Vector3(0,0,-1));_this15.add(cameraNZ);return _this15;}(0,_createClass2.default)(CubeCamera,[{key:"update",value:function update(renderer,scene){if(this.parent===null)this.updateMatrixWorld();var renderTarget=this.renderTarget;var _this$children=(0,_slicedToArray2.default)(this.children,6),cameraPX=_this$children[0],cameraNX=_this$children[1],cameraPY=_this$children[2],cameraNY=_this$children[3],cameraPZ=_this$children[4],cameraNZ=_this$children[5];var currentXrEnabled=renderer.xr.enabled;var currentRenderTarget=renderer.getRenderTarget();renderer.xr.enabled=false;var generateMipmaps=renderTarget.texture.generateMipmaps;renderTarget.texture.generateMipmaps=false;renderer.setRenderTarget(renderTarget,0);renderer.render(scene,cameraPX);renderer.setRenderTarget(renderTarget,1);renderer.render(scene,cameraNX);renderer.setRenderTarget(renderTarget,2);renderer.render(scene,cameraPY);renderer.setRenderTarget(renderTarget,3);renderer.render(scene,cameraNY);renderer.setRenderTarget(renderTarget,4);renderer.render(scene,cameraPZ);renderTarget.texture.generateMipmaps=generateMipmaps;renderer.setRenderTarget(renderTarget,5);renderer.render(scene,cameraNZ);renderer.setRenderTarget(currentRenderTarget);renderer.xr.enabled=currentXrEnabled;}}]);return CubeCamera;}(Object3D);exports.CubeCamera=CubeCamera;var CubeTexture=/*#__PURE__*/function(_Texture){(0,_inherits2.default)(CubeTexture,_Texture);var _super25=_createSuper(CubeTexture);function CubeTexture(images,mapping,wrapS,wrapT,magFilter,minFilter,format,type,anisotropy,encoding){var _this16;(0,_classCallCheck2.default)(this,CubeTexture);images=images!==undefined?images:[];mapping=mapping!==undefined?mapping:CubeReflectionMapping;_this16=_super25.call(this,images,mapping,wrapS,wrapT,magFilter,minFilter,format,type,anisotropy,encoding);_this16.flipY=false;return _this16;}(0,_createClass2.default)(CubeTexture,[{key:"images",get:function get(){return this.image;},set:function set(value){this.image=value;}}]);return CubeTexture;}(Texture);exports.CubeTexture=CubeTexture;CubeTexture.prototype.isCubeTexture=true;var WebGLCubeRenderTarget=/*#__PURE__*/function(_WebGLRenderTarget3){(0,_inherits2.default)(WebGLCubeRenderTarget,_WebGLRenderTarget3);var _super26=_createSuper(WebGLCubeRenderTarget);function WebGLCubeRenderTarget(size,options,dummy){var _this17;(0,_classCallCheck2.default)(this,WebGLCubeRenderTarget);if(Number.isInteger(options)){console.warn('THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )');options=dummy;}_this17=_super26.call(this,size,size,options);options=options||{};// By convention -- likely based on the RenderMan spec from the 1990's -- cube maps are specified by WebGL (and three.js)
// in a coordinate system in which positive-x is to the right when looking up the positive-z axis -- in other words,
// in a left-handed coordinate system. By continuing this convention, preexisting cube maps continued to render correctly.
// three.js uses a right-handed coordinate system. So environment maps used in three.js appear to have px and nx swapped
// and the flag isRenderTargetTexture controls this conversion. The flip is not required when using WebGLCubeRenderTarget.texture
// as a cube texture (this is detected when isRenderTargetTexture is set to true for cube textures).
_this17.texture=new CubeTexture(undefined,options.mapping,options.wrapS,options.wrapT,options.magFilter,options.minFilter,options.format,options.type,options.anisotropy,options.encoding);_this17.texture.isRenderTargetTexture=true;_this17.texture.generateMipmaps=options.generateMipmaps!==undefined?options.generateMipmaps:false;_this17.texture.minFilter=options.minFilter!==undefined?options.minFilter:LinearFilter;_this17.texture._needsFlipEnvMap=false;return _this17;}(0,_createClass2.default)(WebGLCubeRenderTarget,[{key:"fromEquirectangularTexture",value:function fromEquirectangularTexture(renderer,texture){this.texture.type=texture.type;this.texture.format=RGBAFormat;// see #18859
this.texture.encoding=texture.encoding;this.texture.generateMipmaps=texture.generateMipmaps;this.texture.minFilter=texture.minFilter;this.texture.magFilter=texture.magFilter;var shader={uniforms:{tEquirect:{value:null}},vertexShader:/* glsl */"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",fragmentShader:/* glsl */"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t"};var geometry=new BoxGeometry(5,5,5);var material=new ShaderMaterial({name:'CubemapFromEquirect',uniforms:cloneUniforms(shader.uniforms),vertexShader:shader.vertexShader,fragmentShader:shader.fragmentShader,side:BackSide,blending:NoBlending});material.uniforms.tEquirect.value=texture;var mesh=new Mesh(geometry,material);var currentMinFilter=texture.minFilter;// Avoid blurred poles
if(texture.minFilter===LinearMipmapLinearFilter)texture.minFilter=LinearFilter;var camera=new CubeCamera(1,10,this);camera.update(renderer,mesh);texture.minFilter=currentMinFilter;mesh.geometry.dispose();mesh.material.dispose();return this;}},{key:"clear",value:function clear(renderer,color,depth,stencil){var currentRenderTarget=renderer.getRenderTarget();for(var _i64=0;_i64<6;_i64++){renderer.setRenderTarget(this,_i64);renderer.clear(color,depth,stencil);}renderer.setRenderTarget(currentRenderTarget);}}]);return WebGLCubeRenderTarget;}(WebGLRenderTarget);exports.WebGLCubeRenderTarget=WebGLCubeRenderTarget;WebGLCubeRenderTarget.prototype.isWebGLCubeRenderTarget=true;var _vector1=/*@__PURE__*/new Vector3();var _vector2=/*@__PURE__*/new Vector3();var _normalMatrix=/*@__PURE__*/new Matrix3();var Plane=/*#__PURE__*/function(){function Plane(){var normal=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new Vector3(1,0,0);var constant=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;(0,_classCallCheck2.default)(this,Plane);// normal is assumed to be normalized
this.normal=normal;this.constant=constant;}(0,_createClass2.default)(Plane,[{key:"set",value:function set(normal,constant){this.normal.copy(normal);this.constant=constant;return this;}},{key:"setComponents",value:function setComponents(x,y,z,w){this.normal.set(x,y,z);this.constant=w;return this;}},{key:"setFromNormalAndCoplanarPoint",value:function setFromNormalAndCoplanarPoint(normal,point){this.normal.copy(normal);this.constant=-point.dot(this.normal);return this;}},{key:"setFromCoplanarPoints",value:function setFromCoplanarPoints(a,b,c){var normal=_vector1.subVectors(c,b).cross(_vector2.subVectors(a,b)).normalize();// Q: should an error be thrown if normal is zero (e.g. degenerate plane)?
this.setFromNormalAndCoplanarPoint(normal,a);return this;}},{key:"copy",value:function copy(plane){this.normal.copy(plane.normal);this.constant=plane.constant;return this;}},{key:"normalize",value:function normalize(){// Note: will lead to a divide by zero if the plane is invalid.
var inverseNormalLength=1.0/this.normal.length();this.normal.multiplyScalar(inverseNormalLength);this.constant*=inverseNormalLength;return this;}},{key:"negate",value:function negate(){this.constant*=-1;this.normal.negate();return this;}},{key:"distanceToPoint",value:function distanceToPoint(point){return this.normal.dot(point)+this.constant;}},{key:"distanceToSphere",value:function distanceToSphere(sphere){return this.distanceToPoint(sphere.center)-sphere.radius;}},{key:"projectPoint",value:function projectPoint(point,target){return target.copy(this.normal).multiplyScalar(-this.distanceToPoint(point)).add(point);}},{key:"intersectLine",value:function intersectLine(line,target){var direction=line.delta(_vector1);var denominator=this.normal.dot(direction);if(denominator===0){// line is coplanar, return origin
if(this.distanceToPoint(line.start)===0){return target.copy(line.start);}// Unsure if this is the correct method to handle this case.
return null;}var t=-(line.start.dot(this.normal)+this.constant)/denominator;if(t<0||t>1){return null;}return target.copy(direction).multiplyScalar(t).add(line.start);}},{key:"intersectsLine",value:function intersectsLine(line){// Note: this tests if a line intersects the plane, not whether it (or its end-points) are coplanar with it.
var startSign=this.distanceToPoint(line.start);var endSign=this.distanceToPoint(line.end);return startSign<0&&endSign>0||endSign<0&&startSign>0;}},{key:"intersectsBox",value:function intersectsBox(box){return box.intersectsPlane(this);}},{key:"intersectsSphere",value:function intersectsSphere(sphere){return sphere.intersectsPlane(this);}},{key:"coplanarPoint",value:function coplanarPoint(target){return target.copy(this.normal).multiplyScalar(-this.constant);}},{key:"applyMatrix4",value:function applyMatrix4(matrix,optionalNormalMatrix){var normalMatrix=optionalNormalMatrix||_normalMatrix.getNormalMatrix(matrix);var referencePoint=this.coplanarPoint(_vector1).applyMatrix4(matrix);var normal=this.normal.applyMatrix3(normalMatrix).normalize();this.constant=-referencePoint.dot(normal);return this;}},{key:"translate",value:function translate(offset){this.constant-=offset.dot(this.normal);return this;}},{key:"equals",value:function equals(plane){return plane.normal.equals(this.normal)&&plane.constant===this.constant;}},{key:"clone",value:function clone(){return new this.constructor().copy(this);}}]);return Plane;}();exports.Plane=Plane;Plane.prototype.isPlane=true;var _sphere$2=/*@__PURE__*/new Sphere();var _vector$7=/*@__PURE__*/new Vector3();var Frustum=/*#__PURE__*/function(){function Frustum(){var p0=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new Plane();var p1=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new Plane();var p2=arguments.length>2&&arguments[2]!==undefined?arguments[2]:new Plane();var p3=arguments.length>3&&arguments[3]!==undefined?arguments[3]:new Plane();var p4=arguments.length>4&&arguments[4]!==undefined?arguments[4]:new Plane();var p5=arguments.length>5&&arguments[5]!==undefined?arguments[5]:new Plane();(0,_classCallCheck2.default)(this,Frustum);this.planes=[p0,p1,p2,p3,p4,p5];}(0,_createClass2.default)(Frustum,[{key:"set",value:function set(p0,p1,p2,p3,p4,p5){var planes=this.planes;planes[0].copy(p0);planes[1].copy(p1);planes[2].copy(p2);planes[3].copy(p3);planes[4].copy(p4);planes[5].copy(p5);return this;}},{key:"copy",value:function copy(frustum){var planes=this.planes;for(var _i65=0;_i65<6;_i65++){planes[_i65].copy(frustum.planes[_i65]);}return this;}},{key:"setFromProjectionMatrix",value:function setFromProjectionMatrix(m){var planes=this.planes;var me=m.elements;var me0=me[0],me1=me[1],me2=me[2],me3=me[3];var me4=me[4],me5=me[5],me6=me[6],me7=me[7];var me8=me[8],me9=me[9],me10=me[10],me11=me[11];var me12=me[12],me13=me[13],me14=me[14],me15=me[15];planes[0].setComponents(me3-me0,me7-me4,me11-me8,me15-me12).normalize();planes[1].setComponents(me3+me0,me7+me4,me11+me8,me15+me12).normalize();planes[2].setComponents(me3+me1,me7+me5,me11+me9,me15+me13).normalize();planes[3].setComponents(me3-me1,me7-me5,me11-me9,me15-me13).normalize();planes[4].setComponents(me3-me2,me7-me6,me11-me10,me15-me14).normalize();planes[5].setComponents(me3+me2,me7+me6,me11+me10,me15+me14).normalize();return this;}},{key:"intersectsObject",value:function intersectsObject(object){var geometry=object.geometry;if(geometry.boundingSphere===null)geometry.computeBoundingSphere();_sphere$2.copy(geometry.boundingSphere).applyMatrix4(object.matrixWorld);return this.intersectsSphere(_sphere$2);}},{key:"intersectsSprite",value:function intersectsSprite(sprite){_sphere$2.center.set(0,0,0);_sphere$2.radius=0.7071067811865476;_sphere$2.applyMatrix4(sprite.matrixWorld);return this.intersectsSphere(_sphere$2);}},{key:"intersectsSphere",value:function intersectsSphere(sphere){var planes=this.planes;var center=sphere.center;var negRadius=-sphere.radius;for(var _i66=0;_i66<6;_i66++){var distance=planes[_i66].distanceToPoint(center);if(distance<negRadius){return false;}}return true;}},{key:"intersectsBox",value:function intersectsBox(box){var planes=this.planes;for(var _i67=0;_i67<6;_i67++){var plane=planes[_i67];// corner at max distance
_vector$7.x=plane.normal.x>0?box.max.x:box.min.x;_vector$7.y=plane.normal.y>0?box.max.y:box.min.y;_vector$7.z=plane.normal.z>0?box.max.z:box.min.z;if(plane.distanceToPoint(_vector$7)<0){return false;}}return true;}},{key:"containsPoint",value:function containsPoint(point){var planes=this.planes;for(var _i68=0;_i68<6;_i68++){if(planes[_i68].distanceToPoint(point)<0){return false;}}return true;}},{key:"clone",value:function clone(){return new this.constructor().copy(this);}}]);return Frustum;}();exports.Frustum=Frustum;function WebGLAnimation(){var context=null;var isAnimating=false;var animationLoop=null;var requestId=null;function onAnimationFrame(time,frame){animationLoop(time,frame);requestId=context.requestAnimationFrame(onAnimationFrame);}return{start:function start(){if(isAnimating===true)return;if(animationLoop===null)return;requestId=context.requestAnimationFrame(onAnimationFrame);isAnimating=true;},stop:function stop(){context.cancelAnimationFrame(requestId);isAnimating=false;},setAnimationLoop:function setAnimationLoop(callback){animationLoop=callback;},setContext:function setContext(value){context=value;}};}function WebGLAttributes(gl,capabilities){var isWebGL2=capabilities.isWebGL2;var buffers=new WeakMap();function createBuffer(attribute,bufferType){var array=attribute.array;var usage=attribute.usage;var buffer=gl.createBuffer();gl.bindBuffer(bufferType,buffer);gl.bufferData(bufferType,array,usage);attribute.onUploadCallback();var type=5126;if(array instanceof Float32Array){type=5126;}else if(array instanceof Float64Array){console.warn('THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.');}else if(array instanceof Uint16Array){if(attribute.isFloat16BufferAttribute){if(isWebGL2){type=5131;}else{console.warn('THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.');}}else{type=5123;}}else if(array instanceof Int16Array){type=5122;}else if(array instanceof Uint32Array){type=5125;}else if(array instanceof Int32Array){type=5124;}else if(array instanceof Int8Array){type=5120;}else if(array instanceof Uint8Array){type=5121;}else if(array instanceof Uint8ClampedArray){type=5121;}return{buffer:buffer,type:type,bytesPerElement:array.BYTES_PER_ELEMENT,version:attribute.version};}function updateBuffer(buffer,attribute,bufferType){var array=attribute.array;var updateRange=attribute.updateRange;gl.bindBuffer(bufferType,buffer);if(updateRange.count===-1){// Not using update ranges
gl.bufferSubData(bufferType,0,array);}else{if(isWebGL2){gl.bufferSubData(bufferType,updateRange.offset*array.BYTES_PER_ELEMENT,array,updateRange.offset,updateRange.count);}else{gl.bufferSubData(bufferType,updateRange.offset*array.BYTES_PER_ELEMENT,array.subarray(updateRange.offset,updateRange.offset+updateRange.count));}updateRange.count=-1;// reset range
}}//
function get(attribute){if(attribute.isInterleavedBufferAttribute)attribute=attribute.data;return buffers.get(attribute);}function remove(attribute){if(attribute.isInterleavedBufferAttribute)attribute=attribute.data;var data=buffers.get(attribute);if(data){gl.deleteBuffer(data.buffer);buffers.delete(attribute);}}function update(attribute,bufferType){if(attribute.isGLBufferAttribute){var cached=buffers.get(attribute);if(!cached||cached.version<attribute.version){buffers.set(attribute,{buffer:attribute.buffer,type:attribute.type,bytesPerElement:attribute.elementSize,version:attribute.version});}return;}if(attribute.isInterleavedBufferAttribute)attribute=attribute.data;var data=buffers.get(attribute);if(data===undefined){buffers.set(attribute,createBuffer(attribute,bufferType));}else if(data.version<attribute.version){updateBuffer(data.buffer,attribute,bufferType);data.version=attribute.version;}}return{get:get,remove:remove,update:update};}var PlaneGeometry=/*#__PURE__*/function(_BufferGeometry2){(0,_inherits2.default)(PlaneGeometry,_BufferGeometry2);var _super27=_createSuper(PlaneGeometry);function PlaneGeometry(){var _this18;var width=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var height=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var widthSegments=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var heightSegments=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;(0,_classCallCheck2.default)(this,PlaneGeometry);_this18=_super27.call(this);_this18.type='PlaneGeometry';_this18.parameters={width:width,height:height,widthSegments:widthSegments,heightSegments:heightSegments};var width_half=width/2;var height_half=height/2;var gridX=Math.floor(widthSegments);var gridY=Math.floor(heightSegments);var gridX1=gridX+1;var gridY1=gridY+1;var segment_width=width/gridX;var segment_height=height/gridY;//
var indices=[];var vertices=[];var normals=[];var uvs=[];for(var iy=0;iy<gridY1;iy++){var y=iy*segment_height-height_half;for(var ix=0;ix<gridX1;ix++){var x=ix*segment_width-width_half;vertices.push(x,-y,0);normals.push(0,0,1);uvs.push(ix/gridX);uvs.push(1-iy/gridY);}}for(var _iy2=0;_iy2<gridY;_iy2++){for(var _ix2=0;_ix2<gridX;_ix2++){var a=_ix2+gridX1*_iy2;var b=_ix2+gridX1*(_iy2+1);var c=_ix2+1+gridX1*(_iy2+1);var d=_ix2+1+gridX1*_iy2;indices.push(a,b,d);indices.push(b,c,d);}}_this18.setIndex(indices);_this18.setAttribute('position',new Float32BufferAttribute(vertices,3));_this18.setAttribute('normal',new Float32BufferAttribute(normals,3));_this18.setAttribute('uv',new Float32BufferAttribute(uvs,2));return _this18;}(0,_createClass2.default)(PlaneGeometry,null,[{key:"fromJSON",value:function fromJSON(data){return new PlaneGeometry(data.width,data.height,data.widthSegments,data.heightSegments);}}]);return PlaneGeometry;}(BufferGeometry);exports.PlaneGeometry=exports.PlaneBufferGeometry=PlaneGeometry;var alphamap_fragment="#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif";var alphamap_pars_fragment="#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif";var alphatest_fragment="#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif";var alphatest_pars_fragment="#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif";var aomap_fragment="#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif";var aomap_pars_fragment="#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif";var begin_vertex="vec3 transformed = vec3( position );";var beginnormal_vertex="vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif";var bsdfs="vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenTint, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenTint * ( D * V );\n}\n#endif";var bumpmap_pars_fragment="#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif";var clipping_planes_fragment="#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif";var clipping_planes_pars_fragment="#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif";var clipping_planes_pars_vertex="#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif";var clipping_planes_vertex="#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif";var color_fragment="#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif";var color_pars_fragment="#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif";var color_pars_vertex="#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif";var color_vertex="#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif";var common="#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}";var cube_uv_reflection_fragment="#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\tvec2 f = fract( uv );\n\t\tuv += 0.5 - f;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x += texelSize;\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.y += texelSize;\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x -= texelSize;\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tvec3 tm = mix( tl, tr, f.x );\n\t\tvec3 bm = mix( bl, br, f.x );\n\t\treturn mix( tm, bm, f.y );\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif";var defaultnormal_vertex="vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif";var displacementmap_pars_vertex="#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif";var displacementmap_vertex="#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif";var emissivemap_fragment="#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif";var emissivemap_pars_fragment="#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif";var encodings_fragment="gl_FragColor = linearToOutputTexel( gl_FragColor );";var encodings_pars_fragment="\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}";var envmap_fragment="#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif";var envmap_common_pars_fragment="#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif";var envmap_pars_fragment="#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif";var envmap_pars_vertex="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif";var envmap_vertex="#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif";var fog_vertex="#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif";var fog_pars_vertex="#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif";var fog_fragment="#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif";var fog_pars_fragment="#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif";var gradientmap_pars_fragment="#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}";var lightmap_fragment="#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tlightMapIrradiance *= PI;\n\t#endif\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif";var lightmap_pars_fragment="#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif";var lights_lambert_vertex="vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointLightInfo( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotLightInfo( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalLightInfo( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif";var lights_pars_begin="uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif";var envmap_physical_pars_fragment="#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec;\n\t\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\t\treflectVec = reflect( - viewDir, normal );\n\t\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\t#else\n\t\t\t\treflectVec = refract( - viewDir, normal, refractionRatio );\n\t\t\t#endif\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif";var lights_toon_fragment="ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;";var lights_toon_pars_fragment="varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)";var lights_phong_fragment="BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;";var lights_phong_pars_fragment="varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)";var lights_physical_fragment="PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularTintFactor = specularTint;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARTINTMAP\n\t\t\tspecularTintFactor *= specularTintMapTexelToLinear( texture2D( specularTintMap, vUv ) ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularTintFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularTintFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenTint = sheenTint;\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n#endif";var lights_physical_pars_fragment="struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenTint;\n\t\tfloat sheenRoughness;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\tvec3 FssEss = specularColor * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenTint, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}";var lights_fragment_begin="\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif";var lights_fragment_maps="#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif";var lights_fragment_end="#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif";var logdepthbuf_fragment="#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif";var logdepthbuf_pars_fragment="#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif";var logdepthbuf_pars_vertex="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif";var logdepthbuf_vertex="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif";var map_fragment="#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif";var map_pars_fragment="#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif";var map_particle_fragment="#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif";var map_particle_pars_fragment="#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif";var metalnessmap_fragment="float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif";var metalnessmap_pars_fragment="#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif";var morphnormal_vertex="#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] > 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1, 2 ) * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif";var morphtarget_pars_vertex="#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform vec2 morphTargetsTextureSize;\n\t\tvec3 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset, const in int stride ) {\n\t\t\tfloat texelIndex = float( vertexIndex * stride + offset );\n\t\t\tfloat y = floor( texelIndex / morphTargetsTextureSize.x );\n\t\t\tfloat x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tvec3 morphUV = vec3( ( x + 0.5 ) / morphTargetsTextureSize.x, y / morphTargetsTextureSize.y, morphTargetIndex );\n\t\t\treturn texture( morphTargetsTexture, morphUV ).xyz;\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif";var morphtarget_vertex="#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\t#ifndef USE_MORPHNORMALS\n\t\t\t\tif ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 1 ) * morphTargetInfluences[ i ];\n\t\t\t#else\n\t\t\t\tif ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 2 ) * morphTargetInfluences[ i ];\n\t\t\t#endif\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif";var normal_fragment_begin="float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;";var normal_fragment_maps="#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif";var normal_pars_fragment="#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif";var normal_pars_vertex="#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif";var normal_vertex="#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif";var normalmap_pars_fragment="#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif";var clearcoat_normal_fragment_begin="#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif";var clearcoat_normal_fragment_maps="#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif";var clearcoat_pars_fragment="#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif";var output_fragment="#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );";var packing="vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}";var premultiplied_alpha_fragment="#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif";var project_vertex="vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;";var dithering_fragment="#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif";var dithering_pars_fragment="#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif";var roughnessmap_fragment="float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif";var roughnessmap_pars_fragment="#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif";var shadowmap_pars_fragment="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif";var shadowmap_pars_vertex="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif";var shadowmap_vertex="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif";var shadowmask_pars_fragment="float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}";var skinbase_vertex="#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif";var skinning_pars_vertex="#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif";var skinning_vertex="#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif";var skinnormal_vertex="#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif";var specularmap_fragment="float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif";var specularmap_pars_fragment="#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif";var tonemapping_fragment="#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif";var tonemapping_pars_fragment="#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }";var transmission_fragment="#ifdef USE_TRANSMISSION\n\tfloat transmissionAlpha = 1.0;\n\tfloat transmissionFactor = transmission;\n\tfloat thicknessFactor = thickness;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\n\t\tattenuationTint, attenuationDistance );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );\n\ttransmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );\n#endif";var transmission_pars_fragment="#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationTint;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( float roughness, float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( vec2 fragCoord, float roughness, float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( vec3 radiance, float transmissionDistance, vec3 attenuationColor, float attenuationDistance ) {\n\t\tif ( attenuationDistance == 0.0 ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( vec3 n, vec3 v, float roughness, vec3 diffuseColor, vec3 specularColor, float specularF90,\n\t\tvec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness,\n\t\tvec3 attenuationColor, float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif";var uv_pars_fragment="#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif";var uv_pars_vertex="#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif";var uv_vertex="#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif";var uv2_pars_fragment="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif";var uv2_pars_vertex="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif";var uv2_vertex="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif";var worldpos_vertex="#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif";var vertex$g="varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}";var fragment$g="uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}";var vertex$f="varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}";var fragment$f="#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}";var vertex$e="#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}";var fragment$e="#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}";var vertex$d="#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}";var fragment$d="#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}";var vertex$c="varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}";var fragment$c="uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}";var vertex$b="uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}";var fragment$b="uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}";var vertex$a="#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}";var fragment$a="uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}";var vertex$9="#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}";var fragment$9="uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}";var vertex$8="#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}";var fragment$8="#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}";var vertex$7="#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}";var fragment$7="#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}";var vertex$6="#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}";var fragment$6="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}";var vertex$5="#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}";var fragment$5="#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularTint;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARTINTMAP\n\t\tuniform sampler2D specularTintMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenTint;\n\tuniform float sheenRoughness;\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - clearcoat * Fcc ) + clearcoatSpecular * clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}";var vertex$4="#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}";var fragment$4="#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}";var vertex$3="uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}";var fragment$3="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}";var vertex$2="#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}";var fragment$2="uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}";var vertex$1="uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}";var fragment$1="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}";var ShaderChunk={alphamap_fragment:alphamap_fragment,alphamap_pars_fragment:alphamap_pars_fragment,alphatest_fragment:alphatest_fragment,alphatest_pars_fragment:alphatest_pars_fragment,aomap_fragment:aomap_fragment,aomap_pars_fragment:aomap_pars_fragment,begin_vertex:begin_vertex,beginnormal_vertex:beginnormal_vertex,bsdfs:bsdfs,bumpmap_pars_fragment:bumpmap_pars_fragment,clipping_planes_fragment:clipping_planes_fragment,clipping_planes_pars_fragment:clipping_planes_pars_fragment,clipping_planes_pars_vertex:clipping_planes_pars_vertex,clipping_planes_vertex:clipping_planes_vertex,color_fragment:color_fragment,color_pars_fragment:color_pars_fragment,color_pars_vertex:color_pars_vertex,color_vertex:color_vertex,common:common,cube_uv_reflection_fragment:cube_uv_reflection_fragment,defaultnormal_vertex:defaultnormal_vertex,displacementmap_pars_vertex:displacementmap_pars_vertex,displacementmap_vertex:displacementmap_vertex,emissivemap_fragment:emissivemap_fragment,emissivemap_pars_fragment:emissivemap_pars_fragment,encodings_fragment:encodings_fragment,encodings_pars_fragment:encodings_pars_fragment,envmap_fragment:envmap_fragment,envmap_common_pars_fragment:envmap_common_pars_fragment,envmap_pars_fragment:envmap_pars_fragment,envmap_pars_vertex:envmap_pars_vertex,envmap_physical_pars_fragment:envmap_physical_pars_fragment,envmap_vertex:envmap_vertex,fog_vertex:fog_vertex,fog_pars_vertex:fog_pars_vertex,fog_fragment:fog_fragment,fog_pars_fragment:fog_pars_fragment,gradientmap_pars_fragment:gradientmap_pars_fragment,lightmap_fragment:lightmap_fragment,lightmap_pars_fragment:lightmap_pars_fragment,lights_lambert_vertex:lights_lambert_vertex,lights_pars_begin:lights_pars_begin,lights_toon_fragment:lights_toon_fragment,lights_toon_pars_fragment:lights_toon_pars_fragment,lights_phong_fragment:lights_phong_fragment,lights_phong_pars_fragment:lights_phong_pars_fragment,lights_physical_fragment:lights_physical_fragment,lights_physical_pars_fragment:lights_physical_pars_fragment,lights_fragment_begin:lights_fragment_begin,lights_fragment_maps:lights_fragment_maps,lights_fragment_end:lights_fragment_end,logdepthbuf_fragment:logdepthbuf_fragment,logdepthbuf_pars_fragment:logdepthbuf_pars_fragment,logdepthbuf_pars_vertex:logdepthbuf_pars_vertex,logdepthbuf_vertex:logdepthbuf_vertex,map_fragment:map_fragment,map_pars_fragment:map_pars_fragment,map_particle_fragment:map_particle_fragment,map_particle_pars_fragment:map_particle_pars_fragment,metalnessmap_fragment:metalnessmap_fragment,metalnessmap_pars_fragment:metalnessmap_pars_fragment,morphnormal_vertex:morphnormal_vertex,morphtarget_pars_vertex:morphtarget_pars_vertex,morphtarget_vertex:morphtarget_vertex,normal_fragment_begin:normal_fragment_begin,normal_fragment_maps:normal_fragment_maps,normal_pars_fragment:normal_pars_fragment,normal_pars_vertex:normal_pars_vertex,normal_vertex:normal_vertex,normalmap_pars_fragment:normalmap_pars_fragment,clearcoat_normal_fragment_begin:clearcoat_normal_fragment_begin,clearcoat_normal_fragment_maps:clearcoat_normal_fragment_maps,clearcoat_pars_fragment:clearcoat_pars_fragment,output_fragment:output_fragment,packing:packing,premultiplied_alpha_fragment:premultiplied_alpha_fragment,project_vertex:project_vertex,dithering_fragment:dithering_fragment,dithering_pars_fragment:dithering_pars_fragment,roughnessmap_fragment:roughnessmap_fragment,roughnessmap_pars_fragment:roughnessmap_pars_fragment,shadowmap_pars_fragment:shadowmap_pars_fragment,shadowmap_pars_vertex:shadowmap_pars_vertex,shadowmap_vertex:shadowmap_vertex,shadowmask_pars_fragment:shadowmask_pars_fragment,skinbase_vertex:skinbase_vertex,skinning_pars_vertex:skinning_pars_vertex,skinning_vertex:skinning_vertex,skinnormal_vertex:skinnormal_vertex,specularmap_fragment:specularmap_fragment,specularmap_pars_fragment:specularmap_pars_fragment,tonemapping_fragment:tonemapping_fragment,tonemapping_pars_fragment:tonemapping_pars_fragment,transmission_fragment:transmission_fragment,transmission_pars_fragment:transmission_pars_fragment,uv_pars_fragment:uv_pars_fragment,uv_pars_vertex:uv_pars_vertex,uv_vertex:uv_vertex,uv2_pars_fragment:uv2_pars_fragment,uv2_pars_vertex:uv2_pars_vertex,uv2_vertex:uv2_vertex,worldpos_vertex:worldpos_vertex,background_vert:vertex$g,background_frag:fragment$g,cube_vert:vertex$f,cube_frag:fragment$f,depth_vert:vertex$e,depth_frag:fragment$e,distanceRGBA_vert:vertex$d,distanceRGBA_frag:fragment$d,equirect_vert:vertex$c,equirect_frag:fragment$c,linedashed_vert:vertex$b,linedashed_frag:fragment$b,meshbasic_vert:vertex$a,meshbasic_frag:fragment$a,meshlambert_vert:vertex$9,meshlambert_frag:fragment$9,meshmatcap_vert:vertex$8,meshmatcap_frag:fragment$8,meshnormal_vert:vertex$7,meshnormal_frag:fragment$7,meshphong_vert:vertex$6,meshphong_frag:fragment$6,meshphysical_vert:vertex$5,meshphysical_frag:fragment$5,meshtoon_vert:vertex$4,meshtoon_frag:fragment$4,points_vert:vertex$3,points_frag:fragment$3,shadow_vert:vertex$2,shadow_frag:fragment$2,sprite_vert:vertex$1,sprite_frag:fragment$1};/**
 * Uniforms library for shared webgl shaders
 */exports.ShaderChunk=ShaderChunk;var UniformsLib={common:{diffuse:{value:new Color(0xffffff)},opacity:{value:1.0},map:{value:null},uvTransform:{value:new Matrix3()},uv2Transform:{value:new Matrix3()},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1.0},// basic, lambert, phong
ior:{value:1.5},// standard, physical
refractionRatio:{value:0.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:0.00025},fogNear:{value:1},fogFar:{value:2000},fogColor:{value:new Color(0xffffff)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},// TODO (abelnation): RectAreaLight BRDF data needs to be moved from example to main src
rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Color(0xffffff)},opacity:{value:1.0},size:{value:1.0},scale:{value:1.0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Matrix3()}},sprite:{diffuse:{value:new Color(0xffffff)},opacity:{value:1.0},center:{value:new Vector2(0.5,0.5)},rotation:{value:0.0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Matrix3()}}};exports.UniformsLib=UniformsLib;var ShaderLib={basic:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.fog]),vertexShader:ShaderChunk.meshbasic_vert,fragmentShader:ShaderChunk.meshbasic_frag},lambert:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0x000000)}}]),vertexShader:ShaderChunk.meshlambert_vert,fragmentShader:ShaderChunk.meshlambert_frag},phong:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0x000000)},specular:{value:new Color(0x111111)},shininess:{value:30}}]),vertexShader:ShaderChunk.meshphong_vert,fragmentShader:ShaderChunk.meshphong_frag},standard:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.roughnessmap,UniformsLib.metalnessmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0x000000)},roughness:{value:1.0},metalness:{value:0.0},envMapIntensity:{value:1}// temporary
}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag},toon:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.gradientmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0x000000)}}]),vertexShader:ShaderChunk.meshtoon_vert,fragmentShader:ShaderChunk.meshtoon_frag},matcap:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,{matcap:{value:null}}]),vertexShader:ShaderChunk.meshmatcap_vert,fragmentShader:ShaderChunk.meshmatcap_frag},points:{uniforms:mergeUniforms([UniformsLib.points,UniformsLib.fog]),vertexShader:ShaderChunk.points_vert,fragmentShader:ShaderChunk.points_frag},dashed:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ShaderChunk.linedashed_vert,fragmentShader:ShaderChunk.linedashed_frag},depth:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap]),vertexShader:ShaderChunk.depth_vert,fragmentShader:ShaderChunk.depth_frag},normal:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,{opacity:{value:1.0}}]),vertexShader:ShaderChunk.meshnormal_vert,fragmentShader:ShaderChunk.meshnormal_frag},sprite:{uniforms:mergeUniforms([UniformsLib.sprite,UniformsLib.fog]),vertexShader:ShaderChunk.sprite_vert,fragmentShader:ShaderChunk.sprite_frag},background:{uniforms:{uvTransform:{value:new Matrix3()},t2D:{value:null}},vertexShader:ShaderChunk.background_vert,fragmentShader:ShaderChunk.background_frag},/* -------------------------------------------------------------------------
	//	Cube map shader
	 ------------------------------------------------------------------------- */cube:{uniforms:mergeUniforms([UniformsLib.envmap,{opacity:{value:1.0}}]),vertexShader:ShaderChunk.cube_vert,fragmentShader:ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ShaderChunk.equirect_vert,fragmentShader:ShaderChunk.equirect_frag},distanceRGBA:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap,{referencePosition:{value:new Vector3()},nearDistance:{value:1},farDistance:{value:1000}}]),vertexShader:ShaderChunk.distanceRGBA_vert,fragmentShader:ShaderChunk.distanceRGBA_frag},shadow:{uniforms:mergeUniforms([UniformsLib.lights,UniformsLib.fog,{color:{value:new Color(0x00000)},opacity:{value:1.0}}]),vertexShader:ShaderChunk.shadow_vert,fragmentShader:ShaderChunk.shadow_frag}};exports.ShaderLib=ShaderLib;ShaderLib.physical={uniforms:mergeUniforms([ShaderLib.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Vector2(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenTint:{value:new Color(0x000000)},sheenRoughness:{value:0},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Vector2()},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationTint:{value:new Color(0x000000)},specularIntensity:{value:0},specularIntensityMap:{value:null},specularTint:{value:new Color(1,1,1)},specularTintMap:{value:null}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag};function WebGLBackground(renderer,cubemaps,state,objects,premultipliedAlpha){var clearColor=new Color(0x000000);var clearAlpha=0;var planeMesh;var boxMesh;var currentBackground=null;var currentBackgroundVersion=0;var currentTonemapping=null;function render(renderList,scene){var forceClear=false;var background=scene.isScene===true?scene.background:null;if(background&&background.isTexture){background=cubemaps.get(background);}// Ignore background in AR
// TODO: Reconsider this.
var xr=renderer.xr;var session=xr.getSession&&xr.getSession();if(session&&session.environmentBlendMode==='additive'){background=null;}if(background===null){setClear(clearColor,clearAlpha);}else if(background&&background.isColor){setClear(background,1);forceClear=true;}if(renderer.autoClear||forceClear){renderer.clear(renderer.autoClearColor,renderer.autoClearDepth,renderer.autoClearStencil);}if(background&&(background.isCubeTexture||background.mapping===CubeUVReflectionMapping)){if(boxMesh===undefined){boxMesh=new Mesh(new BoxGeometry(1,1,1),new ShaderMaterial({name:'BackgroundCubeMaterial',uniforms:cloneUniforms(ShaderLib.cube.uniforms),vertexShader:ShaderLib.cube.vertexShader,fragmentShader:ShaderLib.cube.fragmentShader,side:BackSide,depthTest:false,depthWrite:false,fog:false}));boxMesh.geometry.deleteAttribute('normal');boxMesh.geometry.deleteAttribute('uv');boxMesh.onBeforeRender=function(renderer,scene,camera){this.matrixWorld.copyPosition(camera.matrixWorld);};// enable code injection for non-built-in material
Object.defineProperty(boxMesh.material,'envMap',{get:function get(){return this.uniforms.envMap.value;}});objects.update(boxMesh);}boxMesh.material.uniforms.envMap.value=background;boxMesh.material.uniforms.flipEnvMap.value=background.isCubeTexture&&background.isRenderTargetTexture===false?-1:1;if(currentBackground!==background||currentBackgroundVersion!==background.version||currentTonemapping!==renderer.toneMapping){boxMesh.material.needsUpdate=true;currentBackground=background;currentBackgroundVersion=background.version;currentTonemapping=renderer.toneMapping;}// push to the pre-sorted opaque render list
renderList.unshift(boxMesh,boxMesh.geometry,boxMesh.material,0,0,null);}else if(background&&background.isTexture){if(planeMesh===undefined){planeMesh=new Mesh(new PlaneGeometry(2,2),new ShaderMaterial({name:'BackgroundMaterial',uniforms:cloneUniforms(ShaderLib.background.uniforms),vertexShader:ShaderLib.background.vertexShader,fragmentShader:ShaderLib.background.fragmentShader,side:FrontSide,depthTest:false,depthWrite:false,fog:false}));planeMesh.geometry.deleteAttribute('normal');// enable code injection for non-built-in material
Object.defineProperty(planeMesh.material,'map',{get:function get(){return this.uniforms.t2D.value;}});objects.update(planeMesh);}planeMesh.material.uniforms.t2D.value=background;if(background.matrixAutoUpdate===true){background.updateMatrix();}planeMesh.material.uniforms.uvTransform.value.copy(background.matrix);if(currentBackground!==background||currentBackgroundVersion!==background.version||currentTonemapping!==renderer.toneMapping){planeMesh.material.needsUpdate=true;currentBackground=background;currentBackgroundVersion=background.version;currentTonemapping=renderer.toneMapping;}// push to the pre-sorted opaque render list
renderList.unshift(planeMesh,planeMesh.geometry,planeMesh.material,0,0,null);}}function setClear(color,alpha){state.buffers.color.setClear(color.r,color.g,color.b,alpha,premultipliedAlpha);}return{getClearColor:function getClearColor(){return clearColor;},setClearColor:function setClearColor(color){var alpha=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;clearColor.set(color);clearAlpha=alpha;setClear(clearColor,clearAlpha);},getClearAlpha:function getClearAlpha(){return clearAlpha;},setClearAlpha:function setClearAlpha(alpha){clearAlpha=alpha;setClear(clearColor,clearAlpha);},render:render};}function WebGLBindingStates(gl,extensions,attributes,capabilities){var maxVertexAttributes=gl.getParameter(34921);var extension=capabilities.isWebGL2?null:extensions.get('OES_vertex_array_object');var vaoAvailable=capabilities.isWebGL2||extension!==null;var bindingStates={};var defaultState=createBindingState(null);var currentState=defaultState;function setup(object,material,program,geometry,index){var updateBuffers=false;if(vaoAvailable){var state=getBindingState(geometry,program,material);if(currentState!==state){currentState=state;bindVertexArrayObject(currentState.object);}updateBuffers=needsUpdate(geometry,index);if(updateBuffers)saveCache(geometry,index);}else{var wireframe=material.wireframe===true;if(currentState.geometry!==geometry.id||currentState.program!==program.id||currentState.wireframe!==wireframe){currentState.geometry=geometry.id;currentState.program=program.id;currentState.wireframe=wireframe;updateBuffers=true;}}if(object.isInstancedMesh===true){updateBuffers=true;}if(index!==null){attributes.update(index,34963);}if(updateBuffers){setupVertexAttributes(object,material,program,geometry);if(index!==null){gl.bindBuffer(34963,attributes.get(index).buffer);}}}function createVertexArrayObject(){if(capabilities.isWebGL2)return gl.createVertexArray();return extension.createVertexArrayOES();}function bindVertexArrayObject(vao){if(capabilities.isWebGL2)return gl.bindVertexArray(vao);return extension.bindVertexArrayOES(vao);}function deleteVertexArrayObject(vao){if(capabilities.isWebGL2)return gl.deleteVertexArray(vao);return extension.deleteVertexArrayOES(vao);}function getBindingState(geometry,program,material){var wireframe=material.wireframe===true;var programMap=bindingStates[geometry.id];if(programMap===undefined){programMap={};bindingStates[geometry.id]=programMap;}var stateMap=programMap[program.id];if(stateMap===undefined){stateMap={};programMap[program.id]=stateMap;}var state=stateMap[wireframe];if(state===undefined){state=createBindingState(createVertexArrayObject());stateMap[wireframe]=state;}return state;}function createBindingState(vao){var newAttributes=[];var enabledAttributes=[];var attributeDivisors=[];for(var _i69=0;_i69<maxVertexAttributes;_i69++){newAttributes[_i69]=0;enabledAttributes[_i69]=0;attributeDivisors[_i69]=0;}return{// for backward compatibility on non-VAO support browser
geometry:null,program:null,wireframe:false,newAttributes:newAttributes,enabledAttributes:enabledAttributes,attributeDivisors:attributeDivisors,object:vao,attributes:{},index:null};}function needsUpdate(geometry,index){var cachedAttributes=currentState.attributes;var geometryAttributes=geometry.attributes;var attributesNum=0;for(var key in geometryAttributes){var cachedAttribute=cachedAttributes[key];var geometryAttribute=geometryAttributes[key];if(cachedAttribute===undefined)return true;if(cachedAttribute.attribute!==geometryAttribute)return true;if(cachedAttribute.data!==geometryAttribute.data)return true;attributesNum++;}if(currentState.attributesNum!==attributesNum)return true;if(currentState.index!==index)return true;return false;}function saveCache(geometry,index){var cache={};var attributes=geometry.attributes;var attributesNum=0;for(var key in attributes){var attribute=attributes[key];var data={};data.attribute=attribute;if(attribute.data){data.data=attribute.data;}cache[key]=data;attributesNum++;}currentState.attributes=cache;currentState.attributesNum=attributesNum;currentState.index=index;}function initAttributes(){var newAttributes=currentState.newAttributes;for(var _i70=0,il=newAttributes.length;_i70<il;_i70++){newAttributes[_i70]=0;}}function enableAttribute(attribute){enableAttributeAndDivisor(attribute,0);}function enableAttributeAndDivisor(attribute,meshPerAttribute){var newAttributes=currentState.newAttributes;var enabledAttributes=currentState.enabledAttributes;var attributeDivisors=currentState.attributeDivisors;newAttributes[attribute]=1;if(enabledAttributes[attribute]===0){gl.enableVertexAttribArray(attribute);enabledAttributes[attribute]=1;}if(attributeDivisors[attribute]!==meshPerAttribute){var _extension=capabilities.isWebGL2?gl:extensions.get('ANGLE_instanced_arrays');_extension[capabilities.isWebGL2?'vertexAttribDivisor':'vertexAttribDivisorANGLE'](attribute,meshPerAttribute);attributeDivisors[attribute]=meshPerAttribute;}}function disableUnusedAttributes(){var newAttributes=currentState.newAttributes;var enabledAttributes=currentState.enabledAttributes;for(var _i71=0,il=enabledAttributes.length;_i71<il;_i71++){if(enabledAttributes[_i71]!==newAttributes[_i71]){gl.disableVertexAttribArray(_i71);enabledAttributes[_i71]=0;}}}function vertexAttribPointer(index,size,type,normalized,stride,offset){if(capabilities.isWebGL2===true&&(type===5124||type===5125)){gl.vertexAttribIPointer(index,size,type,stride,offset);}else{gl.vertexAttribPointer(index,size,type,normalized,stride,offset);}}function setupVertexAttributes(object,material,program,geometry){if(capabilities.isWebGL2===false&&(object.isInstancedMesh||geometry.isInstancedBufferGeometry)){if(extensions.get('ANGLE_instanced_arrays')===null)return;}initAttributes();var geometryAttributes=geometry.attributes;var programAttributes=program.getAttributes();var materialDefaultAttributeValues=material.defaultAttributeValues;for(var name in programAttributes){var programAttribute=programAttributes[name];if(programAttribute.location>=0){var geometryAttribute=geometryAttributes[name];if(geometryAttribute===undefined){if(name==='instanceMatrix'&&object.instanceMatrix)geometryAttribute=object.instanceMatrix;if(name==='instanceColor'&&object.instanceColor)geometryAttribute=object.instanceColor;}if(geometryAttribute!==undefined){var normalized=geometryAttribute.normalized;var size=geometryAttribute.itemSize;var attribute=attributes.get(geometryAttribute);// TODO Attribute may not be available on context restore
if(attribute===undefined)continue;var buffer=attribute.buffer;var type=attribute.type;var bytesPerElement=attribute.bytesPerElement;if(geometryAttribute.isInterleavedBufferAttribute){var data=geometryAttribute.data;var stride=data.stride;var offset=geometryAttribute.offset;if(data&&data.isInstancedInterleavedBuffer){for(var _i72=0;_i72<programAttribute.locationSize;_i72++){enableAttributeAndDivisor(programAttribute.location+_i72,data.meshPerAttribute);}if(object.isInstancedMesh!==true&&geometry._maxInstanceCount===undefined){geometry._maxInstanceCount=data.meshPerAttribute*data.count;}}else{for(var _i73=0;_i73<programAttribute.locationSize;_i73++){enableAttribute(programAttribute.location+_i73);}}gl.bindBuffer(34962,buffer);for(var _i74=0;_i74<programAttribute.locationSize;_i74++){vertexAttribPointer(programAttribute.location+_i74,size/programAttribute.locationSize,type,normalized,stride*bytesPerElement,(offset+size/programAttribute.locationSize*_i74)*bytesPerElement);}}else{if(geometryAttribute.isInstancedBufferAttribute){for(var _i75=0;_i75<programAttribute.locationSize;_i75++){enableAttributeAndDivisor(programAttribute.location+_i75,geometryAttribute.meshPerAttribute);}if(object.isInstancedMesh!==true&&geometry._maxInstanceCount===undefined){geometry._maxInstanceCount=geometryAttribute.meshPerAttribute*geometryAttribute.count;}}else{for(var _i76=0;_i76<programAttribute.locationSize;_i76++){enableAttribute(programAttribute.location+_i76);}}gl.bindBuffer(34962,buffer);for(var _i77=0;_i77<programAttribute.locationSize;_i77++){vertexAttribPointer(programAttribute.location+_i77,size/programAttribute.locationSize,type,normalized,size*bytesPerElement,size/programAttribute.locationSize*_i77*bytesPerElement);}}}else if(materialDefaultAttributeValues!==undefined){var _value2=materialDefaultAttributeValues[name];if(_value2!==undefined){switch(_value2.length){case 2:gl.vertexAttrib2fv(programAttribute.location,_value2);break;case 3:gl.vertexAttrib3fv(programAttribute.location,_value2);break;case 4:gl.vertexAttrib4fv(programAttribute.location,_value2);break;default:gl.vertexAttrib1fv(programAttribute.location,_value2);}}}}}disableUnusedAttributes();}function dispose(){reset();for(var geometryId in bindingStates){var programMap=bindingStates[geometryId];for(var programId in programMap){var stateMap=programMap[programId];for(var wireframe in stateMap){deleteVertexArrayObject(stateMap[wireframe].object);delete stateMap[wireframe];}delete programMap[programId];}delete bindingStates[geometryId];}}function releaseStatesOfGeometry(geometry){if(bindingStates[geometry.id]===undefined)return;var programMap=bindingStates[geometry.id];for(var programId in programMap){var stateMap=programMap[programId];for(var wireframe in stateMap){deleteVertexArrayObject(stateMap[wireframe].object);delete stateMap[wireframe];}delete programMap[programId];}delete bindingStates[geometry.id];}function releaseStatesOfProgram(program){for(var geometryId in bindingStates){var programMap=bindingStates[geometryId];if(programMap[program.id]===undefined)continue;var stateMap=programMap[program.id];for(var wireframe in stateMap){deleteVertexArrayObject(stateMap[wireframe].object);delete stateMap[wireframe];}delete programMap[program.id];}}function reset(){resetDefaultState();if(currentState===defaultState)return;currentState=defaultState;bindVertexArrayObject(currentState.object);}// for backward-compatilibity
function resetDefaultState(){defaultState.geometry=null;defaultState.program=null;defaultState.wireframe=false;}return{setup:setup,reset:reset,resetDefaultState:resetDefaultState,dispose:dispose,releaseStatesOfGeometry:releaseStatesOfGeometry,releaseStatesOfProgram:releaseStatesOfProgram,initAttributes:initAttributes,enableAttribute:enableAttribute,disableUnusedAttributes:disableUnusedAttributes};}function WebGLBufferRenderer(gl,extensions,info,capabilities){var isWebGL2=capabilities.isWebGL2;var mode;function setMode(value){mode=value;}function render(start,count){gl.drawArrays(mode,start,count);info.update(count,mode,1);}function renderInstances(start,count,primcount){if(primcount===0)return;var extension,methodName;if(isWebGL2){extension=gl;methodName='drawArraysInstanced';}else{extension=extensions.get('ANGLE_instanced_arrays');methodName='drawArraysInstancedANGLE';if(extension===null){console.error('THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.');return;}}extension[methodName](mode,start,count,primcount);info.update(count,mode,primcount);}//
this.setMode=setMode;this.render=render;this.renderInstances=renderInstances;}function WebGLCapabilities(gl,extensions,parameters){var maxAnisotropy;function getMaxAnisotropy(){if(maxAnisotropy!==undefined)return maxAnisotropy;if(extensions.has('EXT_texture_filter_anisotropic')===true){var extension=extensions.get('EXT_texture_filter_anisotropic');maxAnisotropy=gl.getParameter(extension.MAX_TEXTURE_MAX_ANISOTROPY_EXT);}else{maxAnisotropy=0;}return maxAnisotropy;}function getMaxPrecision(precision){if(precision==='highp'){if(gl.getShaderPrecisionFormat(35633,36338).precision>0&&gl.getShaderPrecisionFormat(35632,36338).precision>0){return'highp';}precision='mediump';}if(precision==='mediump'){if(gl.getShaderPrecisionFormat(35633,36337).precision>0&&gl.getShaderPrecisionFormat(35632,36337).precision>0){return'mediump';}}return'lowp';}/* eslint-disable no-undef */var isWebGL2=typeof WebGL2RenderingContext!=='undefined'&&gl instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext!=='undefined'&&gl instanceof WebGL2ComputeRenderingContext;/* eslint-enable no-undef */var precision=parameters.precision!==undefined?parameters.precision:'highp';var maxPrecision=getMaxPrecision(precision);if(maxPrecision!==precision){console.warn('THREE.WebGLRenderer:',precision,'not supported, using',maxPrecision,'instead.');precision=maxPrecision;}var drawBuffers=isWebGL2||extensions.has('WEBGL_draw_buffers');var logarithmicDepthBuffer=parameters.logarithmicDepthBuffer===true;var maxTextures=gl.getParameter(34930);var maxVertexTextures=gl.getParameter(35660);var maxTextureSize=gl.getParameter(3379);var maxCubemapSize=gl.getParameter(34076);var maxAttributes=gl.getParameter(34921);var maxVertexUniforms=gl.getParameter(36347);var maxVaryings=gl.getParameter(36348);var maxFragmentUniforms=gl.getParameter(36349);var vertexTextures=maxVertexTextures>0;var floatFragmentTextures=isWebGL2||extensions.has('OES_texture_float');var floatVertexTextures=vertexTextures&&floatFragmentTextures;var maxSamples=isWebGL2?gl.getParameter(36183):0;return{isWebGL2:isWebGL2,drawBuffers:drawBuffers,getMaxAnisotropy:getMaxAnisotropy,getMaxPrecision:getMaxPrecision,precision:precision,logarithmicDepthBuffer:logarithmicDepthBuffer,maxTextures:maxTextures,maxVertexTextures:maxVertexTextures,maxTextureSize:maxTextureSize,maxCubemapSize:maxCubemapSize,maxAttributes:maxAttributes,maxVertexUniforms:maxVertexUniforms,maxVaryings:maxVaryings,maxFragmentUniforms:maxFragmentUniforms,vertexTextures:vertexTextures,floatFragmentTextures:floatFragmentTextures,floatVertexTextures:floatVertexTextures,maxSamples:maxSamples};}function WebGLClipping(properties){var scope=this;var globalState=null,numGlobalPlanes=0,localClippingEnabled=false,renderingShadows=false;var plane=new Plane(),viewNormalMatrix=new Matrix3(),uniform={value:null,needsUpdate:false};this.uniform=uniform;this.numPlanes=0;this.numIntersection=0;this.init=function(planes,enableLocalClipping,camera){var enabled=planes.length!==0||enableLocalClipping||// enable state of previous frame - the clipping code has to
// run another frame in order to reset the state:
numGlobalPlanes!==0||localClippingEnabled;localClippingEnabled=enableLocalClipping;globalState=projectPlanes(planes,camera,0);numGlobalPlanes=planes.length;return enabled;};this.beginShadows=function(){renderingShadows=true;projectPlanes(null);};this.endShadows=function(){renderingShadows=false;resetGlobalState();};this.setState=function(material,camera,useCache){var planes=material.clippingPlanes,clipIntersection=material.clipIntersection,clipShadows=material.clipShadows;var materialProperties=properties.get(material);if(!localClippingEnabled||planes===null||planes.length===0||renderingShadows&&!clipShadows){// there's no local clipping
if(renderingShadows){// there's no global clipping
projectPlanes(null);}else{resetGlobalState();}}else{var nGlobal=renderingShadows?0:numGlobalPlanes,lGlobal=nGlobal*4;var dstArray=materialProperties.clippingState||null;uniform.value=dstArray;// ensure unique state
dstArray=projectPlanes(planes,camera,lGlobal,useCache);for(var _i78=0;_i78!==lGlobal;++_i78){dstArray[_i78]=globalState[_i78];}materialProperties.clippingState=dstArray;this.numIntersection=clipIntersection?this.numPlanes:0;this.numPlanes+=nGlobal;}};function resetGlobalState(){if(uniform.value!==globalState){uniform.value=globalState;uniform.needsUpdate=numGlobalPlanes>0;}scope.numPlanes=numGlobalPlanes;scope.numIntersection=0;}function projectPlanes(planes,camera,dstOffset,skipTransform){var nPlanes=planes!==null?planes.length:0;var dstArray=null;if(nPlanes!==0){dstArray=uniform.value;if(skipTransform!==true||dstArray===null){var flatSize=dstOffset+nPlanes*4,viewMatrix=camera.matrixWorldInverse;viewNormalMatrix.getNormalMatrix(viewMatrix);if(dstArray===null||dstArray.length<flatSize){dstArray=new Float32Array(flatSize);}for(var _i79=0,i4=dstOffset;_i79!==nPlanes;++_i79,i4+=4){plane.copy(planes[_i79]).applyMatrix4(viewMatrix,viewNormalMatrix);plane.normal.toArray(dstArray,i4);dstArray[i4+3]=plane.constant;}}uniform.value=dstArray;uniform.needsUpdate=true;}scope.numPlanes=nPlanes;scope.numIntersection=0;return dstArray;}}function WebGLCubeMaps(renderer){var cubemaps=new WeakMap();function mapTextureMapping(texture,mapping){if(mapping===EquirectangularReflectionMapping){texture.mapping=CubeReflectionMapping;}else if(mapping===EquirectangularRefractionMapping){texture.mapping=CubeRefractionMapping;}return texture;}function get(texture){if(texture&&texture.isTexture&&texture.isRenderTargetTexture===false){var mapping=texture.mapping;if(mapping===EquirectangularReflectionMapping||mapping===EquirectangularRefractionMapping){if(cubemaps.has(texture)){var cubemap=cubemaps.get(texture).texture;return mapTextureMapping(cubemap,texture.mapping);}else{var image=texture.image;if(image&&image.height>0){var currentRenderTarget=renderer.getRenderTarget();var renderTarget=new WebGLCubeRenderTarget(image.height/2);renderTarget.fromEquirectangularTexture(renderer,texture);cubemaps.set(texture,renderTarget);renderer.setRenderTarget(currentRenderTarget);texture.addEventListener('dispose',onTextureDispose);return mapTextureMapping(renderTarget.texture,texture.mapping);}else{// image not yet ready. try the conversion next frame
return null;}}}}return texture;}function onTextureDispose(event){var texture=event.target;texture.removeEventListener('dispose',onTextureDispose);var cubemap=cubemaps.get(texture);if(cubemap!==undefined){cubemaps.delete(texture);cubemap.dispose();}}function dispose(){cubemaps=new WeakMap();}return{get:get,dispose:dispose};}var OrthographicCamera=/*#__PURE__*/function(_Camera2){(0,_inherits2.default)(OrthographicCamera,_Camera2);var _super28=_createSuper(OrthographicCamera);function OrthographicCamera(){var _this19;var left=arguments.length>0&&arguments[0]!==undefined?arguments[0]:-1;var right=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var top=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var bottom=arguments.length>3&&arguments[3]!==undefined?arguments[3]:-1;var near=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0.1;var far=arguments.length>5&&arguments[5]!==undefined?arguments[5]:2000;(0,_classCallCheck2.default)(this,OrthographicCamera);_this19=_super28.call(this);_this19.type='OrthographicCamera';_this19.zoom=1;_this19.view=null;_this19.left=left;_this19.right=right;_this19.top=top;_this19.bottom=bottom;_this19.near=near;_this19.far=far;_this19.updateProjectionMatrix();return _this19;}(0,_createClass2.default)(OrthographicCamera,[{key:"copy",value:function copy(source,recursive){(0,_get2.default)((0,_getPrototypeOf2.default)(OrthographicCamera.prototype),"copy",this).call(this,source,recursive);this.left=source.left;this.right=source.right;this.top=source.top;this.bottom=source.bottom;this.near=source.near;this.far=source.far;this.zoom=source.zoom;this.view=source.view===null?null:Object.assign({},source.view);return this;}},{key:"setViewOffset",value:function setViewOffset(fullWidth,fullHeight,x,y,width,height){if(this.view===null){this.view={enabled:true,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1};}this.view.enabled=true;this.view.fullWidth=fullWidth;this.view.fullHeight=fullHeight;this.view.offsetX=x;this.view.offsetY=y;this.view.width=width;this.view.height=height;this.updateProjectionMatrix();}},{key:"clearViewOffset",value:function clearViewOffset(){if(this.view!==null){this.view.enabled=false;}this.updateProjectionMatrix();}},{key:"updateProjectionMatrix",value:function updateProjectionMatrix(){var dx=(this.right-this.left)/(2*this.zoom);var dy=(this.top-this.bottom)/(2*this.zoom);var cx=(this.right+this.left)/2;var cy=(this.top+this.bottom)/2;var left=cx-dx;var right=cx+dx;var top=cy+dy;var bottom=cy-dy;if(this.view!==null&&this.view.enabled){var scaleW=(this.right-this.left)/this.view.fullWidth/this.zoom;var scaleH=(this.top-this.bottom)/this.view.fullHeight/this.zoom;left+=scaleW*this.view.offsetX;right=left+scaleW*this.view.width;top-=scaleH*this.view.offsetY;bottom=top-scaleH*this.view.height;}this.projectionMatrix.makeOrthographic(left,right,top,bottom,this.near,this.far);this.projectionMatrixInverse.copy(this.projectionMatrix).invert();}},{key:"toJSON",value:function toJSON(meta){var data=(0,_get2.default)((0,_getPrototypeOf2.default)(OrthographicCamera.prototype),"toJSON",this).call(this,meta);data.object.zoom=this.zoom;data.object.left=this.left;data.object.right=this.right;data.object.top=this.top;data.object.bottom=this.bottom;data.object.near=this.near;data.object.far=this.far;if(this.view!==null)data.object.view=Object.assign({},this.view);return data;}}]);return OrthographicCamera;}(Camera);exports.OrthographicCamera=OrthographicCamera;OrthographicCamera.prototype.isOrthographicCamera=true;var RawShaderMaterial=/*#__PURE__*/function(_ShaderMaterial){(0,_inherits2.default)(RawShaderMaterial,_ShaderMaterial);var _super29=_createSuper(RawShaderMaterial);function RawShaderMaterial(parameters){var _this20;(0,_classCallCheck2.default)(this,RawShaderMaterial);_this20=_super29.call(this,parameters);_this20.type='RawShaderMaterial';return _this20;}return(0,_createClass2.default)(RawShaderMaterial);}(ShaderMaterial);exports.RawShaderMaterial=RawShaderMaterial;RawShaderMaterial.prototype.isRawShaderMaterial=true;var LOD_MIN=4;var LOD_MAX=8;var SIZE_MAX=Math.pow(2,LOD_MAX);// The standard deviations (radians) associated with the extra mips. These are
// chosen to approximate a Trowbridge-Reitz distribution function times the
// geometric shadowing function. These sigma values squared must match the
// variance #defines in cube_uv_reflection_fragment.glsl.js.
var EXTRA_LOD_SIGMA=[0.125,0.215,0.35,0.446,0.526,0.582];var TOTAL_LODS=LOD_MAX-LOD_MIN+1+EXTRA_LOD_SIGMA.length;// The maximum length of the blur for loop. Smaller sigmas will use fewer
// samples and exit early, but not recompile the shader.
var MAX_SAMPLES=20;var ENCODINGS=(_ENCODINGS={},(0,_defineProperty2.default)(_ENCODINGS,LinearEncoding,0),(0,_defineProperty2.default)(_ENCODINGS,sRGBEncoding,1),(0,_defineProperty2.default)(_ENCODINGS,RGBEEncoding,2),(0,_defineProperty2.default)(_ENCODINGS,RGBM7Encoding,3),(0,_defineProperty2.default)(_ENCODINGS,RGBM16Encoding,4),(0,_defineProperty2.default)(_ENCODINGS,RGBDEncoding,5),(0,_defineProperty2.default)(_ENCODINGS,GammaEncoding,6),_ENCODINGS);var _flatCamera=/*@__PURE__*/new OrthographicCamera();var _createPlanes2=/*@__PURE__*/_createPlanes(),_lodPlanes=_createPlanes2._lodPlanes,_sizeLods=_createPlanes2._sizeLods,_sigmas=_createPlanes2._sigmas;var _clearColor=/*@__PURE__*/new Color();var _oldTarget=null;// Golden Ratio
var PHI=(1+Math.sqrt(5))/2;var INV_PHI=1/PHI;// Vertices of a dodecahedron (except the opposites, which represent the
// same axis), used as axis directions evenly spread on a sphere.
var _axisDirections=[/*@__PURE__*/new Vector3(1,1,1),/*@__PURE__*/new Vector3(-1,1,1),/*@__PURE__*/new Vector3(1,1,-1),/*@__PURE__*/new Vector3(-1,1,-1),/*@__PURE__*/new Vector3(0,PHI,INV_PHI),/*@__PURE__*/new Vector3(0,PHI,-INV_PHI),/*@__PURE__*/new Vector3(INV_PHI,0,PHI),/*@__PURE__*/new Vector3(-INV_PHI,0,PHI),/*@__PURE__*/new Vector3(PHI,INV_PHI,0),/*@__PURE__*/new Vector3(-PHI,INV_PHI,0)];/**
 * This class generates a Prefiltered, Mipmapped Radiance Environment Map
 * (PMREM) from a cubeMap environment texture. This allows different levels of
 * blur to be quickly accessed based on material roughness. It is packed into a
 * special CubeUV format that allows us to perform custom interpolation so that
 * we can support nonlinear formats such as RGBE. Unlike a traditional mipmap
 * chain, it only goes down to the LOD_MIN level (above), and then creates extra
 * even more filtered 'mips' at the same LOD_MIN resolution, associated with
 * higher roughness levels. In this way we maintain resolution to smoothly
 * interpolate diffuse lighting while limiting sampling computation.
 *
 * Paper: Fast, Accurate Image-Based Lighting
 * https://drive.google.com/file/d/15y8r_UpKlU9SvV4ILb0C3qCPecS8pvLz/view
*/var PMREMGenerator=/*#__PURE__*/function(){function PMREMGenerator(renderer){(0,_classCallCheck2.default)(this,PMREMGenerator);this._renderer=renderer;this._pingPongRenderTarget=null;this._blurMaterial=_getBlurShader(MAX_SAMPLES);this._equirectShader=null;this._cubemapShader=null;this._compileMaterial(this._blurMaterial);}/**
	 * Generates a PMREM from a supplied Scene, which can be faster than using an
	 * image if networking bandwidth is low. Optional sigma specifies a blur radius
	 * in radians to be applied to the scene before PMREM generation. Optional near
	 * and far planes ensure the scene is rendered in its entirety (the cubeCamera
	 * is placed at the origin).
	 */(0,_createClass2.default)(PMREMGenerator,[{key:"fromScene",value:function fromScene(scene){var sigma=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var near=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0.1;var far=arguments.length>3&&arguments[3]!==undefined?arguments[3]:100;_oldTarget=this._renderer.getRenderTarget();var cubeUVRenderTarget=this._allocateTargets();this._sceneToCubeUV(scene,near,far,cubeUVRenderTarget);if(sigma>0){this._blur(cubeUVRenderTarget,0,0,sigma);}this._applyPMREM(cubeUVRenderTarget);this._cleanup(cubeUVRenderTarget);return cubeUVRenderTarget;}/**
	 * Generates a PMREM from an equirectangular texture, which can be either LDR
	 * (RGBFormat) or HDR (RGBEFormat). The ideal input image size is 1k (1024 x 512),
	 * as this matches best with the 256 x 256 cubemap output.
	 */},{key:"fromEquirectangular",value:function fromEquirectangular(equirectangular){return this._fromTexture(equirectangular);}/**
	 * Generates a PMREM from an cubemap texture, which can be either LDR
	 * (RGBFormat) or HDR (RGBEFormat). The ideal input cube size is 256 x 256,
	 * as this matches best with the 256 x 256 cubemap output.
	 */},{key:"fromCubemap",value:function fromCubemap(cubemap){return this._fromTexture(cubemap);}/**
	 * Pre-compiles the cubemap shader. You can get faster start-up by invoking this method during
	 * your texture's network fetch for increased concurrency.
	 */},{key:"compileCubemapShader",value:function compileCubemapShader(){if(this._cubemapShader===null){this._cubemapShader=_getCubemapShader();this._compileMaterial(this._cubemapShader);}}/**
	 * Pre-compiles the equirectangular shader. You can get faster start-up by invoking this method during
	 * your texture's network fetch for increased concurrency.
	 */},{key:"compileEquirectangularShader",value:function compileEquirectangularShader(){if(this._equirectShader===null){this._equirectShader=_getEquirectShader();this._compileMaterial(this._equirectShader);}}/**
	 * Disposes of the PMREMGenerator's internal memory. Note that PMREMGenerator is a static class,
	 * so you should not need more than one PMREMGenerator object. If you do, calling dispose() on
	 * one of them will cause any others to also become unusable.
	 */},{key:"dispose",value:function dispose(){this._blurMaterial.dispose();if(this._cubemapShader!==null)this._cubemapShader.dispose();if(this._equirectShader!==null)this._equirectShader.dispose();for(var i=0;i<_lodPlanes.length;i++){_lodPlanes[i].dispose();}}// private interface
},{key:"_cleanup",value:function _cleanup(outputTarget){this._pingPongRenderTarget.dispose();this._renderer.setRenderTarget(_oldTarget);outputTarget.scissorTest=false;_setViewport(outputTarget,0,0,outputTarget.width,outputTarget.height);}},{key:"_fromTexture",value:function _fromTexture(texture){_oldTarget=this._renderer.getRenderTarget();var cubeUVRenderTarget=this._allocateTargets(texture);this._textureToCubeUV(texture,cubeUVRenderTarget);this._applyPMREM(cubeUVRenderTarget);this._cleanup(cubeUVRenderTarget);return cubeUVRenderTarget;}},{key:"_allocateTargets",value:function _allocateTargets(texture){// warning: null texture is valid
var params={magFilter:NearestFilter,minFilter:NearestFilter,generateMipmaps:false,type:UnsignedByteType,format:RGBEFormat,encoding:_isLDR(texture)?texture.encoding:RGBEEncoding,depthBuffer:false};var cubeUVRenderTarget=_createRenderTarget(params);cubeUVRenderTarget.depthBuffer=texture?false:true;this._pingPongRenderTarget=_createRenderTarget(params);return cubeUVRenderTarget;}},{key:"_compileMaterial",value:function _compileMaterial(material){var tmpMesh=new Mesh(_lodPlanes[0],material);this._renderer.compile(tmpMesh,_flatCamera);}},{key:"_sceneToCubeUV",value:function _sceneToCubeUV(scene,near,far,cubeUVRenderTarget){var fov=90;var aspect=1;var cubeCamera=new PerspectiveCamera(fov,aspect,near,far);var upSign=[1,-1,1,1,1,1];var forwardSign=[1,1,1,-1,-1,-1];var renderer=this._renderer;var originalAutoClear=renderer.autoClear;var outputEncoding=renderer.outputEncoding;var toneMapping=renderer.toneMapping;renderer.getClearColor(_clearColor);renderer.toneMapping=NoToneMapping;renderer.outputEncoding=LinearEncoding;renderer.autoClear=false;var backgroundMaterial=new MeshBasicMaterial({name:'PMREM.Background',side:BackSide,depthWrite:false,depthTest:false});var backgroundBox=new Mesh(new BoxGeometry(),backgroundMaterial);var useSolidColor=false;var background=scene.background;if(background){if(background.isColor){backgroundMaterial.color.copy(background);scene.background=null;useSolidColor=true;}}else{backgroundMaterial.color.copy(_clearColor);useSolidColor=true;}for(var i=0;i<6;i++){var col=i%3;if(col==0){cubeCamera.up.set(0,upSign[i],0);cubeCamera.lookAt(forwardSign[i],0,0);}else if(col==1){cubeCamera.up.set(0,0,upSign[i]);cubeCamera.lookAt(0,forwardSign[i],0);}else{cubeCamera.up.set(0,upSign[i],0);cubeCamera.lookAt(0,0,forwardSign[i]);}_setViewport(cubeUVRenderTarget,col*SIZE_MAX,i>2?SIZE_MAX:0,SIZE_MAX,SIZE_MAX);renderer.setRenderTarget(cubeUVRenderTarget);if(useSolidColor){renderer.render(backgroundBox,cubeCamera);}renderer.render(scene,cubeCamera);}backgroundBox.geometry.dispose();backgroundBox.material.dispose();renderer.toneMapping=toneMapping;renderer.outputEncoding=outputEncoding;renderer.autoClear=originalAutoClear;scene.background=background;}},{key:"_setEncoding",value:function _setEncoding(uniform,texture){if(this._renderer.capabilities.isWebGL2===true&&texture.format===RGBAFormat&&texture.type===UnsignedByteType&&texture.encoding===sRGBEncoding){uniform.value=ENCODINGS[LinearEncoding];}else{uniform.value=ENCODINGS[texture.encoding];}}},{key:"_textureToCubeUV",value:function _textureToCubeUV(texture,cubeUVRenderTarget){var renderer=this._renderer;if(texture.isCubeTexture){if(this._cubemapShader==null){this._cubemapShader=_getCubemapShader();}}else{if(this._equirectShader==null){this._equirectShader=_getEquirectShader();}}var material=texture.isCubeTexture?this._cubemapShader:this._equirectShader;var mesh=new Mesh(_lodPlanes[0],material);var uniforms=material.uniforms;uniforms['envMap'].value=texture;if(!texture.isCubeTexture){uniforms['texelSize'].value.set(1.0/texture.image.width,1.0/texture.image.height);}this._setEncoding(uniforms['inputEncoding'],texture);this._setEncoding(uniforms['outputEncoding'],cubeUVRenderTarget.texture);_setViewport(cubeUVRenderTarget,0,0,3*SIZE_MAX,2*SIZE_MAX);renderer.setRenderTarget(cubeUVRenderTarget);renderer.render(mesh,_flatCamera);}},{key:"_applyPMREM",value:function _applyPMREM(cubeUVRenderTarget){var renderer=this._renderer;var autoClear=renderer.autoClear;renderer.autoClear=false;for(var i=1;i<TOTAL_LODS;i++){var sigma=Math.sqrt(_sigmas[i]*_sigmas[i]-_sigmas[i-1]*_sigmas[i-1]);var poleAxis=_axisDirections[(i-1)%_axisDirections.length];this._blur(cubeUVRenderTarget,i-1,i,sigma,poleAxis);}renderer.autoClear=autoClear;}/**
	 * This is a two-pass Gaussian blur for a cubemap. Normally this is done
	 * vertically and horizontally, but this breaks down on a cube. Here we apply
	 * the blur latitudinally (around the poles), and then longitudinally (towards
	 * the poles) to approximate the orthogonally-separable blur. It is least
	 * accurate at the poles, but still does a decent job.
	 */},{key:"_blur",value:function _blur(cubeUVRenderTarget,lodIn,lodOut,sigma,poleAxis){var pingPongRenderTarget=this._pingPongRenderTarget;this._halfBlur(cubeUVRenderTarget,pingPongRenderTarget,lodIn,lodOut,sigma,'latitudinal',poleAxis);this._halfBlur(pingPongRenderTarget,cubeUVRenderTarget,lodOut,lodOut,sigma,'longitudinal',poleAxis);}},{key:"_halfBlur",value:function _halfBlur(targetIn,targetOut,lodIn,lodOut,sigmaRadians,direction,poleAxis){var renderer=this._renderer;var blurMaterial=this._blurMaterial;if(direction!=='latitudinal'&&direction!=='longitudinal'){console.error('blur direction must be either latitudinal or longitudinal!');}// Number of standard deviations at which to cut off the discrete approximation.
var STANDARD_DEVIATIONS=3;var blurMesh=new Mesh(_lodPlanes[lodOut],blurMaterial);var blurUniforms=blurMaterial.uniforms;var pixels=_sizeLods[lodIn]-1;var radiansPerPixel=isFinite(sigmaRadians)?Math.PI/(2*pixels):2*Math.PI/(2*MAX_SAMPLES-1);var sigmaPixels=sigmaRadians/radiansPerPixel;var samples=isFinite(sigmaRadians)?1+Math.floor(STANDARD_DEVIATIONS*sigmaPixels):MAX_SAMPLES;if(samples>MAX_SAMPLES){console.warn("sigmaRadians, ".concat(sigmaRadians,", is too large and will clip, as it requested ").concat(samples," samples when the maximum is set to ").concat(MAX_SAMPLES));}var weights=[];var sum=0;for(var i=0;i<MAX_SAMPLES;++i){var _x2=i/sigmaPixels;var weight=Math.exp(-_x2*_x2/2);weights.push(weight);if(i==0){sum+=weight;}else if(i<samples){sum+=2*weight;}}for(var _i80=0;_i80<weights.length;_i80++){weights[_i80]=weights[_i80]/sum;}blurUniforms['envMap'].value=targetIn.texture;blurUniforms['samples'].value=samples;blurUniforms['weights'].value=weights;blurUniforms['latitudinal'].value=direction==='latitudinal';if(poleAxis){blurUniforms['poleAxis'].value=poleAxis;}blurUniforms['dTheta'].value=radiansPerPixel;blurUniforms['mipInt'].value=LOD_MAX-lodIn;this._setEncoding(blurUniforms['inputEncoding'],targetIn.texture);this._setEncoding(blurUniforms['outputEncoding'],targetIn.texture);var outputSize=_sizeLods[lodOut];var x=3*Math.max(0,SIZE_MAX-2*outputSize);var y=(lodOut===0?0:2*SIZE_MAX)+2*outputSize*(lodOut>LOD_MAX-LOD_MIN?lodOut-LOD_MAX+LOD_MIN:0);_setViewport(targetOut,x,y,3*outputSize,2*outputSize);renderer.setRenderTarget(targetOut);renderer.render(blurMesh,_flatCamera);}}]);return PMREMGenerator;}();exports.PMREMGenerator=PMREMGenerator;function _isLDR(texture){if(texture===undefined||texture.type!==UnsignedByteType)return false;return texture.encoding===LinearEncoding||texture.encoding===sRGBEncoding||texture.encoding===GammaEncoding;}function _createPlanes(){var _lodPlanes=[];var _sizeLods=[];var _sigmas=[];var lod=LOD_MAX;for(var i=0;i<TOTAL_LODS;i++){var sizeLod=Math.pow(2,lod);_sizeLods.push(sizeLod);var sigma=1.0/sizeLod;if(i>LOD_MAX-LOD_MIN){sigma=EXTRA_LOD_SIGMA[i-LOD_MAX+LOD_MIN-1];}else if(i==0){sigma=0;}_sigmas.push(sigma);var texelSize=1.0/(sizeLod-1);var min=-texelSize/2;var max=1+texelSize/2;var uv1=[min,min,max,min,max,max,min,min,max,max,min,max];var cubeFaces=6;var vertices=6;var positionSize=3;var uvSize=2;var faceIndexSize=1;var position=new Float32Array(positionSize*vertices*cubeFaces);var uv=new Float32Array(uvSize*vertices*cubeFaces);var faceIndex=new Float32Array(faceIndexSize*vertices*cubeFaces);for(var face=0;face<cubeFaces;face++){var x=face%3*2/3-1;var y=face>2?0:-1;var coordinates=[x,y,0,x+2/3,y,0,x+2/3,y+1,0,x,y,0,x+2/3,y+1,0,x,y+1,0];position.set(coordinates,positionSize*vertices*face);uv.set(uv1,uvSize*vertices*face);var fill=[face,face,face,face,face,face];faceIndex.set(fill,faceIndexSize*vertices*face);}var planes=new BufferGeometry();planes.setAttribute('position',new BufferAttribute(position,positionSize));planes.setAttribute('uv',new BufferAttribute(uv,uvSize));planes.setAttribute('faceIndex',new BufferAttribute(faceIndex,faceIndexSize));_lodPlanes.push(planes);if(lod>LOD_MIN){lod--;}}return{_lodPlanes:_lodPlanes,_sizeLods:_sizeLods,_sigmas:_sigmas};}function _createRenderTarget(params){var cubeUVRenderTarget=new WebGLRenderTarget(3*SIZE_MAX,3*SIZE_MAX,params);cubeUVRenderTarget.texture.mapping=CubeUVReflectionMapping;cubeUVRenderTarget.texture.name='PMREM.cubeUv';cubeUVRenderTarget.scissorTest=true;return cubeUVRenderTarget;}function _setViewport(target,x,y,width,height){target.viewport.set(x,y,width,height);target.scissor.set(x,y,width,height);}function _getBlurShader(maxSamples){var weights=new Float32Array(maxSamples);var poleAxis=new Vector3(0,1,0);var shaderMaterial=new RawShaderMaterial({name:'SphericalGaussianBlur',defines:{'n':maxSamples},uniforms:{'envMap':{value:null},'samples':{value:1},'weights':{value:weights},'latitudinal':{value:false},'dTheta':{value:0},'mipInt':{value:0},'poleAxis':{value:poleAxis},'inputEncoding':{value:ENCODINGS[LinearEncoding]},'outputEncoding':{value:ENCODINGS[LinearEncoding]}},vertexShader:_getCommonVertexShader(),fragmentShader:/* glsl */"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t".concat(_getEncodings(),"\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t"),blending:NoBlending,depthTest:false,depthWrite:false});return shaderMaterial;}function _getEquirectShader(){var texelSize=new Vector2(1,1);var shaderMaterial=new RawShaderMaterial({name:'EquirectangularToCubeUV',uniforms:{'envMap':{value:null},'texelSize':{value:texelSize},'inputEncoding':{value:ENCODINGS[LinearEncoding]},'outputEncoding':{value:ENCODINGS[LinearEncoding]}},vertexShader:_getCommonVertexShader(),fragmentShader:/* glsl */"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform vec2 texelSize;\n\n\t\t\t".concat(_getEncodings(),"\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tvec2 f = fract( uv / texelSize - 0.5 );\n\t\t\t\tuv -= f * texelSize;\n\t\t\t\tvec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x += texelSize.x;\n\t\t\t\tvec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.y += texelSize.y;\n\t\t\t\tvec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x -= texelSize.x;\n\t\t\t\tvec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\n\t\t\t\tvec3 tm = mix( tl, tr, f.x );\n\t\t\t\tvec3 bm = mix( bl, br, f.x );\n\t\t\t\tgl_FragColor.rgb = mix( tm, bm, f.y );\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t"),blending:NoBlending,depthTest:false,depthWrite:false});return shaderMaterial;}function _getCubemapShader(){var shaderMaterial=new RawShaderMaterial({name:'CubemapToCubeUV',uniforms:{'envMap':{value:null},'inputEncoding':{value:ENCODINGS[LinearEncoding]},'outputEncoding':{value:ENCODINGS[LinearEncoding]}},vertexShader:_getCommonVertexShader(),fragmentShader:/* glsl */"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\t".concat(_getEncodings(),"\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t"),blending:NoBlending,depthTest:false,depthWrite:false});return shaderMaterial;}function _getCommonVertexShader(){return(/* glsl */"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t");}function _getEncodings(){return(/* glsl */"\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t");}function WebGLCubeUVMaps(renderer){var cubeUVmaps=new WeakMap();var pmremGenerator=null;function get(texture){if(texture&&texture.isTexture&&texture.isRenderTargetTexture===false){var mapping=texture.mapping;var isEquirectMap=mapping===EquirectangularReflectionMapping||mapping===EquirectangularRefractionMapping;var isCubeMap=mapping===CubeReflectionMapping||mapping===CubeRefractionMapping;if(isEquirectMap||isCubeMap){// equirect/cube map to cubeUV conversion
if(cubeUVmaps.has(texture)){return cubeUVmaps.get(texture).texture;}else{var image=texture.image;if(isEquirectMap&&image&&image.height>0||isCubeMap&&image&&isCubeTextureComplete(image)){var currentRenderTarget=renderer.getRenderTarget();if(pmremGenerator===null)pmremGenerator=new PMREMGenerator(renderer);var renderTarget=isEquirectMap?pmremGenerator.fromEquirectangular(texture):pmremGenerator.fromCubemap(texture);cubeUVmaps.set(texture,renderTarget);renderer.setRenderTarget(currentRenderTarget);texture.addEventListener('dispose',onTextureDispose);return renderTarget.texture;}else{// image not yet ready. try the conversion next frame
return null;}}}}return texture;}function isCubeTextureComplete(image){var count=0;var length=6;for(var i=0;i<length;i++){if(image[i]!==undefined)count++;}return count===length;}function onTextureDispose(event){var texture=event.target;texture.removeEventListener('dispose',onTextureDispose);var cubemapUV=cubeUVmaps.get(texture);if(cubemapUV!==undefined){cubeUVmaps.delete(texture);cubemapUV.dispose();}}function dispose(){cubeUVmaps=new WeakMap();if(pmremGenerator!==null){pmremGenerator.dispose();pmremGenerator=null;}}return{get:get,dispose:dispose};}function WebGLExtensions(gl){var extensions=Object.assign({},$defaultWebGLExtensions||{});function getExtension(name){if(extensions[name]!==undefined){return extensions[name];}var extension;switch(name){case'WEBGL_depth_texture':extension=gl.getExtension('WEBGL_depth_texture')||gl.getExtension('MOZ_WEBGL_depth_texture')||gl.getExtension('WEBKIT_WEBGL_depth_texture');break;case'EXT_texture_filter_anisotropic':extension=gl.getExtension('EXT_texture_filter_anisotropic')||gl.getExtension('MOZ_EXT_texture_filter_anisotropic')||gl.getExtension('WEBKIT_EXT_texture_filter_anisotropic');break;case'WEBGL_compressed_texture_s3tc':extension=gl.getExtension('WEBGL_compressed_texture_s3tc')||gl.getExtension('MOZ_WEBGL_compressed_texture_s3tc')||gl.getExtension('WEBKIT_WEBGL_compressed_texture_s3tc');break;case'WEBGL_compressed_texture_pvrtc':extension=gl.getExtension('WEBGL_compressed_texture_pvrtc')||gl.getExtension('WEBKIT_WEBGL_compressed_texture_pvrtc');break;default:extension=gl.getExtension(name);}extensions[name]=extension;return extension;}return{has:function has(name){return getExtension(name)!==null;},init:function init(capabilities){if(capabilities.isWebGL2){getExtension('EXT_color_buffer_float');}else{getExtension('WEBGL_depth_texture');getExtension('OES_texture_float');getExtension('OES_texture_half_float');getExtension('OES_texture_half_float_linear');getExtension('OES_standard_derivatives');getExtension('OES_element_index_uint');getExtension('OES_vertex_array_object');getExtension('ANGLE_instanced_arrays');}getExtension('OES_texture_float_linear');getExtension('EXT_color_buffer_half_float');},get:function get(name){var extension=getExtension(name)||null;if(extension===null){console.warn('THREE.WebGLRenderer: '+name+' extension not supported.');}return extension;}};}function WebGLGeometries(gl,attributes,info,bindingStates){var geometries={};var wireframeAttributes=new WeakMap();function onGeometryDispose(event){var geometry=event.target;if(geometry.index!==null){attributes.remove(geometry.index);}for(var name in geometry.attributes){attributes.remove(geometry.attributes[name]);}geometry.removeEventListener('dispose',onGeometryDispose);delete geometries[geometry.id];var attribute=wireframeAttributes.get(geometry);if(attribute){attributes.remove(attribute);wireframeAttributes.delete(geometry);}bindingStates.releaseStatesOfGeometry(geometry);if(geometry.isInstancedBufferGeometry===true){delete geometry._maxInstanceCount;}//
info.memory.geometries--;}function get(object,geometry){if(geometries[geometry.id]===true)return geometry;geometry.addEventListener('dispose',onGeometryDispose);geometries[geometry.id]=true;info.memory.geometries++;return geometry;}function update(geometry){var geometryAttributes=geometry.attributes;// Updating index buffer in VAO now. See WebGLBindingStates.
for(var name in geometryAttributes){attributes.update(geometryAttributes[name],34962);}// morph targets
var morphAttributes=geometry.morphAttributes;for(var _name3 in morphAttributes){var array=morphAttributes[_name3];for(var i=0,l=array.length;i<l;i++){attributes.update(array[i],34962);}}}function updateWireframeAttribute(geometry){var indices=[];var geometryIndex=geometry.index;var geometryPosition=geometry.attributes.position;var version=0;if(geometryIndex!==null){var array=geometryIndex.array;version=geometryIndex.version;for(var i=0,l=array.length;i<l;i+=3){var a=array[i+0];var b=array[i+1];var c=array[i+2];indices.push(a,b,b,c,c,a);}}else{var _array=geometryPosition.array;version=geometryPosition.version;for(var _i81=0,_l4=_array.length/3-1;_i81<_l4;_i81+=3){var _a4=_i81+0;var _b4=_i81+1;var _c4=_i81+2;indices.push(_a4,_b4,_b4,_c4,_c4,_a4);}}var attribute=new(arrayMax(indices)>65535?Uint32BufferAttribute:Uint16BufferAttribute)(indices,1);attribute.version=version;// Updating index buffer in VAO now. See WebGLBindingStates
//
var previousAttribute=wireframeAttributes.get(geometry);if(previousAttribute)attributes.remove(previousAttribute);//
wireframeAttributes.set(geometry,attribute);}function getWireframeAttribute(geometry){var currentAttribute=wireframeAttributes.get(geometry);if(currentAttribute){var geometryIndex=geometry.index;if(geometryIndex!==null){// if the attribute is obsolete, create a new one
if(currentAttribute.version<geometryIndex.version){updateWireframeAttribute(geometry);}}}else{updateWireframeAttribute(geometry);}return wireframeAttributes.get(geometry);}return{get:get,update:update,getWireframeAttribute:getWireframeAttribute};}function WebGLIndexedBufferRenderer(gl,extensions,info,capabilities){var isWebGL2=capabilities.isWebGL2;var mode;function setMode(value){mode=value;}var type,bytesPerElement;function setIndex(value){type=value.type;bytesPerElement=value.bytesPerElement;}function render(start,count){gl.drawElements(mode,count,type,start*bytesPerElement);info.update(count,mode,1);}function renderInstances(start,count,primcount){if(primcount===0)return;var extension,methodName;if(isWebGL2){extension=gl;methodName='drawElementsInstanced';}else{extension=extensions.get('ANGLE_instanced_arrays');methodName='drawElementsInstancedANGLE';if(extension===null){console.error('THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.');return;}}extension[methodName](mode,count,type,start*bytesPerElement,primcount);info.update(count,mode,primcount);}//
this.setMode=setMode;this.setIndex=setIndex;this.render=render;this.renderInstances=renderInstances;}function WebGLInfo(gl){var memory={geometries:0,textures:0};var render={frame:0,calls:0,triangles:0,points:0,lines:0};function update(count,mode,instanceCount){render.calls++;switch(mode){case 4:render.triangles+=instanceCount*(count/3);break;case 1:render.lines+=instanceCount*(count/2);break;case 3:render.lines+=instanceCount*(count-1);break;case 2:render.lines+=instanceCount*count;break;case 0:render.points+=instanceCount*count;break;default:console.error('THREE.WebGLInfo: Unknown draw mode:',mode);break;}}function reset(){render.frame++;render.calls=0;render.triangles=0;render.points=0;render.lines=0;}return{memory:memory,render:render,programs:null,autoReset:true,reset:reset,update:update};}var DataTexture2DArray=/*#__PURE__*/function(_Texture2){(0,_inherits2.default)(DataTexture2DArray,_Texture2);var _super30=_createSuper(DataTexture2DArray);function DataTexture2DArray(){var _this21;var data=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var width=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var height=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var depth=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;(0,_classCallCheck2.default)(this,DataTexture2DArray);_this21=_super30.call(this,null);_this21.image={data:data,width:width,height:height,depth:depth};_this21.magFilter=NearestFilter;_this21.minFilter=NearestFilter;_this21.wrapR=ClampToEdgeWrapping;_this21.generateMipmaps=false;_this21.flipY=false;_this21.unpackAlignment=1;_this21.needsUpdate=true;return _this21;}return(0,_createClass2.default)(DataTexture2DArray);}(Texture);exports.DataTexture2DArray=DataTexture2DArray;DataTexture2DArray.prototype.isDataTexture2DArray=true;function numericalSort(a,b){return a[0]-b[0];}function absNumericalSort(a,b){return Math.abs(b[1])-Math.abs(a[1]);}function denormalize(morph,attribute){var denominator=1;var array=attribute.isInterleavedBufferAttribute?attribute.data.array:attribute.array;if(array instanceof Int8Array)denominator=127;else if(array instanceof Int16Array)denominator=32767;else if(array instanceof Int32Array)denominator=2147483647;else console.error('THREE.WebGLMorphtargets: Unsupported morph attribute data type: ',array);morph.divideScalar(denominator);}function WebGLMorphtargets(gl,capabilities,textures){var influencesList={};var morphInfluences=new Float32Array(8);var morphTextures=new WeakMap();var morph=new Vector3();var workInfluences=[];for(var i=0;i<8;i++){workInfluences[i]=[i,0];}function update(object,geometry,material,program){var objectInfluences=object.morphTargetInfluences;if(capabilities.isWebGL2===true){// instead of using attributes, the WebGL 2 code path encodes morph targets
// into an array of data textures. Each layer represents a single morph target.
var numberOfMorphTargets=geometry.morphAttributes.position.length;var entry=morphTextures.get(geometry);if(entry===undefined||entry.count!==numberOfMorphTargets){if(entry!==undefined)entry.texture.dispose();var hasMorphNormals=geometry.morphAttributes.normal!==undefined;var morphTargets=geometry.morphAttributes.position;var morphNormals=geometry.morphAttributes.normal||[];var numberOfVertices=geometry.attributes.position.count;var numberOfVertexData=hasMorphNormals===true?2:1;// (v,n) vs. (v)
var width=numberOfVertices*numberOfVertexData;var height=1;if(width>capabilities.maxTextureSize){height=Math.ceil(width/capabilities.maxTextureSize);width=capabilities.maxTextureSize;}var buffer=new Float32Array(width*height*4*numberOfMorphTargets);var texture=new DataTexture2DArray(buffer,width,height,numberOfMorphTargets);texture.format=RGBAFormat;// using RGBA since RGB might be emulated (and is thus slower)
texture.type=FloatType;// fill buffer
var vertexDataStride=numberOfVertexData*4;for(var _i82=0;_i82<numberOfMorphTargets;_i82++){var morphTarget=morphTargets[_i82];var morphNormal=morphNormals[_i82];var offset=width*height*4*_i82;for(var j=0;j<morphTarget.count;j++){morph.fromBufferAttribute(morphTarget,j);if(morphTarget.normalized===true)denormalize(morph,morphTarget);var stride=j*vertexDataStride;buffer[offset+stride+0]=morph.x;buffer[offset+stride+1]=morph.y;buffer[offset+stride+2]=morph.z;buffer[offset+stride+3]=0;if(hasMorphNormals===true){morph.fromBufferAttribute(morphNormal,j);if(morphNormal.normalized===true)denormalize(morph,morphNormal);buffer[offset+stride+4]=morph.x;buffer[offset+stride+5]=morph.y;buffer[offset+stride+6]=morph.z;buffer[offset+stride+7]=0;}}}entry={count:numberOfMorphTargets,texture:texture,size:new Vector2(width,height)};morphTextures.set(geometry,entry);}//
var morphInfluencesSum=0;for(var _i83=0;_i83<objectInfluences.length;_i83++){morphInfluencesSum+=objectInfluences[_i83];}var morphBaseInfluence=geometry.morphTargetsRelative?1:1-morphInfluencesSum;program.getUniforms().setValue(gl,'morphTargetBaseInfluence',morphBaseInfluence);program.getUniforms().setValue(gl,'morphTargetInfluences',objectInfluences);program.getUniforms().setValue(gl,'morphTargetsTexture',entry.texture,textures);program.getUniforms().setValue(gl,'morphTargetsTextureSize',entry.size);}else{// When object doesn't have morph target influences defined, we treat it as a 0-length array
// This is important to make sure we set up morphTargetBaseInfluence / morphTargetInfluences
var length=objectInfluences===undefined?0:objectInfluences.length;var influences=influencesList[geometry.id];if(influences===undefined||influences.length!==length){// initialise list
influences=[];for(var _i84=0;_i84<length;_i84++){influences[_i84]=[_i84,0];}influencesList[geometry.id]=influences;}// Collect influences
for(var _i85=0;_i85<length;_i85++){var influence=influences[_i85];influence[0]=_i85;influence[1]=objectInfluences[_i85];}influences.sort(absNumericalSort);for(var _i86=0;_i86<8;_i86++){if(_i86<length&&influences[_i86][1]){workInfluences[_i86][0]=influences[_i86][0];workInfluences[_i86][1]=influences[_i86][1];}else{workInfluences[_i86][0]=Number.MAX_SAFE_INTEGER;workInfluences[_i86][1]=0;}}workInfluences.sort(numericalSort);var _morphTargets=geometry.morphAttributes.position;var _morphNormals=geometry.morphAttributes.normal;var _morphInfluencesSum=0;for(var _i87=0;_i87<8;_i87++){var _influence=workInfluences[_i87];var index=_influence[0];var _value3=_influence[1];if(index!==Number.MAX_SAFE_INTEGER&&_value3){if(_morphTargets&&geometry.getAttribute('morphTarget'+_i87)!==_morphTargets[index]){geometry.setAttribute('morphTarget'+_i87,_morphTargets[index]);}if(_morphNormals&&geometry.getAttribute('morphNormal'+_i87)!==_morphNormals[index]){geometry.setAttribute('morphNormal'+_i87,_morphNormals[index]);}morphInfluences[_i87]=_value3;_morphInfluencesSum+=_value3;}else{if(_morphTargets&&geometry.hasAttribute('morphTarget'+_i87)===true){geometry.deleteAttribute('morphTarget'+_i87);}if(_morphNormals&&geometry.hasAttribute('morphNormal'+_i87)===true){geometry.deleteAttribute('morphNormal'+_i87);}morphInfluences[_i87]=0;}}// GLSL shader uses formula baseinfluence * base + sum(target * influence)
// This allows us to switch between absolute morphs and relative morphs without changing shader code
// When baseinfluence = 1 - sum(influence), the above is equivalent to sum((target - base) * influence)
var _morphBaseInfluence=geometry.morphTargetsRelative?1:1-_morphInfluencesSum;program.getUniforms().setValue(gl,'morphTargetBaseInfluence',_morphBaseInfluence);program.getUniforms().setValue(gl,'morphTargetInfluences',morphInfluences);}}return{update:update};}function WebGLObjects(gl,geometries,attributes,info){var updateMap=new WeakMap();function update(object){var frame=info.render.frame;var geometry=object.geometry;var buffergeometry=geometries.get(object,geometry);// Update once per frame
if(updateMap.get(buffergeometry)!==frame){geometries.update(buffergeometry);updateMap.set(buffergeometry,frame);}if(object.isInstancedMesh){if(object.hasEventListener('dispose',onInstancedMeshDispose)===false){object.addEventListener('dispose',onInstancedMeshDispose);}attributes.update(object.instanceMatrix,34962);if(object.instanceColor!==null){attributes.update(object.instanceColor,34962);}}return buffergeometry;}function dispose(){updateMap=new WeakMap();}function onInstancedMeshDispose(event){var instancedMesh=event.target;instancedMesh.removeEventListener('dispose',onInstancedMeshDispose);attributes.remove(instancedMesh.instanceMatrix);if(instancedMesh.instanceColor!==null)attributes.remove(instancedMesh.instanceColor);}return{update:update,dispose:dispose};}var DataTexture3D=/*#__PURE__*/function(_Texture3){(0,_inherits2.default)(DataTexture3D,_Texture3);var _super31=_createSuper(DataTexture3D);function DataTexture3D(){var _this22;var data=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var width=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var height=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var depth=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;(0,_classCallCheck2.default)(this,DataTexture3D);// We're going to add .setXXX() methods for setting properties later.
// Users can still set in DataTexture3D directly.
//
//	const texture = new THREE.DataTexture3D( data, width, height, depth );
// 	texture.anisotropy = 16;
//
// See #14839
_this22=_super31.call(this,null);_this22.image={data:data,width:width,height:height,depth:depth};_this22.magFilter=NearestFilter;_this22.minFilter=NearestFilter;_this22.wrapR=ClampToEdgeWrapping;_this22.generateMipmaps=false;_this22.flipY=false;_this22.unpackAlignment=1;_this22.needsUpdate=true;return _this22;}return(0,_createClass2.default)(DataTexture3D);}(Texture);exports.DataTexture3D=DataTexture3D;DataTexture3D.prototype.isDataTexture3D=true;/**
 * Uniforms of a program.
 * Those form a tree structure with a special top-level container for the root,
 * which you get by calling 'new WebGLUniforms( gl, program )'.
 *
 *
 * Properties of inner nodes including the top-level container:
 *
 * .seq - array of nested uniforms
 * .map - nested uniforms by name
 *
 *
 * Methods of all nodes except the top-level container:
 *
 * .setValue( gl, value, [textures] )
 *
 * 		uploads a uniform value(s)
 *  	the 'textures' parameter is needed for sampler uniforms
 *
 *
 * Static methods of the top-level container (textures factorizations):
 *
 * .upload( gl, seq, values, textures )
 *
 * 		sets uniforms in 'seq' to 'values[id].value'
 *
 * .seqWithValue( seq, values ) : filteredSeq
 *
 * 		filters 'seq' entries with corresponding entry in values
 *
 *
 * Methods of the top-level container (textures factorizations):
 *
 * .setValue( gl, name, value, textures )
 *
 * 		sets uniform with  name 'name' to 'value'
 *
 * .setOptional( gl, obj, prop )
 *
 * 		like .set for an optional property of the object
 *
 */var emptyTexture=new Texture();var emptyTexture2dArray=new DataTexture2DArray();var emptyTexture3d=new DataTexture3D();var emptyCubeTexture=new CubeTexture();// --- Utilities ---
// Array Caches (provide typed arrays for temporary by size)
var arrayCacheF32=[];var arrayCacheI32=[];// Float32Array caches used for uploading Matrix uniforms
var mat4array=new Float32Array(16);var mat3array=new Float32Array(9);var mat2array=new Float32Array(4);// Flattening for arrays of vectors and matrices
function flatten(array,nBlocks,blockSize){var firstElem=array[0];if(firstElem<=0||firstElem>0)return array;// unoptimized: ! isNaN( firstElem )
// see http://jacksondunstan.com/articles/983
var n=nBlocks*blockSize;var r=arrayCacheF32[n];if(r===undefined){r=new Float32Array(n);arrayCacheF32[n]=r;}if(nBlocks!==0){firstElem.toArray(r,0);for(var i=1,offset=0;i!==nBlocks;++i){offset+=blockSize;array[i].toArray(r,offset);}}return r;}function arraysEqual(a,b){if(a.length!==b.length)return false;for(var i=0,l=a.length;i<l;i++){if(a[i]!==b[i])return false;}return true;}function copyArray(a,b){for(var i=0,l=b.length;i<l;i++){a[i]=b[i];}}// Texture unit allocation
function allocTexUnits(textures,n){var r=arrayCacheI32[n];if(r===undefined){r=new Int32Array(n);arrayCacheI32[n]=r;}for(var i=0;i!==n;++i){r[i]=textures.allocateTextureUnit();}return r;}// --- Setters ---
// Note: Defining these methods externally, because they come in a bunch
// and this way their names minify.
// Single scalar
function setValueV1f(gl,v){var cache=this.cache;if(cache[0]===v)return;gl.uniform1f(this.addr,v);cache[0]=v;}// Single float vector (from flat array or THREE.VectorN)
function setValueV2f(gl,v){var cache=this.cache;if(v.x!==undefined){if(cache[0]!==v.x||cache[1]!==v.y){gl.uniform2f(this.addr,v.x,v.y);cache[0]=v.x;cache[1]=v.y;}}else{if(arraysEqual(cache,v))return;gl.uniform2fv(this.addr,v);copyArray(cache,v);}}function setValueV3f(gl,v){var cache=this.cache;if(v.x!==undefined){if(cache[0]!==v.x||cache[1]!==v.y||cache[2]!==v.z){gl.uniform3f(this.addr,v.x,v.y,v.z);cache[0]=v.x;cache[1]=v.y;cache[2]=v.z;}}else if(v.r!==undefined){if(cache[0]!==v.r||cache[1]!==v.g||cache[2]!==v.b){gl.uniform3f(this.addr,v.r,v.g,v.b);cache[0]=v.r;cache[1]=v.g;cache[2]=v.b;}}else{if(arraysEqual(cache,v))return;gl.uniform3fv(this.addr,v);copyArray(cache,v);}}function setValueV4f(gl,v){var cache=this.cache;if(v.x!==undefined){if(cache[0]!==v.x||cache[1]!==v.y||cache[2]!==v.z||cache[3]!==v.w){gl.uniform4f(this.addr,v.x,v.y,v.z,v.w);cache[0]=v.x;cache[1]=v.y;cache[2]=v.z;cache[3]=v.w;}}else{if(arraysEqual(cache,v))return;gl.uniform4fv(this.addr,v);copyArray(cache,v);}}// Single matrix (from flat array or THREE.MatrixN)
function setValueM2(gl,v){var cache=this.cache;var elements=v.elements;if(elements===undefined){if(arraysEqual(cache,v))return;gl.uniformMatrix2fv(this.addr,false,v);copyArray(cache,v);}else{if(arraysEqual(cache,elements))return;mat2array.set(elements);gl.uniformMatrix2fv(this.addr,false,mat2array);copyArray(cache,elements);}}function setValueM3(gl,v){var cache=this.cache;var elements=v.elements;if(elements===undefined){if(arraysEqual(cache,v))return;gl.uniformMatrix3fv(this.addr,false,v);copyArray(cache,v);}else{if(arraysEqual(cache,elements))return;mat3array.set(elements);gl.uniformMatrix3fv(this.addr,false,mat3array);copyArray(cache,elements);}}function setValueM4(gl,v){var cache=this.cache;var elements=v.elements;if(elements===undefined){if(arraysEqual(cache,v))return;gl.uniformMatrix4fv(this.addr,false,v);copyArray(cache,v);}else{if(arraysEqual(cache,elements))return;mat4array.set(elements);gl.uniformMatrix4fv(this.addr,false,mat4array);copyArray(cache,elements);}}// Single integer / boolean
function setValueV1i(gl,v){var cache=this.cache;if(cache[0]===v)return;gl.uniform1i(this.addr,v);cache[0]=v;}// Single integer / boolean vector (from flat array)
function setValueV2i(gl,v){var cache=this.cache;if(arraysEqual(cache,v))return;gl.uniform2iv(this.addr,v);copyArray(cache,v);}function setValueV3i(gl,v){var cache=this.cache;if(arraysEqual(cache,v))return;gl.uniform3iv(this.addr,v);copyArray(cache,v);}function setValueV4i(gl,v){var cache=this.cache;if(arraysEqual(cache,v))return;gl.uniform4iv(this.addr,v);copyArray(cache,v);}// Single unsigned integer
function setValueV1ui(gl,v){var cache=this.cache;if(cache[0]===v)return;gl.uniform1ui(this.addr,v);cache[0]=v;}// Single unsigned integer vector (from flat array)
function setValueV2ui(gl,v){var cache=this.cache;if(arraysEqual(cache,v))return;gl.uniform2uiv(this.addr,v);copyArray(cache,v);}function setValueV3ui(gl,v){var cache=this.cache;if(arraysEqual(cache,v))return;gl.uniform3uiv(this.addr,v);copyArray(cache,v);}function setValueV4ui(gl,v){var cache=this.cache;if(arraysEqual(cache,v))return;gl.uniform4uiv(this.addr,v);copyArray(cache,v);}// Single texture (2D / Cube)
function setValueT1(gl,v,textures){var cache=this.cache;var unit=textures.allocateTextureUnit();if(cache[0]!==unit){gl.uniform1i(this.addr,unit);cache[0]=unit;}textures.safeSetTexture2D(v||emptyTexture,unit);}function setValueT3D1(gl,v,textures){var cache=this.cache;var unit=textures.allocateTextureUnit();if(cache[0]!==unit){gl.uniform1i(this.addr,unit);cache[0]=unit;}textures.setTexture3D(v||emptyTexture3d,unit);}function setValueT6(gl,v,textures){var cache=this.cache;var unit=textures.allocateTextureUnit();if(cache[0]!==unit){gl.uniform1i(this.addr,unit);cache[0]=unit;}textures.safeSetTextureCube(v||emptyCubeTexture,unit);}function setValueT2DArray1(gl,v,textures){var cache=this.cache;var unit=textures.allocateTextureUnit();if(cache[0]!==unit){gl.uniform1i(this.addr,unit);cache[0]=unit;}textures.setTexture2DArray(v||emptyTexture2dArray,unit);}// Helper to pick the right setter for the singular case
function getSingularSetter(type){switch(type){case 0x1406:return setValueV1f;// FLOAT
case 0x8b50:return setValueV2f;// _VEC2
case 0x8b51:return setValueV3f;// _VEC3
case 0x8b52:return setValueV4f;// _VEC4
case 0x8b5a:return setValueM2;// _MAT2
case 0x8b5b:return setValueM3;// _MAT3
case 0x8b5c:return setValueM4;// _MAT4
case 0x1404:case 0x8b56:return setValueV1i;// INT, BOOL
case 0x8b53:case 0x8b57:return setValueV2i;// _VEC2
case 0x8b54:case 0x8b58:return setValueV3i;// _VEC3
case 0x8b55:case 0x8b59:return setValueV4i;// _VEC4
case 0x1405:return setValueV1ui;// UINT
case 0x8dc6:return setValueV2ui;// _VEC2
case 0x8dc7:return setValueV3ui;// _VEC3
case 0x8dc8:return setValueV4ui;// _VEC4
case 0x8b5e:// SAMPLER_2D
case 0x8d66:// SAMPLER_EXTERNAL_OES
case 0x8dca:// INT_SAMPLER_2D
case 0x8dd2:// UNSIGNED_INT_SAMPLER_2D
case 0x8b62:// SAMPLER_2D_SHADOW
return setValueT1;case 0x8b5f:// SAMPLER_3D
case 0x8dcb:// INT_SAMPLER_3D
case 0x8dd3:// UNSIGNED_INT_SAMPLER_3D
return setValueT3D1;case 0x8b60:// SAMPLER_CUBE
case 0x8dcc:// INT_SAMPLER_CUBE
case 0x8dd4:// UNSIGNED_INT_SAMPLER_CUBE
case 0x8dc5:// SAMPLER_CUBE_SHADOW
return setValueT6;case 0x8dc1:// SAMPLER_2D_ARRAY
case 0x8dcf:// INT_SAMPLER_2D_ARRAY
case 0x8dd7:// UNSIGNED_INT_SAMPLER_2D_ARRAY
case 0x8dc4:// SAMPLER_2D_ARRAY_SHADOW
return setValueT2DArray1;}}// Array of scalars
function setValueV1fArray(gl,v){gl.uniform1fv(this.addr,v);}// Array of vectors (from flat array or array of THREE.VectorN)
function setValueV2fArray(gl,v){var data=flatten(v,this.size,2);gl.uniform2fv(this.addr,data);}function setValueV3fArray(gl,v){var data=flatten(v,this.size,3);gl.uniform3fv(this.addr,data);}function setValueV4fArray(gl,v){var data=flatten(v,this.size,4);gl.uniform4fv(this.addr,data);}// Array of matrices (from flat array or array of THREE.MatrixN)
function setValueM2Array(gl,v){var data=flatten(v,this.size,4);gl.uniformMatrix2fv(this.addr,false,data);}function setValueM3Array(gl,v){var data=flatten(v,this.size,9);gl.uniformMatrix3fv(this.addr,false,data);}function setValueM4Array(gl,v){var data=flatten(v,this.size,16);gl.uniformMatrix4fv(this.addr,false,data);}// Array of integer / boolean
function setValueV1iArray(gl,v){gl.uniform1iv(this.addr,v);}// Array of integer / boolean vectors (from flat array)
function setValueV2iArray(gl,v){gl.uniform2iv(this.addr,v);}function setValueV3iArray(gl,v){gl.uniform3iv(this.addr,v);}function setValueV4iArray(gl,v){gl.uniform4iv(this.addr,v);}// Array of unsigned integer
function setValueV1uiArray(gl,v){gl.uniform1uiv(this.addr,v);}// Array of unsigned integer vectors (from flat array)
function setValueV2uiArray(gl,v){gl.uniform2uiv(this.addr,v);}function setValueV3uiArray(gl,v){gl.uniform3uiv(this.addr,v);}function setValueV4uiArray(gl,v){gl.uniform4uiv(this.addr,v);}// Array of textures (2D / Cube)
function setValueT1Array(gl,v,textures){var n=v.length;var units=allocTexUnits(textures,n);gl.uniform1iv(this.addr,units);for(var i=0;i!==n;++i){textures.safeSetTexture2D(v[i]||emptyTexture,units[i]);}}function setValueT6Array(gl,v,textures){var n=v.length;var units=allocTexUnits(textures,n);gl.uniform1iv(this.addr,units);for(var i=0;i!==n;++i){textures.safeSetTextureCube(v[i]||emptyCubeTexture,units[i]);}}// Helper to pick the right setter for a pure (bottom-level) array
function getPureArraySetter(type){switch(type){case 0x1406:return setValueV1fArray;// FLOAT
case 0x8b50:return setValueV2fArray;// _VEC2
case 0x8b51:return setValueV3fArray;// _VEC3
case 0x8b52:return setValueV4fArray;// _VEC4
case 0x8b5a:return setValueM2Array;// _MAT2
case 0x8b5b:return setValueM3Array;// _MAT3
case 0x8b5c:return setValueM4Array;// _MAT4
case 0x1404:case 0x8b56:return setValueV1iArray;// INT, BOOL
case 0x8b53:case 0x8b57:return setValueV2iArray;// _VEC2
case 0x8b54:case 0x8b58:return setValueV3iArray;// _VEC3
case 0x8b55:case 0x8b59:return setValueV4iArray;// _VEC4
case 0x1405:return setValueV1uiArray;// UINT
case 0x8dc6:return setValueV2uiArray;// _VEC2
case 0x8dc7:return setValueV3uiArray;// _VEC3
case 0x8dc8:return setValueV4uiArray;// _VEC4
case 0x8b5e:// SAMPLER_2D
case 0x8d66:// SAMPLER_EXTERNAL_OES
case 0x8dca:// INT_SAMPLER_2D
case 0x8dd2:// UNSIGNED_INT_SAMPLER_2D
case 0x8b62:// SAMPLER_2D_SHADOW
return setValueT1Array;case 0x8b60:// SAMPLER_CUBE
case 0x8dcc:// INT_SAMPLER_CUBE
case 0x8dd4:// UNSIGNED_INT_SAMPLER_CUBE
case 0x8dc5:// SAMPLER_CUBE_SHADOW
return setValueT6Array;}}// --- Uniform Classes ---
function SingleUniform(id,activeInfo,addr){this.id=id;this.addr=addr;this.cache=[];this.setValue=getSingularSetter(activeInfo.type);// this.path = activeInfo.name; // DEBUG
}function PureArrayUniform(id,activeInfo,addr){this.id=id;this.addr=addr;this.cache=[];this.size=activeInfo.size;this.setValue=getPureArraySetter(activeInfo.type);// this.path = activeInfo.name; // DEBUG
}PureArrayUniform.prototype.updateCache=function(data){var cache=this.cache;if(data instanceof Float32Array&&cache.length!==data.length){this.cache=new Float32Array(data.length);}copyArray(cache,data);};function StructuredUniform(id){this.id=id;this.seq=[];this.map={};}StructuredUniform.prototype.setValue=function(gl,value,textures){var seq=this.seq;for(var i=0,n=seq.length;i!==n;++i){var u=seq[i];u.setValue(gl,value[u.id],textures);}};// --- Top-level ---
// Parser - builds up the property tree from the path strings
var RePathPart=/(\w+)(\])?(\[|\.)?/g;// extracts
// 	- the identifier (member name or array index)
//  - followed by an optional right bracket (found when array index)
//  - followed by an optional left bracket or dot (type of subscript)
//
// Note: These portions can be read in a non-overlapping fashion and
// allow straightforward parsing of the hierarchy that WebGL encodes
// in the uniform names.
function addUniform(container,uniformObject){container.seq.push(uniformObject);container.map[uniformObject.id]=uniformObject;}function parseUniform(activeInfo,addr,container){var path=activeInfo.name,pathLength=path.length;// reset RegExp object, because of the early exit of a previous run
RePathPart.lastIndex=0;while(true){var match=RePathPart.exec(path),matchEnd=RePathPart.lastIndex;var id=match[1];var idIsIndex=match[2]===']',subscript=match[3];if(idIsIndex)id=id|0;// convert to integer
if(subscript===undefined||subscript==='['&&matchEnd+2===pathLength){// bare name or "pure" bottom-level array "[0]" suffix
addUniform(container,subscript===undefined?new SingleUniform(id,activeInfo,addr):new PureArrayUniform(id,activeInfo,addr));break;}else{// step into inner node / create it in case it doesn't exist
var map=container.map;var next=map[id];if(next===undefined){next=new StructuredUniform(id);addUniform(container,next);}container=next;}}}// Root Container
function WebGLUniforms(gl,program){this.seq=[];this.map={};var n=gl.getProgramParameter(program,35718);for(var i=0;i<n;++i){var info=gl.getActiveUniform(program,i),addr=gl.getUniformLocation(program,info.name);parseUniform(info,addr,this);}}WebGLUniforms.prototype.setValue=function(gl,name,value,textures){var u=this.map[name];if(u!==undefined)u.setValue(gl,value,textures);};WebGLUniforms.prototype.setOptional=function(gl,object,name){var v=object[name];if(v!==undefined)this.setValue(gl,name,v);};// Static interface
WebGLUniforms.upload=function(gl,seq,values,textures){for(var i=0,n=seq.length;i!==n;++i){var u=seq[i],v=values[u.id];if(v.needsUpdate!==false){// note: always updating when .needsUpdate is undefined
u.setValue(gl,v.value,textures);}}};WebGLUniforms.seqWithValue=function(seq,values){var r=[];for(var i=0,n=seq.length;i!==n;++i){var u=seq[i];if(u.id in values)r.push(u);}return r;};function WebGLShader(gl,type,string){var shader=gl.createShader(type);gl.shaderSource(shader,string);gl.compileShader(shader);return shader;}var programIdCount=0;function addLineNumbers(string){var lines=string.split('\n');for(var i=0;i<lines.length;i++){lines[i]=i+1+': '+lines[i];}return lines.join('\n');}function getEncodingComponents(encoding){switch(encoding){case LinearEncoding:return['Linear','( value )'];case sRGBEncoding:return['sRGB','( value )'];case RGBEEncoding:return['RGBE','( value )'];case RGBM7Encoding:return['RGBM','( value, 7.0 )'];case RGBM16Encoding:return['RGBM','( value, 16.0 )'];case RGBDEncoding:return['RGBD','( value, 256.0 )'];case GammaEncoding:return['Gamma','( value, float( GAMMA_FACTOR ) )'];case LogLuvEncoding:return['LogLuv','( value )'];default:console.warn('THREE.WebGLProgram: Unsupported encoding:',encoding);return['Linear','( value )'];}}function getShaderErrors(gl,shader,type){var status=gl.getShaderParameter(shader,35713);var errors=gl.getShaderInfoLog(shader).trim();if(status&&errors==='')return'';// --enable-privileged-webgl-extension
// console.log( '**' + type + '**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( shader ) );
return type.toUpperCase()+'\n\n'+errors+'\n\n'+addLineNumbers(gl.getShaderSource(shader));}function getTexelDecodingFunction(functionName,encoding){var components=getEncodingComponents(encoding);return'vec4 '+functionName+'( vec4 value ) { return '+components[0]+'ToLinear'+components[1]+'; }';}function getTexelEncodingFunction(functionName,encoding){var components=getEncodingComponents(encoding);return'vec4 '+functionName+'( vec4 value ) { return LinearTo'+components[0]+components[1]+'; }';}function getToneMappingFunction(functionName,toneMapping){var toneMappingName;switch(toneMapping){case LinearToneMapping:toneMappingName='Linear';break;case ReinhardToneMapping:toneMappingName='Reinhard';break;case CineonToneMapping:toneMappingName='OptimizedCineon';break;case ACESFilmicToneMapping:toneMappingName='ACESFilmic';break;case CustomToneMapping:toneMappingName='Custom';break;default:console.warn('THREE.WebGLProgram: Unsupported toneMapping:',toneMapping);toneMappingName='Linear';}return'vec3 '+functionName+'( vec3 color ) { return '+toneMappingName+'ToneMapping( color ); }';}function generateExtensions(parameters){var chunks=[parameters.extensionDerivatives||parameters.envMapCubeUV||parameters.bumpMap||parameters.tangentSpaceNormalMap||parameters.clearcoatNormalMap||parameters.flatShading||parameters.shaderID==='physical'?'#extension GL_OES_standard_derivatives : enable':'',(parameters.extensionFragDepth||parameters.logarithmicDepthBuffer)&&parameters.rendererExtensionFragDepth?'#extension GL_EXT_frag_depth : enable':'',parameters.extensionDrawBuffers&&parameters.rendererExtensionDrawBuffers?'#extension GL_EXT_draw_buffers : require':'',(parameters.extensionShaderTextureLOD||parameters.envMap||parameters.transmission)&&parameters.rendererExtensionShaderTextureLod?'#extension GL_EXT_shader_texture_lod : enable':''];return chunks.filter(filterEmptyLine).join('\n');}function generateDefines(defines){var chunks=[];for(var name in defines){var _value4=defines[name];if(_value4===false)continue;chunks.push('#define '+name+' '+_value4);}return chunks.join('\n');}function fetchAttributeLocations(gl,program){var attributes={};var n=gl.getProgramParameter(program,35721);for(var i=0;i<n;i++){var info=gl.getActiveAttrib(program,i);var name=info.name;var locationSize=1;if(info.type===35674)locationSize=2;if(info.type===35675)locationSize=3;if(info.type===35676)locationSize=4;// console.log( 'THREE.WebGLProgram: ACTIVE VERTEX ATTRIBUTE:', name, i );
attributes[name]={type:info.type,location:gl.getAttribLocation(program,name),locationSize:locationSize};}return attributes;}function filterEmptyLine(string){return string!=='';}function replaceLightNums(string,parameters){return string.replace(/NUM_DIR_LIGHTS/g,parameters.numDirLights).replace(/NUM_SPOT_LIGHTS/g,parameters.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,parameters.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,parameters.numPointLights).replace(/NUM_HEMI_LIGHTS/g,parameters.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,parameters.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,parameters.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,parameters.numPointLightShadows);}function replaceClippingPlaneNums(string,parameters){return string.replace(/NUM_CLIPPING_PLANES/g,parameters.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,parameters.numClippingPlanes-parameters.numClipIntersection);}// Resolve Includes
var includePattern=/^[ \t]*#include +<([\w\d./]+)>/gm;function resolveIncludes(string){return string.replace(includePattern,includeReplacer);}function includeReplacer(match,include){var string=ShaderChunk[include];if(string===undefined){throw new Error('Can not resolve #include <'+include+'>');}return resolveIncludes(string);}// Unroll Loops
var deprecatedUnrollLoopPattern=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;var unrollLoopPattern=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function unrollLoops(string){return string.replace(unrollLoopPattern,loopReplacer).replace(deprecatedUnrollLoopPattern,deprecatedLoopReplacer);}function deprecatedLoopReplacer(match,start,end,snippet){console.warn('WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead.');return loopReplacer(match,start,end,snippet);}function loopReplacer(match,start,end,snippet){var string='';for(var i=parseInt(start);i<parseInt(end);i++){string+=snippet.replace(/\[\s*i\s*\]/g,'[ '+i+' ]').replace(/UNROLLED_LOOP_INDEX/g,i);}return string;}//
function generatePrecision(parameters){var precisionstring='precision '+parameters.precision+' float;\nprecision '+parameters.precision+' int;';if(parameters.precision==='highp'){precisionstring+='\n#define HIGH_PRECISION';}else if(parameters.precision==='mediump'){precisionstring+='\n#define MEDIUM_PRECISION';}else if(parameters.precision==='lowp'){precisionstring+='\n#define LOW_PRECISION';}return precisionstring;}function generateShadowMapTypeDefine(parameters){var shadowMapTypeDefine='SHADOWMAP_TYPE_BASIC';if(parameters.shadowMapType===PCFShadowMap){shadowMapTypeDefine='SHADOWMAP_TYPE_PCF';}else if(parameters.shadowMapType===PCFSoftShadowMap){shadowMapTypeDefine='SHADOWMAP_TYPE_PCF_SOFT';}else if(parameters.shadowMapType===VSMShadowMap){shadowMapTypeDefine='SHADOWMAP_TYPE_VSM';}return shadowMapTypeDefine;}function generateEnvMapTypeDefine(parameters){var envMapTypeDefine='ENVMAP_TYPE_CUBE';if(parameters.envMap){switch(parameters.envMapMode){case CubeReflectionMapping:case CubeRefractionMapping:envMapTypeDefine='ENVMAP_TYPE_CUBE';break;case CubeUVReflectionMapping:case CubeUVRefractionMapping:envMapTypeDefine='ENVMAP_TYPE_CUBE_UV';break;}}return envMapTypeDefine;}function generateEnvMapModeDefine(parameters){var envMapModeDefine='ENVMAP_MODE_REFLECTION';if(parameters.envMap){switch(parameters.envMapMode){case CubeRefractionMapping:case CubeUVRefractionMapping:envMapModeDefine='ENVMAP_MODE_REFRACTION';break;}}return envMapModeDefine;}function generateEnvMapBlendingDefine(parameters){var envMapBlendingDefine='ENVMAP_BLENDING_NONE';if(parameters.envMap){switch(parameters.combine){case MultiplyOperation:envMapBlendingDefine='ENVMAP_BLENDING_MULTIPLY';break;case MixOperation:envMapBlendingDefine='ENVMAP_BLENDING_MIX';break;case AddOperation:envMapBlendingDefine='ENVMAP_BLENDING_ADD';break;}}return envMapBlendingDefine;}function WebGLProgram(renderer,cacheKey,parameters,bindingStates){// TODO Send this event to Three.js DevTools
// console.log( 'WebGLProgram', cacheKey );
var gl=renderer.getContext();var defines=parameters.defines;var vertexShader=parameters.vertexShader;var fragmentShader=parameters.fragmentShader;var shadowMapTypeDefine=generateShadowMapTypeDefine(parameters);var envMapTypeDefine=generateEnvMapTypeDefine(parameters);var envMapModeDefine=generateEnvMapModeDefine(parameters);var envMapBlendingDefine=generateEnvMapBlendingDefine(parameters);var gammaFactorDefine=renderer.gammaFactor>0?renderer.gammaFactor:1.0;var customExtensions=parameters.isWebGL2?'':generateExtensions(parameters);var customDefines=generateDefines(defines);var program=gl.createProgram();var prefixVertex,prefixFragment;var versionString=parameters.glslVersion?'#version '+parameters.glslVersion+'\n':'';if(parameters.isRawShaderMaterial){prefixVertex=[customDefines].filter(filterEmptyLine).join('\n');if(prefixVertex.length>0){prefixVertex+='\n';}prefixFragment=[customExtensions,customDefines].filter(filterEmptyLine).join('\n');if(prefixFragment.length>0){prefixFragment+='\n';}}else{prefixVertex=[generatePrecision(parameters),'#define SHADER_NAME '+parameters.shaderName,customDefines,parameters.instancing?'#define USE_INSTANCING':'',parameters.instancingColor?'#define USE_INSTANCING_COLOR':'',parameters.supportsVertexTextures?'#define VERTEX_TEXTURES':'','#define GAMMA_FACTOR '+gammaFactorDefine,'#define MAX_BONES '+parameters.maxBones,parameters.useFog&&parameters.fog?'#define USE_FOG':'',parameters.useFog&&parameters.fogExp2?'#define FOG_EXP2':'',parameters.map?'#define USE_MAP':'',parameters.envMap?'#define USE_ENVMAP':'',parameters.envMap?'#define '+envMapModeDefine:'',parameters.lightMap?'#define USE_LIGHTMAP':'',parameters.aoMap?'#define USE_AOMAP':'',parameters.emissiveMap?'#define USE_EMISSIVEMAP':'',parameters.bumpMap?'#define USE_BUMPMAP':'',parameters.normalMap?'#define USE_NORMALMAP':'',parameters.normalMap&&parameters.objectSpaceNormalMap?'#define OBJECTSPACE_NORMALMAP':'',parameters.normalMap&&parameters.tangentSpaceNormalMap?'#define TANGENTSPACE_NORMALMAP':'',parameters.clearcoatMap?'#define USE_CLEARCOATMAP':'',parameters.clearcoatRoughnessMap?'#define USE_CLEARCOAT_ROUGHNESSMAP':'',parameters.clearcoatNormalMap?'#define USE_CLEARCOAT_NORMALMAP':'',parameters.displacementMap&&parameters.supportsVertexTextures?'#define USE_DISPLACEMENTMAP':'',parameters.specularMap?'#define USE_SPECULARMAP':'',parameters.specularIntensityMap?'#define USE_SPECULARINTENSITYMAP':'',parameters.specularTintMap?'#define USE_SPECULARTINTMAP':'',parameters.roughnessMap?'#define USE_ROUGHNESSMAP':'',parameters.metalnessMap?'#define USE_METALNESSMAP':'',parameters.alphaMap?'#define USE_ALPHAMAP':'',parameters.transmission?'#define USE_TRANSMISSION':'',parameters.transmissionMap?'#define USE_TRANSMISSIONMAP':'',parameters.thicknessMap?'#define USE_THICKNESSMAP':'',parameters.vertexTangents?'#define USE_TANGENT':'',parameters.vertexColors?'#define USE_COLOR':'',parameters.vertexAlphas?'#define USE_COLOR_ALPHA':'',parameters.vertexUvs?'#define USE_UV':'',parameters.uvsVertexOnly?'#define UVS_VERTEX_ONLY':'',parameters.flatShading?'#define FLAT_SHADED':'',parameters.skinning?'#define USE_SKINNING':'',parameters.useVertexTexture?'#define BONE_TEXTURE':'',parameters.morphTargets?'#define USE_MORPHTARGETS':'',parameters.morphNormals&&parameters.flatShading===false?'#define USE_MORPHNORMALS':'',parameters.morphTargets&&parameters.isWebGL2?'#define MORPHTARGETS_TEXTURE':'',parameters.morphTargets&&parameters.isWebGL2?'#define MORPHTARGETS_COUNT '+parameters.morphTargetsCount:'',parameters.doubleSided?'#define DOUBLE_SIDED':'',parameters.flipSided?'#define FLIP_SIDED':'',parameters.shadowMapEnabled?'#define USE_SHADOWMAP':'',parameters.shadowMapEnabled?'#define '+shadowMapTypeDefine:'',parameters.sizeAttenuation?'#define USE_SIZEATTENUATION':'',parameters.logarithmicDepthBuffer?'#define USE_LOGDEPTHBUF':'',parameters.logarithmicDepthBuffer&&parameters.rendererExtensionFragDepth?'#define USE_LOGDEPTHBUF_EXT':'','uniform mat4 modelMatrix;','uniform mat4 modelViewMatrix;','uniform mat4 projectionMatrix;','uniform mat4 viewMatrix;','uniform mat3 normalMatrix;','uniform vec3 cameraPosition;','uniform bool isOrthographic;','#ifdef USE_INSTANCING','	attribute mat4 instanceMatrix;','#endif','#ifdef USE_INSTANCING_COLOR','	attribute vec3 instanceColor;','#endif','attribute vec3 position;','attribute vec3 normal;','attribute vec2 uv;','#ifdef USE_TANGENT','	attribute vec4 tangent;','#endif','#if defined( USE_COLOR_ALPHA )','	attribute vec4 color;','#elif defined( USE_COLOR )','	attribute vec3 color;','#endif','#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )','	attribute vec3 morphTarget0;','	attribute vec3 morphTarget1;','	attribute vec3 morphTarget2;','	attribute vec3 morphTarget3;','	#ifdef USE_MORPHNORMALS','		attribute vec3 morphNormal0;','		attribute vec3 morphNormal1;','		attribute vec3 morphNormal2;','		attribute vec3 morphNormal3;','	#else','		attribute vec3 morphTarget4;','		attribute vec3 morphTarget5;','		attribute vec3 morphTarget6;','		attribute vec3 morphTarget7;','	#endif','#endif','#ifdef USE_SKINNING','	attribute vec4 skinIndex;','	attribute vec4 skinWeight;','#endif','\n'].filter(filterEmptyLine).join('\n');prefixFragment=[customExtensions,generatePrecision(parameters),'#define SHADER_NAME '+parameters.shaderName,customDefines,'#define GAMMA_FACTOR '+gammaFactorDefine,parameters.useFog&&parameters.fog?'#define USE_FOG':'',parameters.useFog&&parameters.fogExp2?'#define FOG_EXP2':'',parameters.map?'#define USE_MAP':'',parameters.matcap?'#define USE_MATCAP':'',parameters.envMap?'#define USE_ENVMAP':'',parameters.envMap?'#define '+envMapTypeDefine:'',parameters.envMap?'#define '+envMapModeDefine:'',parameters.envMap?'#define '+envMapBlendingDefine:'',parameters.lightMap?'#define USE_LIGHTMAP':'',parameters.aoMap?'#define USE_AOMAP':'',parameters.emissiveMap?'#define USE_EMISSIVEMAP':'',parameters.bumpMap?'#define USE_BUMPMAP':'',parameters.normalMap?'#define USE_NORMALMAP':'',parameters.normalMap&&parameters.objectSpaceNormalMap?'#define OBJECTSPACE_NORMALMAP':'',parameters.normalMap&&parameters.tangentSpaceNormalMap?'#define TANGENTSPACE_NORMALMAP':'',parameters.clearcoat?'#define USE_CLEARCOAT':'',parameters.clearcoatMap?'#define USE_CLEARCOATMAP':'',parameters.clearcoatRoughnessMap?'#define USE_CLEARCOAT_ROUGHNESSMAP':'',parameters.clearcoatNormalMap?'#define USE_CLEARCOAT_NORMALMAP':'',parameters.specularMap?'#define USE_SPECULARMAP':'',parameters.specularIntensityMap?'#define USE_SPECULARINTENSITYMAP':'',parameters.specularTintMap?'#define USE_SPECULARTINTMAP':'',parameters.roughnessMap?'#define USE_ROUGHNESSMAP':'',parameters.metalnessMap?'#define USE_METALNESSMAP':'',parameters.alphaMap?'#define USE_ALPHAMAP':'',parameters.alphaTest?'#define USE_ALPHATEST':'',parameters.sheen?'#define USE_SHEEN':'',parameters.transmission?'#define USE_TRANSMISSION':'',parameters.transmissionMap?'#define USE_TRANSMISSIONMAP':'',parameters.thicknessMap?'#define USE_THICKNESSMAP':'',parameters.vertexTangents?'#define USE_TANGENT':'',parameters.vertexColors||parameters.instancingColor?'#define USE_COLOR':'',parameters.vertexAlphas?'#define USE_COLOR_ALPHA':'',parameters.vertexUvs?'#define USE_UV':'',parameters.uvsVertexOnly?'#define UVS_VERTEX_ONLY':'',parameters.gradientMap?'#define USE_GRADIENTMAP':'',parameters.flatShading?'#define FLAT_SHADED':'',parameters.doubleSided?'#define DOUBLE_SIDED':'',parameters.flipSided?'#define FLIP_SIDED':'',parameters.shadowMapEnabled?'#define USE_SHADOWMAP':'',parameters.shadowMapEnabled?'#define '+shadowMapTypeDefine:'',parameters.premultipliedAlpha?'#define PREMULTIPLIED_ALPHA':'',parameters.physicallyCorrectLights?'#define PHYSICALLY_CORRECT_LIGHTS':'',parameters.logarithmicDepthBuffer?'#define USE_LOGDEPTHBUF':'',parameters.logarithmicDepthBuffer&&parameters.rendererExtensionFragDepth?'#define USE_LOGDEPTHBUF_EXT':'',(parameters.extensionShaderTextureLOD||parameters.envMap)&&parameters.rendererExtensionShaderTextureLod?'#define TEXTURE_LOD_EXT':'','uniform mat4 viewMatrix;','uniform vec3 cameraPosition;','uniform bool isOrthographic;',parameters.toneMapping!==NoToneMapping?'#define TONE_MAPPING':'',parameters.toneMapping!==NoToneMapping?ShaderChunk['tonemapping_pars_fragment']:'',// this code is required here because it is used by the toneMapping() function defined below
parameters.toneMapping!==NoToneMapping?getToneMappingFunction('toneMapping',parameters.toneMapping):'',parameters.dithering?'#define DITHERING':'',parameters.format===RGBFormat?'#define OPAQUE':'',ShaderChunk['encodings_pars_fragment'],// this code is required here because it is used by the various encoding/decoding function defined below
parameters.map?getTexelDecodingFunction('mapTexelToLinear',parameters.mapEncoding):'',parameters.matcap?getTexelDecodingFunction('matcapTexelToLinear',parameters.matcapEncoding):'',parameters.envMap?getTexelDecodingFunction('envMapTexelToLinear',parameters.envMapEncoding):'',parameters.emissiveMap?getTexelDecodingFunction('emissiveMapTexelToLinear',parameters.emissiveMapEncoding):'',parameters.specularTintMap?getTexelDecodingFunction('specularTintMapTexelToLinear',parameters.specularTintMapEncoding):'',parameters.lightMap?getTexelDecodingFunction('lightMapTexelToLinear',parameters.lightMapEncoding):'',getTexelEncodingFunction('linearToOutputTexel',parameters.outputEncoding),parameters.depthPacking?'#define DEPTH_PACKING '+parameters.depthPacking:'','\n'].filter(filterEmptyLine).join('\n');}vertexShader=resolveIncludes(vertexShader);vertexShader=replaceLightNums(vertexShader,parameters);vertexShader=replaceClippingPlaneNums(vertexShader,parameters);fragmentShader=resolveIncludes(fragmentShader);fragmentShader=replaceLightNums(fragmentShader,parameters);fragmentShader=replaceClippingPlaneNums(fragmentShader,parameters);vertexShader=unrollLoops(vertexShader);fragmentShader=unrollLoops(fragmentShader);if(parameters.isWebGL2&&parameters.isRawShaderMaterial!==true){// GLSL 3.0 conversion for built-in materials and ShaderMaterial
versionString='#version 300 es\n';prefixVertex=['precision mediump sampler2DArray;','#define attribute in','#define varying out','#define texture2D texture'].join('\n')+'\n'+prefixVertex;prefixFragment=['#define varying in',parameters.glslVersion===GLSL3?'':'out highp vec4 pc_fragColor;',parameters.glslVersion===GLSL3?'':'#define gl_FragColor pc_fragColor','#define gl_FragDepthEXT gl_FragDepth','#define texture2D texture','#define textureCube texture','#define texture2DProj textureProj','#define texture2DLodEXT textureLod','#define texture2DProjLodEXT textureProjLod','#define textureCubeLodEXT textureLod','#define texture2DGradEXT textureGrad','#define texture2DProjGradEXT textureProjGrad','#define textureCubeGradEXT textureGrad'].join('\n')+'\n'+prefixFragment;}var vertexGlsl=versionString+prefixVertex+vertexShader;var fragmentGlsl=versionString+prefixFragment+fragmentShader;// console.log( '*VERTEX*', vertexGlsl );
// console.log( '*FRAGMENT*', fragmentGlsl );
var glVertexShader=WebGLShader(gl,35633,vertexGlsl);var glFragmentShader=WebGLShader(gl,35632,fragmentGlsl);gl.attachShader(program,glVertexShader);gl.attachShader(program,glFragmentShader);// Force a particular attribute to index 0.
if(parameters.index0AttributeName!==undefined){gl.bindAttribLocation(program,0,parameters.index0AttributeName);}else if(parameters.morphTargets===true){// programs with morphTargets displace position out of attribute 0
gl.bindAttribLocation(program,0,'position');}gl.linkProgram(program);// check for link errors
if(renderer.debug.checkShaderErrors){var programLog=gl.getProgramInfoLog(program).trim();var vertexLog=gl.getShaderInfoLog(glVertexShader).trim();var fragmentLog=gl.getShaderInfoLog(glFragmentShader).trim();var runnable=true;var haveDiagnostics=true;if(gl.getProgramParameter(program,35714)===false){runnable=false;var vertexErrors=getShaderErrors(gl,glVertexShader,'vertex');var fragmentErrors=getShaderErrors(gl,glFragmentShader,'fragment');console.error('THREE.WebGLProgram: Shader Error '+gl.getError()+' - '+'VALIDATE_STATUS '+gl.getProgramParameter(program,35715)+'\n\n'+'Program Info Log: '+programLog+'\n'+vertexErrors+'\n'+fragmentErrors);}else if(programLog!==''){console.warn('THREE.WebGLProgram: Program Info Log:',programLog);}else if(vertexLog===''||fragmentLog===''){haveDiagnostics=false;}if(haveDiagnostics){this.diagnostics={runnable:runnable,programLog:programLog,vertexShader:{log:vertexLog,prefix:prefixVertex},fragmentShader:{log:fragmentLog,prefix:prefixFragment}};}}// Clean up
// Crashes in iOS9 and iOS10. #18402
// gl.detachShader( program, glVertexShader );
// gl.detachShader( program, glFragmentShader );
gl.deleteShader(glVertexShader);gl.deleteShader(glFragmentShader);// set up caching for uniform locations
var cachedUniforms;this.getUniforms=function(){if(cachedUniforms===undefined){cachedUniforms=new WebGLUniforms(gl,program);}return cachedUniforms;};// set up caching for attribute locations
var cachedAttributes;this.getAttributes=function(){if(cachedAttributes===undefined){cachedAttributes=fetchAttributeLocations(gl,program);}return cachedAttributes;};// free resource
this.destroy=function(){bindingStates.releaseStatesOfProgram(this);gl.deleteProgram(program);this.program=undefined;};//
this.name=parameters.shaderName;this.id=programIdCount++;this.cacheKey=cacheKey;this.usedTimes=1;this.program=program;this.vertexShader=glVertexShader;this.fragmentShader=glFragmentShader;return this;}function WebGLPrograms(renderer,cubemaps,cubeuvmaps,extensions,capabilities,bindingStates,clipping){var programs=[];var isWebGL2=capabilities.isWebGL2;var logarithmicDepthBuffer=capabilities.logarithmicDepthBuffer;var floatVertexTextures=capabilities.floatVertexTextures;var maxVertexUniforms=capabilities.maxVertexUniforms;var vertexTextures=capabilities.vertexTextures;var precision=capabilities.precision;var shaderIDs={MeshDepthMaterial:'depth',MeshDistanceMaterial:'distanceRGBA',MeshNormalMaterial:'normal',MeshBasicMaterial:'basic',MeshLambertMaterial:'lambert',MeshPhongMaterial:'phong',MeshToonMaterial:'toon',MeshStandardMaterial:'physical',MeshPhysicalMaterial:'physical',MeshMatcapMaterial:'matcap',LineBasicMaterial:'basic',LineDashedMaterial:'dashed',PointsMaterial:'points',ShadowMaterial:'shadow',SpriteMaterial:'sprite'};var parameterNames=['precision','isWebGL2','supportsVertexTextures','outputEncoding','instancing','instancingColor','map','mapEncoding','matcap','matcapEncoding','envMap','envMapMode','envMapEncoding','envMapCubeUV','lightMap','lightMapEncoding','aoMap','emissiveMap','emissiveMapEncoding','bumpMap','normalMap','objectSpaceNormalMap','tangentSpaceNormalMap','clearcoat','clearcoatMap','clearcoatRoughnessMap','clearcoatNormalMap','displacementMap','specularMap','specularIntensityMap','specularTintMap','specularTintMapEncoding','roughnessMap','metalnessMap','gradientMap','alphaMap','alphaTest','combine','vertexColors','vertexAlphas','vertexTangents','vertexUvs','uvsVertexOnly','fog','useFog','fogExp2','flatShading','sizeAttenuation','logarithmicDepthBuffer','skinning','maxBones','useVertexTexture','morphTargets','morphNormals','morphTargetsCount','premultipliedAlpha','numDirLights','numPointLights','numSpotLights','numHemiLights','numRectAreaLights','numDirLightShadows','numPointLightShadows','numSpotLightShadows','shadowMapEnabled','shadowMapType','toneMapping','physicallyCorrectLights','doubleSided','flipSided','numClippingPlanes','numClipIntersection','depthPacking','dithering','format','sheen','transmission','transmissionMap','thicknessMap'];function getMaxBones(object){var skeleton=object.skeleton;var bones=skeleton.bones;if(floatVertexTextures){return 1024;}else{// default for when object is not specified
// ( for example when prebuilding shader to be used with multiple objects )
//
//  - leave some extra space for other uniforms
//  - limit here is ANGLE's 254 max uniform vectors
//    (up to 54 should be safe)
var nVertexUniforms=maxVertexUniforms;var nVertexMatrices=Math.floor((nVertexUniforms-20)/4);var maxBones=Math.min(nVertexMatrices,bones.length);if(maxBones<bones.length){console.warn('THREE.WebGLRenderer: Skeleton has '+bones.length+' bones. This GPU supports '+maxBones+'.');return 0;}return maxBones;}}function getTextureEncodingFromMap(map){var encoding;if(map&&map.isTexture){encoding=map.encoding;}else if(map&&map.isWebGLRenderTarget){console.warn('THREE.WebGLPrograms.getTextureEncodingFromMap: don\'t use render targets as textures. Use their .texture property instead.');encoding=map.texture.encoding;}else{encoding=LinearEncoding;}if(isWebGL2&&map&&map.isTexture&&map.format===RGBAFormat&&map.type===UnsignedByteType&&map.encoding===sRGBEncoding){encoding=LinearEncoding;// disable inline decode for sRGB textures in WebGL 2
}return encoding;}function getParameters(material,lights,shadows,scene,object){var fog=scene.fog;var environment=material.isMeshStandardMaterial?scene.environment:null;var envMap=(material.isMeshStandardMaterial?cubeuvmaps:cubemaps).get(material.envMap||environment);var shaderID=shaderIDs[material.type];// heuristics to create shader parameters according to lights in the scene
// (not to blow over maxLights budget)
var maxBones=object.isSkinnedMesh?getMaxBones(object):0;if(material.precision!==null){precision=capabilities.getMaxPrecision(material.precision);if(precision!==material.precision){console.warn('THREE.WebGLProgram.getParameters:',material.precision,'not supported, using',precision,'instead.');}}var vertexShader,fragmentShader;if(shaderID){var shader=ShaderLib[shaderID];vertexShader=shader.vertexShader;fragmentShader=shader.fragmentShader;}else{vertexShader=material.vertexShader;fragmentShader=material.fragmentShader;}var currentRenderTarget=renderer.getRenderTarget();var useAlphaTest=material.alphaTest>0;var useClearcoat=material.clearcoat>0;var parameters={isWebGL2:isWebGL2,shaderID:shaderID,shaderName:material.type,vertexShader:vertexShader,fragmentShader:fragmentShader,defines:material.defines,isRawShaderMaterial:material.isRawShaderMaterial===true,glslVersion:material.glslVersion,precision:precision,instancing:object.isInstancedMesh===true,instancingColor:object.isInstancedMesh===true&&object.instanceColor!==null,supportsVertexTextures:vertexTextures,outputEncoding:currentRenderTarget!==null?getTextureEncodingFromMap(currentRenderTarget.texture):renderer.outputEncoding,map:!!material.map,mapEncoding:getTextureEncodingFromMap(material.map),matcap:!!material.matcap,matcapEncoding:getTextureEncodingFromMap(material.matcap),envMap:!!envMap,envMapMode:envMap&&envMap.mapping,envMapEncoding:getTextureEncodingFromMap(envMap),envMapCubeUV:!!envMap&&(envMap.mapping===CubeUVReflectionMapping||envMap.mapping===CubeUVRefractionMapping),lightMap:!!material.lightMap,lightMapEncoding:getTextureEncodingFromMap(material.lightMap),aoMap:!!material.aoMap,emissiveMap:!!material.emissiveMap,emissiveMapEncoding:getTextureEncodingFromMap(material.emissiveMap),bumpMap:!!material.bumpMap,normalMap:!!material.normalMap,objectSpaceNormalMap:material.normalMapType===ObjectSpaceNormalMap,tangentSpaceNormalMap:material.normalMapType===TangentSpaceNormalMap,clearcoat:useClearcoat,clearcoatMap:useClearcoat&&!!material.clearcoatMap,clearcoatRoughnessMap:useClearcoat&&!!material.clearcoatRoughnessMap,clearcoatNormalMap:useClearcoat&&!!material.clearcoatNormalMap,displacementMap:!!material.displacementMap,roughnessMap:!!material.roughnessMap,metalnessMap:!!material.metalnessMap,specularMap:!!material.specularMap,specularIntensityMap:!!material.specularIntensityMap,specularTintMap:!!material.specularTintMap,specularTintMapEncoding:getTextureEncodingFromMap(material.specularTintMap),alphaMap:!!material.alphaMap,alphaTest:useAlphaTest,gradientMap:!!material.gradientMap,sheen:material.sheen>0,transmission:material.transmission>0,transmissionMap:!!material.transmissionMap,thicknessMap:!!material.thicknessMap,combine:material.combine,vertexTangents:!!material.normalMap&&!!object.geometry&&!!object.geometry.attributes.tangent,vertexColors:material.vertexColors,vertexAlphas:material.vertexColors===true&&!!object.geometry&&!!object.geometry.attributes.color&&object.geometry.attributes.color.itemSize===4,vertexUvs:!!material.map||!!material.bumpMap||!!material.normalMap||!!material.specularMap||!!material.alphaMap||!!material.emissiveMap||!!material.roughnessMap||!!material.metalnessMap||!!material.clearcoatMap||!!material.clearcoatRoughnessMap||!!material.clearcoatNormalMap||!!material.displacementMap||!!material.transmissionMap||!!material.thicknessMap||!!material.specularIntensityMap||!!material.specularTintMap,uvsVertexOnly:!(!!material.map||!!material.bumpMap||!!material.normalMap||!!material.specularMap||!!material.alphaMap||!!material.emissiveMap||!!material.roughnessMap||!!material.metalnessMap||!!material.clearcoatNormalMap||material.transmission>0||!!material.transmissionMap||!!material.thicknessMap||!!material.specularIntensityMap||!!material.specularTintMap)&&!!material.displacementMap,fog:!!fog,useFog:material.fog,fogExp2:fog&&fog.isFogExp2,flatShading:!!material.flatShading,sizeAttenuation:material.sizeAttenuation,logarithmicDepthBuffer:logarithmicDepthBuffer,skinning:object.isSkinnedMesh===true&&maxBones>0,maxBones:maxBones,useVertexTexture:floatVertexTextures,morphTargets:!!object.geometry&&!!object.geometry.morphAttributes.position,morphNormals:!!object.geometry&&!!object.geometry.morphAttributes.normal,morphTargetsCount:!!object.geometry&&!!object.geometry.morphAttributes.position?object.geometry.morphAttributes.position.length:0,numDirLights:lights.directional.length,numPointLights:lights.point.length,numSpotLights:lights.spot.length,numRectAreaLights:lights.rectArea.length,numHemiLights:lights.hemi.length,numDirLightShadows:lights.directionalShadowMap.length,numPointLightShadows:lights.pointShadowMap.length,numSpotLightShadows:lights.spotShadowMap.length,numClippingPlanes:clipping.numPlanes,numClipIntersection:clipping.numIntersection,format:material.format,dithering:material.dithering,shadowMapEnabled:renderer.shadowMap.enabled&&shadows.length>0,shadowMapType:renderer.shadowMap.type,toneMapping:material.toneMapped?renderer.toneMapping:NoToneMapping,physicallyCorrectLights:renderer.physicallyCorrectLights,premultipliedAlpha:material.premultipliedAlpha,doubleSided:material.side===DoubleSide,flipSided:material.side===BackSide,depthPacking:material.depthPacking!==undefined?material.depthPacking:false,index0AttributeName:material.index0AttributeName,extensionDerivatives:material.extensions&&material.extensions.derivatives,extensionFragDepth:material.extensions&&material.extensions.fragDepth,extensionDrawBuffers:material.extensions&&material.extensions.drawBuffers,extensionShaderTextureLOD:material.extensions&&material.extensions.shaderTextureLOD,rendererExtensionFragDepth:isWebGL2||extensions.has('EXT_frag_depth'),rendererExtensionDrawBuffers:isWebGL2||extensions.has('WEBGL_draw_buffers'),rendererExtensionShaderTextureLod:isWebGL2||extensions.has('EXT_shader_texture_lod'),customProgramCacheKey:material.customProgramCacheKey()};return parameters;}function getProgramCacheKey(parameters){var array=[];if(parameters.shaderID){array.push(parameters.shaderID);}else{array.push(parameters.fragmentShader);array.push(parameters.vertexShader);}if(parameters.defines!==undefined){for(var name in parameters.defines){array.push(name);array.push(parameters.defines[name]);}}if(parameters.isRawShaderMaterial===false){for(var i=0;i<parameterNames.length;i++){array.push(parameters[parameterNames[i]]);}array.push(renderer.outputEncoding);array.push(renderer.gammaFactor);}array.push(parameters.customProgramCacheKey);return array.join();}function getUniforms(material){var shaderID=shaderIDs[material.type];var uniforms;if(shaderID){var shader=ShaderLib[shaderID];uniforms=UniformsUtils.clone(shader.uniforms);}else{uniforms=material.uniforms;}return uniforms;}function acquireProgram(parameters,cacheKey){var program;// Check if code has been already compiled
for(var p=0,pl=programs.length;p<pl;p++){var preexistingProgram=programs[p];if(preexistingProgram.cacheKey===cacheKey){program=preexistingProgram;++program.usedTimes;break;}}if(program===undefined){program=new WebGLProgram(renderer,cacheKey,parameters,bindingStates);programs.push(program);}return program;}function releaseProgram(program){if(--program.usedTimes===0){// Remove from unordered set
var i=programs.indexOf(program);programs[i]=programs[programs.length-1];programs.pop();// Free WebGL resources
program.destroy();}}return{getParameters:getParameters,getProgramCacheKey:getProgramCacheKey,getUniforms:getUniforms,acquireProgram:acquireProgram,releaseProgram:releaseProgram,// Exposed for resource monitoring & error feedback via renderer.info:
programs:programs};}function WebGLProperties(){var properties=new WeakMap();function get(object){var map=properties.get(object);if(map===undefined){map={};properties.set(object,map);}return map;}function remove(object){properties.delete(object);}function update(object,key,value){properties.get(object)[key]=value;}function dispose(){properties=new WeakMap();}return{get:get,remove:remove,update:update,dispose:dispose};}function painterSortStable(a,b){if(a.groupOrder!==b.groupOrder){return a.groupOrder-b.groupOrder;}else if(a.renderOrder!==b.renderOrder){return a.renderOrder-b.renderOrder;}else if(a.program!==b.program){return a.program.id-b.program.id;}else if(a.material.id!==b.material.id){return a.material.id-b.material.id;}else if(a.z!==b.z){return a.z-b.z;}else{return a.id-b.id;}}function reversePainterSortStable(a,b){if(a.groupOrder!==b.groupOrder){return a.groupOrder-b.groupOrder;}else if(a.renderOrder!==b.renderOrder){return a.renderOrder-b.renderOrder;}else if(a.z!==b.z){return b.z-a.z;}else{return a.id-b.id;}}function WebGLRenderList(properties){var renderItems=[];var renderItemsIndex=0;var opaque=[];var transmissive=[];var transparent=[];var defaultProgram={id:-1};function init(){renderItemsIndex=0;opaque.length=0;transmissive.length=0;transparent.length=0;}function getNextRenderItem(object,geometry,material,groupOrder,z,group){var renderItem=renderItems[renderItemsIndex];var materialProperties=properties.get(material);if(renderItem===undefined){renderItem={id:object.id,object:object,geometry:geometry,material:material,program:materialProperties.program||defaultProgram,groupOrder:groupOrder,renderOrder:object.renderOrder,z:z,group:group};renderItems[renderItemsIndex]=renderItem;}else{renderItem.id=object.id;renderItem.object=object;renderItem.geometry=geometry;renderItem.material=material;renderItem.program=materialProperties.program||defaultProgram;renderItem.groupOrder=groupOrder;renderItem.renderOrder=object.renderOrder;renderItem.z=z;renderItem.group=group;}renderItemsIndex++;return renderItem;}function push(object,geometry,material,groupOrder,z,group){var renderItem=getNextRenderItem(object,geometry,material,groupOrder,z,group);if(material.transmission>0.0){transmissive.push(renderItem);}else if(material.transparent===true){transparent.push(renderItem);}else{opaque.push(renderItem);}}function unshift(object,geometry,material,groupOrder,z,group){var renderItem=getNextRenderItem(object,geometry,material,groupOrder,z,group);if(material.transmission>0.0){transmissive.unshift(renderItem);}else if(material.transparent===true){transparent.unshift(renderItem);}else{opaque.unshift(renderItem);}}function sort(customOpaqueSort,customTransparentSort){if(opaque.length>1)opaque.sort(customOpaqueSort||painterSortStable);if(transmissive.length>1)transmissive.sort(customTransparentSort||reversePainterSortStable);if(transparent.length>1)transparent.sort(customTransparentSort||reversePainterSortStable);}function finish(){// Clear references from inactive renderItems in the list
for(var i=renderItemsIndex,il=renderItems.length;i<il;i++){var renderItem=renderItems[i];if(renderItem.id===null)break;renderItem.id=null;renderItem.object=null;renderItem.geometry=null;renderItem.material=null;renderItem.program=null;renderItem.group=null;}}return{opaque:opaque,transmissive:transmissive,transparent:transparent,init:init,push:push,unshift:unshift,finish:finish,sort:sort};}function WebGLRenderLists(properties){var lists=new WeakMap();function get(scene,renderCallDepth){var list;if(lists.has(scene)===false){list=new WebGLRenderList(properties);lists.set(scene,[list]);}else{if(renderCallDepth>=lists.get(scene).length){list=new WebGLRenderList(properties);lists.get(scene).push(list);}else{list=lists.get(scene)[renderCallDepth];}}return list;}function dispose(){lists=new WeakMap();}return{get:get,dispose:dispose};}function UniformsCache(){var lights={};return{get:function get(light){if(lights[light.id]!==undefined){return lights[light.id];}var uniforms;switch(light.type){case'DirectionalLight':uniforms={direction:new Vector3(),color:new Color()};break;case'SpotLight':uniforms={position:new Vector3(),direction:new Vector3(),color:new Color(),distance:0,coneCos:0,penumbraCos:0,decay:0};break;case'PointLight':uniforms={position:new Vector3(),color:new Color(),distance:0,decay:0};break;case'HemisphereLight':uniforms={direction:new Vector3(),skyColor:new Color(),groundColor:new Color()};break;case'RectAreaLight':uniforms={color:new Color(),position:new Vector3(),halfWidth:new Vector3(),halfHeight:new Vector3()};break;}lights[light.id]=uniforms;return uniforms;}};}function ShadowUniformsCache(){var lights={};return{get:function get(light){if(lights[light.id]!==undefined){return lights[light.id];}var uniforms;switch(light.type){case'DirectionalLight':uniforms={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2()};break;case'SpotLight':uniforms={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2()};break;case'PointLight':uniforms={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2(),shadowCameraNear:1,shadowCameraFar:1000};break;// TODO (abelnation): set RectAreaLight shadow uniforms
}lights[light.id]=uniforms;return uniforms;}};}var nextVersion=0;function shadowCastingLightsFirst(lightA,lightB){return(lightB.castShadow?1:0)-(lightA.castShadow?1:0);}function WebGLLights(extensions,capabilities){var cache=new UniformsCache();var shadowCache=ShadowUniformsCache();var state={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(var i=0;i<9;i++){state.probe.push(new Vector3());}var vector3=new Vector3();var matrix4=new Matrix4();var matrix42=new Matrix4();function setup(lights,physicallyCorrectLights){var r=0,g=0,b=0;for(var _i88=0;_i88<9;_i88++){state.probe[_i88].set(0,0,0);}var directionalLength=0;var pointLength=0;var spotLength=0;var rectAreaLength=0;var hemiLength=0;var numDirectionalShadows=0;var numPointShadows=0;var numSpotShadows=0;lights.sort(shadowCastingLightsFirst);// artist-friendly light intensity scaling factor
var scaleFactor=physicallyCorrectLights!==true?Math.PI:1;for(var _i89=0,l=lights.length;_i89<l;_i89++){var light=lights[_i89];var color=light.color;var intensity=light.intensity;var distance=light.distance;var shadowMap=light.shadow&&light.shadow.map?light.shadow.map.texture:null;if(light.isAmbientLight){r+=color.r*intensity*scaleFactor;g+=color.g*intensity*scaleFactor;b+=color.b*intensity*scaleFactor;}else if(light.isLightProbe){for(var j=0;j<9;j++){state.probe[j].addScaledVector(light.sh.coefficients[j],intensity);}}else if(light.isDirectionalLight){var uniforms=cache.get(light);uniforms.color.copy(light.color).multiplyScalar(light.intensity*scaleFactor);if(light.castShadow){var shadow=light.shadow;var shadowUniforms=shadowCache.get(light);shadowUniforms.shadowBias=shadow.bias;shadowUniforms.shadowNormalBias=shadow.normalBias;shadowUniforms.shadowRadius=shadow.radius;shadowUniforms.shadowMapSize=shadow.mapSize;state.directionalShadow[directionalLength]=shadowUniforms;state.directionalShadowMap[directionalLength]=shadowMap;state.directionalShadowMatrix[directionalLength]=light.shadow.matrix;numDirectionalShadows++;}state.directional[directionalLength]=uniforms;directionalLength++;}else if(light.isSpotLight){var _uniforms=cache.get(light);_uniforms.position.setFromMatrixPosition(light.matrixWorld);_uniforms.color.copy(color).multiplyScalar(intensity*scaleFactor);_uniforms.distance=distance;_uniforms.coneCos=Math.cos(light.angle);_uniforms.penumbraCos=Math.cos(light.angle*(1-light.penumbra));_uniforms.decay=light.decay;if(light.castShadow){var _shadow=light.shadow;var _shadowUniforms=shadowCache.get(light);_shadowUniforms.shadowBias=_shadow.bias;_shadowUniforms.shadowNormalBias=_shadow.normalBias;_shadowUniforms.shadowRadius=_shadow.radius;_shadowUniforms.shadowMapSize=_shadow.mapSize;state.spotShadow[spotLength]=_shadowUniforms;state.spotShadowMap[spotLength]=shadowMap;state.spotShadowMatrix[spotLength]=light.shadow.matrix;numSpotShadows++;}state.spot[spotLength]=_uniforms;spotLength++;}else if(light.isRectAreaLight){var _uniforms2=cache.get(light);// (a) intensity is the total visible light emitted
//uniforms.color.copy( color ).multiplyScalar( intensity / ( light.width * light.height * Math.PI ) );
// (b) intensity is the brightness of the light
_uniforms2.color.copy(color).multiplyScalar(intensity);_uniforms2.halfWidth.set(light.width*0.5,0.0,0.0);_uniforms2.halfHeight.set(0.0,light.height*0.5,0.0);state.rectArea[rectAreaLength]=_uniforms2;rectAreaLength++;}else if(light.isPointLight){var _uniforms3=cache.get(light);_uniforms3.color.copy(light.color).multiplyScalar(light.intensity*scaleFactor);_uniforms3.distance=light.distance;_uniforms3.decay=light.decay;if(light.castShadow){var _shadow2=light.shadow;var _shadowUniforms2=shadowCache.get(light);_shadowUniforms2.shadowBias=_shadow2.bias;_shadowUniforms2.shadowNormalBias=_shadow2.normalBias;_shadowUniforms2.shadowRadius=_shadow2.radius;_shadowUniforms2.shadowMapSize=_shadow2.mapSize;_shadowUniforms2.shadowCameraNear=_shadow2.camera.near;_shadowUniforms2.shadowCameraFar=_shadow2.camera.far;state.pointShadow[pointLength]=_shadowUniforms2;state.pointShadowMap[pointLength]=shadowMap;state.pointShadowMatrix[pointLength]=light.shadow.matrix;numPointShadows++;}state.point[pointLength]=_uniforms3;pointLength++;}else if(light.isHemisphereLight){var _uniforms4=cache.get(light);_uniforms4.skyColor.copy(light.color).multiplyScalar(intensity*scaleFactor);_uniforms4.groundColor.copy(light.groundColor).multiplyScalar(intensity*scaleFactor);state.hemi[hemiLength]=_uniforms4;hemiLength++;}}if(rectAreaLength>0){if(capabilities.isWebGL2){// WebGL 2
state.rectAreaLTC1=UniformsLib.LTC_FLOAT_1;state.rectAreaLTC2=UniformsLib.LTC_FLOAT_2;}else{// WebGL 1
if(extensions.has('OES_texture_float_linear')===true){state.rectAreaLTC1=UniformsLib.LTC_FLOAT_1;state.rectAreaLTC2=UniformsLib.LTC_FLOAT_2;}else if(extensions.has('OES_texture_half_float_linear')===true){state.rectAreaLTC1=UniformsLib.LTC_HALF_1;state.rectAreaLTC2=UniformsLib.LTC_HALF_2;}else{console.error('THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.');}}}state.ambient[0]=r;state.ambient[1]=g;state.ambient[2]=b;var hash=state.hash;if(hash.directionalLength!==directionalLength||hash.pointLength!==pointLength||hash.spotLength!==spotLength||hash.rectAreaLength!==rectAreaLength||hash.hemiLength!==hemiLength||hash.numDirectionalShadows!==numDirectionalShadows||hash.numPointShadows!==numPointShadows||hash.numSpotShadows!==numSpotShadows){state.directional.length=directionalLength;state.spot.length=spotLength;state.rectArea.length=rectAreaLength;state.point.length=pointLength;state.hemi.length=hemiLength;state.directionalShadow.length=numDirectionalShadows;state.directionalShadowMap.length=numDirectionalShadows;state.pointShadow.length=numPointShadows;state.pointShadowMap.length=numPointShadows;state.spotShadow.length=numSpotShadows;state.spotShadowMap.length=numSpotShadows;state.directionalShadowMatrix.length=numDirectionalShadows;state.pointShadowMatrix.length=numPointShadows;state.spotShadowMatrix.length=numSpotShadows;hash.directionalLength=directionalLength;hash.pointLength=pointLength;hash.spotLength=spotLength;hash.rectAreaLength=rectAreaLength;hash.hemiLength=hemiLength;hash.numDirectionalShadows=numDirectionalShadows;hash.numPointShadows=numPointShadows;hash.numSpotShadows=numSpotShadows;state.version=nextVersion++;}}function setupView(lights,camera){var directionalLength=0;var pointLength=0;var spotLength=0;var rectAreaLength=0;var hemiLength=0;var viewMatrix=camera.matrixWorldInverse;for(var _i90=0,l=lights.length;_i90<l;_i90++){var light=lights[_i90];if(light.isDirectionalLight){var uniforms=state.directional[directionalLength];uniforms.direction.setFromMatrixPosition(light.matrixWorld);vector3.setFromMatrixPosition(light.target.matrixWorld);uniforms.direction.sub(vector3);uniforms.direction.transformDirection(viewMatrix);directionalLength++;}else if(light.isSpotLight){var _uniforms5=state.spot[spotLength];_uniforms5.position.setFromMatrixPosition(light.matrixWorld);_uniforms5.position.applyMatrix4(viewMatrix);_uniforms5.direction.setFromMatrixPosition(light.matrixWorld);vector3.setFromMatrixPosition(light.target.matrixWorld);_uniforms5.direction.sub(vector3);_uniforms5.direction.transformDirection(viewMatrix);spotLength++;}else if(light.isRectAreaLight){var _uniforms6=state.rectArea[rectAreaLength];_uniforms6.position.setFromMatrixPosition(light.matrixWorld);_uniforms6.position.applyMatrix4(viewMatrix);// extract local rotation of light to derive width/height half vectors
matrix42.identity();matrix4.copy(light.matrixWorld);matrix4.premultiply(viewMatrix);matrix42.extractRotation(matrix4);_uniforms6.halfWidth.set(light.width*0.5,0.0,0.0);_uniforms6.halfHeight.set(0.0,light.height*0.5,0.0);_uniforms6.halfWidth.applyMatrix4(matrix42);_uniforms6.halfHeight.applyMatrix4(matrix42);rectAreaLength++;}else if(light.isPointLight){var _uniforms7=state.point[pointLength];_uniforms7.position.setFromMatrixPosition(light.matrixWorld);_uniforms7.position.applyMatrix4(viewMatrix);pointLength++;}else if(light.isHemisphereLight){var _uniforms8=state.hemi[hemiLength];_uniforms8.direction.setFromMatrixPosition(light.matrixWorld);_uniforms8.direction.transformDirection(viewMatrix);_uniforms8.direction.normalize();hemiLength++;}}}return{setup:setup,setupView:setupView,state:state};}function WebGLRenderState(extensions,capabilities){var lights=new WebGLLights(extensions,capabilities);var lightsArray=[];var shadowsArray=[];function init(){lightsArray.length=0;shadowsArray.length=0;}function pushLight(light){lightsArray.push(light);}function pushShadow(shadowLight){shadowsArray.push(shadowLight);}function setupLights(physicallyCorrectLights){lights.setup(lightsArray,physicallyCorrectLights);}function setupLightsView(camera){lights.setupView(lightsArray,camera);}var state={lightsArray:lightsArray,shadowsArray:shadowsArray,lights:lights};return{init:init,state:state,setupLights:setupLights,setupLightsView:setupLightsView,pushLight:pushLight,pushShadow:pushShadow};}function WebGLRenderStates(extensions,capabilities){var renderStates=new WeakMap();function get(scene){var renderCallDepth=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var renderState;if(renderStates.has(scene)===false){renderState=new WebGLRenderState(extensions,capabilities);renderStates.set(scene,[renderState]);}else{if(renderCallDepth>=renderStates.get(scene).length){renderState=new WebGLRenderState(extensions,capabilities);renderStates.get(scene).push(renderState);}else{renderState=renderStates.get(scene)[renderCallDepth];}}return renderState;}function dispose(){renderStates=new WeakMap();}return{get:get,dispose:dispose};}/**
 * parameters = {
 *
 *  opacity: <float>,
 *
 *  map: new THREE.Texture( <Image> ),
 *
 *  alphaMap: new THREE.Texture( <Image> ),
 *
 *  displacementMap: new THREE.Texture( <Image> ),
 *  displacementScale: <float>,
 *  displacementBias: <float>,
 *
 *  wireframe: <boolean>,
 *  wireframeLinewidth: <float>
 * }
 */var MeshDepthMaterial=/*#__PURE__*/function(_Material3){(0,_inherits2.default)(MeshDepthMaterial,_Material3);var _super32=_createSuper(MeshDepthMaterial);function MeshDepthMaterial(parameters){var _this23;(0,_classCallCheck2.default)(this,MeshDepthMaterial);_this23=_super32.call(this);_this23.type='MeshDepthMaterial';_this23.depthPacking=BasicDepthPacking;_this23.map=null;_this23.alphaMap=null;_this23.displacementMap=null;_this23.displacementScale=1;_this23.displacementBias=0;_this23.wireframe=false;_this23.wireframeLinewidth=1;_this23.fog=false;_this23.setValues(parameters);return _this23;}(0,_createClass2.default)(MeshDepthMaterial,[{key:"copy",value:function copy(source){(0,_get2.default)((0,_getPrototypeOf2.default)(MeshDepthMaterial.prototype),"copy",this).call(this,source);this.depthPacking=source.depthPacking;this.map=source.map;this.alphaMap=source.alphaMap;this.displacementMap=source.displacementMap;this.displacementScale=source.displacementScale;this.displacementBias=source.displacementBias;this.wireframe=source.wireframe;this.wireframeLinewidth=source.wireframeLinewidth;return this;}}]);return MeshDepthMaterial;}(Material);exports.MeshDepthMaterial=MeshDepthMaterial;MeshDepthMaterial.prototype.isMeshDepthMaterial=true;/**
 * parameters = {
 *
 *  referencePosition: <float>,
 *  nearDistance: <float>,
 *  farDistance: <float>,
 *
 *  map: new THREE.Texture( <Image> ),
 *
 *  alphaMap: new THREE.Texture( <Image> ),
 *
 *  displacementMap: new THREE.Texture( <Image> ),
 *  displacementScale: <float>,
 *  displacementBias: <float>
 *
 * }
 */var MeshDistanceMaterial=/*#__PURE__*/function(_Material4){(0,_inherits2.default)(MeshDistanceMaterial,_Material4);var _super33=_createSuper(MeshDistanceMaterial);function MeshDistanceMaterial(parameters){var _this24;(0,_classCallCheck2.default)(this,MeshDistanceMaterial);_this24=_super33.call(this);_this24.type='MeshDistanceMaterial';_this24.referencePosition=new Vector3();_this24.nearDistance=1;_this24.farDistance=1000;_this24.map=null;_this24.alphaMap=null;_this24.displacementMap=null;_this24.displacementScale=1;_this24.displacementBias=0;_this24.fog=false;_this24.setValues(parameters);return _this24;}(0,_createClass2.default)(MeshDistanceMaterial,[{key:"copy",value:function copy(source){(0,_get2.default)((0,_getPrototypeOf2.default)(MeshDistanceMaterial.prototype),"copy",this).call(this,source);this.referencePosition.copy(source.referencePosition);this.nearDistance=source.nearDistance;this.farDistance=source.farDistance;this.map=source.map;this.alphaMap=source.alphaMap;this.displacementMap=source.displacementMap;this.displacementScale=source.displacementScale;this.displacementBias=source.displacementBias;return this;}}]);return MeshDistanceMaterial;}(Material);exports.MeshDistanceMaterial=MeshDistanceMaterial;MeshDistanceMaterial.prototype.isMeshDistanceMaterial=true;var vertex="void main() {\n\tgl_Position = vec4( position, 1.0 );\n}";var fragment="uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\nuniform float samples;\n#include <packing>\nvoid main() {\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}";function WebGLShadowMap(_renderer,_objects,_capabilities){var _frustum=new Frustum();var _shadowMapSize=new Vector2(),_viewportSize=new Vector2(),_viewport=new Vector4(),_depthMaterial=new MeshDepthMaterial({depthPacking:RGBADepthPacking}),_distanceMaterial=new MeshDistanceMaterial(),_materialCache={},_maxTextureSize=_capabilities.maxTextureSize;var shadowSide={0:BackSide,1:FrontSide,2:DoubleSide};var shadowMaterialVertical=new ShaderMaterial({uniforms:{shadow_pass:{value:null},resolution:{value:new Vector2()},radius:{value:4.0},samples:{value:8.0}},vertexShader:vertex,fragmentShader:fragment});var shadowMaterialHorizontal=shadowMaterialVertical.clone();shadowMaterialHorizontal.defines.HORIZONTAL_PASS=1;var fullScreenTri=new BufferGeometry();fullScreenTri.setAttribute('position',new BufferAttribute(new Float32Array([-1,-1,0.5,3,-1,0.5,-1,3,0.5]),3));var fullScreenMesh=new Mesh(fullScreenTri,shadowMaterialVertical);var scope=this;this.enabled=false;this.autoUpdate=true;this.needsUpdate=false;this.type=PCFShadowMap;this.render=function(lights,scene,camera){if(scope.enabled===false)return;if(scope.autoUpdate===false&&scope.needsUpdate===false)return;if(lights.length===0)return;var currentRenderTarget=_renderer.getRenderTarget();var activeCubeFace=_renderer.getActiveCubeFace();var activeMipmapLevel=_renderer.getActiveMipmapLevel();var _state=_renderer.state;// Set GL state for depth map.
_state.setBlending(NoBlending);_state.buffers.color.setClear(1,1,1,1);_state.buffers.depth.setTest(true);_state.setScissorTest(false);// render depth map
for(var i=0,il=lights.length;i<il;i++){var light=lights[i];var shadow=light.shadow;if(shadow===undefined){console.warn('THREE.WebGLShadowMap:',light,'has no shadow.');continue;}if(shadow.autoUpdate===false&&shadow.needsUpdate===false)continue;_shadowMapSize.copy(shadow.mapSize);var shadowFrameExtents=shadow.getFrameExtents();_shadowMapSize.multiply(shadowFrameExtents);_viewportSize.copy(shadow.mapSize);if(_shadowMapSize.x>_maxTextureSize||_shadowMapSize.y>_maxTextureSize){if(_shadowMapSize.x>_maxTextureSize){_viewportSize.x=Math.floor(_maxTextureSize/shadowFrameExtents.x);_shadowMapSize.x=_viewportSize.x*shadowFrameExtents.x;shadow.mapSize.x=_viewportSize.x;}if(_shadowMapSize.y>_maxTextureSize){_viewportSize.y=Math.floor(_maxTextureSize/shadowFrameExtents.y);_shadowMapSize.y=_viewportSize.y*shadowFrameExtents.y;shadow.mapSize.y=_viewportSize.y;}}if(shadow.map===null&&!shadow.isPointLightShadow&&this.type===VSMShadowMap){var pars={minFilter:LinearFilter,magFilter:LinearFilter,format:RGBAFormat};shadow.map=new WebGLRenderTarget(_shadowMapSize.x,_shadowMapSize.y,pars);shadow.map.texture.name=light.name+'.shadowMap';shadow.mapPass=new WebGLRenderTarget(_shadowMapSize.x,_shadowMapSize.y,pars);shadow.camera.updateProjectionMatrix();}if(shadow.map===null){var _pars={minFilter:NearestFilter,magFilter:NearestFilter,format:RGBAFormat};shadow.map=new WebGLRenderTarget(_shadowMapSize.x,_shadowMapSize.y,_pars);shadow.map.texture.name=light.name+'.shadowMap';shadow.camera.updateProjectionMatrix();}_renderer.setRenderTarget(shadow.map);_renderer.clear();var viewportCount=shadow.getViewportCount();for(var vp=0;vp<viewportCount;vp++){var viewport=shadow.getViewport(vp);_viewport.set(_viewportSize.x*viewport.x,_viewportSize.y*viewport.y,_viewportSize.x*viewport.z,_viewportSize.y*viewport.w);_state.viewport(_viewport);shadow.updateMatrices(light,vp);_frustum=shadow.getFrustum();renderObject(scene,camera,shadow.camera,light,this.type);}// do blur pass for VSM
if(!shadow.isPointLightShadow&&this.type===VSMShadowMap){VSMPass(shadow,camera);}shadow.needsUpdate=false;}scope.needsUpdate=false;_renderer.setRenderTarget(currentRenderTarget,activeCubeFace,activeMipmapLevel);};function VSMPass(shadow,camera){var geometry=_objects.update(fullScreenMesh);// vertical pass
shadowMaterialVertical.uniforms.shadow_pass.value=shadow.map.texture;shadowMaterialVertical.uniforms.resolution.value=shadow.mapSize;shadowMaterialVertical.uniforms.radius.value=shadow.radius;shadowMaterialVertical.uniforms.samples.value=shadow.blurSamples;_renderer.setRenderTarget(shadow.mapPass);_renderer.clear();_renderer.renderBufferDirect(camera,null,geometry,shadowMaterialVertical,fullScreenMesh,null);// horizontal pass
shadowMaterialHorizontal.uniforms.shadow_pass.value=shadow.mapPass.texture;shadowMaterialHorizontal.uniforms.resolution.value=shadow.mapSize;shadowMaterialHorizontal.uniforms.radius.value=shadow.radius;shadowMaterialHorizontal.uniforms.samples.value=shadow.blurSamples;_renderer.setRenderTarget(shadow.map);_renderer.clear();_renderer.renderBufferDirect(camera,null,geometry,shadowMaterialHorizontal,fullScreenMesh,null);}function getDepthMaterial(object,geometry,material,light,shadowCameraNear,shadowCameraFar,type){var result=null;var customMaterial=light.isPointLight===true?object.customDistanceMaterial:object.customDepthMaterial;if(customMaterial!==undefined){result=customMaterial;}else{result=light.isPointLight===true?_distanceMaterial:_depthMaterial;}if(_renderer.localClippingEnabled&&material.clipShadows===true&&material.clippingPlanes.length!==0||material.displacementMap&&material.displacementScale!==0||material.alphaMap&&material.alphaTest>0){// in this case we need a unique material instance reflecting the
// appropriate state
var keyA=result.uuid,keyB=material.uuid;var materialsForVariant=_materialCache[keyA];if(materialsForVariant===undefined){materialsForVariant={};_materialCache[keyA]=materialsForVariant;}var cachedMaterial=materialsForVariant[keyB];if(cachedMaterial===undefined){cachedMaterial=result.clone();materialsForVariant[keyB]=cachedMaterial;}result=cachedMaterial;}result.visible=material.visible;result.wireframe=material.wireframe;if(type===VSMShadowMap){result.side=material.shadowSide!==null?material.shadowSide:material.side;}else{result.side=material.shadowSide!==null?material.shadowSide:shadowSide[material.side];}result.alphaMap=material.alphaMap;result.alphaTest=material.alphaTest;result.clipShadows=material.clipShadows;result.clippingPlanes=material.clippingPlanes;result.clipIntersection=material.clipIntersection;result.displacementMap=material.displacementMap;result.displacementScale=material.displacementScale;result.displacementBias=material.displacementBias;result.wireframeLinewidth=material.wireframeLinewidth;result.linewidth=material.linewidth;if(light.isPointLight===true&&result.isMeshDistanceMaterial===true){result.referencePosition.setFromMatrixPosition(light.matrixWorld);result.nearDistance=shadowCameraNear;result.farDistance=shadowCameraFar;}return result;}function renderObject(object,camera,shadowCamera,light,type){if(object.visible===false)return;var visible=object.layers.test(camera.layers);if(visible&&(object.isMesh||object.isLine||object.isPoints)){if((object.castShadow||object.receiveShadow&&type===VSMShadowMap)&&(!object.frustumCulled||_frustum.intersectsObject(object))){object.modelViewMatrix.multiplyMatrices(shadowCamera.matrixWorldInverse,object.matrixWorld);var geometry=_objects.update(object);var material=object.material;if(Array.isArray(material)){var groups=geometry.groups;for(var k=0,kl=groups.length;k<kl;k++){var group=groups[k];var groupMaterial=material[group.materialIndex];if(groupMaterial&&groupMaterial.visible){var depthMaterial=getDepthMaterial(object,geometry,groupMaterial,light,shadowCamera.near,shadowCamera.far,type);_renderer.renderBufferDirect(shadowCamera,null,geometry,depthMaterial,object,group);}}}else if(material.visible){var _depthMaterial2=getDepthMaterial(object,geometry,material,light,shadowCamera.near,shadowCamera.far,type);_renderer.renderBufferDirect(shadowCamera,null,geometry,_depthMaterial2,object,null);}}}var children=object.children;for(var i=0,l=children.length;i<l;i++){renderObject(children[i],camera,shadowCamera,light,type);}}}function WebGLState(gl,extensions,capabilities){var _equationToGL,_factorToGL;var isWebGL2=capabilities.isWebGL2;function ColorBuffer(){var locked=false;var color=new Vector4();var currentColorMask=null;var currentColorClear=new Vector4(0,0,0,0);return{setMask:function setMask(colorMask){if(currentColorMask!==colorMask&&!locked){gl.colorMask(colorMask,colorMask,colorMask,colorMask);currentColorMask=colorMask;}},setLocked:function setLocked(lock){locked=lock;},setClear:function setClear(r,g,b,a,premultipliedAlpha){if(premultipliedAlpha===true){r*=a;g*=a;b*=a;}color.set(r,g,b,a);if(currentColorClear.equals(color)===false){gl.clearColor(r,g,b,a);currentColorClear.copy(color);}},reset:function reset(){locked=false;currentColorMask=null;currentColorClear.set(-1,0,0,0);// set to invalid state
}};}function DepthBuffer(){var locked=false;var currentDepthMask=null;var currentDepthFunc=null;var currentDepthClear=null;return{setTest:function setTest(depthTest){if(depthTest){enable(2929);}else{disable(2929);}},setMask:function setMask(depthMask){if(currentDepthMask!==depthMask&&!locked){gl.depthMask(depthMask);currentDepthMask=depthMask;}},setFunc:function setFunc(depthFunc){if(currentDepthFunc!==depthFunc){if(depthFunc){switch(depthFunc){case NeverDepth:gl.depthFunc(512);break;case AlwaysDepth:gl.depthFunc(519);break;case LessDepth:gl.depthFunc(513);break;case LessEqualDepth:gl.depthFunc(515);break;case EqualDepth:gl.depthFunc(514);break;case GreaterEqualDepth:gl.depthFunc(518);break;case GreaterDepth:gl.depthFunc(516);break;case NotEqualDepth:gl.depthFunc(517);break;default:gl.depthFunc(515);}}else{gl.depthFunc(515);}currentDepthFunc=depthFunc;}},setLocked:function setLocked(lock){locked=lock;},setClear:function setClear(depth){if(currentDepthClear!==depth){gl.clearDepth(depth);currentDepthClear=depth;}},reset:function reset(){locked=false;currentDepthMask=null;currentDepthFunc=null;currentDepthClear=null;}};}function StencilBuffer(){var locked=false;var currentStencilMask=null;var currentStencilFunc=null;var currentStencilRef=null;var currentStencilFuncMask=null;var currentStencilFail=null;var currentStencilZFail=null;var currentStencilZPass=null;var currentStencilClear=null;return{setTest:function setTest(stencilTest){if(!locked){if(stencilTest){enable(2960);}else{disable(2960);}}},setMask:function setMask(stencilMask){if(currentStencilMask!==stencilMask&&!locked){gl.stencilMask(stencilMask);currentStencilMask=stencilMask;}},setFunc:function setFunc(stencilFunc,stencilRef,stencilMask){if(currentStencilFunc!==stencilFunc||currentStencilRef!==stencilRef||currentStencilFuncMask!==stencilMask){gl.stencilFunc(stencilFunc,stencilRef,stencilMask);currentStencilFunc=stencilFunc;currentStencilRef=stencilRef;currentStencilFuncMask=stencilMask;}},setOp:function setOp(stencilFail,stencilZFail,stencilZPass){if(currentStencilFail!==stencilFail||currentStencilZFail!==stencilZFail||currentStencilZPass!==stencilZPass){gl.stencilOp(stencilFail,stencilZFail,stencilZPass);currentStencilFail=stencilFail;currentStencilZFail=stencilZFail;currentStencilZPass=stencilZPass;}},setLocked:function setLocked(lock){locked=lock;},setClear:function setClear(stencil){if(currentStencilClear!==stencil){gl.clearStencil(stencil);currentStencilClear=stencil;}},reset:function reset(){locked=false;currentStencilMask=null;currentStencilFunc=null;currentStencilRef=null;currentStencilFuncMask=null;currentStencilFail=null;currentStencilZFail=null;currentStencilZPass=null;currentStencilClear=null;}};}//
var colorBuffer=new ColorBuffer();var depthBuffer=new DepthBuffer();var stencilBuffer=new StencilBuffer();var enabledCapabilities={};var xrFramebuffer=null;var currentBoundFramebuffers={};var currentProgram=null;var currentBlendingEnabled=false;var currentBlending=null;var currentBlendEquation=null;var currentBlendSrc=null;var currentBlendDst=null;var currentBlendEquationAlpha=null;var currentBlendSrcAlpha=null;var currentBlendDstAlpha=null;var currentPremultipledAlpha=false;var currentFlipSided=null;var currentCullFace=null;var currentLineWidth=null;var currentPolygonOffsetFactor=null;var currentPolygonOffsetUnits=null;var maxTextures=gl.getParameter(35661);var lineWidthAvailable=false;var version=0;var glVersion=gl.getParameter(7938);if(glVersion.indexOf('WebGL')!==-1){version=parseFloat(/^WebGL (\d)/.exec(glVersion)[1]);lineWidthAvailable=version>=1.0;}else if(glVersion.indexOf('OpenGL ES')!==-1){version=parseFloat(/^OpenGL ES (\d)/.exec(glVersion)[1]);lineWidthAvailable=version>=2.0;}var currentTextureSlot=null;var currentBoundTextures={};var scissorParam=gl.getParameter(3088);var viewportParam=gl.getParameter(2978);var currentScissor=new Vector4().fromArray(scissorParam);var currentViewport=new Vector4().fromArray(viewportParam);function createTexture(type,target,count){var data=new Uint8Array(4);// 4 is required to match default unpack alignment of 4.
var texture=gl.createTexture();gl.bindTexture(type,texture);gl.texParameteri(type,10241,9728);gl.texParameteri(type,10240,9728);for(var i=0;i<count;i++){gl.texImage2D(target+i,0,6408,1,1,0,6408,5121,data);}return texture;}var emptyTextures={};emptyTextures[3553]=createTexture(3553,3553,1);emptyTextures[34067]=createTexture(34067,34069,6);// init
colorBuffer.setClear(0,0,0,1);depthBuffer.setClear(1);stencilBuffer.setClear(0);enable(2929);depthBuffer.setFunc(LessEqualDepth);setFlipSided(false);setCullFace(CullFaceBack);enable(2884);setBlending(NoBlending);//
function enable(id){if(enabledCapabilities[id]!==true){gl.enable(id);enabledCapabilities[id]=true;}}function disable(id){if(enabledCapabilities[id]!==false){gl.disable(id);enabledCapabilities[id]=false;}}function bindXRFramebuffer(framebuffer){if(framebuffer!==xrFramebuffer){gl.bindFramebuffer(36160,framebuffer);xrFramebuffer=framebuffer;}}function bindFramebuffer(target,framebuffer){if(framebuffer===null&&xrFramebuffer!==null)framebuffer=xrFramebuffer;// use active XR framebuffer if available
if(currentBoundFramebuffers[target]!==framebuffer){gl.bindFramebuffer(target,framebuffer);currentBoundFramebuffers[target]=framebuffer;if(isWebGL2){// 36009 is equivalent to 36160
if(target===36009){currentBoundFramebuffers[36160]=framebuffer;}if(target===36160){currentBoundFramebuffers[36009]=framebuffer;}}return true;}return false;}function useProgram(program){if(currentProgram!==program){gl.useProgram(program);currentProgram=program;return true;}return false;}var equationToGL=(_equationToGL={},(0,_defineProperty2.default)(_equationToGL,AddEquation,32774),(0,_defineProperty2.default)(_equationToGL,SubtractEquation,32778),(0,_defineProperty2.default)(_equationToGL,ReverseSubtractEquation,32779),_equationToGL);if(isWebGL2){equationToGL[MinEquation]=32775;equationToGL[MaxEquation]=32776;}else{var extension=extensions.get('EXT_blend_minmax');if(extension!==null){equationToGL[MinEquation]=extension.MIN_EXT;equationToGL[MaxEquation]=extension.MAX_EXT;}}var factorToGL=(_factorToGL={},(0,_defineProperty2.default)(_factorToGL,ZeroFactor,0),(0,_defineProperty2.default)(_factorToGL,OneFactor,1),(0,_defineProperty2.default)(_factorToGL,SrcColorFactor,768),(0,_defineProperty2.default)(_factorToGL,SrcAlphaFactor,770),(0,_defineProperty2.default)(_factorToGL,SrcAlphaSaturateFactor,776),(0,_defineProperty2.default)(_factorToGL,DstColorFactor,774),(0,_defineProperty2.default)(_factorToGL,DstAlphaFactor,772),(0,_defineProperty2.default)(_factorToGL,OneMinusSrcColorFactor,769),(0,_defineProperty2.default)(_factorToGL,OneMinusSrcAlphaFactor,771),(0,_defineProperty2.default)(_factorToGL,OneMinusDstColorFactor,775),(0,_defineProperty2.default)(_factorToGL,OneMinusDstAlphaFactor,773),_factorToGL);function setBlending(blending,blendEquation,blendSrc,blendDst,blendEquationAlpha,blendSrcAlpha,blendDstAlpha,premultipliedAlpha){if(blending===NoBlending){if(currentBlendingEnabled===true){disable(3042);currentBlendingEnabled=false;}return;}if(currentBlendingEnabled===false){enable(3042);currentBlendingEnabled=true;}if(blending!==CustomBlending){if(blending!==currentBlending||premultipliedAlpha!==currentPremultipledAlpha){if(currentBlendEquation!==AddEquation||currentBlendEquationAlpha!==AddEquation){gl.blendEquation(32774);currentBlendEquation=AddEquation;currentBlendEquationAlpha=AddEquation;}if(premultipliedAlpha){switch(blending){case NormalBlending:gl.blendFuncSeparate(1,771,1,771);break;case AdditiveBlending:gl.blendFunc(1,1);break;case SubtractiveBlending:gl.blendFuncSeparate(0,0,769,771);break;case MultiplyBlending:gl.blendFuncSeparate(0,768,0,770);break;default:console.error('THREE.WebGLState: Invalid blending: ',blending);break;}}else{switch(blending){case NormalBlending:gl.blendFuncSeparate(770,771,1,771);break;case AdditiveBlending:gl.blendFunc(770,1);break;case SubtractiveBlending:gl.blendFunc(0,769);break;case MultiplyBlending:gl.blendFunc(0,768);break;default:console.error('THREE.WebGLState: Invalid blending: ',blending);break;}}currentBlendSrc=null;currentBlendDst=null;currentBlendSrcAlpha=null;currentBlendDstAlpha=null;currentBlending=blending;currentPremultipledAlpha=premultipliedAlpha;}return;}// custom blending
blendEquationAlpha=blendEquationAlpha||blendEquation;blendSrcAlpha=blendSrcAlpha||blendSrc;blendDstAlpha=blendDstAlpha||blendDst;if(blendEquation!==currentBlendEquation||blendEquationAlpha!==currentBlendEquationAlpha){gl.blendEquationSeparate(equationToGL[blendEquation],equationToGL[blendEquationAlpha]);currentBlendEquation=blendEquation;currentBlendEquationAlpha=blendEquationAlpha;}if(blendSrc!==currentBlendSrc||blendDst!==currentBlendDst||blendSrcAlpha!==currentBlendSrcAlpha||blendDstAlpha!==currentBlendDstAlpha){gl.blendFuncSeparate(factorToGL[blendSrc],factorToGL[blendDst],factorToGL[blendSrcAlpha],factorToGL[blendDstAlpha]);currentBlendSrc=blendSrc;currentBlendDst=blendDst;currentBlendSrcAlpha=blendSrcAlpha;currentBlendDstAlpha=blendDstAlpha;}currentBlending=blending;currentPremultipledAlpha=null;}function setMaterial(material,frontFaceCW){material.side===DoubleSide?disable(2884):enable(2884);var flipSided=material.side===BackSide;if(frontFaceCW)flipSided=!flipSided;setFlipSided(flipSided);material.blending===NormalBlending&&material.transparent===false?setBlending(NoBlending):setBlending(material.blending,material.blendEquation,material.blendSrc,material.blendDst,material.blendEquationAlpha,material.blendSrcAlpha,material.blendDstAlpha,material.premultipliedAlpha);depthBuffer.setFunc(material.depthFunc);depthBuffer.setTest(material.depthTest);depthBuffer.setMask(material.depthWrite);colorBuffer.setMask(material.colorWrite);var stencilWrite=material.stencilWrite;stencilBuffer.setTest(stencilWrite);if(stencilWrite){stencilBuffer.setMask(material.stencilWriteMask);stencilBuffer.setFunc(material.stencilFunc,material.stencilRef,material.stencilFuncMask);stencilBuffer.setOp(material.stencilFail,material.stencilZFail,material.stencilZPass);}setPolygonOffset(material.polygonOffset,material.polygonOffsetFactor,material.polygonOffsetUnits);material.alphaToCoverage===true?enable(32926):disable(32926);}//
function setFlipSided(flipSided){if(currentFlipSided!==flipSided){if(flipSided){gl.frontFace(2304);}else{gl.frontFace(2305);}currentFlipSided=flipSided;}}function setCullFace(cullFace){if(cullFace!==CullFaceNone){enable(2884);if(cullFace!==currentCullFace){if(cullFace===CullFaceBack){gl.cullFace(1029);}else if(cullFace===CullFaceFront){gl.cullFace(1028);}else{gl.cullFace(1032);}}}else{disable(2884);}currentCullFace=cullFace;}function setLineWidth(width){if(width!==currentLineWidth){if(lineWidthAvailable)gl.lineWidth(width);currentLineWidth=width;}}function setPolygonOffset(polygonOffset,factor,units){if(polygonOffset){enable(32823);if(currentPolygonOffsetFactor!==factor||currentPolygonOffsetUnits!==units){gl.polygonOffset(factor,units);currentPolygonOffsetFactor=factor;currentPolygonOffsetUnits=units;}}else{disable(32823);}}function setScissorTest(scissorTest){if(scissorTest){enable(3089);}else{disable(3089);}}// texture
function activeTexture(webglSlot){if(webglSlot===undefined)webglSlot=33984+maxTextures-1;if(currentTextureSlot!==webglSlot){gl.activeTexture(webglSlot);currentTextureSlot=webglSlot;}}function bindTexture(webglType,webglTexture){if(currentTextureSlot===null){activeTexture();}var boundTexture=currentBoundTextures[currentTextureSlot];if(boundTexture===undefined){boundTexture={type:undefined,texture:undefined};currentBoundTextures[currentTextureSlot]=boundTexture;}if(boundTexture.type!==webglType||boundTexture.texture!==webglTexture){gl.bindTexture(webglType,webglTexture||emptyTextures[webglType]);boundTexture.type=webglType;boundTexture.texture=webglTexture;}}function unbindTexture(){var boundTexture=currentBoundTextures[currentTextureSlot];if(boundTexture!==undefined&&boundTexture.type!==undefined){gl.bindTexture(boundTexture.type,null);boundTexture.type=undefined;boundTexture.texture=undefined;}}function compressedTexImage2D(){try{gl.compressedTexImage2D.apply(gl,arguments);}catch(error){console.error('THREE.WebGLState:',error);}}function texImage2D(){try{gl.texImage2D.apply(gl,arguments);}catch(error){console.error('THREE.WebGLState:',error);}}function texImage3D(){try{gl.texImage3D.apply(gl,arguments);}catch(error){console.error('THREE.WebGLState:',error);}}//
function scissor(scissor){if(currentScissor.equals(scissor)===false){gl.scissor(scissor.x,scissor.y,scissor.z,scissor.w);currentScissor.copy(scissor);}}function viewport(viewport){if(currentViewport.equals(viewport)===false){gl.viewport(viewport.x,viewport.y,viewport.z,viewport.w);currentViewport.copy(viewport);}}//
function reset(){// reset state
gl.disable(3042);gl.disable(2884);gl.disable(2929);gl.disable(32823);gl.disable(3089);gl.disable(2960);gl.disable(32926);gl.blendEquation(32774);gl.blendFunc(1,0);gl.blendFuncSeparate(1,0,1,0);gl.colorMask(true,true,true,true);gl.clearColor(0,0,0,0);gl.depthMask(true);gl.depthFunc(513);gl.clearDepth(1);gl.stencilMask(0xffffffff);gl.stencilFunc(519,0,0xffffffff);gl.stencilOp(7680,7680,7680);gl.clearStencil(0);gl.cullFace(1029);gl.frontFace(2305);gl.polygonOffset(0,0);gl.activeTexture(33984);gl.bindFramebuffer(36160,null);if(isWebGL2===true){gl.bindFramebuffer(36009,null);gl.bindFramebuffer(36008,null);}gl.useProgram(null);gl.lineWidth(1);gl.scissor(0,0,gl.canvas.width,gl.canvas.height);gl.viewport(0,0,gl.canvas.width,gl.canvas.height);// reset internals
enabledCapabilities={};currentTextureSlot=null;currentBoundTextures={};xrFramebuffer=null;currentBoundFramebuffers={};currentProgram=null;currentBlendingEnabled=false;currentBlending=null;currentBlendEquation=null;currentBlendSrc=null;currentBlendDst=null;currentBlendEquationAlpha=null;currentBlendSrcAlpha=null;currentBlendDstAlpha=null;currentPremultipledAlpha=false;currentFlipSided=null;currentCullFace=null;currentLineWidth=null;currentPolygonOffsetFactor=null;currentPolygonOffsetUnits=null;currentScissor.set(0,0,gl.canvas.width,gl.canvas.height);currentViewport.set(0,0,gl.canvas.width,gl.canvas.height);colorBuffer.reset();depthBuffer.reset();stencilBuffer.reset();}return{buffers:{color:colorBuffer,depth:depthBuffer,stencil:stencilBuffer},enable:enable,disable:disable,bindFramebuffer:bindFramebuffer,bindXRFramebuffer:bindXRFramebuffer,useProgram:useProgram,setBlending:setBlending,setMaterial:setMaterial,setFlipSided:setFlipSided,setCullFace:setCullFace,setLineWidth:setLineWidth,setPolygonOffset:setPolygonOffset,setScissorTest:setScissorTest,activeTexture:activeTexture,bindTexture:bindTexture,unbindTexture:unbindTexture,compressedTexImage2D:compressedTexImage2D,texImage2D:texImage2D,texImage3D:texImage3D,scissor:scissor,viewport:viewport,reset:reset};}function WebGLTextures(_gl,extensions,state,properties,capabilities,utils,info){var _wrappingToGL,_filterToGL;var isWebGL2=capabilities.isWebGL2;var maxTextures=capabilities.maxTextures;var maxCubemapSize=capabilities.maxCubemapSize;var maxTextureSize=capabilities.maxTextureSize;var maxSamples=capabilities.maxSamples;var _videoTextures=new WeakMap();var _canvas;// cordova iOS (as of 5.0) still uses UIWebView, which provides OffscreenCanvas,
// also OffscreenCanvas.getContext("webgl"), but not OffscreenCanvas.getContext("2d")!
// Some implementations may only implement OffscreenCanvas partially (e.g. lacking 2d).
var useOffscreenCanvas=false;try{useOffscreenCanvas=typeof $OffscreenCanvas!=='undefined'&&new $OffscreenCanvas(1,1).getContext('2d')!==null;}catch(err){// Ignore any errors
}function createCanvas(width,height){// Use OffscreenCanvas when available. Specially needed in web workers
return useOffscreenCanvas?new $OffscreenCanvas(width,height):createElementNS('canvas');}function resizeImage(image,needsPowerOfTwo,needsNewCanvas,maxSize){var scale=1;// handle case if texture exceeds max size
if(image.width>maxSize||image.height>maxSize){scale=maxSize/Math.max(image.width,image.height);}// only perform resize if necessary
if(scale<1||needsPowerOfTwo===true){// only perform resize for certain image types
if(typeof HTMLImageElement!=='undefined'&&image instanceof HTMLImageElement||typeof $HTMLCanvasElement!=='undefined'&&image instanceof $HTMLCanvasElement||typeof ImageBitmap!=='undefined'&&image instanceof ImageBitmap){var floor=needsPowerOfTwo?floorPowerOfTwo:Math.floor;var width=floor(scale*image.width);var height=floor(scale*image.height);if(_canvas===undefined)_canvas=createCanvas(width,height);// cube textures can't reuse the same canvas
var canvas=needsNewCanvas?createCanvas(width,height):_canvas;canvas.width=width;canvas.height=height;var context=canvas.getContext('2d');context.drawImage(image,0,0,width,height);console.warn('THREE.WebGLRenderer: Texture has been resized from ('+image.width+'x'+image.height+') to ('+width+'x'+height+').');return canvas;}else{if('data'in image){console.warn('THREE.WebGLRenderer: Image in DataTexture is too big ('+image.width+'x'+image.height+').');}return image;}}return image;}function isPowerOfTwo$1(image){return isPowerOfTwo(image.width)&&isPowerOfTwo(image.height);}function textureNeedsPowerOfTwo(texture){if(isWebGL2)return false;return texture.wrapS!==ClampToEdgeWrapping||texture.wrapT!==ClampToEdgeWrapping||texture.minFilter!==NearestFilter&&texture.minFilter!==LinearFilter;}function textureNeedsGenerateMipmaps(texture,supportsMips){return texture.generateMipmaps&&supportsMips&&texture.minFilter!==NearestFilter&&texture.minFilter!==LinearFilter;}function generateMipmap(target,texture,width,height){var depth=arguments.length>4&&arguments[4]!==undefined?arguments[4]:1;_gl.generateMipmap(target);var textureProperties=properties.get(texture);textureProperties.__maxMipLevel=Math.log2(Math.max(width,height,depth));}function getInternalFormat(internalFormatName,glFormat,glType,encoding){if(isWebGL2===false)return glFormat;if(internalFormatName!==null){if(_gl[internalFormatName]!==undefined)return _gl[internalFormatName];console.warn('THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format \''+internalFormatName+'\'');}var internalFormat=glFormat;if(glFormat===6403){if(glType===5126)internalFormat=33326;if(glType===5131)internalFormat=33325;if(glType===5121)internalFormat=33321;}if(glFormat===6407){if(glType===5126)internalFormat=34837;if(glType===5131)internalFormat=34843;if(glType===5121)internalFormat=32849;}if(glFormat===6408){if(glType===5126)internalFormat=34836;if(glType===5131)internalFormat=34842;if(glType===5121)internalFormat=encoding===sRGBEncoding?35907:32856;}if(internalFormat===33325||internalFormat===33326||internalFormat===34842||internalFormat===34836){extensions.get('EXT_color_buffer_float');}return internalFormat;}// Fallback filters for non-power-of-2 textures
function filterFallback(f){if(f===NearestFilter||f===NearestMipmapNearestFilter||f===NearestMipmapLinearFilter){return 9728;}return 9729;}//
function onTextureDispose(event){var texture=event.target;texture.removeEventListener('dispose',onTextureDispose);deallocateTexture(texture);if(texture.isVideoTexture){_videoTextures.delete(texture);}info.memory.textures--;}function onRenderTargetDispose(event){var renderTarget=event.target;renderTarget.removeEventListener('dispose',onRenderTargetDispose);deallocateRenderTarget(renderTarget);}//
function deallocateTexture(texture){var textureProperties=properties.get(texture);if(textureProperties.__webglInit===undefined)return;_gl.deleteTexture(textureProperties.__webglTexture);properties.remove(texture);}function deallocateRenderTarget(renderTarget){var texture=renderTarget.texture;var renderTargetProperties=properties.get(renderTarget);var textureProperties=properties.get(texture);if(!renderTarget)return;if(textureProperties.__webglTexture!==undefined){_gl.deleteTexture(textureProperties.__webglTexture);info.memory.textures--;}if(renderTarget.depthTexture){renderTarget.depthTexture.dispose();}if(renderTarget.isWebGLCubeRenderTarget){for(var i=0;i<6;i++){_gl.deleteFramebuffer(renderTargetProperties.__webglFramebuffer[i]);if(renderTargetProperties.__webglDepthbuffer)_gl.deleteRenderbuffer(renderTargetProperties.__webglDepthbuffer[i]);}}else{_gl.deleteFramebuffer(renderTargetProperties.__webglFramebuffer);if(renderTargetProperties.__webglDepthbuffer)_gl.deleteRenderbuffer(renderTargetProperties.__webglDepthbuffer);if(renderTargetProperties.__webglMultisampledFramebuffer)_gl.deleteFramebuffer(renderTargetProperties.__webglMultisampledFramebuffer);if(renderTargetProperties.__webglColorRenderbuffer)_gl.deleteRenderbuffer(renderTargetProperties.__webglColorRenderbuffer);if(renderTargetProperties.__webglDepthRenderbuffer)_gl.deleteRenderbuffer(renderTargetProperties.__webglDepthRenderbuffer);}if(renderTarget.isWebGLMultipleRenderTargets){for(var _i91=0,il=texture.length;_i91<il;_i91++){var attachmentProperties=properties.get(texture[_i91]);if(attachmentProperties.__webglTexture){_gl.deleteTexture(attachmentProperties.__webglTexture);info.memory.textures--;}properties.remove(texture[_i91]);}}properties.remove(texture);properties.remove(renderTarget);}//
var textureUnits=0;function resetTextureUnits(){textureUnits=0;}function allocateTextureUnit(){var textureUnit=textureUnits;if(textureUnit>=maxTextures){console.warn('THREE.WebGLTextures: Trying to use '+textureUnit+' texture units while this GPU supports only '+maxTextures);}textureUnits+=1;return textureUnit;}//
function setTexture2D(texture,slot){var textureProperties=properties.get(texture);if(texture.isVideoTexture)updateVideoTexture(texture);if(texture.version>0&&textureProperties.__version!==texture.version){var image=texture.image;if(image===undefined){console.warn('THREE.WebGLRenderer: Texture marked for update but image is undefined');}else if(image.complete===false){console.warn('THREE.WebGLRenderer: Texture marked for update but image is incomplete');}else{uploadTexture(textureProperties,texture,slot);return;}}state.activeTexture(33984+slot);state.bindTexture(3553,textureProperties.__webglTexture);}function setTexture2DArray(texture,slot){var textureProperties=properties.get(texture);if(texture.version>0&&textureProperties.__version!==texture.version){uploadTexture(textureProperties,texture,slot);return;}state.activeTexture(33984+slot);state.bindTexture(35866,textureProperties.__webglTexture);}function setTexture3D(texture,slot){var textureProperties=properties.get(texture);if(texture.version>0&&textureProperties.__version!==texture.version){uploadTexture(textureProperties,texture,slot);return;}state.activeTexture(33984+slot);state.bindTexture(32879,textureProperties.__webglTexture);}function setTextureCube(texture,slot){var textureProperties=properties.get(texture);if(texture.version>0&&textureProperties.__version!==texture.version){uploadCubeTexture(textureProperties,texture,slot);return;}state.activeTexture(33984+slot);state.bindTexture(34067,textureProperties.__webglTexture);}var wrappingToGL=(_wrappingToGL={},(0,_defineProperty2.default)(_wrappingToGL,RepeatWrapping,10497),(0,_defineProperty2.default)(_wrappingToGL,ClampToEdgeWrapping,33071),(0,_defineProperty2.default)(_wrappingToGL,MirroredRepeatWrapping,33648),_wrappingToGL);var filterToGL=(_filterToGL={},(0,_defineProperty2.default)(_filterToGL,NearestFilter,9728),(0,_defineProperty2.default)(_filterToGL,NearestMipmapNearestFilter,9984),(0,_defineProperty2.default)(_filterToGL,NearestMipmapLinearFilter,9986),(0,_defineProperty2.default)(_filterToGL,LinearFilter,9729),(0,_defineProperty2.default)(_filterToGL,LinearMipmapNearestFilter,9985),(0,_defineProperty2.default)(_filterToGL,LinearMipmapLinearFilter,9987),_filterToGL);function setTextureParameters(textureType,texture,supportsMips){if(supportsMips){_gl.texParameteri(textureType,10242,wrappingToGL[texture.wrapS]);_gl.texParameteri(textureType,10243,wrappingToGL[texture.wrapT]);if(textureType===32879||textureType===35866){_gl.texParameteri(textureType,32882,wrappingToGL[texture.wrapR]);}_gl.texParameteri(textureType,10240,filterToGL[texture.magFilter]);_gl.texParameteri(textureType,10241,filterToGL[texture.minFilter]);}else{_gl.texParameteri(textureType,10242,33071);_gl.texParameteri(textureType,10243,33071);if(textureType===32879||textureType===35866){_gl.texParameteri(textureType,32882,33071);}if(texture.wrapS!==ClampToEdgeWrapping||texture.wrapT!==ClampToEdgeWrapping){console.warn('THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.');}_gl.texParameteri(textureType,10240,filterFallback(texture.magFilter));_gl.texParameteri(textureType,10241,filterFallback(texture.minFilter));if(texture.minFilter!==NearestFilter&&texture.minFilter!==LinearFilter){console.warn('THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.');}}if(extensions.has('EXT_texture_filter_anisotropic')===true){var extension=extensions.get('EXT_texture_filter_anisotropic');if(texture.type===FloatType&&extensions.has('OES_texture_float_linear')===false)return;// verify extension for WebGL 1 and WebGL 2
if(isWebGL2===false&&texture.type===HalfFloatType&&extensions.has('OES_texture_half_float_linear')===false)return;// verify extension for WebGL 1 only
if(texture.anisotropy>1||properties.get(texture).__currentAnisotropy){_gl.texParameterf(textureType,extension.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(texture.anisotropy,capabilities.getMaxAnisotropy()));properties.get(texture).__currentAnisotropy=texture.anisotropy;}}}function initTexture(textureProperties,texture){if(textureProperties.__webglInit===undefined){textureProperties.__webglInit=true;texture.addEventListener('dispose',onTextureDispose);textureProperties.__webglTexture=_gl.createTexture();info.memory.textures++;}}function uploadTexture(textureProperties,texture,slot){var textureType=3553;if(texture.isDataTexture2DArray)textureType=35866;if(texture.isDataTexture3D)textureType=32879;initTexture(textureProperties,texture);state.activeTexture(33984+slot);state.bindTexture(textureType,textureProperties.__webglTexture);_gl.pixelStorei(37440,texture.flipY);_gl.pixelStorei(37441,texture.premultiplyAlpha);_gl.pixelStorei(3317,texture.unpackAlignment);_gl.pixelStorei(37443,0);var needsPowerOfTwo=textureNeedsPowerOfTwo(texture)&&isPowerOfTwo$1(texture.image)===false;var image=resizeImage(texture.image,needsPowerOfTwo,false,maxTextureSize);var supportsMips=isPowerOfTwo$1(image)||isWebGL2,glFormat=utils.convert(texture.format);var glType=utils.convert(texture.type),glInternalFormat=getInternalFormat(texture.internalFormat,glFormat,glType,texture.encoding);setTextureParameters(textureType,texture,supportsMips);var mipmap;var mipmaps=texture.mipmaps;if(texture.isDepthTexture){// populate depth texture with dummy data
glInternalFormat=6402;if(isWebGL2){if(texture.type===FloatType){glInternalFormat=36012;}else if(texture.type===UnsignedIntType){glInternalFormat=33190;}else if(texture.type===UnsignedInt248Type){glInternalFormat=35056;}else{glInternalFormat=33189;// WebGL2 requires sized internalformat for glTexImage2D
}}else{if(texture.type===FloatType){console.error('WebGLRenderer: Floating point depth texture requires WebGL2.');}}// validation checks for WebGL 1
if(texture.format===DepthFormat&&glInternalFormat===6402){// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are
// DEPTH_COMPONENT and type is not UNSIGNED_SHORT or UNSIGNED_INT
// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)
if(texture.type!==UnsignedShortType&&texture.type!==UnsignedIntType){console.warn('THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.');texture.type=UnsignedShortType;glType=utils.convert(texture.type);}}if(texture.format===DepthStencilFormat&&glInternalFormat===6402){// Depth stencil textures need the DEPTH_STENCIL internal format
// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)
glInternalFormat=34041;// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are
// DEPTH_STENCIL and type is not UNSIGNED_INT_24_8_WEBGL.
// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)
if(texture.type!==UnsignedInt248Type){console.warn('THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.');texture.type=UnsignedInt248Type;glType=utils.convert(texture.type);}}//
state.texImage2D(3553,0,glInternalFormat,image.width,image.height,0,glFormat,glType,null);}else if(texture.isDataTexture){// use manually created mipmaps if available
// if there are no manual mipmaps
// set 0 level mipmap and then use GL to generate other mipmap levels
if(mipmaps.length>0&&supportsMips){for(var i=0,il=mipmaps.length;i<il;i++){mipmap=mipmaps[i];state.texImage2D(3553,i,glInternalFormat,mipmap.width,mipmap.height,0,glFormat,glType,mipmap.data);}texture.generateMipmaps=false;textureProperties.__maxMipLevel=mipmaps.length-1;}else{state.texImage2D(3553,0,glInternalFormat,image.width,image.height,0,glFormat,glType,image.data);textureProperties.__maxMipLevel=0;}}else if(texture.isCompressedTexture){for(var _i92=0,_il9=mipmaps.length;_i92<_il9;_i92++){mipmap=mipmaps[_i92];if(texture.format!==RGBAFormat&&texture.format!==RGBFormat){if(glFormat!==null){state.compressedTexImage2D(3553,_i92,glInternalFormat,mipmap.width,mipmap.height,0,mipmap.data);}else{console.warn('THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()');}}else{state.texImage2D(3553,_i92,glInternalFormat,mipmap.width,mipmap.height,0,glFormat,glType,mipmap.data);}}textureProperties.__maxMipLevel=mipmaps.length-1;}else if(texture.isDataTexture2DArray){state.texImage3D(35866,0,glInternalFormat,image.width,image.height,image.depth,0,glFormat,glType,image.data);textureProperties.__maxMipLevel=0;}else if(texture.isDataTexture3D){state.texImage3D(32879,0,glInternalFormat,image.width,image.height,image.depth,0,glFormat,glType,image.data);textureProperties.__maxMipLevel=0;}else{// regular Texture (image, video, canvas)
// use manually created mipmaps if available
// if there are no manual mipmaps
// set 0 level mipmap and then use GL to generate other mipmap levels
if(mipmaps.length>0&&supportsMips){for(var _i93=0,_il10=mipmaps.length;_i93<_il10;_i93++){mipmap=mipmaps[_i93];state.texImage2D(3553,_i93,glInternalFormat,glFormat,glType,mipmap);}texture.generateMipmaps=false;textureProperties.__maxMipLevel=mipmaps.length-1;}else{state.texImage2D(3553,0,glInternalFormat,glFormat,glType,image);textureProperties.__maxMipLevel=0;}}if(textureNeedsGenerateMipmaps(texture,supportsMips)){generateMipmap(textureType,texture,image.width,image.height);}textureProperties.__version=texture.version;if(texture.onUpdate)texture.onUpdate(texture);}function uploadCubeTexture(textureProperties,texture,slot){if(texture.image.length!==6)return;initTexture(textureProperties,texture);state.activeTexture(33984+slot);state.bindTexture(34067,textureProperties.__webglTexture);_gl.pixelStorei(37440,texture.flipY);_gl.pixelStorei(37441,texture.premultiplyAlpha);_gl.pixelStorei(3317,texture.unpackAlignment);_gl.pixelStorei(37443,0);var isCompressed=texture&&(texture.isCompressedTexture||texture.image[0].isCompressedTexture);var isDataTexture=texture.image[0]&&texture.image[0].isDataTexture;var cubeImage=[];for(var i=0;i<6;i++){if(!isCompressed&&!isDataTexture){cubeImage[i]=resizeImage(texture.image[i],false,true,maxCubemapSize);}else{cubeImage[i]=isDataTexture?texture.image[i].image:texture.image[i];}}var image=cubeImage[0],supportsMips=isPowerOfTwo$1(image)||isWebGL2,glFormat=utils.convert(texture.format),glType=utils.convert(texture.type),glInternalFormat=getInternalFormat(texture.internalFormat,glFormat,glType,texture.encoding);setTextureParameters(34067,texture,supportsMips);var mipmaps;if(isCompressed){for(var _i94=0;_i94<6;_i94++){mipmaps=cubeImage[_i94].mipmaps;for(var j=0;j<mipmaps.length;j++){var mipmap=mipmaps[j];if(texture.format!==RGBAFormat&&texture.format!==RGBFormat){if(glFormat!==null){state.compressedTexImage2D(34069+_i94,j,glInternalFormat,mipmap.width,mipmap.height,0,mipmap.data);}else{console.warn('THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()');}}else{state.texImage2D(34069+_i94,j,glInternalFormat,mipmap.width,mipmap.height,0,glFormat,glType,mipmap.data);}}}textureProperties.__maxMipLevel=mipmaps.length-1;}else{mipmaps=texture.mipmaps;for(var _i95=0;_i95<6;_i95++){if(isDataTexture){state.texImage2D(34069+_i95,0,glInternalFormat,cubeImage[_i95].width,cubeImage[_i95].height,0,glFormat,glType,cubeImage[_i95].data);for(var _j3=0;_j3<mipmaps.length;_j3++){var _mipmap=mipmaps[_j3];var mipmapImage=_mipmap.image[_i95].image;state.texImage2D(34069+_i95,_j3+1,glInternalFormat,mipmapImage.width,mipmapImage.height,0,glFormat,glType,mipmapImage.data);}}else{state.texImage2D(34069+_i95,0,glInternalFormat,glFormat,glType,cubeImage[_i95]);for(var _j4=0;_j4<mipmaps.length;_j4++){var _mipmap2=mipmaps[_j4];state.texImage2D(34069+_i95,_j4+1,glInternalFormat,glFormat,glType,_mipmap2.image[_i95]);}}}textureProperties.__maxMipLevel=mipmaps.length;}if(textureNeedsGenerateMipmaps(texture,supportsMips)){// We assume images for cube map have the same size.
generateMipmap(34067,texture,image.width,image.height);}textureProperties.__version=texture.version;if(texture.onUpdate)texture.onUpdate(texture);}// Render targets
// Setup storage for target texture and bind it to correct framebuffer
function setupFrameBufferTexture(framebuffer,renderTarget,texture,attachment,textureTarget){var glFormat=utils.convert(texture.format);var glType=utils.convert(texture.type);var glInternalFormat=getInternalFormat(texture.internalFormat,glFormat,glType,texture.encoding);if(textureTarget===32879||textureTarget===35866){state.texImage3D(textureTarget,0,glInternalFormat,renderTarget.width,renderTarget.height,renderTarget.depth,0,glFormat,glType,null);}else{state.texImage2D(textureTarget,0,glInternalFormat,renderTarget.width,renderTarget.height,0,glFormat,glType,null);}state.bindFramebuffer(36160,framebuffer);_gl.framebufferTexture2D(36160,attachment,textureTarget,properties.get(texture).__webglTexture,0);state.bindFramebuffer(36160,null);}// Setup storage for internal depth/stencil buffers and bind to correct framebuffer
function setupRenderBufferStorage(renderbuffer,renderTarget,isMultisample){_gl.bindRenderbuffer(36161,renderbuffer);if(renderTarget.depthBuffer&&!renderTarget.stencilBuffer){var glInternalFormat=33189;if(isMultisample){var depthTexture=renderTarget.depthTexture;if(depthTexture&&depthTexture.isDepthTexture){if(depthTexture.type===FloatType){glInternalFormat=36012;}else if(depthTexture.type===UnsignedIntType){glInternalFormat=33190;}}var samples=getRenderTargetSamples(renderTarget);_gl.renderbufferStorageMultisample(36161,samples,glInternalFormat,renderTarget.width,renderTarget.height);}else{_gl.renderbufferStorage(36161,glInternalFormat,renderTarget.width,renderTarget.height);}_gl.framebufferRenderbuffer(36160,36096,36161,renderbuffer);}else if(renderTarget.depthBuffer&&renderTarget.stencilBuffer){if(isMultisample){var _samples=getRenderTargetSamples(renderTarget);_gl.renderbufferStorageMultisample(36161,_samples,35056,renderTarget.width,renderTarget.height);}else{_gl.renderbufferStorage(36161,34041,renderTarget.width,renderTarget.height);}_gl.framebufferRenderbuffer(36160,33306,36161,renderbuffer);}else{// Use the first texture for MRT so far
var texture=renderTarget.isWebGLMultipleRenderTargets===true?renderTarget.texture[0]:renderTarget.texture;var glFormat=utils.convert(texture.format);var glType=utils.convert(texture.type);var _glInternalFormat=getInternalFormat(texture.internalFormat,glFormat,glType,texture.encoding);if(isMultisample){var _samples2=getRenderTargetSamples(renderTarget);_gl.renderbufferStorageMultisample(36161,_samples2,_glInternalFormat,renderTarget.width,renderTarget.height);}else{_gl.renderbufferStorage(36161,_glInternalFormat,renderTarget.width,renderTarget.height);}}_gl.bindRenderbuffer(36161,null);}// Setup resources for a Depth Texture for a FBO (needs an extension)
function setupDepthTexture(framebuffer,renderTarget){var isCube=renderTarget&&renderTarget.isWebGLCubeRenderTarget;if(isCube)throw new Error('Depth Texture with cube render targets is not supported');state.bindFramebuffer(36160,framebuffer);if(!(renderTarget.depthTexture&&renderTarget.depthTexture.isDepthTexture)){throw new Error('renderTarget.depthTexture must be an instance of THREE.DepthTexture');}// upload an empty depth texture with framebuffer size
if(!properties.get(renderTarget.depthTexture).__webglTexture||renderTarget.depthTexture.image.width!==renderTarget.width||renderTarget.depthTexture.image.height!==renderTarget.height){renderTarget.depthTexture.image.width=renderTarget.width;renderTarget.depthTexture.image.height=renderTarget.height;renderTarget.depthTexture.needsUpdate=true;}setTexture2D(renderTarget.depthTexture,0);var webglDepthTexture=properties.get(renderTarget.depthTexture).__webglTexture;if(renderTarget.depthTexture.format===DepthFormat){_gl.framebufferTexture2D(36160,36096,3553,webglDepthTexture,0);}else if(renderTarget.depthTexture.format===DepthStencilFormat){_gl.framebufferTexture2D(36160,33306,3553,webglDepthTexture,0);}else{throw new Error('Unknown depthTexture format');}}// Setup GL resources for a non-texture depth buffer
function setupDepthRenderbuffer(renderTarget){var renderTargetProperties=properties.get(renderTarget);var isCube=renderTarget.isWebGLCubeRenderTarget===true;if(renderTarget.depthTexture){if(isCube)throw new Error('target.depthTexture not supported in Cube render targets');setupDepthTexture(renderTargetProperties.__webglFramebuffer,renderTarget);}else{if(isCube){renderTargetProperties.__webglDepthbuffer=[];for(var i=0;i<6;i++){state.bindFramebuffer(36160,renderTargetProperties.__webglFramebuffer[i]);renderTargetProperties.__webglDepthbuffer[i]=_gl.createRenderbuffer();setupRenderBufferStorage(renderTargetProperties.__webglDepthbuffer[i],renderTarget,false);}}else{state.bindFramebuffer(36160,renderTargetProperties.__webglFramebuffer);renderTargetProperties.__webglDepthbuffer=_gl.createRenderbuffer();setupRenderBufferStorage(renderTargetProperties.__webglDepthbuffer,renderTarget,false);}}state.bindFramebuffer(36160,null);}// Set up GL resources for the render target
function setupRenderTarget(renderTarget){var texture=renderTarget.texture;var renderTargetProperties=properties.get(renderTarget);var textureProperties=properties.get(texture);renderTarget.addEventListener('dispose',onRenderTargetDispose);if(renderTarget.isWebGLMultipleRenderTargets!==true){textureProperties.__webglTexture=_gl.createTexture();textureProperties.__version=texture.version;info.memory.textures++;}var isCube=renderTarget.isWebGLCubeRenderTarget===true;var isMultipleRenderTargets=renderTarget.isWebGLMultipleRenderTargets===true;var isMultisample=renderTarget.isWebGLMultisampleRenderTarget===true;var isRenderTarget3D=texture.isDataTexture3D||texture.isDataTexture2DArray;var supportsMips=isPowerOfTwo$1(renderTarget)||isWebGL2;// Handles WebGL2 RGBFormat fallback - #18858
if(isWebGL2&&texture.format===RGBFormat&&(texture.type===FloatType||texture.type===HalfFloatType)){texture.format=RGBAFormat;console.warn('THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.');}// Setup framebuffer
if(isCube){renderTargetProperties.__webglFramebuffer=[];for(var i=0;i<6;i++){renderTargetProperties.__webglFramebuffer[i]=_gl.createFramebuffer();}}else{renderTargetProperties.__webglFramebuffer=_gl.createFramebuffer();if(isMultipleRenderTargets){if(capabilities.drawBuffers){var textures=renderTarget.texture;for(var _i96=0,il=textures.length;_i96<il;_i96++){var attachmentProperties=properties.get(textures[_i96]);if(attachmentProperties.__webglTexture===undefined){attachmentProperties.__webglTexture=_gl.createTexture();info.memory.textures++;}}}else{console.warn('THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.');}}else if(isMultisample){if(isWebGL2){renderTargetProperties.__webglMultisampledFramebuffer=_gl.createFramebuffer();renderTargetProperties.__webglColorRenderbuffer=_gl.createRenderbuffer();_gl.bindRenderbuffer(36161,renderTargetProperties.__webglColorRenderbuffer);var glFormat=utils.convert(texture.format);var glType=utils.convert(texture.type);var glInternalFormat=getInternalFormat(texture.internalFormat,glFormat,glType,texture.encoding);var samples=getRenderTargetSamples(renderTarget);_gl.renderbufferStorageMultisample(36161,samples,glInternalFormat,renderTarget.width,renderTarget.height);state.bindFramebuffer(36160,renderTargetProperties.__webglMultisampledFramebuffer);_gl.framebufferRenderbuffer(36160,36064,36161,renderTargetProperties.__webglColorRenderbuffer);_gl.bindRenderbuffer(36161,null);if(renderTarget.depthBuffer){renderTargetProperties.__webglDepthRenderbuffer=_gl.createRenderbuffer();setupRenderBufferStorage(renderTargetProperties.__webglDepthRenderbuffer,renderTarget,true);}state.bindFramebuffer(36160,null);}else{console.warn('THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.');}}}// Setup color buffer
if(isCube){state.bindTexture(34067,textureProperties.__webglTexture);setTextureParameters(34067,texture,supportsMips);for(var _i97=0;_i97<6;_i97++){setupFrameBufferTexture(renderTargetProperties.__webglFramebuffer[_i97],renderTarget,texture,36064,34069+_i97);}if(textureNeedsGenerateMipmaps(texture,supportsMips)){generateMipmap(34067,texture,renderTarget.width,renderTarget.height);}state.unbindTexture();}else if(isMultipleRenderTargets){var _textures=renderTarget.texture;for(var _i98=0,_il11=_textures.length;_i98<_il11;_i98++){var attachment=_textures[_i98];var _attachmentProperties=properties.get(attachment);state.bindTexture(3553,_attachmentProperties.__webglTexture);setTextureParameters(3553,attachment,supportsMips);setupFrameBufferTexture(renderTargetProperties.__webglFramebuffer,renderTarget,attachment,36064+_i98,3553);if(textureNeedsGenerateMipmaps(attachment,supportsMips)){generateMipmap(3553,attachment,renderTarget.width,renderTarget.height);}}state.unbindTexture();}else{var glTextureType=3553;if(isRenderTarget3D){// Render targets containing layers, i.e: Texture 3D and 2d arrays
if(isWebGL2){var isTexture3D=texture.isDataTexture3D;glTextureType=isTexture3D?32879:35866;}else{console.warn('THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.');}}state.bindTexture(glTextureType,textureProperties.__webglTexture);setTextureParameters(glTextureType,texture,supportsMips);setupFrameBufferTexture(renderTargetProperties.__webglFramebuffer,renderTarget,texture,36064,glTextureType);if(textureNeedsGenerateMipmaps(texture,supportsMips)){generateMipmap(glTextureType,texture,renderTarget.width,renderTarget.height,renderTarget.depth);}state.unbindTexture();}// Setup depth and stencil buffers
if(renderTarget.depthBuffer){setupDepthRenderbuffer(renderTarget);}}function updateRenderTargetMipmap(renderTarget){var supportsMips=isPowerOfTwo$1(renderTarget)||isWebGL2;var textures=renderTarget.isWebGLMultipleRenderTargets===true?renderTarget.texture:[renderTarget.texture];for(var i=0,il=textures.length;i<il;i++){var texture=textures[i];if(textureNeedsGenerateMipmaps(texture,supportsMips)){var target=renderTarget.isWebGLCubeRenderTarget?34067:3553;var webglTexture=properties.get(texture).__webglTexture;state.bindTexture(target,webglTexture);generateMipmap(target,texture,renderTarget.width,renderTarget.height);state.unbindTexture();}}}function updateMultisampleRenderTarget(renderTarget){if(renderTarget.isWebGLMultisampleRenderTarget){if(isWebGL2){var width=renderTarget.width;var height=renderTarget.height;var mask=16384;if(renderTarget.depthBuffer)mask|=256;if(renderTarget.stencilBuffer)mask|=1024;var renderTargetProperties=properties.get(renderTarget);state.bindFramebuffer(36008,renderTargetProperties.__webglMultisampledFramebuffer);state.bindFramebuffer(36009,renderTargetProperties.__webglFramebuffer);_gl.blitFramebuffer(0,0,width,height,0,0,width,height,mask,9728);state.bindFramebuffer(36008,null);state.bindFramebuffer(36009,renderTargetProperties.__webglMultisampledFramebuffer);}else{console.warn('THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.');}}}function getRenderTargetSamples(renderTarget){return isWebGL2&&renderTarget.isWebGLMultisampleRenderTarget?Math.min(maxSamples,renderTarget.samples):0;}function updateVideoTexture(texture){var frame=info.render.frame;// Check the last frame we updated the VideoTexture
if(_videoTextures.get(texture)!==frame){_videoTextures.set(texture,frame);texture.update();}}// backwards compatibility
var warnedTexture2D=false;var warnedTextureCube=false;function safeSetTexture2D(texture,slot){if(texture&&texture.isWebGLRenderTarget){if(warnedTexture2D===false){console.warn('THREE.WebGLTextures.safeSetTexture2D: don\'t use render targets as textures. Use their .texture property instead.');warnedTexture2D=true;}texture=texture.texture;}setTexture2D(texture,slot);}function safeSetTextureCube(texture,slot){if(texture&&texture.isWebGLCubeRenderTarget){if(warnedTextureCube===false){console.warn('THREE.WebGLTextures.safeSetTextureCube: don\'t use cube render targets as textures. Use their .texture property instead.');warnedTextureCube=true;}texture=texture.texture;}setTextureCube(texture,slot);}//
this.allocateTextureUnit=allocateTextureUnit;this.resetTextureUnits=resetTextureUnits;this.setTexture2D=setTexture2D;this.setTexture2DArray=setTexture2DArray;this.setTexture3D=setTexture3D;this.setTextureCube=setTextureCube;this.setupRenderTarget=setupRenderTarget;this.updateRenderTargetMipmap=updateRenderTargetMipmap;this.updateMultisampleRenderTarget=updateMultisampleRenderTarget;this.safeSetTexture2D=safeSetTexture2D;this.safeSetTextureCube=safeSetTextureCube;}function WebGLUtils(gl,extensions,capabilities){var isWebGL2=capabilities.isWebGL2;function convert(p){var extension;if(p===UnsignedByteType)return 5121;if(p===UnsignedShort4444Type)return 32819;if(p===UnsignedShort5551Type)return 32820;if(p===UnsignedShort565Type)return 33635;if(p===ByteType)return 5120;if(p===ShortType)return 5122;if(p===UnsignedShortType)return 5123;if(p===IntType)return 5124;if(p===UnsignedIntType)return 5125;if(p===FloatType)return 5126;if(p===HalfFloatType){if(isWebGL2)return 5131;extension=extensions.get('OES_texture_half_float');if(extension!==null){return extension.HALF_FLOAT_OES;}else{return null;}}if(p===AlphaFormat)return 6406;if(p===RGBFormat)return 6407;if(p===RGBAFormat)return 6408;if(p===LuminanceFormat)return 6409;if(p===LuminanceAlphaFormat)return 6410;if(p===DepthFormat)return 6402;if(p===DepthStencilFormat)return 34041;if(p===RedFormat)return 6403;// WebGL2 formats.
if(p===RedIntegerFormat)return 36244;if(p===RGFormat)return 33319;if(p===RGIntegerFormat)return 33320;if(p===RGBIntegerFormat)return 36248;if(p===RGBAIntegerFormat)return 36249;if(p===RGB_S3TC_DXT1_Format||p===RGBA_S3TC_DXT1_Format||p===RGBA_S3TC_DXT3_Format||p===RGBA_S3TC_DXT5_Format){extension=extensions.get('WEBGL_compressed_texture_s3tc');if(extension!==null){if(p===RGB_S3TC_DXT1_Format)return extension.COMPRESSED_RGB_S3TC_DXT1_EXT;if(p===RGBA_S3TC_DXT1_Format)return extension.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(p===RGBA_S3TC_DXT3_Format)return extension.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(p===RGBA_S3TC_DXT5_Format)return extension.COMPRESSED_RGBA_S3TC_DXT5_EXT;}else{return null;}}if(p===RGB_PVRTC_4BPPV1_Format||p===RGB_PVRTC_2BPPV1_Format||p===RGBA_PVRTC_4BPPV1_Format||p===RGBA_PVRTC_2BPPV1_Format){extension=extensions.get('WEBGL_compressed_texture_pvrtc');if(extension!==null){if(p===RGB_PVRTC_4BPPV1_Format)return extension.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(p===RGB_PVRTC_2BPPV1_Format)return extension.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(p===RGBA_PVRTC_4BPPV1_Format)return extension.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(p===RGBA_PVRTC_2BPPV1_Format)return extension.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;}else{return null;}}if(p===RGB_ETC1_Format){extension=extensions.get('WEBGL_compressed_texture_etc1');if(extension!==null){return extension.COMPRESSED_RGB_ETC1_WEBGL;}else{return null;}}if(p===RGB_ETC2_Format||p===RGBA_ETC2_EAC_Format){extension=extensions.get('WEBGL_compressed_texture_etc');if(extension!==null){if(p===RGB_ETC2_Format)return extension.COMPRESSED_RGB8_ETC2;if(p===RGBA_ETC2_EAC_Format)return extension.COMPRESSED_RGBA8_ETC2_EAC;}}if(p===RGBA_ASTC_4x4_Format||p===RGBA_ASTC_5x4_Format||p===RGBA_ASTC_5x5_Format||p===RGBA_ASTC_6x5_Format||p===RGBA_ASTC_6x6_Format||p===RGBA_ASTC_8x5_Format||p===RGBA_ASTC_8x6_Format||p===RGBA_ASTC_8x8_Format||p===RGBA_ASTC_10x5_Format||p===RGBA_ASTC_10x6_Format||p===RGBA_ASTC_10x8_Format||p===RGBA_ASTC_10x10_Format||p===RGBA_ASTC_12x10_Format||p===RGBA_ASTC_12x12_Format||p===SRGB8_ALPHA8_ASTC_4x4_Format||p===SRGB8_ALPHA8_ASTC_5x4_Format||p===SRGB8_ALPHA8_ASTC_5x5_Format||p===SRGB8_ALPHA8_ASTC_6x5_Format||p===SRGB8_ALPHA8_ASTC_6x6_Format||p===SRGB8_ALPHA8_ASTC_8x5_Format||p===SRGB8_ALPHA8_ASTC_8x6_Format||p===SRGB8_ALPHA8_ASTC_8x8_Format||p===SRGB8_ALPHA8_ASTC_10x5_Format||p===SRGB8_ALPHA8_ASTC_10x6_Format||p===SRGB8_ALPHA8_ASTC_10x8_Format||p===SRGB8_ALPHA8_ASTC_10x10_Format||p===SRGB8_ALPHA8_ASTC_12x10_Format||p===SRGB8_ALPHA8_ASTC_12x12_Format){extension=extensions.get('WEBGL_compressed_texture_astc');if(extension!==null){// TODO Complete?
return p;}else{return null;}}if(p===RGBA_BPTC_Format){extension=extensions.get('EXT_texture_compression_bptc');if(extension!==null){// TODO Complete?
return p;}else{return null;}}if(p===UnsignedInt248Type){if(isWebGL2)return 34042;extension=extensions.get('WEBGL_depth_texture');if(extension!==null){return extension.UNSIGNED_INT_24_8_WEBGL;}else{return null;}}}return{convert:convert};}var ArrayCamera=/*#__PURE__*/function(_PerspectiveCamera){(0,_inherits2.default)(ArrayCamera,_PerspectiveCamera);var _super34=_createSuper(ArrayCamera);function ArrayCamera(){var _this25;var array=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];(0,_classCallCheck2.default)(this,ArrayCamera);_this25=_super34.call(this);_this25.cameras=array;return _this25;}return(0,_createClass2.default)(ArrayCamera);}(PerspectiveCamera);exports.ArrayCamera=ArrayCamera;ArrayCamera.prototype.isArrayCamera=true;var Group=/*#__PURE__*/function(_Object3D4){(0,_inherits2.default)(Group,_Object3D4);var _super35=_createSuper(Group);function Group(){var _this26;(0,_classCallCheck2.default)(this,Group);_this26=_super35.call(this);_this26.type='Group';return _this26;}return(0,_createClass2.default)(Group);}(Object3D);exports.Group=Group;Group.prototype.isGroup=true;var _moveEvent={type:'move'};var WebXRController=/*#__PURE__*/function(){function WebXRController(){(0,_classCallCheck2.default)(this,WebXRController);this._targetRay=null;this._grip=null;this._hand=null;}(0,_createClass2.default)(WebXRController,[{key:"getHandSpace",value:function getHandSpace(){if(this._hand===null){this._hand=new Group();this._hand.matrixAutoUpdate=false;this._hand.visible=false;this._hand.joints={};this._hand.inputState={pinching:false};}return this._hand;}},{key:"getTargetRaySpace",value:function getTargetRaySpace(){if(this._targetRay===null){this._targetRay=new Group();this._targetRay.matrixAutoUpdate=false;this._targetRay.visible=false;this._targetRay.hasLinearVelocity=false;this._targetRay.linearVelocity=new Vector3();this._targetRay.hasAngularVelocity=false;this._targetRay.angularVelocity=new Vector3();}return this._targetRay;}},{key:"getGripSpace",value:function getGripSpace(){if(this._grip===null){this._grip=new Group();this._grip.matrixAutoUpdate=false;this._grip.visible=false;this._grip.hasLinearVelocity=false;this._grip.linearVelocity=new Vector3();this._grip.hasAngularVelocity=false;this._grip.angularVelocity=new Vector3();}return this._grip;}},{key:"dispatchEvent",value:function dispatchEvent(event){if(this._targetRay!==null){this._targetRay.dispatchEvent(event);}if(this._grip!==null){this._grip.dispatchEvent(event);}if(this._hand!==null){this._hand.dispatchEvent(event);}return this;}},{key:"disconnect",value:function disconnect(inputSource){this.dispatchEvent({type:'disconnected',data:inputSource});if(this._targetRay!==null){this._targetRay.visible=false;}if(this._grip!==null){this._grip.visible=false;}if(this._hand!==null){this._hand.visible=false;}return this;}},{key:"update",value:function update(inputSource,frame,referenceSpace){var inputPose=null;var gripPose=null;var handPose=null;var targetRay=this._targetRay;var grip=this._grip;var hand=this._hand;if(inputSource&&frame.session.visibilityState!=='visible-blurred'){if(targetRay!==null){inputPose=frame.getPose(inputSource.targetRaySpace,referenceSpace);if(inputPose!==null){targetRay.matrix.fromArray(inputPose.transform.matrix);targetRay.matrix.decompose(targetRay.position,targetRay.rotation,targetRay.scale);if(inputPose.linearVelocity){targetRay.hasLinearVelocity=true;targetRay.linearVelocity.copy(inputPose.linearVelocity);}else{targetRay.hasLinearVelocity=false;}if(inputPose.angularVelocity){targetRay.hasAngularVelocity=true;targetRay.angularVelocity.copy(inputPose.angularVelocity);}else{targetRay.hasAngularVelocity=false;}this.dispatchEvent(_moveEvent);}}if(hand&&inputSource.hand){handPose=true;var _iterator=_createForOfIteratorHelper(inputSource.hand.values()),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var inputjoint=_step.value;// Update the joints groups with the XRJoint poses
var jointPose=frame.getJointPose(inputjoint,referenceSpace);if(hand.joints[inputjoint.jointName]===undefined){// The transform of this joint will be updated with the joint pose on each frame
var _joint=new Group();_joint.matrixAutoUpdate=false;_joint.visible=false;hand.joints[inputjoint.jointName]=_joint;// ??
hand.add(_joint);}var joint=hand.joints[inputjoint.jointName];if(jointPose!==null){joint.matrix.fromArray(jointPose.transform.matrix);joint.matrix.decompose(joint.position,joint.rotation,joint.scale);joint.jointRadius=jointPose.radius;}joint.visible=jointPose!==null;}// Custom events
// Check pinchz
}catch(err){_iterator.e(err);}finally{_iterator.f();}var indexTip=hand.joints['index-finger-tip'];var thumbTip=hand.joints['thumb-tip'];var distance=indexTip.position.distanceTo(thumbTip.position);var distanceToPinch=0.02;var threshold=0.005;if(hand.inputState.pinching&&distance>distanceToPinch+threshold){hand.inputState.pinching=false;this.dispatchEvent({type:'pinchend',handedness:inputSource.handedness,target:this});}else if(!hand.inputState.pinching&&distance<=distanceToPinch-threshold){hand.inputState.pinching=true;this.dispatchEvent({type:'pinchstart',handedness:inputSource.handedness,target:this});}}else{if(grip!==null&&inputSource.gripSpace){gripPose=frame.getPose(inputSource.gripSpace,referenceSpace);if(gripPose!==null){grip.matrix.fromArray(gripPose.transform.matrix);grip.matrix.decompose(grip.position,grip.rotation,grip.scale);if(gripPose.linearVelocity){grip.hasLinearVelocity=true;grip.linearVelocity.copy(gripPose.linearVelocity);}else{grip.hasLinearVelocity=false;}if(gripPose.angularVelocity){grip.hasAngularVelocity=true;grip.angularVelocity.copy(gripPose.angularVelocity);}else{grip.hasAngularVelocity=false;}}}}}if(targetRay!==null){targetRay.visible=inputPose!==null;}if(grip!==null){grip.visible=gripPose!==null;}if(hand!==null){hand.visible=handPose!==null;}return this;}}]);return WebXRController;}();var WebXRManager=/*#__PURE__*/function(_EventDispatcher6){(0,_inherits2.default)(WebXRManager,_EventDispatcher6);var _super36=_createSuper(WebXRManager);function WebXRManager(renderer,gl){var _this27;(0,_classCallCheck2.default)(this,WebXRManager);_this27=_super36.call(this);var scope=(0,_assertThisInitialized2.default)(_this27);var state=renderer.state;var session=null;var framebufferScaleFactor=1.0;var referenceSpace=null;var referenceSpaceType='local-floor';var pose=null;var glBinding=null;var glFramebuffer=null;var glProjLayer=null;var glBaseLayer=null;var isMultisample=false;var glMultisampledFramebuffer=null;var glColorRenderbuffer=null;var glDepthRenderbuffer=null;var xrFrame=null;var depthStyle=null;var clearStyle=null;var controllers=[];var inputSourcesMap=new Map();//
var cameraL=new PerspectiveCamera();cameraL.layers.enable(1);cameraL.viewport=new Vector4();var cameraR=new PerspectiveCamera();cameraR.layers.enable(2);cameraR.viewport=new Vector4();var cameras=[cameraL,cameraR];var cameraVR=new ArrayCamera();cameraVR.layers.enable(1);cameraVR.layers.enable(2);var _currentDepthNear=null;var _currentDepthFar=null;//
_this27.cameraAutoUpdate=true;_this27.enabled=false;_this27.isPresenting=false;_this27.getController=function(index){var controller=controllers[index];if(controller===undefined){controller=new WebXRController();controllers[index]=controller;}return controller.getTargetRaySpace();};_this27.getControllerGrip=function(index){var controller=controllers[index];if(controller===undefined){controller=new WebXRController();controllers[index]=controller;}return controller.getGripSpace();};_this27.getHand=function(index){var controller=controllers[index];if(controller===undefined){controller=new WebXRController();controllers[index]=controller;}return controller.getHandSpace();};//
function onSessionEvent(event){var controller=inputSourcesMap.get(event.inputSource);if(controller){controller.dispatchEvent({type:event.type,data:event.inputSource});}}function onSessionEnd(){inputSourcesMap.forEach(function(controller,inputSource){controller.disconnect(inputSource);});inputSourcesMap.clear();_currentDepthNear=null;_currentDepthFar=null;// restore framebuffer/rendering state
state.bindXRFramebuffer(null);renderer.setRenderTarget(renderer.getRenderTarget());if(glFramebuffer)gl.deleteFramebuffer(glFramebuffer);if(glMultisampledFramebuffer)gl.deleteFramebuffer(glMultisampledFramebuffer);if(glColorRenderbuffer)gl.deleteRenderbuffer(glColorRenderbuffer);if(glDepthRenderbuffer)gl.deleteRenderbuffer(glDepthRenderbuffer);glFramebuffer=null;glMultisampledFramebuffer=null;glColorRenderbuffer=null;glDepthRenderbuffer=null;glBaseLayer=null;glProjLayer=null;glBinding=null;session=null;//
animation.stop();scope.isPresenting=false;scope.dispatchEvent({type:'sessionend'});}_this27.setFramebufferScaleFactor=function(value){framebufferScaleFactor=value;if(scope.isPresenting===true){console.warn('THREE.WebXRManager: Cannot change framebuffer scale while presenting.');}};_this27.setReferenceSpaceType=function(value){referenceSpaceType=value;if(scope.isPresenting===true){console.warn('THREE.WebXRManager: Cannot change reference space type while presenting.');}};_this27.getReferenceSpace=function(){return referenceSpace;};_this27.getBaseLayer=function(){return glProjLayer!==null?glProjLayer:glBaseLayer;};_this27.getBinding=function(){return glBinding;};_this27.getFrame=function(){return xrFrame;};_this27.getSession=function(){return session;};_this27.setSession=/*#__PURE__*/function(){var _ref=(0,_asyncToGenerator2.default)(/*#__PURE__*/_regenerator.default.mark(function _callee(value){var attributes,layerInit,_layerInit,depthFormat,projectionlayerInit;return _regenerator.default.wrap(function _callee$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:session=value;if(!(session!==null)){_context5.next=22;break;}session.addEventListener('select',onSessionEvent);session.addEventListener('selectstart',onSessionEvent);session.addEventListener('selectend',onSessionEvent);session.addEventListener('squeeze',onSessionEvent);session.addEventListener('squeezestart',onSessionEvent);session.addEventListener('squeezeend',onSessionEvent);session.addEventListener('end',onSessionEnd);session.addEventListener('inputsourceschange',onInputSourcesChange);attributes=gl.getContextAttributes();if(!(attributes.xrCompatible!==true)){_context5.next=14;break;}_context5.next=14;return gl.makeXRCompatible();case 14:if(session.renderState.layers===undefined){layerInit={antialias:attributes.antialias,alpha:attributes.alpha,depth:attributes.depth,stencil:attributes.stencil,framebufferScaleFactor:framebufferScaleFactor};glBaseLayer=new XRWebGLLayer(session,gl,layerInit);session.updateRenderState({baseLayer:glBaseLayer});}else if(gl instanceof WebGLRenderingContext){// Use old style webgl layer because we can't use MSAA
// WebGL2 support.
_layerInit={antialias:true,alpha:attributes.alpha,depth:attributes.depth,stencil:attributes.stencil,framebufferScaleFactor:framebufferScaleFactor};glBaseLayer=new XRWebGLLayer(session,gl,_layerInit);session.updateRenderState({layers:[glBaseLayer]});}else{isMultisample=attributes.antialias;depthFormat=null;if(attributes.depth){clearStyle=256;if(attributes.stencil)clearStyle|=1024;depthStyle=attributes.stencil?33306:36096;depthFormat=attributes.stencil?35056:33190;}projectionlayerInit={colorFormat:attributes.alpha?32856:32849,depthFormat:depthFormat,scaleFactor:framebufferScaleFactor};glBinding=new XRWebGLBinding(session,gl);glProjLayer=glBinding.createProjectionLayer(projectionlayerInit);glFramebuffer=gl.createFramebuffer();session.updateRenderState({layers:[glProjLayer]});if(isMultisample){glMultisampledFramebuffer=gl.createFramebuffer();glColorRenderbuffer=gl.createRenderbuffer();gl.bindRenderbuffer(36161,glColorRenderbuffer);gl.renderbufferStorageMultisample(36161,4,32856,glProjLayer.textureWidth,glProjLayer.textureHeight);state.bindFramebuffer(36160,glMultisampledFramebuffer);gl.framebufferRenderbuffer(36160,36064,36161,glColorRenderbuffer);gl.bindRenderbuffer(36161,null);if(depthFormat!==null){glDepthRenderbuffer=gl.createRenderbuffer();gl.bindRenderbuffer(36161,glDepthRenderbuffer);gl.renderbufferStorageMultisample(36161,4,depthFormat,glProjLayer.textureWidth,glProjLayer.textureHeight);gl.framebufferRenderbuffer(36160,depthStyle,36161,glDepthRenderbuffer);gl.bindRenderbuffer(36161,null);}state.bindFramebuffer(36160,null);}}_context5.next=17;return session.requestReferenceSpace(referenceSpaceType);case 17:referenceSpace=_context5.sent;animation.setContext(session);animation.start();scope.isPresenting=true;scope.dispatchEvent({type:'sessionstart'});case 22:case"end":return _context5.stop();}}},_callee);}));return function(_x3){return _ref.apply(this,arguments);};}();function onInputSourcesChange(event){var inputSources=session.inputSources;// Assign inputSources to available controllers
for(var i=0;i<controllers.length;i++){inputSourcesMap.set(inputSources[i],controllers[i]);}// Notify disconnected
for(var _i99=0;_i99<event.removed.length;_i99++){var inputSource=event.removed[_i99];var controller=inputSourcesMap.get(inputSource);if(controller){controller.dispatchEvent({type:'disconnected',data:inputSource});inputSourcesMap.delete(inputSource);}}// Notify connected
for(var _i100=0;_i100<event.added.length;_i100++){var _inputSource=event.added[_i100];var _controller=inputSourcesMap.get(_inputSource);if(_controller){_controller.dispatchEvent({type:'connected',data:_inputSource});}}}//
var cameraLPos=new Vector3();var cameraRPos=new Vector3();/**
		 * Assumes 2 cameras that are parallel and share an X-axis, and that
		 * the cameras' projection and world matrices have already been set.
		 * And that near and far planes are identical for both cameras.
		 * Visualization of this technique: https://computergraphics.stackexchange.com/a/4765
		 */function setProjectionFromUnion(camera,cameraL,cameraR){cameraLPos.setFromMatrixPosition(cameraL.matrixWorld);cameraRPos.setFromMatrixPosition(cameraR.matrixWorld);var ipd=cameraLPos.distanceTo(cameraRPos);var projL=cameraL.projectionMatrix.elements;var projR=cameraR.projectionMatrix.elements;// VR systems will have identical far and near planes, and
// most likely identical top and bottom frustum extents.
// Use the left camera for these values.
var near=projL[14]/(projL[10]-1);var far=projL[14]/(projL[10]+1);var topFov=(projL[9]+1)/projL[5];var bottomFov=(projL[9]-1)/projL[5];var leftFov=(projL[8]-1)/projL[0];var rightFov=(projR[8]+1)/projR[0];var left=near*leftFov;var right=near*rightFov;// Calculate the new camera's position offset from the
// left camera. xOffset should be roughly half `ipd`.
var zOffset=ipd/(-leftFov+rightFov);var xOffset=zOffset*-leftFov;// TODO: Better way to apply this offset?
cameraL.matrixWorld.decompose(camera.position,camera.quaternion,camera.scale);camera.translateX(xOffset);camera.translateZ(zOffset);camera.matrixWorld.compose(camera.position,camera.quaternion,camera.scale);camera.matrixWorldInverse.copy(camera.matrixWorld).invert();// Find the union of the frustum values of the cameras and scale
// the values so that the near plane's position does not change in world space,
// although must now be relative to the new union camera.
var near2=near+zOffset;var far2=far+zOffset;var left2=left-xOffset;var right2=right+(ipd-xOffset);var top2=topFov*far/far2*near2;var bottom2=bottomFov*far/far2*near2;camera.projectionMatrix.makePerspective(left2,right2,top2,bottom2,near2,far2);}function updateCamera(camera,parent){if(parent===null){camera.matrixWorld.copy(camera.matrix);}else{camera.matrixWorld.multiplyMatrices(parent.matrixWorld,camera.matrix);}camera.matrixWorldInverse.copy(camera.matrixWorld).invert();}_this27.updateCamera=function(camera){if(session===null)return;cameraVR.near=cameraR.near=cameraL.near=camera.near;cameraVR.far=cameraR.far=cameraL.far=camera.far;if(_currentDepthNear!==cameraVR.near||_currentDepthFar!==cameraVR.far){// Note that the new renderState won't apply until the next frame. See #18320
session.updateRenderState({depthNear:cameraVR.near,depthFar:cameraVR.far});_currentDepthNear=cameraVR.near;_currentDepthFar=cameraVR.far;}var parent=camera.parent;var cameras=cameraVR.cameras;updateCamera(cameraVR,parent);for(var i=0;i<cameras.length;i++){updateCamera(cameras[i],parent);}cameraVR.matrixWorld.decompose(cameraVR.position,cameraVR.quaternion,cameraVR.scale);// update user camera and its children
camera.position.copy(cameraVR.position);camera.quaternion.copy(cameraVR.quaternion);camera.scale.copy(cameraVR.scale);camera.matrix.copy(cameraVR.matrix);camera.matrixWorld.copy(cameraVR.matrixWorld);var children=camera.children;for(var _i101=0,l=children.length;_i101<l;_i101++){children[_i101].updateMatrixWorld(true);}// update projection matrix for proper view frustum culling
if(cameras.length===2){setProjectionFromUnion(cameraVR,cameraL,cameraR);}else{// assume single camera setup (AR)
cameraVR.projectionMatrix.copy(cameraL.projectionMatrix);}};_this27.getCamera=function(){return cameraVR;};_this27.getFoveation=function(){if(glProjLayer!==null){return glProjLayer.fixedFoveation;}if(glBaseLayer!==null){return glBaseLayer.fixedFoveation;}return undefined;};_this27.setFoveation=function(foveation){// 0 = no foveation = full resolution
// 1 = maximum foveation = the edges render at lower resolution
if(glProjLayer!==null){glProjLayer.fixedFoveation=foveation;}if(glBaseLayer!==null&&glBaseLayer.fixedFoveation!==undefined){glBaseLayer.fixedFoveation=foveation;}};// Animation Loop
var onAnimationFrameCallback=null;function onAnimationFrame(time,frame){pose=frame.getViewerPose(referenceSpace);xrFrame=frame;if(pose!==null){var views=pose.views;if(glBaseLayer!==null){state.bindXRFramebuffer(glBaseLayer.framebuffer);}var cameraVRNeedsUpdate=false;// check if it's necessary to rebuild cameraVR's camera list
if(views.length!==cameraVR.cameras.length){cameraVR.cameras.length=0;cameraVRNeedsUpdate=true;}for(var i=0;i<views.length;i++){var view=views[i];var viewport=null;if(glBaseLayer!==null){viewport=glBaseLayer.getViewport(view);}else{var glSubImage=glBinding.getViewSubImage(glProjLayer,view);state.bindXRFramebuffer(glFramebuffer);if(glSubImage.depthStencilTexture!==undefined){gl.framebufferTexture2D(36160,depthStyle,3553,glSubImage.depthStencilTexture,0);}gl.framebufferTexture2D(36160,36064,3553,glSubImage.colorTexture,0);viewport=glSubImage.viewport;}var camera=cameras[i];camera.matrix.fromArray(view.transform.matrix);camera.projectionMatrix.fromArray(view.projectionMatrix);camera.viewport.set(viewport.x,viewport.y,viewport.width,viewport.height);if(i===0){cameraVR.matrix.copy(camera.matrix);}if(cameraVRNeedsUpdate===true){cameraVR.cameras.push(camera);}}if(isMultisample){state.bindXRFramebuffer(glMultisampledFramebuffer);if(clearStyle!==null)gl.clear(clearStyle);}}//
var inputSources=session.inputSources;for(var _i102=0;_i102<controllers.length;_i102++){var controller=controllers[_i102];var inputSource=inputSources[_i102];controller.update(inputSource,frame,referenceSpace);}if(onAnimationFrameCallback)onAnimationFrameCallback(time,frame);if(isMultisample){var width=glProjLayer.textureWidth;var height=glProjLayer.textureHeight;state.bindFramebuffer(36008,glMultisampledFramebuffer);state.bindFramebuffer(36009,glFramebuffer);// Invalidate the depth here to avoid flush of the depth data to main memory.
gl.invalidateFramebuffer(36008,[depthStyle]);gl.invalidateFramebuffer(36009,[depthStyle]);gl.blitFramebuffer(0,0,width,height,0,0,width,height,16384,9728);// Invalidate the MSAA buffer because it's not needed anymore.
gl.invalidateFramebuffer(36008,[36064]);state.bindFramebuffer(36008,null);state.bindFramebuffer(36009,null);state.bindFramebuffer(36160,glMultisampledFramebuffer);}xrFrame=null;}var animation=new WebGLAnimation();animation.setAnimationLoop(onAnimationFrame);_this27.setAnimationLoop=function(callback){onAnimationFrameCallback=callback;};_this27.dispose=function(){};return _this27;}return(0,_createClass2.default)(WebXRManager);}(EventDispatcher);function WebGLMaterials(properties){function refreshFogUniforms(uniforms,fog){uniforms.fogColor.value.copy(fog.color);if(fog.isFog){uniforms.fogNear.value=fog.near;uniforms.fogFar.value=fog.far;}else if(fog.isFogExp2){uniforms.fogDensity.value=fog.density;}}function refreshMaterialUniforms(uniforms,material,pixelRatio,height,transmissionRenderTarget){if(material.isMeshBasicMaterial){refreshUniformsCommon(uniforms,material);}else if(material.isMeshLambertMaterial){refreshUniformsCommon(uniforms,material);refreshUniformsLambert(uniforms,material);}else if(material.isMeshToonMaterial){refreshUniformsCommon(uniforms,material);refreshUniformsToon(uniforms,material);}else if(material.isMeshPhongMaterial){refreshUniformsCommon(uniforms,material);refreshUniformsPhong(uniforms,material);}else if(material.isMeshStandardMaterial){refreshUniformsCommon(uniforms,material);if(material.isMeshPhysicalMaterial){refreshUniformsPhysical(uniforms,material,transmissionRenderTarget);}else{refreshUniformsStandard(uniforms,material);}}else if(material.isMeshMatcapMaterial){refreshUniformsCommon(uniforms,material);refreshUniformsMatcap(uniforms,material);}else if(material.isMeshDepthMaterial){refreshUniformsCommon(uniforms,material);refreshUniformsDepth(uniforms,material);}else if(material.isMeshDistanceMaterial){refreshUniformsCommon(uniforms,material);refreshUniformsDistance(uniforms,material);}else if(material.isMeshNormalMaterial){refreshUniformsCommon(uniforms,material);refreshUniformsNormal(uniforms,material);}else if(material.isLineBasicMaterial){refreshUniformsLine(uniforms,material);if(material.isLineDashedMaterial){refreshUniformsDash(uniforms,material);}}else if(material.isPointsMaterial){refreshUniformsPoints(uniforms,material,pixelRatio,height);}else if(material.isSpriteMaterial){refreshUniformsSprites(uniforms,material);}else if(material.isShadowMaterial){uniforms.color.value.copy(material.color);uniforms.opacity.value=material.opacity;}else if(material.isShaderMaterial){material.uniformsNeedUpdate=false;// #15581
}}function refreshUniformsCommon(uniforms,material){uniforms.opacity.value=material.opacity;if(material.color){uniforms.diffuse.value.copy(material.color);}if(material.emissive){uniforms.emissive.value.copy(material.emissive).multiplyScalar(material.emissiveIntensity);}if(material.map){uniforms.map.value=material.map;}if(material.alphaMap){uniforms.alphaMap.value=material.alphaMap;}if(material.specularMap){uniforms.specularMap.value=material.specularMap;}if(material.alphaTest>0){uniforms.alphaTest.value=material.alphaTest;}var envMap=properties.get(material).envMap;if(envMap){uniforms.envMap.value=envMap;uniforms.flipEnvMap.value=envMap.isCubeTexture&&envMap.isRenderTargetTexture===false?-1:1;uniforms.reflectivity.value=material.reflectivity;uniforms.ior.value=material.ior;uniforms.refractionRatio.value=material.refractionRatio;var maxMipLevel=properties.get(envMap).__maxMipLevel;if(maxMipLevel!==undefined){uniforms.maxMipLevel.value=maxMipLevel;}}if(material.lightMap){uniforms.lightMap.value=material.lightMap;uniforms.lightMapIntensity.value=material.lightMapIntensity;}if(material.aoMap){uniforms.aoMap.value=material.aoMap;uniforms.aoMapIntensity.value=material.aoMapIntensity;}// uv repeat and offset setting priorities
// 1. color map
// 2. specular map
// 3. displacementMap map
// 4. normal map
// 5. bump map
// 6. roughnessMap map
// 7. metalnessMap map
// 8. alphaMap map
// 9. emissiveMap map
// 10. clearcoat map
// 11. clearcoat normal map
// 12. clearcoat roughnessMap map
// 13. specular intensity map
// 14. specular tint map
// 15. transmission map
// 16. thickness map
var uvScaleMap;if(material.map){uvScaleMap=material.map;}else if(material.specularMap){uvScaleMap=material.specularMap;}else if(material.displacementMap){uvScaleMap=material.displacementMap;}else if(material.normalMap){uvScaleMap=material.normalMap;}else if(material.bumpMap){uvScaleMap=material.bumpMap;}else if(material.roughnessMap){uvScaleMap=material.roughnessMap;}else if(material.metalnessMap){uvScaleMap=material.metalnessMap;}else if(material.alphaMap){uvScaleMap=material.alphaMap;}else if(material.emissiveMap){uvScaleMap=material.emissiveMap;}else if(material.clearcoatMap){uvScaleMap=material.clearcoatMap;}else if(material.clearcoatNormalMap){uvScaleMap=material.clearcoatNormalMap;}else if(material.clearcoatRoughnessMap){uvScaleMap=material.clearcoatRoughnessMap;}else if(material.specularIntensityMap){uvScaleMap=material.specularIntensityMap;}else if(material.specularTintMap){uvScaleMap=material.specularTintMap;}else if(material.transmissionMap){uvScaleMap=material.transmissionMap;}else if(material.thicknessMap){uvScaleMap=material.thicknessMap;}if(uvScaleMap!==undefined){// backwards compatibility
if(uvScaleMap.isWebGLRenderTarget){uvScaleMap=uvScaleMap.texture;}if(uvScaleMap.matrixAutoUpdate===true){uvScaleMap.updateMatrix();}uniforms.uvTransform.value.copy(uvScaleMap.matrix);}// uv repeat and offset setting priorities for uv2
// 1. ao map
// 2. light map
var uv2ScaleMap;if(material.aoMap){uv2ScaleMap=material.aoMap;}else if(material.lightMap){uv2ScaleMap=material.lightMap;}if(uv2ScaleMap!==undefined){// backwards compatibility
if(uv2ScaleMap.isWebGLRenderTarget){uv2ScaleMap=uv2ScaleMap.texture;}if(uv2ScaleMap.matrixAutoUpdate===true){uv2ScaleMap.updateMatrix();}uniforms.uv2Transform.value.copy(uv2ScaleMap.matrix);}}function refreshUniformsLine(uniforms,material){uniforms.diffuse.value.copy(material.color);uniforms.opacity.value=material.opacity;}function refreshUniformsDash(uniforms,material){uniforms.dashSize.value=material.dashSize;uniforms.totalSize.value=material.dashSize+material.gapSize;uniforms.scale.value=material.scale;}function refreshUniformsPoints(uniforms,material,pixelRatio,height){uniforms.diffuse.value.copy(material.color);uniforms.opacity.value=material.opacity;uniforms.size.value=material.size*pixelRatio;uniforms.scale.value=height*0.5;if(material.map){uniforms.map.value=material.map;}if(material.alphaMap){uniforms.alphaMap.value=material.alphaMap;}if(material.alphaTest>0){uniforms.alphaTest.value=material.alphaTest;}// uv repeat and offset setting priorities
// 1. color map
// 2. alpha map
var uvScaleMap;if(material.map){uvScaleMap=material.map;}else if(material.alphaMap){uvScaleMap=material.alphaMap;}if(uvScaleMap!==undefined){if(uvScaleMap.matrixAutoUpdate===true){uvScaleMap.updateMatrix();}uniforms.uvTransform.value.copy(uvScaleMap.matrix);}}function refreshUniformsSprites(uniforms,material){uniforms.diffuse.value.copy(material.color);uniforms.opacity.value=material.opacity;uniforms.rotation.value=material.rotation;if(material.map){uniforms.map.value=material.map;}if(material.alphaMap){uniforms.alphaMap.value=material.alphaMap;}if(material.alphaTest>0){uniforms.alphaTest.value=material.alphaTest;}// uv repeat and offset setting priorities
// 1. color map
// 2. alpha map
var uvScaleMap;if(material.map){uvScaleMap=material.map;}else if(material.alphaMap){uvScaleMap=material.alphaMap;}if(uvScaleMap!==undefined){if(uvScaleMap.matrixAutoUpdate===true){uvScaleMap.updateMatrix();}uniforms.uvTransform.value.copy(uvScaleMap.matrix);}}function refreshUniformsLambert(uniforms,material){if(material.emissiveMap){uniforms.emissiveMap.value=material.emissiveMap;}}function refreshUniformsPhong(uniforms,material){uniforms.specular.value.copy(material.specular);uniforms.shininess.value=Math.max(material.shininess,1e-4);// to prevent pow( 0.0, 0.0 )
if(material.emissiveMap){uniforms.emissiveMap.value=material.emissiveMap;}if(material.bumpMap){uniforms.bumpMap.value=material.bumpMap;uniforms.bumpScale.value=material.bumpScale;if(material.side===BackSide)uniforms.bumpScale.value*=-1;}if(material.normalMap){uniforms.normalMap.value=material.normalMap;uniforms.normalScale.value.copy(material.normalScale);if(material.side===BackSide)uniforms.normalScale.value.negate();}if(material.displacementMap){uniforms.displacementMap.value=material.displacementMap;uniforms.displacementScale.value=material.displacementScale;uniforms.displacementBias.value=material.displacementBias;}}function refreshUniformsToon(uniforms,material){if(material.gradientMap){uniforms.gradientMap.value=material.gradientMap;}if(material.emissiveMap){uniforms.emissiveMap.value=material.emissiveMap;}if(material.bumpMap){uniforms.bumpMap.value=material.bumpMap;uniforms.bumpScale.value=material.bumpScale;if(material.side===BackSide)uniforms.bumpScale.value*=-1;}if(material.normalMap){uniforms.normalMap.value=material.normalMap;uniforms.normalScale.value.copy(material.normalScale);if(material.side===BackSide)uniforms.normalScale.value.negate();}if(material.displacementMap){uniforms.displacementMap.value=material.displacementMap;uniforms.displacementScale.value=material.displacementScale;uniforms.displacementBias.value=material.displacementBias;}}function refreshUniformsStandard(uniforms,material){uniforms.roughness.value=material.roughness;uniforms.metalness.value=material.metalness;if(material.roughnessMap){uniforms.roughnessMap.value=material.roughnessMap;}if(material.metalnessMap){uniforms.metalnessMap.value=material.metalnessMap;}if(material.emissiveMap){uniforms.emissiveMap.value=material.emissiveMap;}if(material.bumpMap){uniforms.bumpMap.value=material.bumpMap;uniforms.bumpScale.value=material.bumpScale;if(material.side===BackSide)uniforms.bumpScale.value*=-1;}if(material.normalMap){uniforms.normalMap.value=material.normalMap;uniforms.normalScale.value.copy(material.normalScale);if(material.side===BackSide)uniforms.normalScale.value.negate();}if(material.displacementMap){uniforms.displacementMap.value=material.displacementMap;uniforms.displacementScale.value=material.displacementScale;uniforms.displacementBias.value=material.displacementBias;}var envMap=properties.get(material).envMap;if(envMap){//uniforms.envMap.value = material.envMap; // part of uniforms common
uniforms.envMapIntensity.value=material.envMapIntensity;}}function refreshUniformsPhysical(uniforms,material,transmissionRenderTarget){refreshUniformsStandard(uniforms,material);uniforms.ior.value=material.ior;// also part of uniforms common
if(material.sheen>0){uniforms.sheenTint.value.copy(material.sheenTint).multiplyScalar(material.sheen);uniforms.sheenRoughness.value=material.sheenRoughness;}if(material.clearcoat>0){uniforms.clearcoat.value=material.clearcoat;uniforms.clearcoatRoughness.value=material.clearcoatRoughness;if(material.clearcoatMap){uniforms.clearcoatMap.value=material.clearcoatMap;}if(material.clearcoatRoughnessMap){uniforms.clearcoatRoughnessMap.value=material.clearcoatRoughnessMap;}if(material.clearcoatNormalMap){uniforms.clearcoatNormalScale.value.copy(material.clearcoatNormalScale);uniforms.clearcoatNormalMap.value=material.clearcoatNormalMap;if(material.side===BackSide){uniforms.clearcoatNormalScale.value.negate();}}}if(material.transmission>0){uniforms.transmission.value=material.transmission;uniforms.transmissionSamplerMap.value=transmissionRenderTarget.texture;uniforms.transmissionSamplerSize.value.set(transmissionRenderTarget.width,transmissionRenderTarget.height);if(material.transmissionMap){uniforms.transmissionMap.value=material.transmissionMap;}uniforms.thickness.value=material.thickness;if(material.thicknessMap){uniforms.thicknessMap.value=material.thicknessMap;}uniforms.attenuationDistance.value=material.attenuationDistance;uniforms.attenuationTint.value.copy(material.attenuationTint);}uniforms.specularIntensity.value=material.specularIntensity;uniforms.specularTint.value.copy(material.specularTint);if(material.specularIntensityMap){uniforms.specularIntensityMap.value=material.specularIntensityMap;}if(material.specularTintMap){uniforms.specularTintMap.value=material.specularTintMap;}}function refreshUniformsMatcap(uniforms,material){if(material.matcap){uniforms.matcap.value=material.matcap;}if(material.bumpMap){uniforms.bumpMap.value=material.bumpMap;uniforms.bumpScale.value=material.bumpScale;if(material.side===BackSide)uniforms.bumpScale.value*=-1;}if(material.normalMap){uniforms.normalMap.value=material.normalMap;uniforms.normalScale.value.copy(material.normalScale);if(material.side===BackSide)uniforms.normalScale.value.negate();}if(material.displacementMap){uniforms.displacementMap.value=material.displacementMap;uniforms.displacementScale.value=material.displacementScale;uniforms.displacementBias.value=material.displacementBias;}}function refreshUniformsDepth(uniforms,material){if(material.displacementMap){uniforms.displacementMap.value=material.displacementMap;uniforms.displacementScale.value=material.displacementScale;uniforms.displacementBias.value=material.displacementBias;}}function refreshUniformsDistance(uniforms,material){if(material.displacementMap){uniforms.displacementMap.value=material.displacementMap;uniforms.displacementScale.value=material.displacementScale;uniforms.displacementBias.value=material.displacementBias;}uniforms.referencePosition.value.copy(material.referencePosition);uniforms.nearDistance.value=material.nearDistance;uniforms.farDistance.value=material.farDistance;}function refreshUniformsNormal(uniforms,material){if(material.bumpMap){uniforms.bumpMap.value=material.bumpMap;uniforms.bumpScale.value=material.bumpScale;if(material.side===BackSide)uniforms.bumpScale.value*=-1;}if(material.normalMap){uniforms.normalMap.value=material.normalMap;uniforms.normalScale.value.copy(material.normalScale);if(material.side===BackSide)uniforms.normalScale.value.negate();}if(material.displacementMap){uniforms.displacementMap.value=material.displacementMap;uniforms.displacementScale.value=material.displacementScale;uniforms.displacementBias.value=material.displacementBias;}}return{refreshFogUniforms:refreshFogUniforms,refreshMaterialUniforms:refreshMaterialUniforms};}function createCanvasElement(){var canvas=createElementNS('canvas');canvas.style.display='block';return canvas;}function WebGLRenderer(){var parameters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var _canvas=parameters.canvas!==undefined?parameters.canvas:createCanvasElement(),_context=parameters.context!==undefined?parameters.context:null,_alpha=parameters.alpha!==undefined?parameters.alpha:false,_depth=parameters.depth!==undefined?parameters.depth:true,_stencil=parameters.stencil!==undefined?parameters.stencil:true,_antialias=parameters.antialias!==undefined?parameters.antialias:false,_premultipliedAlpha=parameters.premultipliedAlpha!==undefined?parameters.premultipliedAlpha:true,_preserveDrawingBuffer=parameters.preserveDrawingBuffer!==undefined?parameters.preserveDrawingBuffer:false,_powerPreference=parameters.powerPreference!==undefined?parameters.powerPreference:'default',_failIfMajorPerformanceCaveat=parameters.failIfMajorPerformanceCaveat!==undefined?parameters.failIfMajorPerformanceCaveat:false;var currentRenderList=null;var currentRenderState=null;// render() can be called from within a callback triggered by another render.
// We track this so that the nested render call gets its list and state isolated from the parent render call.
var renderListStack=[];var renderStateStack=[];// public properties
this.domElement=_canvas;// Debug configuration container
this.debug={/**
		 * Enables error checking and reporting when shader programs are being compiled
		 * @type {boolean}
		 */checkShaderErrors:true};// clearing
this.autoClear=true;this.autoClearColor=true;this.autoClearDepth=true;this.autoClearStencil=true;// scene graph
this.sortObjects=true;// user-defined clipping
this.clippingPlanes=[];this.localClippingEnabled=false;// physically based shading
this.gammaFactor=2.0;// for backwards compatibility
this.outputEncoding=LinearEncoding;// physical lights
this.physicallyCorrectLights=false;// tone mapping
this.toneMapping=NoToneMapping;this.toneMappingExposure=1.0;// internal properties
var _this=this;var _isContextLost=false;// internal state cache
var _currentActiveCubeFace=0;var _currentActiveMipmapLevel=0;var _currentRenderTarget=null;var _currentMaterialId=-1;var _currentCamera=null;var _currentViewport=new Vector4();var _currentScissor=new Vector4();var _currentScissorTest=null;//
var _width=_canvas.width;var _height=_canvas.height;var _pixelRatio=1;var _opaqueSort=null;var _transparentSort=null;var _viewport=new Vector4(0,0,_width,_height);var _scissor=new Vector4(0,0,_width,_height);var _scissorTest=false;//
var _currentDrawBuffers=[];// frustum
var _frustum=new Frustum();// clipping
var _clippingEnabled=false;var _localClippingEnabled=false;// transmission
var _transmissionRenderTarget=null;// camera matrices cache
var _projScreenMatrix=new Matrix4();var _vector3=new Vector3();var _emptyScene={background:null,fog:null,environment:null,overrideMaterial:null,isScene:true};function getTargetPixelRatio(){return _currentRenderTarget===null?_pixelRatio:1;}// initialize
var _gl=_context;function getContext(contextNames,contextAttributes){for(var i=0;i<contextNames.length;i++){var contextName=contextNames[i];var context=_canvas.getContext(contextName,contextAttributes);if(context!==null)return context;}return null;}try{var contextAttributes={alpha:_alpha,depth:_depth,stencil:_stencil,antialias:_antialias,premultipliedAlpha:_premultipliedAlpha,preserveDrawingBuffer:_preserveDrawingBuffer,powerPreference:_powerPreference,failIfMajorPerformanceCaveat:_failIfMajorPerformanceCaveat};// event listeners must be registered before WebGL context is created, see #12753
_canvas.addEventListener('webglcontextlost',onContextLost,false);_canvas.addEventListener('webglcontextrestored',onContextRestore,false);if(_gl===null){var contextNames=['webgl2','webgl','experimental-webgl'];if(_this.isWebGL1Renderer===true){contextNames.shift();}_gl=getContext(contextNames,contextAttributes);if(_gl===null){if(getContext(contextNames)){throw new Error('Error creating WebGL context with your selected attributes.');}else{throw new Error('Error creating WebGL context.');}}}// Some experimental-webgl implementations do not have getShaderPrecisionFormat
if(_gl.getShaderPrecisionFormat===undefined){_gl.getShaderPrecisionFormat=function(){return{'rangeMin':1,'rangeMax':1,'precision':1};};}}catch(error){console.error('THREE.WebGLRenderer: '+error.message);throw error;}var extensions,capabilities,state,info;var properties,textures,cubemaps,cubeuvmaps,attributes,geometries,objects;var programCache,materials,renderLists,renderStates,clipping,shadowMap;var background,morphtargets,bufferRenderer,indexedBufferRenderer;var utils,bindingStates;function initGLContext(){extensions=new WebGLExtensions(_gl);capabilities=new WebGLCapabilities(_gl,extensions,parameters);extensions.init(capabilities);utils=new WebGLUtils(_gl,extensions,capabilities);state=new WebGLState(_gl,extensions,capabilities);_currentDrawBuffers[0]=1029;info=new WebGLInfo(_gl);properties=new WebGLProperties();textures=new WebGLTextures(_gl,extensions,state,properties,capabilities,utils,info);cubemaps=new WebGLCubeMaps(_this);cubeuvmaps=new WebGLCubeUVMaps(_this);attributes=new WebGLAttributes(_gl,capabilities);bindingStates=new WebGLBindingStates(_gl,extensions,attributes,capabilities);geometries=new WebGLGeometries(_gl,attributes,info,bindingStates);objects=new WebGLObjects(_gl,geometries,attributes,info);morphtargets=new WebGLMorphtargets(_gl,capabilities,textures);clipping=new WebGLClipping(properties);programCache=new WebGLPrograms(_this,cubemaps,cubeuvmaps,extensions,capabilities,bindingStates,clipping);materials=new WebGLMaterials(properties);renderLists=new WebGLRenderLists(properties);renderStates=new WebGLRenderStates(extensions,capabilities);background=new WebGLBackground(_this,cubemaps,state,objects,_premultipliedAlpha);shadowMap=new WebGLShadowMap(_this,objects,capabilities);bufferRenderer=new WebGLBufferRenderer(_gl,extensions,info,capabilities);indexedBufferRenderer=new WebGLIndexedBufferRenderer(_gl,extensions,info,capabilities);info.programs=programCache.programs;_this.capabilities=capabilities;_this.extensions=extensions;_this.properties=properties;_this.renderLists=renderLists;_this.shadowMap=shadowMap;_this.state=state;_this.info=info;}initGLContext();// xr
var xr=new WebXRManager(_this,_gl);this.xr=xr;// API
this.getContext=function(){return _gl;};this.getContextAttributes=function(){return _gl.getContextAttributes();};this.forceContextLoss=function(){var extension=extensions.get('WEBGL_lose_context');if(extension)extension.loseContext();};this.forceContextRestore=function(){var extension=extensions.get('WEBGL_lose_context');if(extension)extension.restoreContext();};this.getPixelRatio=function(){return _pixelRatio;};this.setPixelRatio=function(value){if(value===undefined)return;_pixelRatio=value;this.setSize(_width,_height,false);};this.getSize=function(target){return target.set(_width,_height);};this.setSize=function(width,height,updateStyle){if(xr.isPresenting){console.warn('THREE.WebGLRenderer: Can\'t change size while VR device is presenting.');return;}_width=width;_height=height;_canvas.width=Math.floor(width*_pixelRatio);_canvas.height=Math.floor(height*_pixelRatio);if(updateStyle!==false){_canvas.style.width=width+'px';_canvas.style.height=height+'px';}this.setViewport(0,0,width,height);};this.getDrawingBufferSize=function(target){return target.set(_width*_pixelRatio,_height*_pixelRatio).floor();};this.setDrawingBufferSize=function(width,height,pixelRatio){_width=width;_height=height;_pixelRatio=pixelRatio;_canvas.width=Math.floor(width*pixelRatio);_canvas.height=Math.floor(height*pixelRatio);this.setViewport(0,0,width,height);};this.getCurrentViewport=function(target){return target.copy(_currentViewport);};this.getViewport=function(target){return target.copy(_viewport);};this.setViewport=function(x,y,width,height){if(x.isVector4){_viewport.set(x.x,x.y,x.z,x.w);}else{_viewport.set(x,y,width,height);}state.viewport(_currentViewport.copy(_viewport).multiplyScalar(_pixelRatio).floor());};this.getScissor=function(target){return target.copy(_scissor);};this.setScissor=function(x,y,width,height){if(x.isVector4){_scissor.set(x.x,x.y,x.z,x.w);}else{_scissor.set(x,y,width,height);}state.scissor(_currentScissor.copy(_scissor).multiplyScalar(_pixelRatio).floor());};this.getScissorTest=function(){return _scissorTest;};this.setScissorTest=function(boolean){state.setScissorTest(_scissorTest=boolean);};this.setOpaqueSort=function(method){_opaqueSort=method;};this.setTransparentSort=function(method){_transparentSort=method;};// Clearing
this.getClearColor=function(target){return target.copy(background.getClearColor());};this.setClearColor=function(){background.setClearColor.apply(background,arguments);};this.getClearAlpha=function(){return background.getClearAlpha();};this.setClearAlpha=function(){background.setClearAlpha.apply(background,arguments);};this.clear=function(color,depth,stencil){var bits=0;if(color===undefined||color)bits|=16384;if(depth===undefined||depth)bits|=256;if(stencil===undefined||stencil)bits|=1024;_gl.clear(bits);};this.clearColor=function(){this.clear(true,false,false);};this.clearDepth=function(){this.clear(false,true,false);};this.clearStencil=function(){this.clear(false,false,true);};//
this.dispose=function(){_canvas.removeEventListener('webglcontextlost',onContextLost,false);_canvas.removeEventListener('webglcontextrestored',onContextRestore,false);renderLists.dispose();renderStates.dispose();properties.dispose();cubemaps.dispose();cubeuvmaps.dispose();objects.dispose();bindingStates.dispose();xr.dispose();xr.removeEventListener('sessionstart',onXRSessionStart);xr.removeEventListener('sessionend',onXRSessionEnd);if(_transmissionRenderTarget){_transmissionRenderTarget.dispose();_transmissionRenderTarget=null;}animation.stop();};// Events
function onContextLost(event){event.preventDefault();console.log('THREE.WebGLRenderer: Context Lost.');_isContextLost=true;}function onContextRestore(/* event */){console.log('THREE.WebGLRenderer: Context Restored.');_isContextLost=false;var infoAutoReset=info.autoReset;var shadowMapEnabled=shadowMap.enabled;var shadowMapAutoUpdate=shadowMap.autoUpdate;var shadowMapNeedsUpdate=shadowMap.needsUpdate;var shadowMapType=shadowMap.type;initGLContext();info.autoReset=infoAutoReset;shadowMap.enabled=shadowMapEnabled;shadowMap.autoUpdate=shadowMapAutoUpdate;shadowMap.needsUpdate=shadowMapNeedsUpdate;shadowMap.type=shadowMapType;}function onMaterialDispose(event){var material=event.target;material.removeEventListener('dispose',onMaterialDispose);deallocateMaterial(material);}// Buffer deallocation
function deallocateMaterial(material){releaseMaterialProgramReferences(material);properties.remove(material);}function releaseMaterialProgramReferences(material){var programs=properties.get(material).programs;if(programs!==undefined){programs.forEach(function(program){programCache.releaseProgram(program);});}}// Buffer rendering
function renderObjectImmediate(object,program){object.render(function(object){_this.renderBufferImmediate(object,program);});}this.renderBufferImmediate=function(object,program){bindingStates.initAttributes();var buffers=properties.get(object);if(object.hasPositions&&!buffers.position)buffers.position=_gl.createBuffer();if(object.hasNormals&&!buffers.normal)buffers.normal=_gl.createBuffer();if(object.hasUvs&&!buffers.uv)buffers.uv=_gl.createBuffer();if(object.hasColors&&!buffers.color)buffers.color=_gl.createBuffer();var programAttributes=program.getAttributes();if(object.hasPositions){_gl.bindBuffer(34962,buffers.position);_gl.bufferData(34962,object.positionArray,35048);bindingStates.enableAttribute(programAttributes.position.location);_gl.vertexAttribPointer(programAttributes.position.location,3,5126,false,0,0);}if(object.hasNormals){_gl.bindBuffer(34962,buffers.normal);_gl.bufferData(34962,object.normalArray,35048);bindingStates.enableAttribute(programAttributes.normal.location);_gl.vertexAttribPointer(programAttributes.normal.location,3,5126,false,0,0);}if(object.hasUvs){_gl.bindBuffer(34962,buffers.uv);_gl.bufferData(34962,object.uvArray,35048);bindingStates.enableAttribute(programAttributes.uv.location);_gl.vertexAttribPointer(programAttributes.uv.location,2,5126,false,0,0);}if(object.hasColors){_gl.bindBuffer(34962,buffers.color);_gl.bufferData(34962,object.colorArray,35048);bindingStates.enableAttribute(programAttributes.color.location);_gl.vertexAttribPointer(programAttributes.color.location,3,5126,false,0,0);}bindingStates.disableUnusedAttributes();_gl.drawArrays(4,0,object.count);object.count=0;};this.renderBufferDirect=function(camera,scene,geometry,material,object,group){if(scene===null)scene=_emptyScene;// renderBufferDirect second parameter used to be fog (could be null)
var frontFaceCW=object.isMesh&&object.matrixWorld.determinant()<0;var program=setProgram(camera,scene,geometry,material,object);state.setMaterial(material,frontFaceCW);//
var index=geometry.index;var position=geometry.attributes.position;//
if(index===null){if(position===undefined||position.count===0)return;}else if(index.count===0){return;}//
var rangeFactor=1;if(material.wireframe===true){index=geometries.getWireframeAttribute(geometry);rangeFactor=2;}bindingStates.setup(object,material,program,geometry,index);var attribute;var renderer=bufferRenderer;if(index!==null){attribute=attributes.get(index);renderer=indexedBufferRenderer;renderer.setIndex(attribute);}//
var dataCount=index!==null?index.count:position.count;var rangeStart=geometry.drawRange.start*rangeFactor;var rangeCount=geometry.drawRange.count*rangeFactor;var groupStart=group!==null?group.start*rangeFactor:0;var groupCount=group!==null?group.count*rangeFactor:Infinity;var drawStart=Math.max(rangeStart,groupStart);var drawEnd=Math.min(dataCount,rangeStart+rangeCount,groupStart+groupCount)-1;var drawCount=Math.max(0,drawEnd-drawStart+1);if(drawCount===0)return;//
if(object.isMesh){if(material.wireframe===true){state.setLineWidth(material.wireframeLinewidth*getTargetPixelRatio());renderer.setMode(1);}else{renderer.setMode(4);}}else if(object.isLine){var lineWidth=material.linewidth;if(lineWidth===undefined)lineWidth=1;// Not using Line*Material
state.setLineWidth(lineWidth*getTargetPixelRatio());if(object.isLineSegments){renderer.setMode(1);}else if(object.isLineLoop){renderer.setMode(2);}else{renderer.setMode(3);}}else if(object.isPoints){renderer.setMode(0);}else if(object.isSprite){renderer.setMode(4);}if(object.isInstancedMesh){renderer.renderInstances(drawStart,drawCount,object.count);}else if(geometry.isInstancedBufferGeometry){var instanceCount=Math.min(geometry.instanceCount,geometry._maxInstanceCount);renderer.renderInstances(drawStart,drawCount,instanceCount);}else{renderer.render(drawStart,drawCount);}};// Compile
this.compile=function(scene,camera){currentRenderState=renderStates.get(scene);currentRenderState.init();renderStateStack.push(currentRenderState);scene.traverseVisible(function(object){if(object.isLight&&object.layers.test(camera.layers)){currentRenderState.pushLight(object);if(object.castShadow){currentRenderState.pushShadow(object);}}});currentRenderState.setupLights(_this.physicallyCorrectLights);scene.traverse(function(object){var material=object.material;if(material){if(Array.isArray(material)){for(var i=0;i<material.length;i++){var material2=material[i];getProgram(material2,scene,object);}}else{getProgram(material,scene,object);}}});renderStateStack.pop();currentRenderState=null;};// Animation Loop
var onAnimationFrameCallback=null;function onAnimationFrame(time){if(onAnimationFrameCallback)onAnimationFrameCallback(time);}function onXRSessionStart(){animation.stop();}function onXRSessionEnd(){animation.start();}var animation=new WebGLAnimation();animation.setAnimationLoop(onAnimationFrame);if(typeof $window!=='undefined')animation.setContext($window);this.setAnimationLoop=function(callback){onAnimationFrameCallback=callback;xr.setAnimationLoop(callback);callback===null?animation.stop():animation.start();};xr.addEventListener('sessionstart',onXRSessionStart);xr.addEventListener('sessionend',onXRSessionEnd);// Rendering
this.render=function(scene,camera){if(camera!==undefined&&camera.isCamera!==true){console.error('THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.');return;}if(_isContextLost===true)return;// update scene graph
if(scene.autoUpdate===true)scene.updateMatrixWorld();// update camera matrices and frustum
if(camera.parent===null)camera.updateMatrixWorld();if(xr.enabled===true&&xr.isPresenting===true){if(xr.cameraAutoUpdate===true)xr.updateCamera(camera);camera=xr.getCamera();// use XR camera for rendering
}//
if(scene.isScene===true)scene.onBeforeRender(_this,scene,camera,_currentRenderTarget);currentRenderState=renderStates.get(scene,renderStateStack.length);currentRenderState.init();renderStateStack.push(currentRenderState);_projScreenMatrix.multiplyMatrices(camera.projectionMatrix,camera.matrixWorldInverse);_frustum.setFromProjectionMatrix(_projScreenMatrix);_localClippingEnabled=this.localClippingEnabled;_clippingEnabled=clipping.init(this.clippingPlanes,_localClippingEnabled,camera);currentRenderList=renderLists.get(scene,renderListStack.length);currentRenderList.init();renderListStack.push(currentRenderList);projectObject(scene,camera,0,_this.sortObjects);currentRenderList.finish();if(_this.sortObjects===true){currentRenderList.sort(_opaqueSort,_transparentSort);}//
if(_clippingEnabled===true)clipping.beginShadows();var shadowsArray=currentRenderState.state.shadowsArray;shadowMap.render(shadowsArray,scene,camera);if(_clippingEnabled===true)clipping.endShadows();//
if(this.info.autoReset===true)this.info.reset();//
background.render(currentRenderList,scene);// render scene
currentRenderState.setupLights(_this.physicallyCorrectLights);if(camera.isArrayCamera){var cameras=camera.cameras;for(var i=0,l=cameras.length;i<l;i++){var camera2=cameras[i];renderScene(currentRenderList,scene,camera2,camera2.viewport);}}else{renderScene(currentRenderList,scene,camera);}//
if(_currentRenderTarget!==null){// resolve multisample renderbuffers to a single-sample texture if necessary
textures.updateMultisampleRenderTarget(_currentRenderTarget);// Generate mipmap if we're using any kind of mipmap filtering
textures.updateRenderTargetMipmap(_currentRenderTarget);}//
if(scene.isScene===true)scene.onAfterRender(_this,scene,camera);// Ensure depth buffer writing is enabled so it can be cleared on next render
state.buffers.depth.setTest(true);state.buffers.depth.setMask(true);state.buffers.color.setMask(true);state.setPolygonOffset(false);// _gl.finish();
bindingStates.resetDefaultState();_currentMaterialId=-1;_currentCamera=null;renderStateStack.pop();if(renderStateStack.length>0){currentRenderState=renderStateStack[renderStateStack.length-1];}else{currentRenderState=null;}renderListStack.pop();if(renderListStack.length>0){currentRenderList=renderListStack[renderListStack.length-1];}else{currentRenderList=null;}};function projectObject(object,camera,groupOrder,sortObjects){if(object.visible===false)return;var visible=object.layers.test(camera.layers);if(visible){if(object.isGroup){groupOrder=object.renderOrder;}else if(object.isLOD){if(object.autoUpdate===true)object.update(camera);}else if(object.isLight){currentRenderState.pushLight(object);if(object.castShadow){currentRenderState.pushShadow(object);}}else if(object.isSprite){if(!object.frustumCulled||_frustum.intersectsSprite(object)){if(sortObjects){_vector3.setFromMatrixPosition(object.matrixWorld).applyMatrix4(_projScreenMatrix);}var geometry=objects.update(object);var material=object.material;if(material.visible){currentRenderList.push(object,geometry,material,groupOrder,_vector3.z,null);}}}else if(object.isImmediateRenderObject){if(sortObjects){_vector3.setFromMatrixPosition(object.matrixWorld).applyMatrix4(_projScreenMatrix);}currentRenderList.push(object,null,object.material,groupOrder,_vector3.z,null);}else if(object.isMesh||object.isLine||object.isPoints){if(object.isSkinnedMesh){// update skeleton only once in a frame
if(object.skeleton.frame!==info.render.frame){object.skeleton.update();object.skeleton.frame=info.render.frame;}}if(!object.frustumCulled||_frustum.intersectsObject(object)){if(sortObjects){_vector3.setFromMatrixPosition(object.matrixWorld).applyMatrix4(_projScreenMatrix);}var _geometry2=objects.update(object);var _material=object.material;if(Array.isArray(_material)){var groups=_geometry2.groups;for(var i=0,l=groups.length;i<l;i++){var group=groups[i];var groupMaterial=_material[group.materialIndex];if(groupMaterial&&groupMaterial.visible){currentRenderList.push(object,_geometry2,groupMaterial,groupOrder,_vector3.z,group);}}}else if(_material.visible){currentRenderList.push(object,_geometry2,_material,groupOrder,_vector3.z,null);}}}}var children=object.children;for(var _i103=0,_l5=children.length;_i103<_l5;_i103++){projectObject(children[_i103],camera,groupOrder,sortObjects);}}function renderScene(currentRenderList,scene,camera,viewport){var opaqueObjects=currentRenderList.opaque;var transmissiveObjects=currentRenderList.transmissive;var transparentObjects=currentRenderList.transparent;currentRenderState.setupLightsView(camera);if(transmissiveObjects.length>0)renderTransmissionPass(opaqueObjects,scene,camera);if(viewport)state.viewport(_currentViewport.copy(viewport));if(opaqueObjects.length>0)renderObjects(opaqueObjects,scene,camera);if(transmissiveObjects.length>0)renderObjects(transmissiveObjects,scene,camera);if(transparentObjects.length>0)renderObjects(transparentObjects,scene,camera);}function renderTransmissionPass(opaqueObjects,scene,camera){if(_transmissionRenderTarget===null){var needsAntialias=_antialias===true&&capabilities.isWebGL2===true;var renderTargetType=needsAntialias?WebGLMultisampleRenderTarget:WebGLRenderTarget;_transmissionRenderTarget=new renderTargetType(1024,1024,{generateMipmaps:true,type:utils.convert(HalfFloatType)!==null?HalfFloatType:UnsignedByteType,minFilter:LinearMipmapLinearFilter,magFilter:NearestFilter,wrapS:ClampToEdgeWrapping,wrapT:ClampToEdgeWrapping});}var currentRenderTarget=_this.getRenderTarget();_this.setRenderTarget(_transmissionRenderTarget);_this.clear();// Turn off the features which can affect the frag color for opaque objects pass.
// Otherwise they are applied twice in opaque objects pass and transmission objects pass.
var currentToneMapping=_this.toneMapping;_this.toneMapping=NoToneMapping;renderObjects(opaqueObjects,scene,camera);_this.toneMapping=currentToneMapping;textures.updateMultisampleRenderTarget(_transmissionRenderTarget);textures.updateRenderTargetMipmap(_transmissionRenderTarget);_this.setRenderTarget(currentRenderTarget);}function renderObjects(renderList,scene,camera){var overrideMaterial=scene.isScene===true?scene.overrideMaterial:null;for(var i=0,l=renderList.length;i<l;i++){var renderItem=renderList[i];var object=renderItem.object;var geometry=renderItem.geometry;var material=overrideMaterial===null?renderItem.material:overrideMaterial;var group=renderItem.group;if(object.layers.test(camera.layers)){renderObject(object,scene,camera,geometry,material,group);}}}function renderObject(object,scene,camera,geometry,material,group){object.onBeforeRender(_this,scene,camera,geometry,material,group);object.modelViewMatrix.multiplyMatrices(camera.matrixWorldInverse,object.matrixWorld);object.normalMatrix.getNormalMatrix(object.modelViewMatrix);material.onBeforeRender(_this,scene,camera,geometry,object,group);if(object.isImmediateRenderObject){var program=setProgram(camera,scene,geometry,material,object);state.setMaterial(material);bindingStates.reset();renderObjectImmediate(object,program);}else{if(material.transparent===true&&material.side===DoubleSide){material.side=BackSide;material.needsUpdate=true;_this.renderBufferDirect(camera,scene,geometry,material,object,group);material.side=FrontSide;material.needsUpdate=true;_this.renderBufferDirect(camera,scene,geometry,material,object,group);material.side=DoubleSide;}else{_this.renderBufferDirect(camera,scene,geometry,material,object,group);}}object.onAfterRender(_this,scene,camera,geometry,material,group);}function getProgram(material,scene,object){if(scene.isScene!==true)scene=_emptyScene;// scene could be a Mesh, Line, Points, ...
var materialProperties=properties.get(material);var lights=currentRenderState.state.lights;var shadowsArray=currentRenderState.state.shadowsArray;var lightsStateVersion=lights.state.version;var parameters=programCache.getParameters(material,lights.state,shadowsArray,scene,object);var programCacheKey=programCache.getProgramCacheKey(parameters);var programs=materialProperties.programs;// always update environment and fog - changing these trigger an getProgram call, but it's possible that the program doesn't change
materialProperties.environment=material.isMeshStandardMaterial?scene.environment:null;materialProperties.fog=scene.fog;materialProperties.envMap=(material.isMeshStandardMaterial?cubeuvmaps:cubemaps).get(material.envMap||materialProperties.environment);if(programs===undefined){// new material
material.addEventListener('dispose',onMaterialDispose);programs=new Map();materialProperties.programs=programs;}var program=programs.get(programCacheKey);if(program!==undefined){// early out if program and light state is identical
if(materialProperties.currentProgram===program&&materialProperties.lightsStateVersion===lightsStateVersion){updateCommonMaterialProperties(material,parameters);return program;}}else{parameters.uniforms=programCache.getUniforms(material);material.onBuild(parameters,_this);material.onBeforeCompile(parameters,_this);program=programCache.acquireProgram(parameters,programCacheKey);programs.set(programCacheKey,program);materialProperties.uniforms=parameters.uniforms;}var uniforms=materialProperties.uniforms;if(!material.isShaderMaterial&&!material.isRawShaderMaterial||material.clipping===true){uniforms.clippingPlanes=clipping.uniform;}updateCommonMaterialProperties(material,parameters);// store the light setup it was created for
materialProperties.needsLights=materialNeedsLights(material);materialProperties.lightsStateVersion=lightsStateVersion;if(materialProperties.needsLights){// wire up the material to this renderer's lighting state
uniforms.ambientLightColor.value=lights.state.ambient;uniforms.lightProbe.value=lights.state.probe;uniforms.directionalLights.value=lights.state.directional;uniforms.directionalLightShadows.value=lights.state.directionalShadow;uniforms.spotLights.value=lights.state.spot;uniforms.spotLightShadows.value=lights.state.spotShadow;uniforms.rectAreaLights.value=lights.state.rectArea;uniforms.ltc_1.value=lights.state.rectAreaLTC1;uniforms.ltc_2.value=lights.state.rectAreaLTC2;uniforms.pointLights.value=lights.state.point;uniforms.pointLightShadows.value=lights.state.pointShadow;uniforms.hemisphereLights.value=lights.state.hemi;uniforms.directionalShadowMap.value=lights.state.directionalShadowMap;uniforms.directionalShadowMatrix.value=lights.state.directionalShadowMatrix;uniforms.spotShadowMap.value=lights.state.spotShadowMap;uniforms.spotShadowMatrix.value=lights.state.spotShadowMatrix;uniforms.pointShadowMap.value=lights.state.pointShadowMap;uniforms.pointShadowMatrix.value=lights.state.pointShadowMatrix;// TODO (abelnation): add area lights shadow info to uniforms
}var progUniforms=program.getUniforms();var uniformsList=WebGLUniforms.seqWithValue(progUniforms.seq,uniforms);materialProperties.currentProgram=program;materialProperties.uniformsList=uniformsList;return program;}function updateCommonMaterialProperties(material,parameters){var materialProperties=properties.get(material);materialProperties.outputEncoding=parameters.outputEncoding;materialProperties.instancing=parameters.instancing;materialProperties.skinning=parameters.skinning;materialProperties.morphTargets=parameters.morphTargets;materialProperties.morphNormals=parameters.morphNormals;materialProperties.morphTargetsCount=parameters.morphTargetsCount;materialProperties.numClippingPlanes=parameters.numClippingPlanes;materialProperties.numIntersection=parameters.numClipIntersection;materialProperties.vertexAlphas=parameters.vertexAlphas;materialProperties.vertexTangents=parameters.vertexTangents;}function setProgram(camera,scene,geometry,material,object){if(scene.isScene!==true)scene=_emptyScene;// scene could be a Mesh, Line, Points, ...
textures.resetTextureUnits();var fog=scene.fog;var environment=material.isMeshStandardMaterial?scene.environment:null;var encoding=_currentRenderTarget===null?_this.outputEncoding:_currentRenderTarget.texture.encoding;var envMap=(material.isMeshStandardMaterial?cubeuvmaps:cubemaps).get(material.envMap||environment);var vertexAlphas=material.vertexColors===true&&!!geometry&&!!geometry.attributes.color&&geometry.attributes.color.itemSize===4;var vertexTangents=!!material.normalMap&&!!geometry&&!!geometry.attributes.tangent;var morphTargets=!!geometry&&!!geometry.morphAttributes.position;var morphNormals=!!geometry&&!!geometry.morphAttributes.normal;var morphTargetsCount=!!geometry&&!!geometry.morphAttributes.position?geometry.morphAttributes.position.length:0;var materialProperties=properties.get(material);var lights=currentRenderState.state.lights;if(_clippingEnabled===true){if(_localClippingEnabled===true||camera!==_currentCamera){var useCache=camera===_currentCamera&&material.id===_currentMaterialId;// we might want to call this function with some ClippingGroup
// object instead of the material, once it becomes feasible
// (#8465, #8379)
clipping.setState(material,camera,useCache);}}//
var needsProgramChange=false;if(material.version===materialProperties.__version){if(materialProperties.needsLights&&materialProperties.lightsStateVersion!==lights.state.version){needsProgramChange=true;}else if(materialProperties.outputEncoding!==encoding){needsProgramChange=true;}else if(object.isInstancedMesh&&materialProperties.instancing===false){needsProgramChange=true;}else if(!object.isInstancedMesh&&materialProperties.instancing===true){needsProgramChange=true;}else if(object.isSkinnedMesh&&materialProperties.skinning===false){needsProgramChange=true;}else if(!object.isSkinnedMesh&&materialProperties.skinning===true){needsProgramChange=true;}else if(materialProperties.envMap!==envMap){needsProgramChange=true;}else if(material.fog&&materialProperties.fog!==fog){needsProgramChange=true;}else if(materialProperties.numClippingPlanes!==undefined&&(materialProperties.numClippingPlanes!==clipping.numPlanes||materialProperties.numIntersection!==clipping.numIntersection)){needsProgramChange=true;}else if(materialProperties.vertexAlphas!==vertexAlphas){needsProgramChange=true;}else if(materialProperties.vertexTangents!==vertexTangents){needsProgramChange=true;}else if(materialProperties.morphTargets!==morphTargets){needsProgramChange=true;}else if(materialProperties.morphNormals!==morphNormals){needsProgramChange=true;}else if(capabilities.isWebGL2===true&&materialProperties.morphTargetsCount!==morphTargetsCount){needsProgramChange=true;}}else{needsProgramChange=true;materialProperties.__version=material.version;}//
var program=materialProperties.currentProgram;if(needsProgramChange===true){program=getProgram(material,scene,object);}var refreshProgram=false;var refreshMaterial=false;var refreshLights=false;var p_uniforms=program.getUniforms(),m_uniforms=materialProperties.uniforms;if(state.useProgram(program.program)){refreshProgram=true;refreshMaterial=true;refreshLights=true;}if(material.id!==_currentMaterialId){_currentMaterialId=material.id;refreshMaterial=true;}if(refreshProgram||_currentCamera!==camera){p_uniforms.setValue(_gl,'projectionMatrix',camera.projectionMatrix);if(capabilities.logarithmicDepthBuffer){p_uniforms.setValue(_gl,'logDepthBufFC',2.0/(Math.log(camera.far+1.0)/Math.LN2));}if(_currentCamera!==camera){_currentCamera=camera;// lighting uniforms depend on the camera so enforce an update
// now, in case this material supports lights - or later, when
// the next material that does gets activated:
refreshMaterial=true;// set to true on material change
refreshLights=true;// remains set until update done
}// load material specific uniforms
// (shader material also gets them for the sake of genericity)
if(material.isShaderMaterial||material.isMeshPhongMaterial||material.isMeshToonMaterial||material.isMeshStandardMaterial||material.envMap){var uCamPos=p_uniforms.map.cameraPosition;if(uCamPos!==undefined){uCamPos.setValue(_gl,_vector3.setFromMatrixPosition(camera.matrixWorld));}}if(material.isMeshPhongMaterial||material.isMeshToonMaterial||material.isMeshLambertMaterial||material.isMeshBasicMaterial||material.isMeshStandardMaterial||material.isShaderMaterial){p_uniforms.setValue(_gl,'isOrthographic',camera.isOrthographicCamera===true);}if(material.isMeshPhongMaterial||material.isMeshToonMaterial||material.isMeshLambertMaterial||material.isMeshBasicMaterial||material.isMeshStandardMaterial||material.isShaderMaterial||material.isShadowMaterial||object.isSkinnedMesh){p_uniforms.setValue(_gl,'viewMatrix',camera.matrixWorldInverse);}}// skinning and morph target uniforms must be set even if material didn't change
// auto-setting of texture unit for bone and morph texture must go before other textures
// otherwise textures used for skinning and morphing can take over texture units reserved for other material textures
if(object.isSkinnedMesh){p_uniforms.setOptional(_gl,object,'bindMatrix');p_uniforms.setOptional(_gl,object,'bindMatrixInverse');var skeleton=object.skeleton;if(skeleton){if(capabilities.floatVertexTextures){if(skeleton.boneTexture===null)skeleton.computeBoneTexture();p_uniforms.setValue(_gl,'boneTexture',skeleton.boneTexture,textures);p_uniforms.setValue(_gl,'boneTextureSize',skeleton.boneTextureSize);}else{p_uniforms.setOptional(_gl,skeleton,'boneMatrices');}}}if(!!geometry&&(geometry.morphAttributes.position!==undefined||geometry.morphAttributes.normal!==undefined)){morphtargets.update(object,geometry,material,program);}if(refreshMaterial||materialProperties.receiveShadow!==object.receiveShadow){materialProperties.receiveShadow=object.receiveShadow;p_uniforms.setValue(_gl,'receiveShadow',object.receiveShadow);}if(refreshMaterial){p_uniforms.setValue(_gl,'toneMappingExposure',_this.toneMappingExposure);if(materialProperties.needsLights){// the current material requires lighting info
// note: all lighting uniforms are always set correctly
// they simply reference the renderer's state for their
// values
//
// use the current material's .needsUpdate flags to set
// the GL state when required
markUniformsLightsNeedsUpdate(m_uniforms,refreshLights);}// refresh uniforms common to several materials
if(fog&&material.fog){materials.refreshFogUniforms(m_uniforms,fog);}materials.refreshMaterialUniforms(m_uniforms,material,_pixelRatio,_height,_transmissionRenderTarget);WebGLUniforms.upload(_gl,materialProperties.uniformsList,m_uniforms,textures);}if(material.isShaderMaterial&&material.uniformsNeedUpdate===true){WebGLUniforms.upload(_gl,materialProperties.uniformsList,m_uniforms,textures);material.uniformsNeedUpdate=false;}if(material.isSpriteMaterial){p_uniforms.setValue(_gl,'center',object.center);}// common matrices
p_uniforms.setValue(_gl,'modelViewMatrix',object.modelViewMatrix);p_uniforms.setValue(_gl,'normalMatrix',object.normalMatrix);p_uniforms.setValue(_gl,'modelMatrix',object.matrixWorld);return program;}// If uniforms are marked as clean, they don't need to be loaded to the GPU.
function markUniformsLightsNeedsUpdate(uniforms,value){uniforms.ambientLightColor.needsUpdate=value;uniforms.lightProbe.needsUpdate=value;uniforms.directionalLights.needsUpdate=value;uniforms.directionalLightShadows.needsUpdate=value;uniforms.pointLights.needsUpdate=value;uniforms.pointLightShadows.needsUpdate=value;uniforms.spotLights.needsUpdate=value;uniforms.spotLightShadows.needsUpdate=value;uniforms.rectAreaLights.needsUpdate=value;uniforms.hemisphereLights.needsUpdate=value;}function materialNeedsLights(material){return material.isMeshLambertMaterial||material.isMeshToonMaterial||material.isMeshPhongMaterial||material.isMeshStandardMaterial||material.isShadowMaterial||material.isShaderMaterial&&material.lights===true;}this.getActiveCubeFace=function(){return _currentActiveCubeFace;};this.getActiveMipmapLevel=function(){return _currentActiveMipmapLevel;};this.getRenderTarget=function(){return _currentRenderTarget;};this.setRenderTarget=function(renderTarget){var activeCubeFace=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var activeMipmapLevel=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;_currentRenderTarget=renderTarget;_currentActiveCubeFace=activeCubeFace;_currentActiveMipmapLevel=activeMipmapLevel;if(renderTarget&&properties.get(renderTarget).__webglFramebuffer===undefined){textures.setupRenderTarget(renderTarget);}var framebuffer=null;var isCube=false;var isRenderTarget3D=false;if(renderTarget){var texture=renderTarget.texture;if(texture.isDataTexture3D||texture.isDataTexture2DArray){isRenderTarget3D=true;}var __webglFramebuffer=properties.get(renderTarget).__webglFramebuffer;if(renderTarget.isWebGLCubeRenderTarget){framebuffer=__webglFramebuffer[activeCubeFace];isCube=true;}else if(renderTarget.isWebGLMultisampleRenderTarget){framebuffer=properties.get(renderTarget).__webglMultisampledFramebuffer;}else{framebuffer=__webglFramebuffer;}_currentViewport.copy(renderTarget.viewport);_currentScissor.copy(renderTarget.scissor);_currentScissorTest=renderTarget.scissorTest;}else{_currentViewport.copy(_viewport).multiplyScalar(_pixelRatio).floor();_currentScissor.copy(_scissor).multiplyScalar(_pixelRatio).floor();_currentScissorTest=_scissorTest;}var framebufferBound=state.bindFramebuffer(36160,framebuffer);if(framebufferBound&&capabilities.drawBuffers){var needsUpdate=false;if(renderTarget){if(renderTarget.isWebGLMultipleRenderTargets){var _textures2=renderTarget.texture;if(_currentDrawBuffers.length!==_textures2.length||_currentDrawBuffers[0]!==36064){for(var i=0,il=_textures2.length;i<il;i++){_currentDrawBuffers[i]=36064+i;}_currentDrawBuffers.length=_textures2.length;needsUpdate=true;}}else{if(_currentDrawBuffers.length!==1||_currentDrawBuffers[0]!==36064){_currentDrawBuffers[0]=36064;_currentDrawBuffers.length=1;needsUpdate=true;}}}else{if(_currentDrawBuffers.length!==1||_currentDrawBuffers[0]!==1029){_currentDrawBuffers[0]=1029;_currentDrawBuffers.length=1;needsUpdate=true;}}if(needsUpdate){if(capabilities.isWebGL2){_gl.drawBuffers(_currentDrawBuffers);}else{extensions.get('WEBGL_draw_buffers').drawBuffersWEBGL(_currentDrawBuffers);}}}state.viewport(_currentViewport);state.scissor(_currentScissor);state.setScissorTest(_currentScissorTest);if(isCube){var textureProperties=properties.get(renderTarget.texture);_gl.framebufferTexture2D(36160,36064,34069+activeCubeFace,textureProperties.__webglTexture,activeMipmapLevel);}else if(isRenderTarget3D){var _textureProperties=properties.get(renderTarget.texture);var layer=activeCubeFace||0;_gl.framebufferTextureLayer(36160,36064,_textureProperties.__webglTexture,activeMipmapLevel||0,layer);}_currentMaterialId=-1;// reset current material to ensure correct uniform bindings
};this.readRenderTargetPixels=function(renderTarget,x,y,width,height,buffer,activeCubeFaceIndex){if(!(renderTarget&&renderTarget.isWebGLRenderTarget)){console.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.');return;}var framebuffer=properties.get(renderTarget).__webglFramebuffer;if(renderTarget.isWebGLCubeRenderTarget&&activeCubeFaceIndex!==undefined){framebuffer=framebuffer[activeCubeFaceIndex];}if(framebuffer){state.bindFramebuffer(36160,framebuffer);try{var texture=renderTarget.texture;var textureFormat=texture.format;var textureType=texture.type;if(textureFormat!==RGBAFormat&&utils.convert(textureFormat)!==_gl.getParameter(35739)){console.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.');return;}var halfFloatSupportedByExt=textureType===HalfFloatType&&(extensions.has('EXT_color_buffer_half_float')||capabilities.isWebGL2&&extensions.has('EXT_color_buffer_float'));if(textureType!==UnsignedByteType&&utils.convert(textureType)!==_gl.getParameter(35738)&&// Edge and Chrome Mac < 52 (#9513)
!(textureType===FloatType&&(capabilities.isWebGL2||extensions.has('OES_texture_float')||extensions.has('WEBGL_color_buffer_float')))&&// Chrome Mac >= 52 and Firefox
!halfFloatSupportedByExt){console.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.');return;}if(_gl.checkFramebufferStatus(36160)===36053){// the following if statement ensures valid read requests (no out-of-bounds pixels, see #8604)
if(x>=0&&x<=renderTarget.width-width&&y>=0&&y<=renderTarget.height-height){_gl.readPixels(x,y,width,height,utils.convert(textureFormat),utils.convert(textureType),buffer);}}else{console.error('THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.');}}finally{// restore framebuffer of current render target if necessary
var _framebuffer=_currentRenderTarget!==null?properties.get(_currentRenderTarget).__webglFramebuffer:null;state.bindFramebuffer(36160,_framebuffer);}}};this.copyFramebufferToTexture=function(position,texture){var level=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var levelScale=Math.pow(2,-level);var width=Math.floor(texture.image.width*levelScale);var height=Math.floor(texture.image.height*levelScale);var glFormat=utils.convert(texture.format);if(capabilities.isWebGL2){// Workaround for https://bugs.chromium.org/p/chromium/issues/detail?id=1120100
// Not needed in Chrome 93+
if(glFormat===6407)glFormat=32849;if(glFormat===6408)glFormat=32856;}textures.setTexture2D(texture,0);_gl.copyTexImage2D(3553,level,glFormat,position.x,position.y,width,height,0);state.unbindTexture();};this.copyTextureToTexture=function(position,srcTexture,dstTexture){var level=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;var width=srcTexture.image.width;var height=srcTexture.image.height;var glFormat=utils.convert(dstTexture.format);var glType=utils.convert(dstTexture.type);textures.setTexture2D(dstTexture,0);// As another texture upload may have changed pixelStorei
// parameters, make sure they are correct for the dstTexture
_gl.pixelStorei(37440,dstTexture.flipY);_gl.pixelStorei(37441,dstTexture.premultiplyAlpha);_gl.pixelStorei(3317,dstTexture.unpackAlignment);if(srcTexture.isDataTexture){_gl.texSubImage2D(3553,level,position.x,position.y,width,height,glFormat,glType,srcTexture.image.data);}else{if(srcTexture.isCompressedTexture){_gl.compressedTexSubImage2D(3553,level,position.x,position.y,srcTexture.mipmaps[0].width,srcTexture.mipmaps[0].height,glFormat,srcTexture.mipmaps[0].data);}else{_gl.texSubImage2D(3553,level,position.x,position.y,glFormat,glType,srcTexture.image);}}// Generate mipmaps only when copying level 0
if(level===0&&dstTexture.generateMipmaps)_gl.generateMipmap(3553);state.unbindTexture();};this.copyTextureToTexture3D=function(sourceBox,position,srcTexture,dstTexture){var level=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;if(_this.isWebGL1Renderer){console.warn('THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.');return;}var width=sourceBox.max.x-sourceBox.min.x+1;var height=sourceBox.max.y-sourceBox.min.y+1;var depth=sourceBox.max.z-sourceBox.min.z+1;var glFormat=utils.convert(dstTexture.format);var glType=utils.convert(dstTexture.type);var glTarget;if(dstTexture.isDataTexture3D){textures.setTexture3D(dstTexture,0);glTarget=32879;}else if(dstTexture.isDataTexture2DArray){textures.setTexture2DArray(dstTexture,0);glTarget=35866;}else{console.warn('THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.');return;}_gl.pixelStorei(37440,dstTexture.flipY);_gl.pixelStorei(37441,dstTexture.premultiplyAlpha);_gl.pixelStorei(3317,dstTexture.unpackAlignment);var unpackRowLen=_gl.getParameter(3314);var unpackImageHeight=_gl.getParameter(32878);var unpackSkipPixels=_gl.getParameter(3316);var unpackSkipRows=_gl.getParameter(3315);var unpackSkipImages=_gl.getParameter(32877);var image=srcTexture.isCompressedTexture?srcTexture.mipmaps[0]:srcTexture.image;_gl.pixelStorei(3314,image.width);_gl.pixelStorei(32878,image.height);_gl.pixelStorei(3316,sourceBox.min.x);_gl.pixelStorei(3315,sourceBox.min.y);_gl.pixelStorei(32877,sourceBox.min.z);if(srcTexture.isDataTexture||srcTexture.isDataTexture3D){_gl.texSubImage3D(glTarget,level,position.x,position.y,position.z,width,height,depth,glFormat,glType,image.data);}else{if(srcTexture.isCompressedTexture){console.warn('THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture.');_gl.compressedTexSubImage3D(glTarget,level,position.x,position.y,position.z,width,height,depth,glFormat,image.data);}else{_gl.texSubImage3D(glTarget,level,position.x,position.y,position.z,width,height,depth,glFormat,glType,image);}}_gl.pixelStorei(3314,unpackRowLen);_gl.pixelStorei(32878,unpackImageHeight);_gl.pixelStorei(3316,unpackSkipPixels);_gl.pixelStorei(3315,unpackSkipRows);_gl.pixelStorei(32877,unpackSkipImages);// Generate mipmaps only when copying level 0
if(level===0&&dstTexture.generateMipmaps)_gl.generateMipmap(glTarget);state.unbindTexture();};this.initTexture=function(texture){textures.setTexture2D(texture,0);state.unbindTexture();};this.resetState=function(){_currentActiveCubeFace=0;_currentActiveMipmapLevel=0;_currentRenderTarget=null;state.reset();bindingStates.reset();};if(typeof __THREE_DEVTOOLS__!=='undefined'){__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent('observe',{detail:this}));// eslint-disable-line no-undef
}}var WebGL1Renderer=/*#__PURE__*/function(_WebGLRenderer){(0,_inherits2.default)(WebGL1Renderer,_WebGLRenderer);var _super37=_createSuper(WebGL1Renderer);function WebGL1Renderer(){(0,_classCallCheck2.default)(this,WebGL1Renderer);return _super37.apply(this,arguments);}return(0,_createClass2.default)(WebGL1Renderer);}(WebGLRenderer);exports.WebGL1Renderer=WebGL1Renderer;WebGL1Renderer.prototype.isWebGL1Renderer=true;var FogExp2=/*#__PURE__*/function(){function FogExp2(color){var density=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0.00025;(0,_classCallCheck2.default)(this,FogExp2);this.name='';this.color=new Color(color);this.density=density;}(0,_createClass2.default)(FogExp2,[{key:"clone",value:function clone(){return new FogExp2(this.color,this.density);}},{key:"toJSON",value:function toJSON(/* meta */){return{type:'FogExp2',color:this.color.getHex(),density:this.density};}}]);return FogExp2;}();exports.FogExp2=FogExp2;FogExp2.prototype.isFogExp2=true;var Fog=/*#__PURE__*/function(){function Fog(color){var near=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var far=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1000;(0,_classCallCheck2.default)(this,Fog);this.name='';this.color=new Color(color);this.near=near;this.far=far;}(0,_createClass2.default)(Fog,[{key:"clone",value:function clone(){return new Fog(this.color,this.near,this.far);}},{key:"toJSON",value:function toJSON(/* meta */){return{type:'Fog',color:this.color.getHex(),near:this.near,far:this.far};}}]);return Fog;}();exports.Fog=Fog;Fog.prototype.isFog=true;var Scene=/*#__PURE__*/function(_Object3D5){(0,_inherits2.default)(Scene,_Object3D5);var _super38=_createSuper(Scene);function Scene(){var _this28;(0,_classCallCheck2.default)(this,Scene);_this28=_super38.call(this);_this28.type='Scene';_this28.background=null;_this28.environment=null;_this28.fog=null;_this28.overrideMaterial=null;_this28.autoUpdate=true;// checked by the renderer
if(typeof __THREE_DEVTOOLS__!=='undefined'){__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent('observe',{detail:(0,_assertThisInitialized2.default)(_this28)}));// eslint-disable-line no-undef
}return _this28;}(0,_createClass2.default)(Scene,[{key:"copy",value:function copy(source,recursive){(0,_get2.default)((0,_getPrototypeOf2.default)(Scene.prototype),"copy",this).call(this,source,recursive);if(source.background!==null)this.background=source.background.clone();if(source.environment!==null)this.environment=source.environment.clone();if(source.fog!==null)this.fog=source.fog.clone();if(source.overrideMaterial!==null)this.overrideMaterial=source.overrideMaterial.clone();this.autoUpdate=source.autoUpdate;this.matrixAutoUpdate=source.matrixAutoUpdate;return this;}},{key:"toJSON",value:function toJSON(meta){var data=(0,_get2.default)((0,_getPrototypeOf2.default)(Scene.prototype),"toJSON",this).call(this,meta);if(this.fog!==null)data.object.fog=this.fog.toJSON();return data;}}]);return Scene;}(Object3D);exports.Scene=Scene;Scene.prototype.isScene=true;var InterleavedBuffer=/*#__PURE__*/function(){function InterleavedBuffer(array,stride){(0,_classCallCheck2.default)(this,InterleavedBuffer);this.array=array;this.stride=stride;this.count=array!==undefined?array.length/stride:0;this.usage=StaticDrawUsage;this.updateRange={offset:0,count:-1};this.version=0;this.uuid=generateUUID();}(0,_createClass2.default)(InterleavedBuffer,[{key:"onUploadCallback",value:function onUploadCallback(){}},{key:"needsUpdate",set:function set(value){if(value===true)this.version++;}},{key:"setUsage",value:function setUsage(value){this.usage=value;return this;}},{key:"copy",value:function copy(source){this.array=new source.array.constructor(source.array);this.count=source.count;this.stride=source.stride;this.usage=source.usage;return this;}},{key:"copyAt",value:function copyAt(index1,attribute,index2){index1*=this.stride;index2*=attribute.stride;for(var i=0,l=this.stride;i<l;i++){this.array[index1+i]=attribute.array[index2+i];}return this;}},{key:"set",value:function set(value){var offset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;this.array.set(value,offset);return this;}},{key:"clone",value:function clone(data){if(data.arrayBuffers===undefined){data.arrayBuffers={};}if(this.array.buffer._uuid===undefined){this.array.buffer._uuid=generateUUID();}if(data.arrayBuffers[this.array.buffer._uuid]===undefined){data.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer;}var array=new this.array.constructor(data.arrayBuffers[this.array.buffer._uuid]);var ib=new this.constructor(array,this.stride);ib.setUsage(this.usage);return ib;}},{key:"onUpload",value:function onUpload(callback){this.onUploadCallback=callback;return this;}},{key:"toJSON",value:function toJSON(data){if(data.arrayBuffers===undefined){data.arrayBuffers={};}// generate UUID for array buffer if necessary
if(this.array.buffer._uuid===undefined){this.array.buffer._uuid=generateUUID();}if(data.arrayBuffers[this.array.buffer._uuid]===undefined){data.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer));}//
return{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride};}}]);return InterleavedBuffer;}();exports.InterleavedBuffer=InterleavedBuffer;InterleavedBuffer.prototype.isInterleavedBuffer=true;var _vector$6=/*@__PURE__*/new Vector3();var InterleavedBufferAttribute=/*#__PURE__*/function(){function InterleavedBufferAttribute(interleavedBuffer,itemSize,offset){var normalized=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;(0,_classCallCheck2.default)(this,InterleavedBufferAttribute);this.name='';this.data=interleavedBuffer;this.itemSize=itemSize;this.offset=offset;this.normalized=normalized===true;}(0,_createClass2.default)(InterleavedBufferAttribute,[{key:"count",get:function get(){return this.data.count;}},{key:"array",get:function get(){return this.data.array;}},{key:"needsUpdate",set:function set(value){this.data.needsUpdate=value;}},{key:"applyMatrix4",value:function applyMatrix4(m){for(var i=0,l=this.data.count;i<l;i++){_vector$6.x=this.getX(i);_vector$6.y=this.getY(i);_vector$6.z=this.getZ(i);_vector$6.applyMatrix4(m);this.setXYZ(i,_vector$6.x,_vector$6.y,_vector$6.z);}return this;}},{key:"applyNormalMatrix",value:function applyNormalMatrix(m){for(var i=0,l=this.count;i<l;i++){_vector$6.x=this.getX(i);_vector$6.y=this.getY(i);_vector$6.z=this.getZ(i);_vector$6.applyNormalMatrix(m);this.setXYZ(i,_vector$6.x,_vector$6.y,_vector$6.z);}return this;}},{key:"transformDirection",value:function transformDirection(m){for(var i=0,l=this.count;i<l;i++){_vector$6.x=this.getX(i);_vector$6.y=this.getY(i);_vector$6.z=this.getZ(i);_vector$6.transformDirection(m);this.setXYZ(i,_vector$6.x,_vector$6.y,_vector$6.z);}return this;}},{key:"setX",value:function setX(index,x){this.data.array[index*this.data.stride+this.offset]=x;return this;}},{key:"setY",value:function setY(index,y){this.data.array[index*this.data.stride+this.offset+1]=y;return this;}},{key:"setZ",value:function setZ(index,z){this.data.array[index*this.data.stride+this.offset+2]=z;return this;}},{key:"setW",value:function setW(index,w){this.data.array[index*this.data.stride+this.offset+3]=w;return this;}},{key:"getX",value:function getX(index){return this.data.array[index*this.data.stride+this.offset];}},{key:"getY",value:function getY(index){return this.data.array[index*this.data.stride+this.offset+1];}},{key:"getZ",value:function getZ(index){return this.data.array[index*this.data.stride+this.offset+2];}},{key:"getW",value:function getW(index){return this.data.array[index*this.data.stride+this.offset+3];}},{key:"setXY",value:function setXY(index,x,y){index=index*this.data.stride+this.offset;this.data.array[index+0]=x;this.data.array[index+1]=y;return this;}},{key:"setXYZ",value:function setXYZ(index,x,y,z){index=index*this.data.stride+this.offset;this.data.array[index+0]=x;this.data.array[index+1]=y;this.data.array[index+2]=z;return this;}},{key:"setXYZW",value:function setXYZW(index,x,y,z,w){index=index*this.data.stride+this.offset;this.data.array[index+0]=x;this.data.array[index+1]=y;this.data.array[index+2]=z;this.data.array[index+3]=w;return this;}},{key:"clone",value:function clone(data){if(data===undefined){console.log('THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.');var array=[];for(var i=0;i<this.count;i++){var index=i*this.data.stride+this.offset;for(var j=0;j<this.itemSize;j++){array.push(this.data.array[index+j]);}}return new BufferAttribute(new this.array.constructor(array),this.itemSize,this.normalized);}else{if(data.interleavedBuffers===undefined){data.interleavedBuffers={};}if(data.interleavedBuffers[this.data.uuid]===undefined){data.interleavedBuffers[this.data.uuid]=this.data.clone(data);}return new InterleavedBufferAttribute(data.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized);}}},{key:"toJSON",value:function toJSON(data){if(data===undefined){console.log('THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.');var array=[];for(var i=0;i<this.count;i++){var index=i*this.data.stride+this.offset;for(var j=0;j<this.itemSize;j++){array.push(this.data.array[index+j]);}}// deinterleave data and save it as an ordinary buffer attribute for now
return{itemSize:this.itemSize,type:this.array.constructor.name,array:array,normalized:this.normalized};}else{// save as true interlaved attribtue
if(data.interleavedBuffers===undefined){data.interleavedBuffers={};}if(data.interleavedBuffers[this.data.uuid]===undefined){data.interleavedBuffers[this.data.uuid]=this.data.toJSON(data);}return{isInterleavedBufferAttribute:true,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized};}}}]);return InterleavedBufferAttribute;}();exports.InterleavedBufferAttribute=InterleavedBufferAttribute;InterleavedBufferAttribute.prototype.isInterleavedBufferAttribute=true;/**
 * parameters = {
 *  color: <hex>,
 *  map: new THREE.Texture( <Image> ),
 *  alphaMap: new THREE.Texture( <Image> ),
 *  rotation: <float>,
 *  sizeAttenuation: <bool>
 * }
 */var SpriteMaterial=/*#__PURE__*/function(_Material5){(0,_inherits2.default)(SpriteMaterial,_Material5);var _super39=_createSuper(SpriteMaterial);function SpriteMaterial(parameters){var _this29;(0,_classCallCheck2.default)(this,SpriteMaterial);_this29=_super39.call(this);_this29.type='SpriteMaterial';_this29.color=new Color(0xffffff);_this29.map=null;_this29.alphaMap=null;_this29.rotation=0;_this29.sizeAttenuation=true;_this29.transparent=true;_this29.setValues(parameters);return _this29;}(0,_createClass2.default)(SpriteMaterial,[{key:"copy",value:function copy(source){(0,_get2.default)((0,_getPrototypeOf2.default)(SpriteMaterial.prototype),"copy",this).call(this,source);this.color.copy(source.color);this.map=source.map;this.alphaMap=source.alphaMap;this.rotation=source.rotation;this.sizeAttenuation=source.sizeAttenuation;return this;}}]);return SpriteMaterial;}(Material);exports.SpriteMaterial=SpriteMaterial;SpriteMaterial.prototype.isSpriteMaterial=true;var _geometry;var _intersectPoint=/*@__PURE__*/new Vector3();var _worldScale=/*@__PURE__*/new Vector3();var _mvPosition=/*@__PURE__*/new Vector3();var _alignedPosition=/*@__PURE__*/new Vector2();var _rotatedPosition=/*@__PURE__*/new Vector2();var _viewWorldMatrix=/*@__PURE__*/new Matrix4();var _vA=/*@__PURE__*/new Vector3();var _vB=/*@__PURE__*/new Vector3();var _vC=/*@__PURE__*/new Vector3();var _uvA=/*@__PURE__*/new Vector2();var _uvB=/*@__PURE__*/new Vector2();var _uvC=/*@__PURE__*/new Vector2();var Sprite=/*#__PURE__*/function(_Object3D6){(0,_inherits2.default)(Sprite,_Object3D6);var _super40=_createSuper(Sprite);function Sprite(material){var _this30;(0,_classCallCheck2.default)(this,Sprite);_this30=_super40.call(this);_this30.type='Sprite';if(_geometry===undefined){_geometry=new BufferGeometry();var float32Array=new Float32Array([-0.5,-0.5,0,0,0,0.5,-0.5,0,1,0,0.5,0.5,0,1,1,-0.5,0.5,0,0,1]);var interleavedBuffer=new InterleavedBuffer(float32Array,5);_geometry.setIndex([0,1,2,0,2,3]);_geometry.setAttribute('position',new InterleavedBufferAttribute(interleavedBuffer,3,0,false));_geometry.setAttribute('uv',new InterleavedBufferAttribute(interleavedBuffer,2,3,false));}_this30.geometry=_geometry;_this30.material=material!==undefined?material:new SpriteMaterial();_this30.center=new Vector2(0.5,0.5);return _this30;}(0,_createClass2.default)(Sprite,[{key:"raycast",value:function raycast(raycaster,intersects){if(raycaster.camera===null){console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.');}_worldScale.setFromMatrixScale(this.matrixWorld);_viewWorldMatrix.copy(raycaster.camera.matrixWorld);this.modelViewMatrix.multiplyMatrices(raycaster.camera.matrixWorldInverse,this.matrixWorld);_mvPosition.setFromMatrixPosition(this.modelViewMatrix);if(raycaster.camera.isPerspectiveCamera&&this.material.sizeAttenuation===false){_worldScale.multiplyScalar(-_mvPosition.z);}var rotation=this.material.rotation;var sin,cos;if(rotation!==0){cos=Math.cos(rotation);sin=Math.sin(rotation);}var center=this.center;transformVertex(_vA.set(-0.5,-0.5,0),_mvPosition,center,_worldScale,sin,cos);transformVertex(_vB.set(0.5,-0.5,0),_mvPosition,center,_worldScale,sin,cos);transformVertex(_vC.set(0.5,0.5,0),_mvPosition,center,_worldScale,sin,cos);_uvA.set(0,0);_uvB.set(1,0);_uvC.set(1,1);// check first triangle
var intersect=raycaster.ray.intersectTriangle(_vA,_vB,_vC,false,_intersectPoint);if(intersect===null){// check second triangle
transformVertex(_vB.set(-0.5,0.5,0),_mvPosition,center,_worldScale,sin,cos);_uvB.set(0,1);intersect=raycaster.ray.intersectTriangle(_vA,_vC,_vB,false,_intersectPoint);if(intersect===null){return;}}var distance=raycaster.ray.origin.distanceTo(_intersectPoint);if(distance<raycaster.near||distance>raycaster.far)return;intersects.push({distance:distance,point:_intersectPoint.clone(),uv:Triangle.getUV(_intersectPoint,_vA,_vB,_vC,_uvA,_uvB,_uvC,new Vector2()),face:null,object:this});}},{key:"copy",value:function copy(source){(0,_get2.default)((0,_getPrototypeOf2.default)(Sprite.prototype),"copy",this).call(this,source);if(source.center!==undefined)this.center.copy(source.center);this.material=source.material;return this;}}]);return Sprite;}(Object3D);exports.Sprite=Sprite;Sprite.prototype.isSprite=true;function transformVertex(vertexPosition,mvPosition,center,scale,sin,cos){// compute position in camera space
_alignedPosition.subVectors(vertexPosition,center).addScalar(0.5).multiply(scale);// to check if rotation is not zero
if(sin!==undefined){_rotatedPosition.x=cos*_alignedPosition.x-sin*_alignedPosition.y;_rotatedPosition.y=sin*_alignedPosition.x+cos*_alignedPosition.y;}else{_rotatedPosition.copy(_alignedPosition);}vertexPosition.copy(mvPosition);vertexPosition.x+=_rotatedPosition.x;vertexPosition.y+=_rotatedPosition.y;// transform to world space
vertexPosition.applyMatrix4(_viewWorldMatrix);}var _v1$2=/*@__PURE__*/new Vector3();var _v2$1=/*@__PURE__*/new Vector3();var LOD=/*#__PURE__*/function(_Object3D7){(0,_inherits2.default)(LOD,_Object3D7);var _super41=_createSuper(LOD);function LOD(){var _this31;(0,_classCallCheck2.default)(this,LOD);_this31=_super41.call(this);_this31._currentLevel=0;_this31.type='LOD';Object.defineProperties((0,_assertThisInitialized2.default)(_this31),{levels:{enumerable:true,value:[]},isLOD:{value:true}});_this31.autoUpdate=true;return _this31;}(0,_createClass2.default)(LOD,[{key:"copy",value:function copy(source){(0,_get2.default)((0,_getPrototypeOf2.default)(LOD.prototype),"copy",this).call(this,source,false);var levels=source.levels;for(var i=0,l=levels.length;i<l;i++){var level=levels[i];this.addLevel(level.object.clone(),level.distance);}this.autoUpdate=source.autoUpdate;return this;}},{key:"addLevel",value:function addLevel(object){var distance=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;distance=Math.abs(distance);var levels=this.levels;var l;for(l=0;l<levels.length;l++){if(distance<levels[l].distance){break;}}levels.splice(l,0,{distance:distance,object:object});this.add(object);return this;}},{key:"getCurrentLevel",value:function getCurrentLevel(){return this._currentLevel;}},{key:"getObjectForDistance",value:function getObjectForDistance(distance){var levels=this.levels;if(levels.length>0){var i,l;for(i=1,l=levels.length;i<l;i++){if(distance<levels[i].distance){break;}}return levels[i-1].object;}return null;}},{key:"raycast",value:function raycast(raycaster,intersects){var levels=this.levels;if(levels.length>0){_v1$2.setFromMatrixPosition(this.matrixWorld);var distance=raycaster.ray.origin.distanceTo(_v1$2);this.getObjectForDistance(distance).raycast(raycaster,intersects);}}},{key:"update",value:function update(camera){var levels=this.levels;if(levels.length>1){_v1$2.setFromMatrixPosition(camera.matrixWorld);_v2$1.setFromMatrixPosition(this.matrixWorld);var distance=_v1$2.distanceTo(_v2$1)/camera.zoom;levels[0].object.visible=true;var i,l;for(i=1,l=levels.length;i<l;i++){if(distance>=levels[i].distance){levels[i-1].object.visible=false;levels[i].object.visible=true;}else{break;}}this._currentLevel=i-1;for(;i<l;i++){levels[i].object.visible=false;}}}},{key:"toJSON",value:function toJSON(meta){var data=(0,_get2.default)((0,_getPrototypeOf2.default)(LOD.prototype),"toJSON",this).call(this,meta);if(this.autoUpdate===false)data.object.autoUpdate=false;data.object.levels=[];var levels=this.levels;for(var i=0,l=levels.length;i<l;i++){var level=levels[i];data.object.levels.push({object:level.object.uuid,distance:level.distance});}return data;}}]);return LOD;}(Object3D);exports.LOD=LOD;var _basePosition=/*@__PURE__*/new Vector3();var _skinIndex=/*@__PURE__*/new Vector4();var _skinWeight=/*@__PURE__*/new Vector4();var _vector$5=/*@__PURE__*/new Vector3();var _matrix=/*@__PURE__*/new Matrix4();var SkinnedMesh=/*#__PURE__*/function(_Mesh){(0,_inherits2.default)(SkinnedMesh,_Mesh);var _super42=_createSuper(SkinnedMesh);function SkinnedMesh(geometry,material){var _this32;(0,_classCallCheck2.default)(this,SkinnedMesh);_this32=_super42.call(this,geometry,material);_this32.type='SkinnedMesh';_this32.bindMode='attached';_this32.bindMatrix=new Matrix4();_this32.bindMatrixInverse=new Matrix4();return _this32;}(0,_createClass2.default)(SkinnedMesh,[{key:"copy",value:function copy(source){(0,_get2.default)((0,_getPrototypeOf2.default)(SkinnedMesh.prototype),"copy",this).call(this,source);this.bindMode=source.bindMode;this.bindMatrix.copy(source.bindMatrix);this.bindMatrixInverse.copy(source.bindMatrixInverse);this.skeleton=source.skeleton;return this;}},{key:"bind",value:function bind(skeleton,bindMatrix){this.skeleton=skeleton;if(bindMatrix===undefined){this.updateMatrixWorld(true);this.skeleton.calculateInverses();bindMatrix=this.matrixWorld;}this.bindMatrix.copy(bindMatrix);this.bindMatrixInverse.copy(bindMatrix).invert();}},{key:"pose",value:function pose(){this.skeleton.pose();}},{key:"normalizeSkinWeights",value:function normalizeSkinWeights(){var vector=new Vector4();var skinWeight=this.geometry.attributes.skinWeight;for(var i=0,l=skinWeight.count;i<l;i++){vector.x=skinWeight.getX(i);vector.y=skinWeight.getY(i);vector.z=skinWeight.getZ(i);vector.w=skinWeight.getW(i);var scale=1.0/vector.manhattanLength();if(scale!==Infinity){vector.multiplyScalar(scale);}else{vector.set(1,0,0,0);// do something reasonable
}skinWeight.setXYZW(i,vector.x,vector.y,vector.z,vector.w);}}},{key:"updateMatrixWorld",value:function updateMatrixWorld(force){(0,_get2.default)((0,_getPrototypeOf2.default)(SkinnedMesh.prototype),"updateMatrixWorld",this).call(this,force);if(this.bindMode==='attached'){this.bindMatrixInverse.copy(this.matrixWorld).invert();}else if(this.bindMode==='detached'){this.bindMatrixInverse.copy(this.bindMatrix).invert();}else{console.warn('THREE.SkinnedMesh: Unrecognized bindMode: '+this.bindMode);}}},{key:"boneTransform",value:function boneTransform(index,target){var skeleton=this.skeleton;var geometry=this.geometry;_skinIndex.fromBufferAttribute(geometry.attributes.skinIndex,index);_skinWeight.fromBufferAttribute(geometry.attributes.skinWeight,index);_basePosition.copy(target).applyMatrix4(this.bindMatrix);target.set(0,0,0);for(var i=0;i<4;i++){var weight=_skinWeight.getComponent(i);if(weight!==0){var boneIndex=_skinIndex.getComponent(i);_matrix.multiplyMatrices(skeleton.bones[boneIndex].matrixWorld,skeleton.boneInverses[boneIndex]);target.addScaledVector(_vector$5.copy(_basePosition).applyMatrix4(_matrix),weight);}}return target.applyMatrix4(this.bindMatrixInverse);}}]);return SkinnedMesh;}(Mesh);exports.SkinnedMesh=SkinnedMesh;SkinnedMesh.prototype.isSkinnedMesh=true;var Bone=/*#__PURE__*/function(_Object3D8){(0,_inherits2.default)(Bone,_Object3D8);var _super43=_createSuper(Bone);function Bone(){var _this33;(0,_classCallCheck2.default)(this,Bone);_this33=_super43.call(this);_this33.type='Bone';return _this33;}return(0,_createClass2.default)(Bone);}(Object3D);exports.Bone=Bone;Bone.prototype.isBone=true;var DataTexture=/*#__PURE__*/function(_Texture4){(0,_inherits2.default)(DataTexture,_Texture4);var _super44=_createSuper(DataTexture);function DataTexture(){var _this34;var data=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var width=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var height=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var format=arguments.length>3?arguments[3]:undefined;var type=arguments.length>4?arguments[4]:undefined;var mapping=arguments.length>5?arguments[5]:undefined;var wrapS=arguments.length>6?arguments[6]:undefined;var wrapT=arguments.length>7?arguments[7]:undefined;var magFilter=arguments.length>8&&arguments[8]!==undefined?arguments[8]:NearestFilter;var minFilter=arguments.length>9&&arguments[9]!==undefined?arguments[9]:NearestFilter;var anisotropy=arguments.length>10?arguments[10]:undefined;var encoding=arguments.length>11?arguments[11]:undefined;(0,_classCallCheck2.default)(this,DataTexture);_this34=_super44.call(this,null,mapping,wrapS,wrapT,magFilter,minFilter,format,type,anisotropy,encoding);_this34.image={data:data,width:width,height:height};_this34.magFilter=magFilter;_this34.minFilter=minFilter;_this34.generateMipmaps=false;_this34.flipY=false;_this34.unpackAlignment=1;_this34.needsUpdate=true;return _this34;}return(0,_createClass2.default)(DataTexture);}(Texture);exports.DataTexture=DataTexture;DataTexture.prototype.isDataTexture=true;var _offsetMatrix=/*@__PURE__*/new Matrix4();var _identityMatrix=/*@__PURE__*/new Matrix4();var Skeleton=/*#__PURE__*/function(){function Skeleton(){var bones=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var boneInverses=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];(0,_classCallCheck2.default)(this,Skeleton);this.uuid=generateUUID();this.bones=bones.slice(0);this.boneInverses=boneInverses;this.boneMatrices=null;this.boneTexture=null;this.boneTextureSize=0;this.frame=-1;this.init();}(0,_createClass2.default)(Skeleton,[{key:"init",value:function init(){var bones=this.bones;var boneInverses=this.boneInverses;this.boneMatrices=new Float32Array(bones.length*16);// calculate inverse bone matrices if necessary
if(boneInverses.length===0){this.calculateInverses();}else{// handle special case
if(bones.length!==boneInverses.length){console.warn('THREE.Skeleton: Number of inverse bone matrices does not match amount of bones.');this.boneInverses=[];for(var i=0,il=this.bones.length;i<il;i++){this.boneInverses.push(new Matrix4());}}}}},{key:"calculateInverses",value:function calculateInverses(){this.boneInverses.length=0;for(var i=0,il=this.bones.length;i<il;i++){var inverse=new Matrix4();if(this.bones[i]){inverse.copy(this.bones[i].matrixWorld).invert();}this.boneInverses.push(inverse);}}},{key:"pose",value:function pose(){// recover the bind-time world matrices
for(var i=0,il=this.bones.length;i<il;i++){var bone=this.bones[i];if(bone){bone.matrixWorld.copy(this.boneInverses[i]).invert();}}// compute the local matrices, positions, rotations and scales
for(var _i104=0,_il12=this.bones.length;_i104<_il12;_i104++){var _bone=this.bones[_i104];if(_bone){if(_bone.parent&&_bone.parent.isBone){_bone.matrix.copy(_bone.parent.matrixWorld).invert();_bone.matrix.multiply(_bone.matrixWorld);}else{_bone.matrix.copy(_bone.matrixWorld);}_bone.matrix.decompose(_bone.position,_bone.quaternion,_bone.scale);}}}},{key:"update",value:function update(){var bones=this.bones;var boneInverses=this.boneInverses;var boneMatrices=this.boneMatrices;var boneTexture=this.boneTexture;// flatten bone matrices to array
for(var i=0,il=bones.length;i<il;i++){// compute the offset between the current and the original transform
var matrix=bones[i]?bones[i].matrixWorld:_identityMatrix;_offsetMatrix.multiplyMatrices(matrix,boneInverses[i]);_offsetMatrix.toArray(boneMatrices,i*16);}if(boneTexture!==null){boneTexture.needsUpdate=true;}}},{key:"clone",value:function clone(){return new Skeleton(this.bones,this.boneInverses);}},{key:"computeBoneTexture",value:function computeBoneTexture(){// layout (1 matrix = 4 pixels)
//      RGBA RGBA RGBA RGBA (=> column1, column2, column3, column4)
//  with  8x8  pixel texture max   16 bones * 4 pixels =  (8 * 8)
//       16x16 pixel texture max   64 bones * 4 pixels = (16 * 16)
//       32x32 pixel texture max  256 bones * 4 pixels = (32 * 32)
//       64x64 pixel texture max 1024 bones * 4 pixels = (64 * 64)
var size=Math.sqrt(this.bones.length*4);// 4 pixels needed for 1 matrix
size=ceilPowerOfTwo(size);size=Math.max(size,4);var boneMatrices=new Float32Array(size*size*4);// 4 floats per RGBA pixel
boneMatrices.set(this.boneMatrices);// copy current values
var boneTexture=new DataTexture(boneMatrices,size,size,RGBAFormat,FloatType);this.boneMatrices=boneMatrices;this.boneTexture=boneTexture;this.boneTextureSize=size;return this;}},{key:"getBoneByName",value:function getBoneByName(name){for(var i=0,il=this.bones.length;i<il;i++){var bone=this.bones[i];if(bone.name===name){return bone;}}return undefined;}},{key:"dispose",value:function dispose(){if(this.boneTexture!==null){this.boneTexture.dispose();this.boneTexture=null;}}},{key:"fromJSON",value:function fromJSON(json,bones){this.uuid=json.uuid;for(var i=0,l=json.bones.length;i<l;i++){var uuid=json.bones[i];var bone=bones[uuid];if(bone===undefined){console.warn('THREE.Skeleton: No bone found with UUID:',uuid);bone=new Bone();}this.bones.push(bone);this.boneInverses.push(new Matrix4().fromArray(json.boneInverses[i]));}this.init();return this;}},{key:"toJSON",value:function toJSON(){var data={metadata:{version:4.5,type:'Skeleton',generator:'Skeleton.toJSON'},bones:[],boneInverses:[]};data.uuid=this.uuid;var bones=this.bones;var boneInverses=this.boneInverses;for(var i=0,l=bones.length;i<l;i++){var bone=bones[i];data.bones.push(bone.uuid);var boneInverse=boneInverses[i];data.boneInverses.push(boneInverse.toArray());}return data;}}]);return Skeleton;}();exports.Skeleton=Skeleton;var InstancedBufferAttribute=/*#__PURE__*/function(_BufferAttribute11){(0,_inherits2.default)(InstancedBufferAttribute,_BufferAttribute11);var _super45=_createSuper(InstancedBufferAttribute);function InstancedBufferAttribute(array,itemSize,normalized){var _this35;var meshPerAttribute=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;(0,_classCallCheck2.default)(this,InstancedBufferAttribute);if(typeof normalized==='number'){meshPerAttribute=normalized;normalized=false;console.error('THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.');}_this35=_super45.call(this,array,itemSize,normalized);_this35.meshPerAttribute=meshPerAttribute;return _this35;}(0,_createClass2.default)(InstancedBufferAttribute,[{key:"copy",value:function copy(source){(0,_get2.default)((0,_getPrototypeOf2.default)(InstancedBufferAttribute.prototype),"copy",this).call(this,source);this.meshPerAttribute=source.meshPerAttribute;return this;}},{key:"toJSON",value:function toJSON(){var data=(0,_get2.default)((0,_getPrototypeOf2.default)(InstancedBufferAttribute.prototype),"toJSON",this).call(this);data.meshPerAttribute=this.meshPerAttribute;data.isInstancedBufferAttribute=true;return data;}}]);return InstancedBufferAttribute;}(BufferAttribute);exports.InstancedBufferAttribute=InstancedBufferAttribute;InstancedBufferAttribute.prototype.isInstancedBufferAttribute=true;var _instanceLocalMatrix=/*@__PURE__*/new Matrix4();var _instanceWorldMatrix=/*@__PURE__*/new Matrix4();var _instanceIntersects=[];var _mesh=/*@__PURE__*/new Mesh();var InstancedMesh=/*#__PURE__*/function(_Mesh2){(0,_inherits2.default)(InstancedMesh,_Mesh2);var _super46=_createSuper(InstancedMesh);function InstancedMesh(geometry,material,count){var _this36;(0,_classCallCheck2.default)(this,InstancedMesh);_this36=_super46.call(this,geometry,material);_this36.instanceMatrix=new InstancedBufferAttribute(new Float32Array(count*16),16);_this36.instanceColor=null;_this36.count=count;_this36.frustumCulled=false;return _this36;}(0,_createClass2.default)(InstancedMesh,[{key:"copy",value:function copy(source){(0,_get2.default)((0,_getPrototypeOf2.default)(InstancedMesh.prototype),"copy",this).call(this,source);this.instanceMatrix.copy(source.instanceMatrix);if(source.instanceColor!==null)this.instanceColor=source.instanceColor.clone();this.count=source.count;return this;}},{key:"getColorAt",value:function getColorAt(index,color){color.fromArray(this.instanceColor.array,index*3);}},{key:"getMatrixAt",value:function getMatrixAt(index,matrix){matrix.fromArray(this.instanceMatrix.array,index*16);}},{key:"raycast",value:function raycast(raycaster,intersects){var matrixWorld=this.matrixWorld;var raycastTimes=this.count;_mesh.geometry=this.geometry;_mesh.material=this.material;if(_mesh.material===undefined)return;for(var instanceId=0;instanceId<raycastTimes;instanceId++){// calculate the world matrix for each instance
this.getMatrixAt(instanceId,_instanceLocalMatrix);_instanceWorldMatrix.multiplyMatrices(matrixWorld,_instanceLocalMatrix);// the mesh represents this single instance
_mesh.matrixWorld=_instanceWorldMatrix;_mesh.raycast(raycaster,_instanceIntersects);// process the result of raycast
for(var i=0,l=_instanceIntersects.length;i<l;i++){var intersect=_instanceIntersects[i];intersect.instanceId=instanceId;intersect.object=this;intersects.push(intersect);}_instanceIntersects.length=0;}}},{key:"setColorAt",value:function setColorAt(index,color){if(this.instanceColor===null){this.instanceColor=new InstancedBufferAttribute(new Float32Array(this.instanceMatrix.count*3),3);}color.toArray(this.instanceColor.array,index*3);}},{key:"setMatrixAt",value:function setMatrixAt(index,matrix){matrix.toArray(this.instanceMatrix.array,index*16);}},{key:"updateMorphTargets",value:function updateMorphTargets(){}},{key:"dispose",value:function dispose(){this.dispatchEvent({type:'dispose'});}}]);return InstancedMesh;}(Mesh);exports.InstancedMesh=InstancedMesh;InstancedMesh.prototype.isInstancedMesh=true;/**
 * parameters = {
 *  color: <hex>,
 *  opacity: <float>,
 *
 *  linewidth: <float>,
 *  linecap: "round",
 *  linejoin: "round"
 * }
 */var LineBasicMaterial=/*#__PURE__*/function(_Material6){(0,_inherits2.default)(LineBasicMaterial,_Material6);var _super47=_createSuper(LineBasicMaterial);function LineBasicMaterial(parameters){var _this37;(0,_classCallCheck2.default)(this,LineBasicMaterial);_this37=_super47.call(this);_this37.type='LineBasicMaterial';_this37.color=new Color(0xffffff);_this37.linewidth=1;_this37.linecap='round';_this37.linejoin='round';_this37.setValues(parameters);return _this37;}(0,_createClass2.default)(LineBasicMaterial,[{key:"copy",value:function copy(source){(0,_get2.default)((0,_getPrototypeOf2.default)(LineBasicMaterial.prototype),"copy",this).call(this,source);this.color.copy(source.color);this.linewidth=source.linewidth;this.linecap=source.linecap;this.linejoin=source.linejoin;return this;}}]);return LineBasicMaterial;}(Material);exports.LineBasicMaterial=LineBasicMaterial;LineBasicMaterial.prototype.isLineBasicMaterial=true;var _start$1=/*@__PURE__*/new Vector3();var _end$1=/*@__PURE__*/new Vector3();var _inverseMatrix$1=/*@__PURE__*/new Matrix4();var _ray$1=/*@__PURE__*/new Ray();var _sphere$1=/*@__PURE__*/new Sphere();var Line=/*#__PURE__*/function(_Object3D9){(0,_inherits2.default)(Line,_Object3D9);var _super48=_createSuper(Line);function Line(){var _this38;var geometry=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new BufferGeometry();var material=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new LineBasicMaterial();(0,_classCallCheck2.default)(this,Line);_this38=_super48.call(this);_this38.type='Line';_this38.geometry=geometry;_this38.material=material;_this38.updateMorphTargets();return _this38;}(0,_createClass2.default)(Line,[{key:"copy",value:function copy(source){(0,_get2.default)((0,_getPrototypeOf2.default)(Line.prototype),"copy",this).call(this,source);this.material=source.material;this.geometry=source.geometry;return this;}},{key:"computeLineDistances",value:function computeLineDistances(){var geometry=this.geometry;if(geometry.isBufferGeometry){// we assume non-indexed geometry
if(geometry.index===null){var positionAttribute=geometry.attributes.position;var lineDistances=[0];for(var i=1,l=positionAttribute.count;i<l;i++){_start$1.fromBufferAttribute(positionAttribute,i-1);_end$1.fromBufferAttribute(positionAttribute,i);lineDistances[i]=lineDistances[i-1];lineDistances[i]+=_start$1.distanceTo(_end$1);}geometry.setAttribute('lineDistance',new Float32BufferAttribute(lineDistances,1));}else{console.warn('THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.');}}else if(geometry.isGeometry){console.error('THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.');}return this;}},{key:"raycast",value:function raycast(raycaster,intersects){var geometry=this.geometry;var matrixWorld=this.matrixWorld;var threshold=raycaster.params.Line.threshold;var drawRange=geometry.drawRange;// Checking boundingSphere distance to ray
if(geometry.boundingSphere===null)geometry.computeBoundingSphere();_sphere$1.copy(geometry.boundingSphere);_sphere$1.applyMatrix4(matrixWorld);_sphere$1.radius+=threshold;if(raycaster.ray.intersectsSphere(_sphere$1)===false)return;//
_inverseMatrix$1.copy(matrixWorld).invert();_ray$1.copy(raycaster.ray).applyMatrix4(_inverseMatrix$1);var localThreshold=threshold/((this.scale.x+this.scale.y+this.scale.z)/3);var localThresholdSq=localThreshold*localThreshold;var vStart=new Vector3();var vEnd=new Vector3();var interSegment=new Vector3();var interRay=new Vector3();var step=this.isLineSegments?2:1;if(geometry.isBufferGeometry){var index=geometry.index;var attributes=geometry.attributes;var positionAttribute=attributes.position;if(index!==null){var start=Math.max(0,drawRange.start);var end=Math.min(index.count,drawRange.start+drawRange.count);for(var i=start,l=end-1;i<l;i+=step){var a=index.getX(i);var b=index.getX(i+1);vStart.fromBufferAttribute(positionAttribute,a);vEnd.fromBufferAttribute(positionAttribute,b);var distSq=_ray$1.distanceSqToSegment(vStart,vEnd,interRay,interSegment);if(distSq>localThresholdSq)continue;interRay.applyMatrix4(this.matrixWorld);//Move back to world space for distance calculation
var distance=raycaster.ray.origin.distanceTo(interRay);if(distance<raycaster.near||distance>raycaster.far)continue;intersects.push({distance:distance,// What do we want? intersection point on the ray or on the segment??
// point: raycaster.ray.at( distance ),
point:interSegment.clone().applyMatrix4(this.matrixWorld),index:i,face:null,faceIndex:null,object:this});}}else{var _start6=Math.max(0,drawRange.start);var _end5=Math.min(positionAttribute.count,drawRange.start+drawRange.count);for(var _i105=_start6,_l6=_end5-1;_i105<_l6;_i105+=step){vStart.fromBufferAttribute(positionAttribute,_i105);vEnd.fromBufferAttribute(positionAttribute,_i105+1);var _distSq=_ray$1.distanceSqToSegment(vStart,vEnd,interRay,interSegment);if(_distSq>localThresholdSq)continue;interRay.applyMatrix4(this.matrixWorld);//Move back to world space for distance calculation
var _distance=raycaster.ray.origin.distanceTo(interRay);if(_distance<raycaster.near||_distance>raycaster.far)continue;intersects.push({distance:_distance,// What do we want? intersection point on the ray or on the segment??
// point: raycaster.ray.at( distance ),
point:interSegment.clone().applyMatrix4(this.matrixWorld),index:_i105,face:null,faceIndex:null,object:this});}}}else if(geometry.isGeometry){console.error('THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.');}}},{key:"updateMorphTargets",value:function updateMorphTargets(){var geometry=this.geometry;if(geometry.isBufferGeometry){var morphAttributes=geometry.morphAttributes;var keys=Object.keys(morphAttributes);if(keys.length>0){var morphAttribute=morphAttributes[keys[0]];if(morphAttribute!==undefined){this.morphTargetInfluences=[];this.morphTargetDictionary={};for(var m=0,ml=morphAttribute.length;m<ml;m++){var name=morphAttribute[m].name||String(m);this.morphTargetInfluences.push(0);this.morphTargetDictionary[name]=m;}}}}else{var morphTargets=geometry.morphTargets;if(morphTargets!==undefined&&morphTargets.length>0){console.error('THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.');}}}}]);return Line;}(Object3D);exports.Line=Line;Line.prototype.isLine=true;var _start=/*@__PURE__*/new Vector3();var _end=/*@__PURE__*/new Vector3();var LineSegments=/*#__PURE__*/function(_Line){(0,_inherits2.default)(LineSegments,_Line);var _super49=_createSuper(LineSegments);function LineSegments(geometry,material){var _this39;(0,_classCallCheck2.default)(this,LineSegments);_this39=_super49.call(this,geometry,material);_this39.type='LineSegments';return _this39;}(0,_createClass2.default)(LineSegments,[{key:"computeLineDistances",value:function computeLineDistances(){var geometry=this.geometry;if(geometry.isBufferGeometry){// we assume non-indexed geometry
if(geometry.index===null){var positionAttribute=geometry.attributes.position;var lineDistances=[];for(var i=0,l=positionAttribute.count;i<l;i+=2){_start.fromBufferAttribute(positionAttribute,i);_end.fromBufferAttribute(positionAttribute,i+1);lineDistances[i]=i===0?0:lineDistances[i-1];lineDistances[i+1]=lineDistances[i]+_start.distanceTo(_end);}geometry.setAttribute('lineDistance',new Float32BufferAttribute(lineDistances,1));}else{console.warn('THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.');}}else if(geometry.isGeometry){console.error('THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.');}return this;}}]);return LineSegments;}(Line);exports.LineSegments=LineSegments;LineSegments.prototype.isLineSegments=true;var LineLoop=/*#__PURE__*/function(_Line2){(0,_inherits2.default)(LineLoop,_Line2);var _super50=_createSuper(LineLoop);function LineLoop(geometry,material){var _this40;(0,_classCallCheck2.default)(this,LineLoop);_this40=_super50.call(this,geometry,material);_this40.type='LineLoop';return _this40;}return(0,_createClass2.default)(LineLoop);}(Line);exports.LineLoop=LineLoop;LineLoop.prototype.isLineLoop=true;/**
 * parameters = {
 *  color: <hex>,
 *  opacity: <float>,
 *  map: new THREE.Texture( <Image> ),
 *  alphaMap: new THREE.Texture( <Image> ),
 *
 *  size: <float>,
 *  sizeAttenuation: <bool>
 *
 * }
 */var PointsMaterial=/*#__PURE__*/function(_Material7){(0,_inherits2.default)(PointsMaterial,_Material7);var _super51=_createSuper(PointsMaterial);function PointsMaterial(parameters){var _this41;(0,_classCallCheck2.default)(this,PointsMaterial);_this41=_super51.call(this);_this41.type='PointsMaterial';_this41.color=new Color(0xffffff);_this41.map=null;_this41.alphaMap=null;_this41.size=1;_this41.sizeAttenuation=true;_this41.setValues(parameters);return _this41;}(0,_createClass2.default)(PointsMaterial,[{key:"copy",value:function copy(source){(0,_get2.default)((0,_getPrototypeOf2.default)(PointsMaterial.prototype),"copy",this).call(this,source);this.color.copy(source.color);this.map=source.map;this.alphaMap=source.alphaMap;this.size=source.size;this.sizeAttenuation=source.sizeAttenuation;return this;}}]);return PointsMaterial;}(Material);exports.PointsMaterial=PointsMaterial;PointsMaterial.prototype.isPointsMaterial=true;var _inverseMatrix=/*@__PURE__*/new Matrix4();var _ray=/*@__PURE__*/new Ray();var _sphere=/*@__PURE__*/new Sphere();var _position$2=/*@__PURE__*/new Vector3();var Points=/*#__PURE__*/function(_Object3D10){(0,_inherits2.default)(Points,_Object3D10);var _super52=_createSuper(Points);function Points(){var _this42;var geometry=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new BufferGeometry();var material=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new PointsMaterial();(0,_classCallCheck2.default)(this,Points);_this42=_super52.call(this);_this42.type='Points';_this42.geometry=geometry;_this42.material=material;_this42.updateMorphTargets();return _this42;}(0,_createClass2.default)(Points,[{key:"copy",value:function copy(source){(0,_get2.default)((0,_getPrototypeOf2.default)(Points.prototype),"copy",this).call(this,source);this.material=source.material;this.geometry=source.geometry;return this;}},{key:"raycast",value:function raycast(raycaster,intersects){var geometry=this.geometry;var matrixWorld=this.matrixWorld;var threshold=raycaster.params.Points.threshold;var drawRange=geometry.drawRange;// Checking boundingSphere distance to ray
if(geometry.boundingSphere===null)geometry.computeBoundingSphere();_sphere.copy(geometry.boundingSphere);_sphere.applyMatrix4(matrixWorld);_sphere.radius+=threshold;if(raycaster.ray.intersectsSphere(_sphere)===false)return;//
_inverseMatrix.copy(matrixWorld).invert();_ray.copy(raycaster.ray).applyMatrix4(_inverseMatrix);var localThreshold=threshold/((this.scale.x+this.scale.y+this.scale.z)/3);var localThresholdSq=localThreshold*localThreshold;if(geometry.isBufferGeometry){var index=geometry.index;var attributes=geometry.attributes;var positionAttribute=attributes.position;if(index!==null){var start=Math.max(0,drawRange.start);var end=Math.min(index.count,drawRange.start+drawRange.count);for(var i=start,il=end;i<il;i++){var a=index.getX(i);_position$2.fromBufferAttribute(positionAttribute,a);testPoint(_position$2,a,localThresholdSq,matrixWorld,raycaster,intersects,this);}}else{var _start7=Math.max(0,drawRange.start);var _end6=Math.min(positionAttribute.count,drawRange.start+drawRange.count);for(var _i106=_start7,l=_end6;_i106<l;_i106++){_position$2.fromBufferAttribute(positionAttribute,_i106);testPoint(_position$2,_i106,localThresholdSq,matrixWorld,raycaster,intersects,this);}}}else{console.error('THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.');}}},{key:"updateMorphTargets",value:function updateMorphTargets(){var geometry=this.geometry;if(geometry.isBufferGeometry){var morphAttributes=geometry.morphAttributes;var keys=Object.keys(morphAttributes);if(keys.length>0){var morphAttribute=morphAttributes[keys[0]];if(morphAttribute!==undefined){this.morphTargetInfluences=[];this.morphTargetDictionary={};for(var m=0,ml=morphAttribute.length;m<ml;m++){var name=morphAttribute[m].name||String(m);this.morphTargetInfluences.push(0);this.morphTargetDictionary[name]=m;}}}}else{var morphTargets=geometry.morphTargets;if(morphTargets!==undefined&&morphTargets.length>0){console.error('THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.');}}}}]);return Points;}(Object3D);exports.Points=Points;Points.prototype.isPoints=true;function testPoint(point,index,localThresholdSq,matrixWorld,raycaster,intersects,object){var rayPointDistanceSq=_ray.distanceSqToPoint(point);if(rayPointDistanceSq<localThresholdSq){var intersectPoint=new Vector3();_ray.closestPointToPoint(point,intersectPoint);intersectPoint.applyMatrix4(matrixWorld);var distance=raycaster.ray.origin.distanceTo(intersectPoint);if(distance<raycaster.near||distance>raycaster.far)return;intersects.push({distance:distance,distanceToRay:Math.sqrt(rayPointDistanceSq),point:intersectPoint,index:index,face:null,object:object});}}var VideoTexture=/*#__PURE__*/function(_Texture5){(0,_inherits2.default)(VideoTexture,_Texture5);var _super53=_createSuper(VideoTexture);function VideoTexture(video,mapping,wrapS,wrapT,magFilter,minFilter,format,type,anisotropy){var _this43;(0,_classCallCheck2.default)(this,VideoTexture);_this43=_super53.call(this,video,mapping,wrapS,wrapT,magFilter,minFilter,format,type,anisotropy);_this43.format=format!==undefined?format:RGBFormat;_this43.minFilter=minFilter!==undefined?minFilter:LinearFilter;_this43.magFilter=magFilter!==undefined?magFilter:LinearFilter;_this43.generateMipmaps=false;var scope=(0,_assertThisInitialized2.default)(_this43);function updateVideo(){scope.needsUpdate=true;video.requestVideoFrameCallback(updateVideo);}if('requestVideoFrameCallback'in video){video.requestVideoFrameCallback(updateVideo);}return _this43;}(0,_createClass2.default)(VideoTexture,[{key:"clone",value:function clone(){return new this.constructor(this.image).copy(this);}},{key:"update",value:function update(){var video=this.image;var hasVideoFrameCallback=('requestVideoFrameCallback'in video);if(hasVideoFrameCallback===false&&video.readyState>=video.HAVE_CURRENT_DATA){this.needsUpdate=true;}}}]);return VideoTexture;}(Texture);exports.VideoTexture=VideoTexture;VideoTexture.prototype.isVideoTexture=true;var CompressedTexture=/*#__PURE__*/function(_Texture6){(0,_inherits2.default)(CompressedTexture,_Texture6);var _super54=_createSuper(CompressedTexture);function CompressedTexture(mipmaps,width,height,format,type,mapping,wrapS,wrapT,magFilter,minFilter,anisotropy,encoding){var _this44;(0,_classCallCheck2.default)(this,CompressedTexture);_this44=_super54.call(this,null,mapping,wrapS,wrapT,magFilter,minFilter,format,type,anisotropy,encoding);_this44.image={width:width,height:height};_this44.mipmaps=mipmaps;// no flipping for cube textures
// (also flipping doesn't work for compressed textures )
_this44.flipY=false;// can't generate mipmaps for compressed textures
// mips must be embedded in DDS files
_this44.generateMipmaps=false;return _this44;}return(0,_createClass2.default)(CompressedTexture);}(Texture);exports.CompressedTexture=CompressedTexture;CompressedTexture.prototype.isCompressedTexture=true;var CanvasTexture=/*#__PURE__*/function(_Texture7){(0,_inherits2.default)(CanvasTexture,_Texture7);var _super55=_createSuper(CanvasTexture);function CanvasTexture(canvas,mapping,wrapS,wrapT,magFilter,minFilter,format,type,anisotropy){var _this45;(0,_classCallCheck2.default)(this,CanvasTexture);_this45=_super55.call(this,canvas,mapping,wrapS,wrapT,magFilter,minFilter,format,type,anisotropy);_this45.needsUpdate=true;return _this45;}return(0,_createClass2.default)(CanvasTexture);}(Texture);exports.CanvasTexture=CanvasTexture;CanvasTexture.prototype.isCanvasTexture=true;var DepthTexture=/*#__PURE__*/function(_Texture8){(0,_inherits2.default)(DepthTexture,_Texture8);var _super56=_createSuper(DepthTexture);function DepthTexture(width,height,type,mapping,wrapS,wrapT,magFilter,minFilter,anisotropy,format){var _this46;(0,_classCallCheck2.default)(this,DepthTexture);format=format!==undefined?format:DepthFormat;if(format!==DepthFormat&&format!==DepthStencilFormat){throw new Error('DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat');}if(type===undefined&&format===DepthFormat)type=UnsignedShortType;if(type===undefined&&format===DepthStencilFormat)type=UnsignedInt248Type;_this46=_super56.call(this,null,mapping,wrapS,wrapT,magFilter,minFilter,format,type,anisotropy);_this46.image={width:width,height:height};_this46.magFilter=magFilter!==undefined?magFilter:NearestFilter;_this46.minFilter=minFilter!==undefined?minFilter:NearestFilter;_this46.flipY=false;_this46.generateMipmaps=false;return _this46;}return(0,_createClass2.default)(DepthTexture);}(Texture);exports.DepthTexture=DepthTexture;DepthTexture.prototype.isDepthTexture=true;var CircleGeometry=/*#__PURE__*/function(_BufferGeometry3){(0,_inherits2.default)(CircleGeometry,_BufferGeometry3);var _super57=_createSuper(CircleGeometry);function CircleGeometry(){var _this47;var radius=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var segments=arguments.length>1&&arguments[1]!==undefined?arguments[1]:8;var thetaStart=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var thetaLength=arguments.length>3&&arguments[3]!==undefined?arguments[3]:Math.PI*2;(0,_classCallCheck2.default)(this,CircleGeometry);_this47=_super57.call(this);_this47.type='CircleGeometry';_this47.parameters={radius:radius,segments:segments,thetaStart:thetaStart,thetaLength:thetaLength};segments=Math.max(3,segments);// buffers
var indices=[];var vertices=[];var normals=[];var uvs=[];// helper variables
var vertex=new Vector3();var uv=new Vector2();// center point
vertices.push(0,0,0);normals.push(0,0,1);uvs.push(0.5,0.5);for(var s=0,i=3;s<=segments;s++,i+=3){var segment=thetaStart+s/segments*thetaLength;// vertex
vertex.x=radius*Math.cos(segment);vertex.y=radius*Math.sin(segment);vertices.push(vertex.x,vertex.y,vertex.z);// normal
normals.push(0,0,1);// uvs
uv.x=(vertices[i]/radius+1)/2;uv.y=(vertices[i+1]/radius+1)/2;uvs.push(uv.x,uv.y);}// indices
for(var _i107=1;_i107<=segments;_i107++){indices.push(_i107,_i107+1,0);}// build geometry
_this47.setIndex(indices);_this47.setAttribute('position',new Float32BufferAttribute(vertices,3));_this47.setAttribute('normal',new Float32BufferAttribute(normals,3));_this47.setAttribute('uv',new Float32BufferAttribute(uvs,2));return _this47;}(0,_createClass2.default)(CircleGeometry,null,[{key:"fromJSON",value:function fromJSON(data){return new CircleGeometry(data.radius,data.segments,data.thetaStart,data.thetaLength);}}]);return CircleGeometry;}(BufferGeometry);exports.CircleGeometry=exports.CircleBufferGeometry=CircleGeometry;var CylinderGeometry=/*#__PURE__*/function(_BufferGeometry4){(0,_inherits2.default)(CylinderGeometry,_BufferGeometry4);var _super58=_createSuper(CylinderGeometry);function CylinderGeometry(){var _this48;var radiusTop=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var radiusBottom=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var height=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var radialSegments=arguments.length>3&&arguments[3]!==undefined?arguments[3]:8;var heightSegments=arguments.length>4&&arguments[4]!==undefined?arguments[4]:1;var openEnded=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;var thetaStart=arguments.length>6&&arguments[6]!==undefined?arguments[6]:0;var thetaLength=arguments.length>7&&arguments[7]!==undefined?arguments[7]:Math.PI*2;(0,_classCallCheck2.default)(this,CylinderGeometry);_this48=_super58.call(this);_this48.type='CylinderGeometry';_this48.parameters={radiusTop:radiusTop,radiusBottom:radiusBottom,height:height,radialSegments:radialSegments,heightSegments:heightSegments,openEnded:openEnded,thetaStart:thetaStart,thetaLength:thetaLength};var scope=(0,_assertThisInitialized2.default)(_this48);radialSegments=Math.floor(radialSegments);heightSegments=Math.floor(heightSegments);// buffers
var indices=[];var vertices=[];var normals=[];var uvs=[];// helper variables
var index=0;var indexArray=[];var halfHeight=height/2;var groupStart=0;// generate geometry
generateTorso();if(openEnded===false){if(radiusTop>0)generateCap(true);if(radiusBottom>0)generateCap(false);}// build geometry
_this48.setIndex(indices);_this48.setAttribute('position',new Float32BufferAttribute(vertices,3));_this48.setAttribute('normal',new Float32BufferAttribute(normals,3));_this48.setAttribute('uv',new Float32BufferAttribute(uvs,2));function generateTorso(){var normal=new Vector3();var vertex=new Vector3();var groupCount=0;// this will be used to calculate the normal
var slope=(radiusBottom-radiusTop)/height;// generate vertices, normals and uvs
for(var y=0;y<=heightSegments;y++){var indexRow=[];var v=y/heightSegments;// calculate the radius of the current row
var radius=v*(radiusBottom-radiusTop)+radiusTop;for(var x=0;x<=radialSegments;x++){var u=x/radialSegments;var theta=u*thetaLength+thetaStart;var sinTheta=Math.sin(theta);var cosTheta=Math.cos(theta);// vertex
vertex.x=radius*sinTheta;vertex.y=-v*height+halfHeight;vertex.z=radius*cosTheta;vertices.push(vertex.x,vertex.y,vertex.z);// normal
normal.set(sinTheta,slope,cosTheta).normalize();normals.push(normal.x,normal.y,normal.z);// uv
uvs.push(u,1-v);// save index of vertex in respective row
indexRow.push(index++);}// now save vertices of the row in our index array
indexArray.push(indexRow);}// generate indices
for(var _x4=0;_x4<radialSegments;_x4++){for(var _y2=0;_y2<heightSegments;_y2++){// we use the index array to access the correct indices
var a=indexArray[_y2][_x4];var b=indexArray[_y2+1][_x4];var c=indexArray[_y2+1][_x4+1];var d=indexArray[_y2][_x4+1];// faces
indices.push(a,b,d);indices.push(b,c,d);// update group counter
groupCount+=6;}}// add a group to the geometry. this will ensure multi material support
scope.addGroup(groupStart,groupCount,0);// calculate new start value for groups
groupStart+=groupCount;}function generateCap(top){// save the index of the first center vertex
var centerIndexStart=index;var uv=new Vector2();var vertex=new Vector3();var groupCount=0;var radius=top===true?radiusTop:radiusBottom;var sign=top===true?1:-1;// first we generate the center vertex data of the cap.
// because the geometry needs one set of uvs per face,
// we must generate a center vertex per face/segment
for(var x=1;x<=radialSegments;x++){// vertex
vertices.push(0,halfHeight*sign,0);// normal
normals.push(0,sign,0);// uv
uvs.push(0.5,0.5);// increase index
index++;}// save the index of the last center vertex
var centerIndexEnd=index;// now we generate the surrounding vertices, normals and uvs
for(var _x5=0;_x5<=radialSegments;_x5++){var u=_x5/radialSegments;var theta=u*thetaLength+thetaStart;var cosTheta=Math.cos(theta);var sinTheta=Math.sin(theta);// vertex
vertex.x=radius*sinTheta;vertex.y=halfHeight*sign;vertex.z=radius*cosTheta;vertices.push(vertex.x,vertex.y,vertex.z);// normal
normals.push(0,sign,0);// uv
uv.x=cosTheta*0.5+0.5;uv.y=sinTheta*0.5*sign+0.5;uvs.push(uv.x,uv.y);// increase index
index++;}// generate indices
for(var _x6=0;_x6<radialSegments;_x6++){var c=centerIndexStart+_x6;var i=centerIndexEnd+_x6;if(top===true){// face top
indices.push(i,i+1,c);}else{// face bottom
indices.push(i+1,i,c);}groupCount+=3;}// add a group to the geometry. this will ensure multi material support
scope.addGroup(groupStart,groupCount,top===true?1:2);// calculate new start value for groups
groupStart+=groupCount;}return _this48;}(0,_createClass2.default)(CylinderGeometry,null,[{key:"fromJSON",value:function fromJSON(data){return new CylinderGeometry(data.radiusTop,data.radiusBottom,data.height,data.radialSegments,data.heightSegments,data.openEnded,data.thetaStart,data.thetaLength);}}]);return CylinderGeometry;}(BufferGeometry);exports.CylinderGeometry=exports.CylinderBufferGeometry=CylinderGeometry;var ConeGeometry=/*#__PURE__*/function(_CylinderGeometry){(0,_inherits2.default)(ConeGeometry,_CylinderGeometry);var _super59=_createSuper(ConeGeometry);function ConeGeometry(){var _this49;var radius=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var height=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var radialSegments=arguments.length>2&&arguments[2]!==undefined?arguments[2]:8;var heightSegments=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;var openEnded=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;var thetaStart=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0;var thetaLength=arguments.length>6&&arguments[6]!==undefined?arguments[6]:Math.PI*2;(0,_classCallCheck2.default)(this,ConeGeometry);_this49=_super59.call(this,0,radius,height,radialSegments,heightSegments,openEnded,thetaStart,thetaLength);_this49.type='ConeGeometry';_this49.parameters={radius:radius,height:height,radialSegments:radialSegments,heightSegments:heightSegments,openEnded:openEnded,thetaStart:thetaStart,thetaLength:thetaLength};return _this49;}(0,_createClass2.default)(ConeGeometry,null,[{key:"fromJSON",value:function fromJSON(data){return new ConeGeometry(data.radius,data.height,data.radialSegments,data.heightSegments,data.openEnded,data.thetaStart,data.thetaLength);}}]);return ConeGeometry;}(CylinderGeometry);exports.ConeGeometry=exports.ConeBufferGeometry=ConeGeometry;var PolyhedronGeometry=/*#__PURE__*/function(_BufferGeometry5){(0,_inherits2.default)(PolyhedronGeometry,_BufferGeometry5);var _super60=_createSuper(PolyhedronGeometry);function PolyhedronGeometry(){var _this50;var vertices=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var indices=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var radius=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var detail=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;(0,_classCallCheck2.default)(this,PolyhedronGeometry);_this50=_super60.call(this);_this50.type='PolyhedronGeometry';_this50.parameters={vertices:vertices,indices:indices,radius:radius,detail:detail};// default buffer data
var vertexBuffer=[];var uvBuffer=[];// the subdivision creates the vertex buffer data
subdivide(detail);// all vertices should lie on a conceptual sphere with a given radius
applyRadius(radius);// finally, create the uv data
generateUVs();// build non-indexed geometry
_this50.setAttribute('position',new Float32BufferAttribute(vertexBuffer,3));_this50.setAttribute('normal',new Float32BufferAttribute(vertexBuffer.slice(),3));_this50.setAttribute('uv',new Float32BufferAttribute(uvBuffer,2));if(detail===0){_this50.computeVertexNormals();// flat normals
}else{_this50.normalizeNormals();// smooth normals
}// helper functions
function subdivide(detail){var a=new Vector3();var b=new Vector3();var c=new Vector3();// iterate over all faces and apply a subdivison with the given detail value
for(var i=0;i<indices.length;i+=3){// get the vertices of the face
getVertexByIndex(indices[i+0],a);getVertexByIndex(indices[i+1],b);getVertexByIndex(indices[i+2],c);// perform subdivision
subdivideFace(a,b,c,detail);}}function subdivideFace(a,b,c,detail){var cols=detail+1;// we use this multidimensional array as a data structure for creating the subdivision
var v=[];// construct all of the vertices for this subdivision
for(var i=0;i<=cols;i++){v[i]=[];var aj=a.clone().lerp(c,i/cols);var bj=b.clone().lerp(c,i/cols);var rows=cols-i;for(var j=0;j<=rows;j++){if(j===0&&i===cols){v[i][j]=aj;}else{v[i][j]=aj.clone().lerp(bj,j/rows);}}}// construct all of the faces
for(var _i108=0;_i108<cols;_i108++){for(var _j5=0;_j5<2*(cols-_i108)-1;_j5++){var k=Math.floor(_j5/2);if(_j5%2===0){pushVertex(v[_i108][k+1]);pushVertex(v[_i108+1][k]);pushVertex(v[_i108][k]);}else{pushVertex(v[_i108][k+1]);pushVertex(v[_i108+1][k+1]);pushVertex(v[_i108+1][k]);}}}}function applyRadius(radius){var vertex=new Vector3();// iterate over the entire buffer and apply the radius to each vertex
for(var i=0;i<vertexBuffer.length;i+=3){vertex.x=vertexBuffer[i+0];vertex.y=vertexBuffer[i+1];vertex.z=vertexBuffer[i+2];vertex.normalize().multiplyScalar(radius);vertexBuffer[i+0]=vertex.x;vertexBuffer[i+1]=vertex.y;vertexBuffer[i+2]=vertex.z;}}function generateUVs(){var vertex=new Vector3();for(var i=0;i<vertexBuffer.length;i+=3){vertex.x=vertexBuffer[i+0];vertex.y=vertexBuffer[i+1];vertex.z=vertexBuffer[i+2];var u=azimuth(vertex)/2/Math.PI+0.5;var v=inclination(vertex)/Math.PI+0.5;uvBuffer.push(u,1-v);}correctUVs();correctSeam();}function correctSeam(){// handle case when face straddles the seam, see #3269
for(var i=0;i<uvBuffer.length;i+=6){// uv data of a single face
var x0=uvBuffer[i+0];var x1=uvBuffer[i+2];var x2=uvBuffer[i+4];var max=Math.max(x0,x1,x2);var min=Math.min(x0,x1,x2);// 0.9 is somewhat arbitrary
if(max>0.9&&min<0.1){if(x0<0.2)uvBuffer[i+0]+=1;if(x1<0.2)uvBuffer[i+2]+=1;if(x2<0.2)uvBuffer[i+4]+=1;}}}function pushVertex(vertex){vertexBuffer.push(vertex.x,vertex.y,vertex.z);}function getVertexByIndex(index,vertex){var stride=index*3;vertex.x=vertices[stride+0];vertex.y=vertices[stride+1];vertex.z=vertices[stride+2];}function correctUVs(){var a=new Vector3();var b=new Vector3();var c=new Vector3();var centroid=new Vector3();var uvA=new Vector2();var uvB=new Vector2();var uvC=new Vector2();for(var i=0,j=0;i<vertexBuffer.length;i+=9,j+=6){a.set(vertexBuffer[i+0],vertexBuffer[i+1],vertexBuffer[i+2]);b.set(vertexBuffer[i+3],vertexBuffer[i+4],vertexBuffer[i+5]);c.set(vertexBuffer[i+6],vertexBuffer[i+7],vertexBuffer[i+8]);uvA.set(uvBuffer[j+0],uvBuffer[j+1]);uvB.set(uvBuffer[j+2],uvBuffer[j+3]);uvC.set(uvBuffer[j+4],uvBuffer[j+5]);centroid.copy(a).add(b).add(c).divideScalar(3);var azi=azimuth(centroid);correctUV(uvA,j+0,a,azi);correctUV(uvB,j+2,b,azi);correctUV(uvC,j+4,c,azi);}}function correctUV(uv,stride,vector,azimuth){if(azimuth<0&&uv.x===1){uvBuffer[stride]=uv.x-1;}if(vector.x===0&&vector.z===0){uvBuffer[stride]=azimuth/2/Math.PI+0.5;}}// Angle around the Y axis, counter-clockwise when looking from above.
function azimuth(vector){return Math.atan2(vector.z,-vector.x);}// Angle above the XZ plane.
function inclination(vector){return Math.atan2(-vector.y,Math.sqrt(vector.x*vector.x+vector.z*vector.z));}return _this50;}(0,_createClass2.default)(PolyhedronGeometry,null,[{key:"fromJSON",value:function fromJSON(data){return new PolyhedronGeometry(data.vertices,data.indices,data.radius,data.details);}}]);return PolyhedronGeometry;}(BufferGeometry);exports.PolyhedronGeometry=exports.PolyhedronBufferGeometry=PolyhedronGeometry;var DodecahedronGeometry=/*#__PURE__*/function(_PolyhedronGeometry){(0,_inherits2.default)(DodecahedronGeometry,_PolyhedronGeometry);var _super61=_createSuper(DodecahedronGeometry);function DodecahedronGeometry(){var _this51;var radius=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var detail=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;(0,_classCallCheck2.default)(this,DodecahedronGeometry);var t=(1+Math.sqrt(5))/2;var r=1/t;var vertices=[// (±1, ±1, ±1)
-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,// (0, ±1/φ, ±φ)
0,-r,-t,0,-r,t,0,r,-t,0,r,t,// (±1/φ, ±φ, 0)
-r,-t,0,-r,t,0,r,-t,0,r,t,0,// (±φ, 0, ±1/φ)
-t,0,-r,t,0,-r,-t,0,r,t,0,r];var indices=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];_this51=_super61.call(this,vertices,indices,radius,detail);_this51.type='DodecahedronGeometry';_this51.parameters={radius:radius,detail:detail};return _this51;}(0,_createClass2.default)(DodecahedronGeometry,null,[{key:"fromJSON",value:function fromJSON(data){return new DodecahedronGeometry(data.radius,data.detail);}}]);return DodecahedronGeometry;}(PolyhedronGeometry);exports.DodecahedronGeometry=exports.DodecahedronBufferGeometry=DodecahedronGeometry;var _v0=new Vector3();var _v1$1=new Vector3();var _normal=new Vector3();var _triangle=new Triangle();var EdgesGeometry=/*#__PURE__*/function(_BufferGeometry6){(0,_inherits2.default)(EdgesGeometry,_BufferGeometry6);var _super62=_createSuper(EdgesGeometry);function EdgesGeometry(){var _this52;var geometry=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var thresholdAngle=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;(0,_classCallCheck2.default)(this,EdgesGeometry);_this52=_super62.call(this);_this52.type='EdgesGeometry';_this52.parameters={geometry:geometry,thresholdAngle:thresholdAngle};if(geometry!==null){var precisionPoints=4;var precision=Math.pow(10,precisionPoints);var thresholdDot=Math.cos(DEG2RAD*thresholdAngle);var indexAttr=geometry.getIndex();var positionAttr=geometry.getAttribute('position');var indexCount=indexAttr?indexAttr.count:positionAttr.count;var indexArr=[0,0,0];var vertKeys=['a','b','c'];var hashes=new Array(3);var edgeData={};var vertices=[];for(var i=0;i<indexCount;i+=3){if(indexAttr){indexArr[0]=indexAttr.getX(i);indexArr[1]=indexAttr.getX(i+1);indexArr[2]=indexAttr.getX(i+2);}else{indexArr[0]=i;indexArr[1]=i+1;indexArr[2]=i+2;}var a=_triangle.a,b=_triangle.b,c=_triangle.c;a.fromBufferAttribute(positionAttr,indexArr[0]);b.fromBufferAttribute(positionAttr,indexArr[1]);c.fromBufferAttribute(positionAttr,indexArr[2]);_triangle.getNormal(_normal);// create hashes for the edge from the vertices
hashes[0]="".concat(Math.round(a.x*precision),",").concat(Math.round(a.y*precision),",").concat(Math.round(a.z*precision));hashes[1]="".concat(Math.round(b.x*precision),",").concat(Math.round(b.y*precision),",").concat(Math.round(b.z*precision));hashes[2]="".concat(Math.round(c.x*precision),",").concat(Math.round(c.y*precision),",").concat(Math.round(c.z*precision));// skip degenerate triangles
if(hashes[0]===hashes[1]||hashes[1]===hashes[2]||hashes[2]===hashes[0]){continue;}// iterate over every edge
for(var j=0;j<3;j++){// get the first and next vertex making up the edge
var jNext=(j+1)%3;var vecHash0=hashes[j];var vecHash1=hashes[jNext];var v0=_triangle[vertKeys[j]];var v1=_triangle[vertKeys[jNext]];var hash="".concat(vecHash0,"_").concat(vecHash1);var reverseHash="".concat(vecHash1,"_").concat(vecHash0);if(reverseHash in edgeData&&edgeData[reverseHash]){// if we found a sibling edge add it into the vertex array if
// it meets the angle threshold and delete the edge from the map.
if(_normal.dot(edgeData[reverseHash].normal)<=thresholdDot){vertices.push(v0.x,v0.y,v0.z);vertices.push(v1.x,v1.y,v1.z);}edgeData[reverseHash]=null;}else if(!(hash in edgeData)){// if we've already got an edge here then skip adding a new one
edgeData[hash]={index0:indexArr[j],index1:indexArr[jNext],normal:_normal.clone()};}}}// iterate over all remaining, unmatched edges and add them to the vertex array
for(var key in edgeData){if(edgeData[key]){var _edgeData$key=edgeData[key],index0=_edgeData$key.index0,index1=_edgeData$key.index1;_v0.fromBufferAttribute(positionAttr,index0);_v1$1.fromBufferAttribute(positionAttr,index1);vertices.push(_v0.x,_v0.y,_v0.z);vertices.push(_v1$1.x,_v1$1.y,_v1$1.z);}}_this52.setAttribute('position',new Float32BufferAttribute(vertices,3));}return _this52;}return(0,_createClass2.default)(EdgesGeometry);}(BufferGeometry);/**
 * Extensible curve object.
 *
 * Some common of curve methods:
 * .getPoint( t, optionalTarget ), .getTangent( t, optionalTarget )
 * .getPointAt( u, optionalTarget ), .getTangentAt( u, optionalTarget )
 * .getPoints(), .getSpacedPoints()
 * .getLength()
 * .updateArcLengths()
 *
 * This following curves inherit from THREE.Curve:
 *
 * -- 2D curves --
 * THREE.ArcCurve
 * THREE.CubicBezierCurve
 * THREE.EllipseCurve
 * THREE.LineCurve
 * THREE.QuadraticBezierCurve
 * THREE.SplineCurve
 *
 * -- 3D curves --
 * THREE.CatmullRomCurve3
 * THREE.CubicBezierCurve3
 * THREE.LineCurve3
 * THREE.QuadraticBezierCurve3
 *
 * A series of curves can be represented as a THREE.CurvePath.
 *
 **/exports.EdgesGeometry=EdgesGeometry;var Curve=/*#__PURE__*/function(){function Curve(){(0,_classCallCheck2.default)(this,Curve);this.type='Curve';this.arcLengthDivisions=200;}// Virtual base class method to overwrite and implement in subclasses
//	- t [0 .. 1]
(0,_createClass2.default)(Curve,[{key:"getPoint",value:function getPoint(/* t, optionalTarget */){console.warn('THREE.Curve: .getPoint() not implemented.');return null;}// Get point at relative position in curve according to arc length
// - u [0 .. 1]
},{key:"getPointAt",value:function getPointAt(u,optionalTarget){var t=this.getUtoTmapping(u);return this.getPoint(t,optionalTarget);}// Get sequence of points using getPoint( t )
},{key:"getPoints",value:function getPoints(){var divisions=arguments.length>0&&arguments[0]!==undefined?arguments[0]:5;var points=[];for(var d=0;d<=divisions;d++){points.push(this.getPoint(d/divisions));}return points;}// Get sequence of points using getPointAt( u )
},{key:"getSpacedPoints",value:function getSpacedPoints(){var divisions=arguments.length>0&&arguments[0]!==undefined?arguments[0]:5;var points=[];for(var d=0;d<=divisions;d++){points.push(this.getPointAt(d/divisions));}return points;}// Get total curve arc length
},{key:"getLength",value:function getLength(){var lengths=this.getLengths();return lengths[lengths.length-1];}// Get list of cumulative segment lengths
},{key:"getLengths",value:function getLengths(){var divisions=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===divisions+1&&!this.needsUpdate){return this.cacheArcLengths;}this.needsUpdate=false;var cache=[];var current,last=this.getPoint(0);var sum=0;cache.push(0);for(var p=1;p<=divisions;p++){current=this.getPoint(p/divisions);sum+=current.distanceTo(last);cache.push(sum);last=current;}this.cacheArcLengths=cache;return cache;// { sums: cache, sum: sum }; Sum is in the last element.
}},{key:"updateArcLengths",value:function updateArcLengths(){this.needsUpdate=true;this.getLengths();}// Given u ( 0 .. 1 ), get a t to find p. This gives you points which are equidistant
},{key:"getUtoTmapping",value:function getUtoTmapping(u,distance){var arcLengths=this.getLengths();var i=0;var il=arcLengths.length;var targetArcLength;// The targeted u distance value to get
if(distance){targetArcLength=distance;}else{targetArcLength=u*arcLengths[il-1];}// binary search for the index with largest value smaller than target u distance
var low=0,high=il-1,comparison;while(low<=high){i=Math.floor(low+(high-low)/2);// less likely to overflow, though probably not issue here, JS doesn't really have integers, all numbers are floats
comparison=arcLengths[i]-targetArcLength;if(comparison<0){low=i+1;}else if(comparison>0){high=i-1;}else{high=i;break;// DONE
}}i=high;if(arcLengths[i]===targetArcLength){return i/(il-1);}// we could get finer grain at lengths, or use simple interpolation between two points
var lengthBefore=arcLengths[i];var lengthAfter=arcLengths[i+1];var segmentLength=lengthAfter-lengthBefore;// determine where we are between the 'before' and 'after' points
var segmentFraction=(targetArcLength-lengthBefore)/segmentLength;// add that fractional amount to t
var t=(i+segmentFraction)/(il-1);return t;}// Returns a unit vector tangent at t
// In case any sub curve does not implement its tangent derivation,
// 2 points a small delta apart will be used to find its gradient
// which seems to give a reasonable approximation
},{key:"getTangent",value:function getTangent(t,optionalTarget){var delta=0.0001;var t1=t-delta;var t2=t+delta;// Capping in case of danger
if(t1<0)t1=0;if(t2>1)t2=1;var pt1=this.getPoint(t1);var pt2=this.getPoint(t2);var tangent=optionalTarget||(pt1.isVector2?new Vector2():new Vector3());tangent.copy(pt2).sub(pt1).normalize();return tangent;}},{key:"getTangentAt",value:function getTangentAt(u,optionalTarget){var t=this.getUtoTmapping(u);return this.getTangent(t,optionalTarget);}},{key:"computeFrenetFrames",value:function computeFrenetFrames(segments,closed){// see http://www.cs.indiana.edu/pub/techreports/TR425.pdf
var normal=new Vector3();var tangents=[];var normals=[];var binormals=[];var vec=new Vector3();var mat=new Matrix4();// compute the tangent vectors for each segment on the curve
for(var i=0;i<=segments;i++){var u=i/segments;tangents[i]=this.getTangentAt(u,new Vector3());}// select an initial normal vector perpendicular to the first tangent vector,
// and in the direction of the minimum tangent xyz component
normals[0]=new Vector3();binormals[0]=new Vector3();var min=Number.MAX_VALUE;var tx=Math.abs(tangents[0].x);var ty=Math.abs(tangents[0].y);var tz=Math.abs(tangents[0].z);if(tx<=min){min=tx;normal.set(1,0,0);}if(ty<=min){min=ty;normal.set(0,1,0);}if(tz<=min){normal.set(0,0,1);}vec.crossVectors(tangents[0],normal).normalize();normals[0].crossVectors(tangents[0],vec);binormals[0].crossVectors(tangents[0],normals[0]);// compute the slowly-varying normal and binormal vectors for each segment on the curve
for(var _i109=1;_i109<=segments;_i109++){normals[_i109]=normals[_i109-1].clone();binormals[_i109]=binormals[_i109-1].clone();vec.crossVectors(tangents[_i109-1],tangents[_i109]);if(vec.length()>Number.EPSILON){vec.normalize();var theta=Math.acos(clamp(tangents[_i109-1].dot(tangents[_i109]),-1,1));// clamp for floating pt errors
normals[_i109].applyMatrix4(mat.makeRotationAxis(vec,theta));}binormals[_i109].crossVectors(tangents[_i109],normals[_i109]);}// if the curve is closed, postprocess the vectors so the first and last normal vectors are the same
if(closed===true){var _theta=Math.acos(clamp(normals[0].dot(normals[segments]),-1,1));_theta/=segments;if(tangents[0].dot(vec.crossVectors(normals[0],normals[segments]))>0){_theta=-_theta;}for(var _i110=1;_i110<=segments;_i110++){// twist a little...
normals[_i110].applyMatrix4(mat.makeRotationAxis(tangents[_i110],_theta*_i110));binormals[_i110].crossVectors(tangents[_i110],normals[_i110]);}}return{tangents:tangents,normals:normals,binormals:binormals};}},{key:"clone",value:function clone(){return new this.constructor().copy(this);}},{key:"copy",value:function copy(source){this.arcLengthDivisions=source.arcLengthDivisions;return this;}},{key:"toJSON",value:function toJSON(){var data={metadata:{version:4.5,type:'Curve',generator:'Curve.toJSON'}};data.arcLengthDivisions=this.arcLengthDivisions;data.type=this.type;return data;}},{key:"fromJSON",value:function fromJSON(json){this.arcLengthDivisions=json.arcLengthDivisions;return this;}}]);return Curve;}();exports.Curve=Curve;var EllipseCurve=/*#__PURE__*/function(_Curve){(0,_inherits2.default)(EllipseCurve,_Curve);var _super63=_createSuper(EllipseCurve);function EllipseCurve(){var _this53;var aX=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var aY=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var xRadius=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var yRadius=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;var aStartAngle=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;var aEndAngle=arguments.length>5&&arguments[5]!==undefined?arguments[5]:Math.PI*2;var aClockwise=arguments.length>6&&arguments[6]!==undefined?arguments[6]:false;var aRotation=arguments.length>7&&arguments[7]!==undefined?arguments[7]:0;(0,_classCallCheck2.default)(this,EllipseCurve);_this53=_super63.call(this);_this53.type='EllipseCurve';_this53.aX=aX;_this53.aY=aY;_this53.xRadius=xRadius;_this53.yRadius=yRadius;_this53.aStartAngle=aStartAngle;_this53.aEndAngle=aEndAngle;_this53.aClockwise=aClockwise;_this53.aRotation=aRotation;return _this53;}(0,_createClass2.default)(EllipseCurve,[{key:"getPoint",value:function getPoint(t,optionalTarget){var point=optionalTarget||new Vector2();var twoPi=Math.PI*2;var deltaAngle=this.aEndAngle-this.aStartAngle;var samePoints=Math.abs(deltaAngle)<Number.EPSILON;// ensures that deltaAngle is 0 .. 2 PI
while(deltaAngle<0){deltaAngle+=twoPi;}while(deltaAngle>twoPi){deltaAngle-=twoPi;}if(deltaAngle<Number.EPSILON){if(samePoints){deltaAngle=0;}else{deltaAngle=twoPi;}}if(this.aClockwise===true&&!samePoints){if(deltaAngle===twoPi){deltaAngle=-twoPi;}else{deltaAngle=deltaAngle-twoPi;}}var angle=this.aStartAngle+t*deltaAngle;var x=this.aX+this.xRadius*Math.cos(angle);var y=this.aY+this.yRadius*Math.sin(angle);if(this.aRotation!==0){var cos=Math.cos(this.aRotation);var sin=Math.sin(this.aRotation);var tx=x-this.aX;var ty=y-this.aY;// Rotate the point about the center of the ellipse.
x=tx*cos-ty*sin+this.aX;y=tx*sin+ty*cos+this.aY;}return point.set(x,y);}},{key:"copy",value:function copy(source){(0,_get2.default)((0,_getPrototypeOf2.default)(EllipseCurve.prototype),"copy",this).call(this,source);this.aX=source.aX;this.aY=source.aY;this.xRadius=source.xRadius;this.yRadius=source.yRadius;this.aStartAngle=source.aStartAngle;this.aEndAngle=source.aEndAngle;this.aClockwise=source.aClockwise;this.aRotation=source.aRotation;return this;}},{key:"toJSON",value:function toJSON(){var data=(0,_get2.default)((0,_getPrototypeOf2.default)(EllipseCurve.prototype),"toJSON",this).call(this);data.aX=this.aX;data.aY=this.aY;data.xRadius=this.xRadius;data.yRadius=this.yRadius;data.aStartAngle=this.aStartAngle;data.aEndAngle=this.aEndAngle;data.aClockwise=this.aClockwise;data.aRotation=this.aRotation;return data;}},{key:"fromJSON",value:function fromJSON(json){(0,_get2.default)((0,_getPrototypeOf2.default)(EllipseCurve.prototype),"fromJSON",this).call(this,json);this.aX=json.aX;this.aY=json.aY;this.xRadius=json.xRadius;this.yRadius=json.yRadius;this.aStartAngle=json.aStartAngle;this.aEndAngle=json.aEndAngle;this.aClockwise=json.aClockwise;this.aRotation=json.aRotation;return this;}}]);return EllipseCurve;}(Curve);exports.EllipseCurve=EllipseCurve;EllipseCurve.prototype.isEllipseCurve=true;var ArcCurve=/*#__PURE__*/function(_EllipseCurve){(0,_inherits2.default)(ArcCurve,_EllipseCurve);var _super64=_createSuper(ArcCurve);function ArcCurve(aX,aY,aRadius,aStartAngle,aEndAngle,aClockwise){var _this54;(0,_classCallCheck2.default)(this,ArcCurve);_this54=_super64.call(this,aX,aY,aRadius,aRadius,aStartAngle,aEndAngle,aClockwise);_this54.type='ArcCurve';return _this54;}return(0,_createClass2.default)(ArcCurve);}(EllipseCurve);exports.ArcCurve=ArcCurve;ArcCurve.prototype.isArcCurve=true;/**
 * Centripetal CatmullRom Curve - which is useful for avoiding
 * cusps and self-intersections in non-uniform catmull rom curves.
 * http://www.cemyuksel.com/research/catmullrom_param/catmullrom.pdf
 *
 * curve.type accepts centripetal(default), chordal and catmullrom
 * curve.tension is used for catmullrom which defaults to 0.5
 */ /*
Based on an optimized c++ solution in
 - http://stackoverflow.com/questions/9489736/catmull-rom-curve-with-no-cusps-and-no-self-intersections/
 - http://ideone.com/NoEbVM

This CubicPoly class could be used for reusing some variables and calculations,
but for three.js curve use, it could be possible inlined and flatten into a single function call
which can be placed in CurveUtils.
*/function CubicPoly(){var c0=0,c1=0,c2=0,c3=0;/*
	 * Compute coefficients for a cubic polynomial
	 *   p(s) = c0 + c1*s + c2*s^2 + c3*s^3
	 * such that
	 *   p(0) = x0, p(1) = x1
	 *  and
	 *   p'(0) = t0, p'(1) = t1.
	 */function init(x0,x1,t0,t1){c0=x0;c1=t0;c2=-3*x0+3*x1-2*t0-t1;c3=2*x0-2*x1+t0+t1;}return{initCatmullRom:function initCatmullRom(x0,x1,x2,x3,tension){init(x1,x2,tension*(x2-x0),tension*(x3-x1));},initNonuniformCatmullRom:function initNonuniformCatmullRom(x0,x1,x2,x3,dt0,dt1,dt2){// compute tangents when parameterized in [t1,t2]
var t1=(x1-x0)/dt0-(x2-x0)/(dt0+dt1)+(x2-x1)/dt1;var t2=(x2-x1)/dt1-(x3-x1)/(dt1+dt2)+(x3-x2)/dt2;// rescale tangents for parametrization in [0,1]
t1*=dt1;t2*=dt1;init(x1,x2,t1,t2);},calc:function calc(t){var t2=t*t;var t3=t2*t;return c0+c1*t+c2*t2+c3*t3;}};}//
var tmp=new Vector3();var px=new CubicPoly(),py=new CubicPoly(),pz=new CubicPoly();var CatmullRomCurve3=/*#__PURE__*/function(_Curve2){(0,_inherits2.default)(CatmullRomCurve3,_Curve2);var _super65=_createSuper(CatmullRomCurve3);function CatmullRomCurve3(){var _this55;var points=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var closed=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var curveType=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'centripetal';var tension=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0.5;(0,_classCallCheck2.default)(this,CatmullRomCurve3);_this55=_super65.call(this);_this55.type='CatmullRomCurve3';_this55.points=points;_this55.closed=closed;_this55.curveType=curveType;_this55.tension=tension;return _this55;}(0,_createClass2.default)(CatmullRomCurve3,[{key:"getPoint",value:function getPoint(t){var optionalTarget=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new Vector3();var point=optionalTarget;var points=this.points;var l=points.length;var p=(l-(this.closed?0:1))*t;var intPoint=Math.floor(p);var weight=p-intPoint;if(this.closed){intPoint+=intPoint>0?0:(Math.floor(Math.abs(intPoint)/l)+1)*l;}else if(weight===0&&intPoint===l-1){intPoint=l-2;weight=1;}var p0,p3;// 4 points (p1 & p2 defined below)
if(this.closed||intPoint>0){p0=points[(intPoint-1)%l];}else{// extrapolate first point
tmp.subVectors(points[0],points[1]).add(points[0]);p0=tmp;}var p1=points[intPoint%l];var p2=points[(intPoint+1)%l];if(this.closed||intPoint+2<l){p3=points[(intPoint+2)%l];}else{// extrapolate last point
tmp.subVectors(points[l-1],points[l-2]).add(points[l-1]);p3=tmp;}if(this.curveType==='centripetal'||this.curveType==='chordal'){// init Centripetal / Chordal Catmull-Rom
var pow=this.curveType==='chordal'?0.5:0.25;var dt0=Math.pow(p0.distanceToSquared(p1),pow);var dt1=Math.pow(p1.distanceToSquared(p2),pow);var dt2=Math.pow(p2.distanceToSquared(p3),pow);// safety check for repeated points
if(dt1<1e-4)dt1=1.0;if(dt0<1e-4)dt0=dt1;if(dt2<1e-4)dt2=dt1;px.initNonuniformCatmullRom(p0.x,p1.x,p2.x,p3.x,dt0,dt1,dt2);py.initNonuniformCatmullRom(p0.y,p1.y,p2.y,p3.y,dt0,dt1,dt2);pz.initNonuniformCatmullRom(p0.z,p1.z,p2.z,p3.z,dt0,dt1,dt2);}else if(this.curveType==='catmullrom'){px.initCatmullRom(p0.x,p1.x,p2.x,p3.x,this.tension);py.initCatmullRom(p0.y,p1.y,p2.y,p3.y,this.tension);pz.initCatmullRom(p0.z,p1.z,p2.z,p3.z,this.tension);}point.set(px.calc(weight),py.calc(weight),pz.calc(weight));return point;}},{key:"copy",value:function copy(source){(0,_get2.default)((0,_getPrototypeOf2.default)(CatmullRomCurve3.prototype),"copy",this).call(this,source);this.points=[];for(var i=0,l=source.points.length;i<l;i++){var point=source.points[i];this.points.push(point.clone());}this.closed=source.closed;this.curveType=source.curveType;this.tension=source.tension;return this;}},{key:"toJSON",value:function toJSON(){var data=(0,_get2.default)((0,_getPrototypeOf2.default)(CatmullRomCurve3.prototype),"toJSON",this).call(this);data.points=[];for(var i=0,l=this.points.length;i<l;i++){var point=this.points[i];data.points.push(point.toArray());}data.closed=this.closed;data.curveType=this.curveType;data.tension=this.tension;return data;}},{key:"fromJSON",value:function fromJSON(json){(0,_get2.default)((0,_getPrototypeOf2.default)(CatmullRomCurve3.prototype),"fromJSON",this).call(this,json);this.points=[];for(var i=0,l=json.points.length;i<l;i++){var point=json.points[i];this.points.push(new Vector3().fromArray(point));}this.closed=json.closed;this.curveType=json.curveType;this.tension=json.tension;return this;}}]);return CatmullRomCurve3;}(Curve);exports.CatmullRomCurve3=CatmullRomCurve3;CatmullRomCurve3.prototype.isCatmullRomCurve3=true;/**
 * Bezier Curves formulas obtained from
 * http://en.wikipedia.org/wiki/Bézier_curve
 */function CatmullRom(t,p0,p1,p2,p3){var v0=(p2-p0)*0.5;var v1=(p3-p1)*0.5;var t2=t*t;var t3=t*t2;return(2*p1-2*p2+v0+v1)*t3+(-3*p1+3*p2-2*v0-v1)*t2+v0*t+p1;}//
function QuadraticBezierP0(t,p){var k=1-t;return k*k*p;}function QuadraticBezierP1(t,p){return 2*(1-t)*t*p;}function QuadraticBezierP2(t,p){return t*t*p;}function QuadraticBezier(t,p0,p1,p2){return QuadraticBezierP0(t,p0)+QuadraticBezierP1(t,p1)+QuadraticBezierP2(t,p2);}//
function CubicBezierP0(t,p){var k=1-t;return k*k*k*p;}function CubicBezierP1(t,p){var k=1-t;return 3*k*k*t*p;}function CubicBezierP2(t,p){return 3*(1-t)*t*t*p;}function CubicBezierP3(t,p){return t*t*t*p;}function CubicBezier(t,p0,p1,p2,p3){return CubicBezierP0(t,p0)+CubicBezierP1(t,p1)+CubicBezierP2(t,p2)+CubicBezierP3(t,p3);}var CubicBezierCurve=/*#__PURE__*/function(_Curve3){(0,_inherits2.default)(CubicBezierCurve,_Curve3);var _super66=_createSuper(CubicBezierCurve);function CubicBezierCurve(){var _this56;var v0=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new Vector2();var v1=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new Vector2();var v2=arguments.length>2&&arguments[2]!==undefined?arguments[2]:new Vector2();var v3=arguments.length>3&&arguments[3]!==undefined?arguments[3]:new Vector2();(0,_classCallCheck2.default)(this,CubicBezierCurve);_this56=_super66.call(this);_this56.type='CubicBezierCurve';_this56.v0=v0;_this56.v1=v1;_this56.v2=v2;_this56.v3=v3;return _this56;}(0,_createClass2.default)(CubicBezierCurve,[{key:"getPoint",value:function getPoint(t){var optionalTarget=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new Vector2();var point=optionalTarget;var v0=this.v0,v1=this.v1,v2=this.v2,v3=this.v3;point.set(CubicBezier(t,v0.x,v1.x,v2.x,v3.x),CubicBezier(t,v0.y,v1.y,v2.y,v3.y));return point;}},{key:"copy",value:function copy(source){(0,_get2.default)((0,_getPrototypeOf2.default)(CubicBezierCurve.prototype),"copy",this).call(this,source);this.v0.copy(source.v0);this.v1.copy(source.v1);this.v2.copy(source.v2);this.v3.copy(source.v3);return this;}},{key:"toJSON",value:function toJSON(){var data=(0,_get2.default)((0,_getPrototypeOf2.default)(CubicBezierCurve.prototype),"toJSON",this).call(this);data.v0=this.v0.toArray();data.v1=this.v1.toArray();data.v2=this.v2.toArray();data.v3=this.v3.toArray();return data;}},{key:"fromJSON",value:function fromJSON(json){(0,_get2.default)((0,_getPrototypeOf2.default)(CubicBezierCurve.prototype),"fromJSON",this).call(this,json);this.v0.fromArray(json.v0);this.v1.fromArray(json.v1);this.v2.fromArray(json.v2);this.v3.fromArray(json.v3);return this;}}]);return CubicBezierCurve;}(Curve);exports.CubicBezierCurve=CubicBezierCurve;CubicBezierCurve.prototype.isCubicBezierCurve=true;var CubicBezierCurve3=/*#__PURE__*/function(_Curve4){(0,_inherits2.default)(CubicBezierCurve3,_Curve4);var _super67=_createSuper(CubicBezierCurve3);function CubicBezierCurve3(){var _this57;var v0=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new Vector3();var v1=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new Vector3();var v2=arguments.length>2&&arguments[2]!==undefined?arguments[2]:new Vector3();var v3=arguments.length>3&&arguments[3]!==undefined?arguments[3]:new Vector3();(0,_classCallCheck2.default)(this,CubicBezierCurve3);_this57=_super67.call(this);_this57.type='CubicBezierCurve3';_this57.v0=v0;_this57.v1=v1;_this57.v2=v2;_this57.v3=v3;return _this57;}(0,_createClass2.default)(CubicBezierCurve3,[{key:"getPoint",value:function getPoint(t){var optionalTarget=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new Vector3();var point=optionalTarget;var v0=this.v0,v1=this.v1,v2=this.v2,v3=this.v3;point.set(CubicBezier(t,v0.x,v1.x,v2.x,v3.x),CubicBezier(t,v0.y,v1.y,v2.y,v3.y),CubicBezier(t,v0.z,v1.z,v2.z,v3.z));return point;}},{key:"copy",value:function copy(source){(0,_get2.default)((0,_getPrototypeOf2.default)(CubicBezierCurve3.prototype),"copy",this).call(this,source);this.v0.copy(source.v0);this.v1.copy(source.v1);this.v2.copy(source.v2);this.v3.copy(source.v3);return this;}},{key:"toJSON",value:function toJSON(){var data=(0,_get2.default)((0,_getPrototypeOf2.default)(CubicBezierCurve3.prototype),"toJSON",this).call(this);data.v0=this.v0.toArray();data.v1=this.v1.toArray();data.v2=this.v2.toArray();data.v3=this.v3.toArray();return data;}},{key:"fromJSON",value:function fromJSON(json){(0,_get2.default)((0,_getPrototypeOf2.default)(CubicBezierCurve3.prototype),"fromJSON",this).call(this,json);this.v0.fromArray(json.v0);this.v1.fromArray(json.v1);this.v2.fromArray(json.v2);this.v3.fromArray(json.v3);return this;}}]);return CubicBezierCurve3;}(Curve);exports.CubicBezierCurve3=CubicBezierCurve3;CubicBezierCurve3.prototype.isCubicBezierCurve3=true;var LineCurve=/*#__PURE__*/function(_Curve5){(0,_inherits2.default)(LineCurve,_Curve5);var _super68=_createSuper(LineCurve);function LineCurve(){var _this58;var v1=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new Vector2();var v2=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new Vector2();(0,_classCallCheck2.default)(this,LineCurve);_this58=_super68.call(this);_this58.type='LineCurve';_this58.v1=v1;_this58.v2=v2;return _this58;}(0,_createClass2.default)(LineCurve,[{key:"getPoint",value:function getPoint(t){var optionalTarget=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new Vector2();var point=optionalTarget;if(t===1){point.copy(this.v2);}else{point.copy(this.v2).sub(this.v1);point.multiplyScalar(t).add(this.v1);}return point;}// Line curve is linear, so we can overwrite default getPointAt
},{key:"getPointAt",value:function getPointAt(u,optionalTarget){return this.getPoint(u,optionalTarget);}},{key:"getTangent",value:function getTangent(t,optionalTarget){var tangent=optionalTarget||new Vector2();tangent.copy(this.v2).sub(this.v1).normalize();return tangent;}},{key:"copy",value:function copy(source){(0,_get2.default)((0,_getPrototypeOf2.default)(LineCurve.prototype),"copy",this).call(this,source);this.v1.copy(source.v1);this.v2.copy(source.v2);return this;}},{key:"toJSON",value:function toJSON(){var data=(0,_get2.default)((0,_getPrototypeOf2.default)(LineCurve.prototype),"toJSON",this).call(this);data.v1=this.v1.toArray();data.v2=this.v2.toArray();return data;}},{key:"fromJSON",value:function fromJSON(json){(0,_get2.default)((0,_getPrototypeOf2.default)(LineCurve.prototype),"fromJSON",this).call(this,json);this.v1.fromArray(json.v1);this.v2.fromArray(json.v2);return this;}}]);return LineCurve;}(Curve);exports.LineCurve=LineCurve;LineCurve.prototype.isLineCurve=true;var LineCurve3=/*#__PURE__*/function(_Curve6){(0,_inherits2.default)(LineCurve3,_Curve6);var _super69=_createSuper(LineCurve3);function LineCurve3(){var _this59;var v1=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new Vector3();var v2=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new Vector3();(0,_classCallCheck2.default)(this,LineCurve3);_this59=_super69.call(this);_this59.type='LineCurve3';_this59.isLineCurve3=true;_this59.v1=v1;_this59.v2=v2;return _this59;}(0,_createClass2.default)(LineCurve3,[{key:"getPoint",value:function getPoint(t){var optionalTarget=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new Vector3();var point=optionalTarget;if(t===1){point.copy(this.v2);}else{point.copy(this.v2).sub(this.v1);point.multiplyScalar(t).add(this.v1);}return point;}// Line curve is linear, so we can overwrite default getPointAt
},{key:"getPointAt",value:function getPointAt(u,optionalTarget){return this.getPoint(u,optionalTarget);}},{key:"copy",value:function copy(source){(0,_get2.default)((0,_getPrototypeOf2.default)(LineCurve3.prototype),"copy",this).call(this,source);this.v1.copy(source.v1);this.v2.copy(source.v2);return this;}},{key:"toJSON",value:function toJSON(){var data=(0,_get2.default)((0,_getPrototypeOf2.default)(LineCurve3.prototype),"toJSON",this).call(this);data.v1=this.v1.toArray();data.v2=this.v2.toArray();return data;}},{key:"fromJSON",value:function fromJSON(json){(0,_get2.default)((0,_getPrototypeOf2.default)(LineCurve3.prototype),"fromJSON",this).call(this,json);this.v1.fromArray(json.v1);this.v2.fromArray(json.v2);return this;}}]);return LineCurve3;}(Curve);exports.LineCurve3=LineCurve3;var QuadraticBezierCurve=/*#__PURE__*/function(_Curve7){(0,_inherits2.default)(QuadraticBezierCurve,_Curve7);var _super70=_createSuper(QuadraticBezierCurve);function QuadraticBezierCurve(){var _this60;var v0=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new Vector2();var v1=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new Vector2();var v2=arguments.length>2&&arguments[2]!==undefined?arguments[2]:new Vector2();(0,_classCallCheck2.default)(this,QuadraticBezierCurve);_this60=_super70.call(this);_this60.type='QuadraticBezierCurve';_this60.v0=v0;_this60.v1=v1;_this60.v2=v2;return _this60;}(0,_createClass2.default)(QuadraticBezierCurve,[{key:"getPoint",value:function getPoint(t){var optionalTarget=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new Vector2();var point=optionalTarget;var v0=this.v0,v1=this.v1,v2=this.v2;point.set(QuadraticBezier(t,v0.x,v1.x,v2.x),QuadraticBezier(t,v0.y,v1.y,v2.y));return point;}},{key:"copy",value:function copy(source){(0,_get2.default)((0,_getPrototypeOf2.default)(QuadraticBezierCurve.prototype),"copy",this).call(this,source);this.v0.copy(source.v0);this.v1.copy(source.v1);this.v2.copy(source.v2);return this;}},{key:"toJSON",value:function toJSON(){var data=(0,_get2.default)((0,_getPrototypeOf2.default)(QuadraticBezierCurve.prototype),"toJSON",this).call(this);data.v0=this.v0.toArray();data.v1=this.v1.toArray();data.v2=this.v2.toArray();return data;}},{key:"fromJSON",value:function fromJSON(json){(0,_get2.default)((0,_getPrototypeOf2.default)(QuadraticBezierCurve.prototype),"fromJSON",this).call(this,json);this.v0.fromArray(json.v0);this.v1.fromArray(json.v1);this.v2.fromArray(json.v2);return this;}}]);return QuadraticBezierCurve;}(Curve);exports.QuadraticBezierCurve=QuadraticBezierCurve;QuadraticBezierCurve.prototype.isQuadraticBezierCurve=true;var QuadraticBezierCurve3=/*#__PURE__*/function(_Curve8){(0,_inherits2.default)(QuadraticBezierCurve3,_Curve8);var _super71=_createSuper(QuadraticBezierCurve3);function QuadraticBezierCurve3(){var _this61;var v0=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new Vector3();var v1=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new Vector3();var v2=arguments.length>2&&arguments[2]!==undefined?arguments[2]:new Vector3();(0,_classCallCheck2.default)(this,QuadraticBezierCurve3);_this61=_super71.call(this);_this61.type='QuadraticBezierCurve3';_this61.v0=v0;_this61.v1=v1;_this61.v2=v2;return _this61;}(0,_createClass2.default)(QuadraticBezierCurve3,[{key:"getPoint",value:function getPoint(t){var optionalTarget=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new Vector3();var point=optionalTarget;var v0=this.v0,v1=this.v1,v2=this.v2;point.set(QuadraticBezier(t,v0.x,v1.x,v2.x),QuadraticBezier(t,v0.y,v1.y,v2.y),QuadraticBezier(t,v0.z,v1.z,v2.z));return point;}},{key:"copy",value:function copy(source){(0,_get2.default)((0,_getPrototypeOf2.default)(QuadraticBezierCurve3.prototype),"copy",this).call(this,source);this.v0.copy(source.v0);this.v1.copy(source.v1);this.v2.copy(source.v2);return this;}},{key:"toJSON",value:function toJSON(){var data=(0,_get2.default)((0,_getPrototypeOf2.default)(QuadraticBezierCurve3.prototype),"toJSON",this).call(this);data.v0=this.v0.toArray();data.v1=this.v1.toArray();data.v2=this.v2.toArray();return data;}},{key:"fromJSON",value:function fromJSON(json){(0,_get2.default)((0,_getPrototypeOf2.default)(QuadraticBezierCurve3.prototype),"fromJSON",this).call(this,json);this.v0.fromArray(json.v0);this.v1.fromArray(json.v1);this.v2.fromArray(json.v2);return this;}}]);return QuadraticBezierCurve3;}(Curve);exports.QuadraticBezierCurve3=QuadraticBezierCurve3;QuadraticBezierCurve3.prototype.isQuadraticBezierCurve3=true;var SplineCurve=/*#__PURE__*/function(_Curve9){(0,_inherits2.default)(SplineCurve,_Curve9);var _super72=_createSuper(SplineCurve);function SplineCurve(){var _this62;var points=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];(0,_classCallCheck2.default)(this,SplineCurve);_this62=_super72.call(this);_this62.type='SplineCurve';_this62.points=points;return _this62;}(0,_createClass2.default)(SplineCurve,[{key:"getPoint",value:function getPoint(t){var optionalTarget=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new Vector2();var point=optionalTarget;var points=this.points;var p=(points.length-1)*t;var intPoint=Math.floor(p);var weight=p-intPoint;var p0=points[intPoint===0?intPoint:intPoint-1];var p1=points[intPoint];var p2=points[intPoint>points.length-2?points.length-1:intPoint+1];var p3=points[intPoint>points.length-3?points.length-1:intPoint+2];point.set(CatmullRom(weight,p0.x,p1.x,p2.x,p3.x),CatmullRom(weight,p0.y,p1.y,p2.y,p3.y));return point;}},{key:"copy",value:function copy(source){(0,_get2.default)((0,_getPrototypeOf2.default)(SplineCurve.prototype),"copy",this).call(this,source);this.points=[];for(var i=0,l=source.points.length;i<l;i++){var point=source.points[i];this.points.push(point.clone());}return this;}},{key:"toJSON",value:function toJSON(){var data=(0,_get2.default)((0,_getPrototypeOf2.default)(SplineCurve.prototype),"toJSON",this).call(this);data.points=[];for(var i=0,l=this.points.length;i<l;i++){var point=this.points[i];data.points.push(point.toArray());}return data;}},{key:"fromJSON",value:function fromJSON(json){(0,_get2.default)((0,_getPrototypeOf2.default)(SplineCurve.prototype),"fromJSON",this).call(this,json);this.points=[];for(var i=0,l=json.points.length;i<l;i++){var point=json.points[i];this.points.push(new Vector2().fromArray(point));}return this;}}]);return SplineCurve;}(Curve);exports.SplineCurve=SplineCurve;SplineCurve.prototype.isSplineCurve=true;var Curves=/*#__PURE__*/Object.freeze({__proto__:null,ArcCurve:ArcCurve,CatmullRomCurve3:CatmullRomCurve3,CubicBezierCurve:CubicBezierCurve,CubicBezierCurve3:CubicBezierCurve3,EllipseCurve:EllipseCurve,LineCurve:LineCurve,LineCurve3:LineCurve3,QuadraticBezierCurve:QuadraticBezierCurve,QuadraticBezierCurve3:QuadraticBezierCurve3,SplineCurve:SplineCurve});/**************************************************************
 *	Curved Path - a curve path is simply a array of connected
 *  curves, but retains the api of a curve
 **************************************************************/var CurvePath=/*#__PURE__*/function(_Curve10){(0,_inherits2.default)(CurvePath,_Curve10);var _super73=_createSuper(CurvePath);function CurvePath(){var _this63;(0,_classCallCheck2.default)(this,CurvePath);_this63=_super73.call(this);_this63.type='CurvePath';_this63.curves=[];_this63.autoClose=false;// Automatically closes the path
return _this63;}(0,_createClass2.default)(CurvePath,[{key:"add",value:function add(curve){this.curves.push(curve);}},{key:"closePath",value:function closePath(){// Add a line curve if start and end of lines are not connected
var startPoint=this.curves[0].getPoint(0);var endPoint=this.curves[this.curves.length-1].getPoint(1);if(!startPoint.equals(endPoint)){this.curves.push(new LineCurve(endPoint,startPoint));}}// To get accurate point with reference to
// entire path distance at time t,
// following has to be done:
// 1. Length of each sub path have to be known
// 2. Locate and identify type of curve
// 3. Get t for the curve
// 4. Return curve.getPointAt(t')
},{key:"getPoint",value:function getPoint(t,optionalTarget){var d=t*this.getLength();var curveLengths=this.getCurveLengths();var i=0;// To think about boundaries points.
while(i<curveLengths.length){if(curveLengths[i]>=d){var diff=curveLengths[i]-d;var curve=this.curves[i];var segmentLength=curve.getLength();var u=segmentLength===0?0:1-diff/segmentLength;return curve.getPointAt(u,optionalTarget);}i++;}return null;// loop where sum != 0, sum > d , sum+1 <d
}// We cannot use the default THREE.Curve getPoint() with getLength() because in
// THREE.Curve, getLength() depends on getPoint() but in THREE.CurvePath
// getPoint() depends on getLength
},{key:"getLength",value:function getLength(){var lens=this.getCurveLengths();return lens[lens.length-1];}// cacheLengths must be recalculated.
},{key:"updateArcLengths",value:function updateArcLengths(){this.needsUpdate=true;this.cacheLengths=null;this.getCurveLengths();}// Compute lengths and cache them
// We cannot overwrite getLengths() because UtoT mapping uses it.
},{key:"getCurveLengths",value:function getCurveLengths(){// We use cache values if curves and cache array are same length
if(this.cacheLengths&&this.cacheLengths.length===this.curves.length){return this.cacheLengths;}// Get length of sub-curve
// Push sums into cached array
var lengths=[];var sums=0;for(var i=0,l=this.curves.length;i<l;i++){sums+=this.curves[i].getLength();lengths.push(sums);}this.cacheLengths=lengths;return lengths;}},{key:"getSpacedPoints",value:function getSpacedPoints(){var divisions=arguments.length>0&&arguments[0]!==undefined?arguments[0]:40;var points=[];for(var i=0;i<=divisions;i++){points.push(this.getPoint(i/divisions));}if(this.autoClose){points.push(points[0]);}return points;}},{key:"getPoints",value:function getPoints(){var divisions=arguments.length>0&&arguments[0]!==undefined?arguments[0]:12;var points=[];var last;for(var i=0,curves=this.curves;i<curves.length;i++){var curve=curves[i];var resolution=curve&&curve.isEllipseCurve?divisions*2:curve&&(curve.isLineCurve||curve.isLineCurve3)?1:curve&&curve.isSplineCurve?divisions*curve.points.length:divisions;var pts=curve.getPoints(resolution);for(var j=0;j<pts.length;j++){var point=pts[j];if(last&&last.equals(point))continue;// ensures no consecutive points are duplicates
points.push(point);last=point;}}if(this.autoClose&&points.length>1&&!points[points.length-1].equals(points[0])){points.push(points[0]);}return points;}},{key:"copy",value:function copy(source){(0,_get2.default)((0,_getPrototypeOf2.default)(CurvePath.prototype),"copy",this).call(this,source);this.curves=[];for(var i=0,l=source.curves.length;i<l;i++){var curve=source.curves[i];this.curves.push(curve.clone());}this.autoClose=source.autoClose;return this;}},{key:"toJSON",value:function toJSON(){var data=(0,_get2.default)((0,_getPrototypeOf2.default)(CurvePath.prototype),"toJSON",this).call(this);data.autoClose=this.autoClose;data.curves=[];for(var i=0,l=this.curves.length;i<l;i++){var curve=this.curves[i];data.curves.push(curve.toJSON());}return data;}},{key:"fromJSON",value:function fromJSON(json){(0,_get2.default)((0,_getPrototypeOf2.default)(CurvePath.prototype),"fromJSON",this).call(this,json);this.autoClose=json.autoClose;this.curves=[];for(var i=0,l=json.curves.length;i<l;i++){var curve=json.curves[i];this.curves.push(new Curves[curve.type]().fromJSON(curve));}return this;}}]);return CurvePath;}(Curve);exports.CurvePath=CurvePath;var Path=/*#__PURE__*/function(_CurvePath){(0,_inherits2.default)(Path,_CurvePath);var _super74=_createSuper(Path);function Path(points){var _this64;(0,_classCallCheck2.default)(this,Path);_this64=_super74.call(this);_this64.type='Path';_this64.currentPoint=new Vector2();if(points){_this64.setFromPoints(points);}return _this64;}(0,_createClass2.default)(Path,[{key:"setFromPoints",value:function setFromPoints(points){this.moveTo(points[0].x,points[0].y);for(var i=1,l=points.length;i<l;i++){this.lineTo(points[i].x,points[i].y);}return this;}},{key:"moveTo",value:function moveTo(x,y){this.currentPoint.set(x,y);// TODO consider referencing vectors instead of copying?
return this;}},{key:"lineTo",value:function lineTo(x,y){var curve=new LineCurve(this.currentPoint.clone(),new Vector2(x,y));this.curves.push(curve);this.currentPoint.set(x,y);return this;}},{key:"quadraticCurveTo",value:function quadraticCurveTo(aCPx,aCPy,aX,aY){var curve=new QuadraticBezierCurve(this.currentPoint.clone(),new Vector2(aCPx,aCPy),new Vector2(aX,aY));this.curves.push(curve);this.currentPoint.set(aX,aY);return this;}},{key:"bezierCurveTo",value:function bezierCurveTo(aCP1x,aCP1y,aCP2x,aCP2y,aX,aY){var curve=new CubicBezierCurve(this.currentPoint.clone(),new Vector2(aCP1x,aCP1y),new Vector2(aCP2x,aCP2y),new Vector2(aX,aY));this.curves.push(curve);this.currentPoint.set(aX,aY);return this;}},{key:"splineThru",value:function splineThru(pts/*Array of Vector*/){var npts=[this.currentPoint.clone()].concat(pts);var curve=new SplineCurve(npts);this.curves.push(curve);this.currentPoint.copy(pts[pts.length-1]);return this;}},{key:"arc",value:function arc(aX,aY,aRadius,aStartAngle,aEndAngle,aClockwise){var x0=this.currentPoint.x;var y0=this.currentPoint.y;this.absarc(aX+x0,aY+y0,aRadius,aStartAngle,aEndAngle,aClockwise);return this;}},{key:"absarc",value:function absarc(aX,aY,aRadius,aStartAngle,aEndAngle,aClockwise){this.absellipse(aX,aY,aRadius,aRadius,aStartAngle,aEndAngle,aClockwise);return this;}},{key:"ellipse",value:function ellipse(aX,aY,xRadius,yRadius,aStartAngle,aEndAngle,aClockwise,aRotation){var x0=this.currentPoint.x;var y0=this.currentPoint.y;this.absellipse(aX+x0,aY+y0,xRadius,yRadius,aStartAngle,aEndAngle,aClockwise,aRotation);return this;}},{key:"absellipse",value:function absellipse(aX,aY,xRadius,yRadius,aStartAngle,aEndAngle,aClockwise,aRotation){var curve=new EllipseCurve(aX,aY,xRadius,yRadius,aStartAngle,aEndAngle,aClockwise,aRotation);if(this.curves.length>0){// if a previous curve is present, attempt to join
var firstPoint=curve.getPoint(0);if(!firstPoint.equals(this.currentPoint)){this.lineTo(firstPoint.x,firstPoint.y);}}this.curves.push(curve);var lastPoint=curve.getPoint(1);this.currentPoint.copy(lastPoint);return this;}},{key:"copy",value:function copy(source){(0,_get2.default)((0,_getPrototypeOf2.default)(Path.prototype),"copy",this).call(this,source);this.currentPoint.copy(source.currentPoint);return this;}},{key:"toJSON",value:function toJSON(){var data=(0,_get2.default)((0,_getPrototypeOf2.default)(Path.prototype),"toJSON",this).call(this);data.currentPoint=this.currentPoint.toArray();return data;}},{key:"fromJSON",value:function fromJSON(json){(0,_get2.default)((0,_getPrototypeOf2.default)(Path.prototype),"fromJSON",this).call(this,json);this.currentPoint.fromArray(json.currentPoint);return this;}}]);return Path;}(CurvePath);exports.Path=Path;var Shape=/*#__PURE__*/function(_Path){(0,_inherits2.default)(Shape,_Path);var _super75=_createSuper(Shape);function Shape(points){var _this65;(0,_classCallCheck2.default)(this,Shape);_this65=_super75.call(this,points);_this65.uuid=generateUUID();_this65.type='Shape';_this65.holes=[];return _this65;}(0,_createClass2.default)(Shape,[{key:"getPointsHoles",value:function getPointsHoles(divisions){var holesPts=[];for(var i=0,l=this.holes.length;i<l;i++){holesPts[i]=this.holes[i].getPoints(divisions);}return holesPts;}// get points of shape and holes (keypoints based on segments parameter)
},{key:"extractPoints",value:function extractPoints(divisions){return{shape:this.getPoints(divisions),holes:this.getPointsHoles(divisions)};}},{key:"copy",value:function copy(source){(0,_get2.default)((0,_getPrototypeOf2.default)(Shape.prototype),"copy",this).call(this,source);this.holes=[];for(var i=0,l=source.holes.length;i<l;i++){var hole=source.holes[i];this.holes.push(hole.clone());}return this;}},{key:"toJSON",value:function toJSON(){var data=(0,_get2.default)((0,_getPrototypeOf2.default)(Shape.prototype),"toJSON",this).call(this);data.uuid=this.uuid;data.holes=[];for(var i=0,l=this.holes.length;i<l;i++){var hole=this.holes[i];data.holes.push(hole.toJSON());}return data;}},{key:"fromJSON",value:function fromJSON(json){(0,_get2.default)((0,_getPrototypeOf2.default)(Shape.prototype),"fromJSON",this).call(this,json);this.uuid=json.uuid;this.holes=[];for(var i=0,l=json.holes.length;i<l;i++){var hole=json.holes[i];this.holes.push(new Path().fromJSON(hole));}return this;}}]);return Shape;}(Path);/**
 * Port from https://github.com/mapbox/earcut (v2.2.2)
 */exports.Shape=Shape;var Earcut={triangulate:function triangulate(data,holeIndices){var dim=arguments.length>2&&arguments[2]!==undefined?arguments[2]:2;var hasHoles=holeIndices&&holeIndices.length;var outerLen=hasHoles?holeIndices[0]*dim:data.length;var outerNode=linkedList(data,0,outerLen,dim,true);var triangles=[];if(!outerNode||outerNode.next===outerNode.prev)return triangles;var minX,minY,maxX,maxY,x,y,invSize;if(hasHoles)outerNode=eliminateHoles(data,holeIndices,outerNode,dim);// if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox
if(data.length>80*dim){minX=maxX=data[0];minY=maxY=data[1];for(var i=dim;i<outerLen;i+=dim){x=data[i];y=data[i+1];if(x<minX)minX=x;if(y<minY)minY=y;if(x>maxX)maxX=x;if(y>maxY)maxY=y;}// minX, minY and invSize are later used to transform coords into integers for z-order calculation
invSize=Math.max(maxX-minX,maxY-minY);invSize=invSize!==0?1/invSize:0;}earcutLinked(outerNode,triangles,dim,minX,minY,invSize);return triangles;}};// create a circular doubly linked list from polygon points in the specified winding order
function linkedList(data,start,end,dim,clockwise){var i,last;if(clockwise===signedArea(data,start,end,dim)>0){for(i=start;i<end;i+=dim){last=insertNode(i,data[i],data[i+1],last);}}else{for(i=end-dim;i>=start;i-=dim){last=insertNode(i,data[i],data[i+1],last);}}if(last&&equals(last,last.next)){removeNode(last);last=last.next;}return last;}// eliminate colinear or duplicate points
function filterPoints(start,end){if(!start)return start;if(!end)end=start;var p=start,again;do{again=false;if(!p.steiner&&(equals(p,p.next)||area(p.prev,p,p.next)===0)){removeNode(p);p=end=p.prev;if(p===p.next)break;again=true;}else{p=p.next;}}while(again||p!==end);return end;}// main ear slicing loop which triangulates a polygon (given as a linked list)
function earcutLinked(ear,triangles,dim,minX,minY,invSize,pass){if(!ear)return;// interlink polygon nodes in z-order
if(!pass&&invSize)indexCurve(ear,minX,minY,invSize);var stop=ear,prev,next;// iterate through ears, slicing them one by one
while(ear.prev!==ear.next){prev=ear.prev;next=ear.next;if(invSize?isEarHashed(ear,minX,minY,invSize):isEar(ear)){// cut off the triangle
triangles.push(prev.i/dim);triangles.push(ear.i/dim);triangles.push(next.i/dim);removeNode(ear);// skipping the next vertex leads to less sliver triangles
ear=next.next;stop=next.next;continue;}ear=next;// if we looped through the whole remaining polygon and can't find any more ears
if(ear===stop){// try filtering points and slicing again
if(!pass){earcutLinked(filterPoints(ear),triangles,dim,minX,minY,invSize,1);// if this didn't work, try curing all small self-intersections locally
}else if(pass===1){ear=cureLocalIntersections(filterPoints(ear),triangles,dim);earcutLinked(ear,triangles,dim,minX,minY,invSize,2);// as a last resort, try splitting the remaining polygon into two
}else if(pass===2){splitEarcut(ear,triangles,dim,minX,minY,invSize);}break;}}}// check whether a polygon node forms a valid ear with adjacent nodes
function isEar(ear){var a=ear.prev,b=ear,c=ear.next;if(area(a,b,c)>=0)return false;// reflex, can't be an ear
// now make sure we don't have other points inside the potential ear
var p=ear.next.next;while(p!==ear.prev){if(pointInTriangle(a.x,a.y,b.x,b.y,c.x,c.y,p.x,p.y)&&area(p.prev,p,p.next)>=0)return false;p=p.next;}return true;}function isEarHashed(ear,minX,minY,invSize){var a=ear.prev,b=ear,c=ear.next;if(area(a,b,c)>=0)return false;// reflex, can't be an ear
// triangle bbox; min & max are calculated like this for speed
var minTX=a.x<b.x?a.x<c.x?a.x:c.x:b.x<c.x?b.x:c.x,minTY=a.y<b.y?a.y<c.y?a.y:c.y:b.y<c.y?b.y:c.y,maxTX=a.x>b.x?a.x>c.x?a.x:c.x:b.x>c.x?b.x:c.x,maxTY=a.y>b.y?a.y>c.y?a.y:c.y:b.y>c.y?b.y:c.y;// z-order range for the current triangle bbox;
var minZ=zOrder(minTX,minTY,minX,minY,invSize),maxZ=zOrder(maxTX,maxTY,minX,minY,invSize);var p=ear.prevZ,n=ear.nextZ;// look for points inside the triangle in both directions
while(p&&p.z>=minZ&&n&&n.z<=maxZ){if(p!==ear.prev&&p!==ear.next&&pointInTriangle(a.x,a.y,b.x,b.y,c.x,c.y,p.x,p.y)&&area(p.prev,p,p.next)>=0)return false;p=p.prevZ;if(n!==ear.prev&&n!==ear.next&&pointInTriangle(a.x,a.y,b.x,b.y,c.x,c.y,n.x,n.y)&&area(n.prev,n,n.next)>=0)return false;n=n.nextZ;}// look for remaining points in decreasing z-order
while(p&&p.z>=minZ){if(p!==ear.prev&&p!==ear.next&&pointInTriangle(a.x,a.y,b.x,b.y,c.x,c.y,p.x,p.y)&&area(p.prev,p,p.next)>=0)return false;p=p.prevZ;}// look for remaining points in increasing z-order
while(n&&n.z<=maxZ){if(n!==ear.prev&&n!==ear.next&&pointInTriangle(a.x,a.y,b.x,b.y,c.x,c.y,n.x,n.y)&&area(n.prev,n,n.next)>=0)return false;n=n.nextZ;}return true;}// go through all polygon nodes and cure small local self-intersections
function cureLocalIntersections(start,triangles,dim){var p=start;do{var a=p.prev,b=p.next.next;if(!equals(a,b)&&intersects(a,p,p.next,b)&&locallyInside(a,b)&&locallyInside(b,a)){triangles.push(a.i/dim);triangles.push(p.i/dim);triangles.push(b.i/dim);// remove two nodes involved
removeNode(p);removeNode(p.next);p=start=b;}p=p.next;}while(p!==start);return filterPoints(p);}// try splitting polygon into two and triangulate them independently
function splitEarcut(start,triangles,dim,minX,minY,invSize){// look for a valid diagonal that divides the polygon into two
var a=start;do{var b=a.next.next;while(b!==a.prev){if(a.i!==b.i&&isValidDiagonal(a,b)){// split the polygon in two by the diagonal
var c=splitPolygon(a,b);// filter colinear points around the cuts
a=filterPoints(a,a.next);c=filterPoints(c,c.next);// run earcut on each half
earcutLinked(a,triangles,dim,minX,minY,invSize);earcutLinked(c,triangles,dim,minX,minY,invSize);return;}b=b.next;}a=a.next;}while(a!==start);}// link every hole into the outer loop, producing a single-ring polygon without holes
function eliminateHoles(data,holeIndices,outerNode,dim){var queue=[];var i,len,start,end,list;for(i=0,len=holeIndices.length;i<len;i++){start=holeIndices[i]*dim;end=i<len-1?holeIndices[i+1]*dim:data.length;list=linkedList(data,start,end,dim,false);if(list===list.next)list.steiner=true;queue.push(getLeftmost(list));}queue.sort(compareX);// process holes from left to right
for(i=0;i<queue.length;i++){eliminateHole(queue[i],outerNode);outerNode=filterPoints(outerNode,outerNode.next);}return outerNode;}function compareX(a,b){return a.x-b.x;}// find a bridge between vertices that connects hole with an outer ring and and link it
function eliminateHole(hole,outerNode){outerNode=findHoleBridge(hole,outerNode);if(outerNode){var b=splitPolygon(outerNode,hole);// filter collinear points around the cuts
filterPoints(outerNode,outerNode.next);filterPoints(b,b.next);}}// David Eberly's algorithm for finding a bridge between hole and outer polygon
function findHoleBridge(hole,outerNode){var p=outerNode;var hx=hole.x;var hy=hole.y;var qx=-Infinity,m;// find a segment intersected by a ray from the hole's leftmost point to the left;
// segment's endpoint with lesser x will be potential connection point
do{if(hy<=p.y&&hy>=p.next.y&&p.next.y!==p.y){var x=p.x+(hy-p.y)*(p.next.x-p.x)/(p.next.y-p.y);if(x<=hx&&x>qx){qx=x;if(x===hx){if(hy===p.y)return p;if(hy===p.next.y)return p.next;}m=p.x<p.next.x?p:p.next;}}p=p.next;}while(p!==outerNode);if(!m)return null;if(hx===qx)return m;// hole touches outer segment; pick leftmost endpoint
// look for points inside the triangle of hole point, segment intersection and endpoint;
// if there are no points found, we have a valid connection;
// otherwise choose the point of the minimum angle with the ray as connection point
var stop=m,mx=m.x,my=m.y;var tanMin=Infinity,tan;p=m;do{if(hx>=p.x&&p.x>=mx&&hx!==p.x&&pointInTriangle(hy<my?hx:qx,hy,mx,my,hy<my?qx:hx,hy,p.x,p.y)){tan=Math.abs(hy-p.y)/(hx-p.x);// tangential
if(locallyInside(p,hole)&&(tan<tanMin||tan===tanMin&&(p.x>m.x||p.x===m.x&&sectorContainsSector(m,p)))){m=p;tanMin=tan;}}p=p.next;}while(p!==stop);return m;}// whether sector in vertex m contains sector in vertex p in the same coordinates
function sectorContainsSector(m,p){return area(m.prev,m,p.prev)<0&&area(p.next,m,m.next)<0;}// interlink polygon nodes in z-order
function indexCurve(start,minX,minY,invSize){var p=start;do{if(p.z===null)p.z=zOrder(p.x,p.y,minX,minY,invSize);p.prevZ=p.prev;p.nextZ=p.next;p=p.next;}while(p!==start);p.prevZ.nextZ=null;p.prevZ=null;sortLinked(p);}// Simon Tatham's linked list merge sort algorithm
// http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html
function sortLinked(list){var i,p,q,e,tail,numMerges,pSize,qSize,inSize=1;do{p=list;list=null;tail=null;numMerges=0;while(p){numMerges++;q=p;pSize=0;for(i=0;i<inSize;i++){pSize++;q=q.nextZ;if(!q)break;}qSize=inSize;while(pSize>0||qSize>0&&q){if(pSize!==0&&(qSize===0||!q||p.z<=q.z)){e=p;p=p.nextZ;pSize--;}else{e=q;q=q.nextZ;qSize--;}if(tail)tail.nextZ=e;else list=e;e.prevZ=tail;tail=e;}p=q;}tail.nextZ=null;inSize*=2;}while(numMerges>1);return list;}// z-order of a point given coords and inverse of the longer side of data bbox
function zOrder(x,y,minX,minY,invSize){// coords are transformed into non-negative 15-bit integer range
x=32767*(x-minX)*invSize;y=32767*(y-minY)*invSize;x=(x|x<<8)&0x00FF00FF;x=(x|x<<4)&0x0F0F0F0F;x=(x|x<<2)&0x33333333;x=(x|x<<1)&0x55555555;y=(y|y<<8)&0x00FF00FF;y=(y|y<<4)&0x0F0F0F0F;y=(y|y<<2)&0x33333333;y=(y|y<<1)&0x55555555;return x|y<<1;}// find the leftmost node of a polygon ring
function getLeftmost(start){var p=start,leftmost=start;do{if(p.x<leftmost.x||p.x===leftmost.x&&p.y<leftmost.y)leftmost=p;p=p.next;}while(p!==start);return leftmost;}// check if a point lies within a convex triangle
function pointInTriangle(ax,ay,bx,by,cx,cy,px,py){return(cx-px)*(ay-py)-(ax-px)*(cy-py)>=0&&(ax-px)*(by-py)-(bx-px)*(ay-py)>=0&&(bx-px)*(cy-py)-(cx-px)*(by-py)>=0;}// check if a diagonal between two polygon nodes is valid (lies in polygon interior)
function isValidDiagonal(a,b){return a.next.i!==b.i&&a.prev.i!==b.i&&!intersectsPolygon(a,b)&&(// dones't intersect other edges
locallyInside(a,b)&&locallyInside(b,a)&&middleInside(a,b)&&(// locally visible
area(a.prev,a,b.prev)||area(a,b.prev,b))||// does not create opposite-facing sectors
equals(a,b)&&area(a.prev,a,a.next)>0&&area(b.prev,b,b.next)>0);// special zero-length case
}// signed area of a triangle
function area(p,q,r){return(q.y-p.y)*(r.x-q.x)-(q.x-p.x)*(r.y-q.y);}// check if two points are equal
function equals(p1,p2){return p1.x===p2.x&&p1.y===p2.y;}// check if two segments intersect
function intersects(p1,q1,p2,q2){var o1=sign(area(p1,q1,p2));var o2=sign(area(p1,q1,q2));var o3=sign(area(p2,q2,p1));var o4=sign(area(p2,q2,q1));if(o1!==o2&&o3!==o4)return true;// general case
if(o1===0&&onSegment(p1,p2,q1))return true;// p1, q1 and p2 are collinear and p2 lies on p1q1
if(o2===0&&onSegment(p1,q2,q1))return true;// p1, q1 and q2 are collinear and q2 lies on p1q1
if(o3===0&&onSegment(p2,p1,q2))return true;// p2, q2 and p1 are collinear and p1 lies on p2q2
if(o4===0&&onSegment(p2,q1,q2))return true;// p2, q2 and q1 are collinear and q1 lies on p2q2
return false;}// for collinear points p, q, r, check if point q lies on segment pr
function onSegment(p,q,r){return q.x<=Math.max(p.x,r.x)&&q.x>=Math.min(p.x,r.x)&&q.y<=Math.max(p.y,r.y)&&q.y>=Math.min(p.y,r.y);}function sign(num){return num>0?1:num<0?-1:0;}// check if a polygon diagonal intersects any polygon segments
function intersectsPolygon(a,b){var p=a;do{if(p.i!==a.i&&p.next.i!==a.i&&p.i!==b.i&&p.next.i!==b.i&&intersects(p,p.next,a,b))return true;p=p.next;}while(p!==a);return false;}// check if a polygon diagonal is locally inside the polygon
function locallyInside(a,b){return area(a.prev,a,a.next)<0?area(a,b,a.next)>=0&&area(a,a.prev,b)>=0:area(a,b,a.prev)<0||area(a,a.next,b)<0;}// check if the middle point of a polygon diagonal is inside the polygon
function middleInside(a,b){var p=a,inside=false;var px=(a.x+b.x)/2,py=(a.y+b.y)/2;do{if(p.y>py!==p.next.y>py&&p.next.y!==p.y&&px<(p.next.x-p.x)*(py-p.y)/(p.next.y-p.y)+p.x)inside=!inside;p=p.next;}while(p!==a);return inside;}// link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;
// if one belongs to the outer ring and another to a hole, it merges it into a single ring
function splitPolygon(a,b){var a2=new Node(a.i,a.x,a.y),b2=new Node(b.i,b.x,b.y),an=a.next,bp=b.prev;a.next=b;b.prev=a;a2.next=an;an.prev=a2;b2.next=a2;a2.prev=b2;bp.next=b2;b2.prev=bp;return b2;}// create a node and optionally link it with previous one (in a circular doubly linked list)
function insertNode(i,x,y,last){var p=new Node(i,x,y);if(!last){p.prev=p;p.next=p;}else{p.next=last.next;p.prev=last;last.next.prev=p;last.next=p;}return p;}function removeNode(p){p.next.prev=p.prev;p.prev.next=p.next;if(p.prevZ)p.prevZ.nextZ=p.nextZ;if(p.nextZ)p.nextZ.prevZ=p.prevZ;}function Node(i,x,y){// vertex index in coordinates array
this.i=i;// vertex coordinates
this.x=x;this.y=y;// previous and next vertex nodes in a polygon ring
this.prev=null;this.next=null;// z-order curve value
this.z=null;// previous and next nodes in z-order
this.prevZ=null;this.nextZ=null;// indicates whether this is a steiner point
this.steiner=false;}function signedArea(data,start,end,dim){var sum=0;for(var i=start,j=end-dim;i<end;i+=dim){sum+=(data[j]-data[i])*(data[i+1]+data[j+1]);j=i;}return sum;}var ShapeUtils=/*#__PURE__*/function(){function ShapeUtils(){(0,_classCallCheck2.default)(this,ShapeUtils);}(0,_createClass2.default)(ShapeUtils,null,[{key:"area",value:// calculate area of the contour polygon
function area(contour){var n=contour.length;var a=0.0;for(var p=n-1,q=0;q<n;p=q++){a+=contour[p].x*contour[q].y-contour[q].x*contour[p].y;}return a*0.5;}},{key:"isClockWise",value:function isClockWise(pts){return ShapeUtils.area(pts)<0;}},{key:"triangulateShape",value:function triangulateShape(contour,holes){var vertices=[];// flat array of vertices like [ x0,y0, x1,y1, x2,y2, ... ]
var holeIndices=[];// array of hole indices
var faces=[];// final array of vertex indices like [ [ a,b,d ], [ b,c,d ] ]
removeDupEndPts(contour);addContour(vertices,contour);//
var holeIndex=contour.length;holes.forEach(removeDupEndPts);for(var i=0;i<holes.length;i++){holeIndices.push(holeIndex);holeIndex+=holes[i].length;addContour(vertices,holes[i]);}//
var triangles=Earcut.triangulate(vertices,holeIndices);//
for(var _i111=0;_i111<triangles.length;_i111+=3){faces.push(triangles.slice(_i111,_i111+3));}return faces;}}]);return ShapeUtils;}();exports.ShapeUtils=ShapeUtils;function removeDupEndPts(points){var l=points.length;if(l>2&&points[l-1].equals(points[0])){points.pop();}}function addContour(vertices,contour){for(var i=0;i<contour.length;i++){vertices.push(contour[i].x);vertices.push(contour[i].y);}}/**
 * Creates extruded geometry from a path shape.
 *
 * parameters = {
 *
 *  curveSegments: <int>, // number of points on the curves
 *  steps: <int>, // number of points for z-side extrusions / used for subdividing segments of extrude spline too
 *  depth: <float>, // Depth to extrude the shape
 *
 *  bevelEnabled: <bool>, // turn on bevel
 *  bevelThickness: <float>, // how deep into the original shape bevel goes
 *  bevelSize: <float>, // how far from shape outline (including bevelOffset) is bevel
 *  bevelOffset: <float>, // how far from shape outline does bevel start
 *  bevelSegments: <int>, // number of bevel layers
 *
 *  extrudePath: <THREE.Curve> // curve to extrude shape along
 *
 *  UVGenerator: <Object> // object that provides UV generator functions
 *
 * }
 */var ExtrudeGeometry=/*#__PURE__*/function(_BufferGeometry7){(0,_inherits2.default)(ExtrudeGeometry,_BufferGeometry7);var _super76=_createSuper(ExtrudeGeometry);function ExtrudeGeometry(){var _this66;var shapes=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new Shape([new Vector2(0.5,0.5),new Vector2(-0.5,0.5),new Vector2(-0.5,-0.5),new Vector2(0.5,-0.5)]);var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};(0,_classCallCheck2.default)(this,ExtrudeGeometry);_this66=_super76.call(this);_this66.type='ExtrudeGeometry';_this66.parameters={shapes:shapes,options:options};shapes=Array.isArray(shapes)?shapes:[shapes];var scope=(0,_assertThisInitialized2.default)(_this66);var verticesArray=[];var uvArray=[];for(var i=0,l=shapes.length;i<l;i++){var shape=shapes[i];addShape(shape);}// build geometry
_this66.setAttribute('position',new Float32BufferAttribute(verticesArray,3));_this66.setAttribute('uv',new Float32BufferAttribute(uvArray,2));_this66.computeVertexNormals();// functions
function addShape(shape){var placeholder=[];// options
var curveSegments=options.curveSegments!==undefined?options.curveSegments:12;var steps=options.steps!==undefined?options.steps:1;var depth=options.depth!==undefined?options.depth:1;var bevelEnabled=options.bevelEnabled!==undefined?options.bevelEnabled:true;var bevelThickness=options.bevelThickness!==undefined?options.bevelThickness:0.2;var bevelSize=options.bevelSize!==undefined?options.bevelSize:bevelThickness-0.1;var bevelOffset=options.bevelOffset!==undefined?options.bevelOffset:0;var bevelSegments=options.bevelSegments!==undefined?options.bevelSegments:3;var extrudePath=options.extrudePath;var uvgen=options.UVGenerator!==undefined?options.UVGenerator:WorldUVGenerator;// deprecated options
if(options.amount!==undefined){console.warn('THREE.ExtrudeBufferGeometry: amount has been renamed to depth.');depth=options.amount;}//
var extrudePts,extrudeByPath=false;var splineTube,binormal,normal,position2;if(extrudePath){extrudePts=extrudePath.getSpacedPoints(steps);extrudeByPath=true;bevelEnabled=false;// bevels not supported for path extrusion
// SETUP TNB variables
// TODO1 - have a .isClosed in spline?
splineTube=extrudePath.computeFrenetFrames(steps,false);// console.log(splineTube, 'splineTube', splineTube.normals.length, 'steps', steps, 'extrudePts', extrudePts.length);
binormal=new Vector3();normal=new Vector3();position2=new Vector3();}// Safeguards if bevels are not enabled
if(!bevelEnabled){bevelSegments=0;bevelThickness=0;bevelSize=0;bevelOffset=0;}// Variables initialization
var shapePoints=shape.extractPoints(curveSegments);var vertices=shapePoints.shape;var holes=shapePoints.holes;var reverse=!ShapeUtils.isClockWise(vertices);if(reverse){vertices=vertices.reverse();// Maybe we should also check if holes are in the opposite direction, just to be safe ...
for(var h=0,hl=holes.length;h<hl;h++){var ahole=holes[h];if(ShapeUtils.isClockWise(ahole)){holes[h]=ahole.reverse();}}}var faces=ShapeUtils.triangulateShape(vertices,holes);/* Vertices */var contour=vertices;// vertices has all points but contour has only points of circumference
for(var _h=0,_hl=holes.length;_h<_hl;_h++){var _ahole=holes[_h];vertices=vertices.concat(_ahole);}function scalePt2(pt,vec,size){if(!vec)console.error('THREE.ExtrudeGeometry: vec does not exist');return vec.clone().multiplyScalar(size).add(pt);}var vlen=vertices.length,flen=faces.length;// Find directions for point movement
function getBevelVec(inPt,inPrev,inNext){// computes for inPt the corresponding point inPt' on a new contour
//   shifted by 1 unit (length of normalized vector) to the left
// if we walk along contour clockwise, this new contour is outside the old one
//
// inPt' is the intersection of the two lines parallel to the two
//  adjacent edges of inPt at a distance of 1 unit on the left side.
var v_trans_x,v_trans_y,shrink_by;// resulting translation vector for inPt
// good reading for geometry algorithms (here: line-line intersection)
// http://geomalgorithms.com/a05-_intersect-1.html
var v_prev_x=inPt.x-inPrev.x,v_prev_y=inPt.y-inPrev.y;var v_next_x=inNext.x-inPt.x,v_next_y=inNext.y-inPt.y;var v_prev_lensq=v_prev_x*v_prev_x+v_prev_y*v_prev_y;// check for collinear edges
var collinear0=v_prev_x*v_next_y-v_prev_y*v_next_x;if(Math.abs(collinear0)>Number.EPSILON){// not collinear
// length of vectors for normalizing
var v_prev_len=Math.sqrt(v_prev_lensq);var v_next_len=Math.sqrt(v_next_x*v_next_x+v_next_y*v_next_y);// shift adjacent points by unit vectors to the left
var ptPrevShift_x=inPrev.x-v_prev_y/v_prev_len;var ptPrevShift_y=inPrev.y+v_prev_x/v_prev_len;var ptNextShift_x=inNext.x-v_next_y/v_next_len;var ptNextShift_y=inNext.y+v_next_x/v_next_len;// scaling factor for v_prev to intersection point
var sf=((ptNextShift_x-ptPrevShift_x)*v_next_y-(ptNextShift_y-ptPrevShift_y)*v_next_x)/(v_prev_x*v_next_y-v_prev_y*v_next_x);// vector from inPt to intersection point
v_trans_x=ptPrevShift_x+v_prev_x*sf-inPt.x;v_trans_y=ptPrevShift_y+v_prev_y*sf-inPt.y;// Don't normalize!, otherwise sharp corners become ugly
//  but prevent crazy spikes
var v_trans_lensq=v_trans_x*v_trans_x+v_trans_y*v_trans_y;if(v_trans_lensq<=2){return new Vector2(v_trans_x,v_trans_y);}else{shrink_by=Math.sqrt(v_trans_lensq/2);}}else{// handle special case of collinear edges
var direction_eq=false;// assumes: opposite
if(v_prev_x>Number.EPSILON){if(v_next_x>Number.EPSILON){direction_eq=true;}}else{if(v_prev_x<-Number.EPSILON){if(v_next_x<-Number.EPSILON){direction_eq=true;}}else{if(Math.sign(v_prev_y)===Math.sign(v_next_y)){direction_eq=true;}}}if(direction_eq){// console.log("Warning: lines are a straight sequence");
v_trans_x=-v_prev_y;v_trans_y=v_prev_x;shrink_by=Math.sqrt(v_prev_lensq);}else{// console.log("Warning: lines are a straight spike");
v_trans_x=v_prev_x;v_trans_y=v_prev_y;shrink_by=Math.sqrt(v_prev_lensq/2);}}return new Vector2(v_trans_x/shrink_by,v_trans_y/shrink_by);}var contourMovements=[];for(var _i112=0,il=contour.length,j=il-1,k=_i112+1;_i112<il;_i112++,j++,k++){if(j===il)j=0;if(k===il)k=0;//  (j)---(i)---(k)
// console.log('i,j,k', i, j , k)
contourMovements[_i112]=getBevelVec(contour[_i112],contour[j],contour[k]);}var holesMovements=[];var oneHoleMovements,verticesMovements=contourMovements.concat();for(var _h2=0,_hl2=holes.length;_h2<_hl2;_h2++){var _ahole2=holes[_h2];oneHoleMovements=[];for(var _i113=0,_il13=_ahole2.length,_j6=_il13-1,_k=_i113+1;_i113<_il13;_i113++,_j6++,_k++){if(_j6===_il13)_j6=0;if(_k===_il13)_k=0;//  (j)---(i)---(k)
oneHoleMovements[_i113]=getBevelVec(_ahole2[_i113],_ahole2[_j6],_ahole2[_k]);}holesMovements.push(oneHoleMovements);verticesMovements=verticesMovements.concat(oneHoleMovements);}// Loop bevelSegments, 1 for the front, 1 for the back
for(var b=0;b<bevelSegments;b++){//for ( b = bevelSegments; b > 0; b -- ) {
var t=b/bevelSegments;var z=bevelThickness*Math.cos(t*Math.PI/2);var _bs=bevelSize*Math.sin(t*Math.PI/2)+bevelOffset;// contract shape
for(var _i114=0,_il14=contour.length;_i114<_il14;_i114++){var vert=scalePt2(contour[_i114],contourMovements[_i114],_bs);v(vert.x,vert.y,-z);}// expand holes
for(var _h3=0,_hl3=holes.length;_h3<_hl3;_h3++){var _ahole3=holes[_h3];oneHoleMovements=holesMovements[_h3];for(var _i115=0,_il15=_ahole3.length;_i115<_il15;_i115++){var _vert=scalePt2(_ahole3[_i115],oneHoleMovements[_i115],_bs);v(_vert.x,_vert.y,-z);}}}var bs=bevelSize+bevelOffset;// Back facing vertices
for(var _i116=0;_i116<vlen;_i116++){var _vert2=bevelEnabled?scalePt2(vertices[_i116],verticesMovements[_i116],bs):vertices[_i116];if(!extrudeByPath){v(_vert2.x,_vert2.y,0);}else{// v( vert.x, vert.y + extrudePts[ 0 ].y, extrudePts[ 0 ].x );
normal.copy(splineTube.normals[0]).multiplyScalar(_vert2.x);binormal.copy(splineTube.binormals[0]).multiplyScalar(_vert2.y);position2.copy(extrudePts[0]).add(normal).add(binormal);v(position2.x,position2.y,position2.z);}}// Add stepped vertices...
// Including front facing vertices
for(var s=1;s<=steps;s++){for(var _i117=0;_i117<vlen;_i117++){var _vert3=bevelEnabled?scalePt2(vertices[_i117],verticesMovements[_i117],bs):vertices[_i117];if(!extrudeByPath){v(_vert3.x,_vert3.y,depth/steps*s);}else{// v( vert.x, vert.y + extrudePts[ s - 1 ].y, extrudePts[ s - 1 ].x );
normal.copy(splineTube.normals[s]).multiplyScalar(_vert3.x);binormal.copy(splineTube.binormals[s]).multiplyScalar(_vert3.y);position2.copy(extrudePts[s]).add(normal).add(binormal);v(position2.x,position2.y,position2.z);}}}// Add bevel segments planes
//for ( b = 1; b <= bevelSegments; b ++ ) {
for(var _b5=bevelSegments-1;_b5>=0;_b5--){var _t=_b5/bevelSegments;var _z2=bevelThickness*Math.cos(_t*Math.PI/2);var _bs2=bevelSize*Math.sin(_t*Math.PI/2)+bevelOffset;// contract shape
for(var _i118=0,_il16=contour.length;_i118<_il16;_i118++){var _vert4=scalePt2(contour[_i118],contourMovements[_i118],_bs2);v(_vert4.x,_vert4.y,depth+_z2);}// expand holes
for(var _h4=0,_hl4=holes.length;_h4<_hl4;_h4++){var _ahole4=holes[_h4];oneHoleMovements=holesMovements[_h4];for(var _i119=0,_il17=_ahole4.length;_i119<_il17;_i119++){var _vert5=scalePt2(_ahole4[_i119],oneHoleMovements[_i119],_bs2);if(!extrudeByPath){v(_vert5.x,_vert5.y,depth+_z2);}else{v(_vert5.x,_vert5.y+extrudePts[steps-1].y,extrudePts[steps-1].x+_z2);}}}}/* Faces */ // Top and bottom faces
buildLidFaces();// Sides faces
buildSideFaces();/////  Internal functions
function buildLidFaces(){var start=verticesArray.length/3;if(bevelEnabled){var layer=0;// steps + 1
var offset=vlen*layer;// Bottom faces
for(var _i120=0;_i120<flen;_i120++){var face=faces[_i120];f3(face[2]+offset,face[1]+offset,face[0]+offset);}layer=steps+bevelSegments*2;offset=vlen*layer;// Top faces
for(var _i121=0;_i121<flen;_i121++){var _face=faces[_i121];f3(_face[0]+offset,_face[1]+offset,_face[2]+offset);}}else{// Bottom faces
for(var _i122=0;_i122<flen;_i122++){var _face2=faces[_i122];f3(_face2[2],_face2[1],_face2[0]);}// Top faces
for(var _i123=0;_i123<flen;_i123++){var _face3=faces[_i123];f3(_face3[0]+vlen*steps,_face3[1]+vlen*steps,_face3[2]+vlen*steps);}}scope.addGroup(start,verticesArray.length/3-start,0);}// Create faces for the z-sides of the shape
function buildSideFaces(){var start=verticesArray.length/3;var layeroffset=0;sidewalls(contour,layeroffset);layeroffset+=contour.length;for(var _h5=0,_hl5=holes.length;_h5<_hl5;_h5++){var _ahole5=holes[_h5];sidewalls(_ahole5,layeroffset);//, true
layeroffset+=_ahole5.length;}scope.addGroup(start,verticesArray.length/3-start,1);}function sidewalls(contour,layeroffset){var i=contour.length;while(--i>=0){var _j7=i;var _k2=i-1;if(_k2<0)_k2=contour.length-1;//console.log('b', i,j, i-1, k,vertices.length);
for(var _s4=0,sl=steps+bevelSegments*2;_s4<sl;_s4++){var slen1=vlen*_s4;var slen2=vlen*(_s4+1);var a=layeroffset+_j7+slen1,_b6=layeroffset+_k2+slen1,c=layeroffset+_k2+slen2,d=layeroffset+_j7+slen2;f4(a,_b6,c,d);}}}function v(x,y,z){placeholder.push(x);placeholder.push(y);placeholder.push(z);}function f3(a,b,c){addVertex(a);addVertex(b);addVertex(c);var nextIndex=verticesArray.length/3;var uvs=uvgen.generateTopUV(scope,verticesArray,nextIndex-3,nextIndex-2,nextIndex-1);addUV(uvs[0]);addUV(uvs[1]);addUV(uvs[2]);}function f4(a,b,c,d){addVertex(a);addVertex(b);addVertex(d);addVertex(b);addVertex(c);addVertex(d);var nextIndex=verticesArray.length/3;var uvs=uvgen.generateSideWallUV(scope,verticesArray,nextIndex-6,nextIndex-3,nextIndex-2,nextIndex-1);addUV(uvs[0]);addUV(uvs[1]);addUV(uvs[3]);addUV(uvs[1]);addUV(uvs[2]);addUV(uvs[3]);}function addVertex(index){verticesArray.push(placeholder[index*3+0]);verticesArray.push(placeholder[index*3+1]);verticesArray.push(placeholder[index*3+2]);}function addUV(vector2){uvArray.push(vector2.x);uvArray.push(vector2.y);}}return _this66;}(0,_createClass2.default)(ExtrudeGeometry,[{key:"toJSON",value:function toJSON(){var data=(0,_get2.default)((0,_getPrototypeOf2.default)(ExtrudeGeometry.prototype),"toJSON",this).call(this);var shapes=this.parameters.shapes;var options=this.parameters.options;return toJSON$1(shapes,options,data);}}],[{key:"fromJSON",value:function fromJSON(data,shapes){var geometryShapes=[];for(var j=0,jl=data.shapes.length;j<jl;j++){var shape=shapes[data.shapes[j]];geometryShapes.push(shape);}var extrudePath=data.options.extrudePath;if(extrudePath!==undefined){data.options.extrudePath=new Curves[extrudePath.type]().fromJSON(extrudePath);}return new ExtrudeGeometry(geometryShapes,data.options);}}]);return ExtrudeGeometry;}(BufferGeometry);exports.ExtrudeGeometry=exports.ExtrudeBufferGeometry=ExtrudeGeometry;var WorldUVGenerator={generateTopUV:function generateTopUV(geometry,vertices,indexA,indexB,indexC){var a_x=vertices[indexA*3];var a_y=vertices[indexA*3+1];var b_x=vertices[indexB*3];var b_y=vertices[indexB*3+1];var c_x=vertices[indexC*3];var c_y=vertices[indexC*3+1];return[new Vector2(a_x,a_y),new Vector2(b_x,b_y),new Vector2(c_x,c_y)];},generateSideWallUV:function generateSideWallUV(geometry,vertices,indexA,indexB,indexC,indexD){var a_x=vertices[indexA*3];var a_y=vertices[indexA*3+1];var a_z=vertices[indexA*3+2];var b_x=vertices[indexB*3];var b_y=vertices[indexB*3+1];var b_z=vertices[indexB*3+2];var c_x=vertices[indexC*3];var c_y=vertices[indexC*3+1];var c_z=vertices[indexC*3+2];var d_x=vertices[indexD*3];var d_y=vertices[indexD*3+1];var d_z=vertices[indexD*3+2];if(Math.abs(a_y-b_y)<Math.abs(a_x-b_x)){return[new Vector2(a_x,1-a_z),new Vector2(b_x,1-b_z),new Vector2(c_x,1-c_z),new Vector2(d_x,1-d_z)];}else{return[new Vector2(a_y,1-a_z),new Vector2(b_y,1-b_z),new Vector2(c_y,1-c_z),new Vector2(d_y,1-d_z)];}}};function toJSON$1(shapes,options,data){data.shapes=[];if(Array.isArray(shapes)){for(var i=0,l=shapes.length;i<l;i++){var shape=shapes[i];data.shapes.push(shape.uuid);}}else{data.shapes.push(shapes.uuid);}if(options.extrudePath!==undefined)data.options.extrudePath=options.extrudePath.toJSON();return data;}var IcosahedronGeometry=/*#__PURE__*/function(_PolyhedronGeometry2){(0,_inherits2.default)(IcosahedronGeometry,_PolyhedronGeometry2);var _super77=_createSuper(IcosahedronGeometry);function IcosahedronGeometry(){var _this67;var radius=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var detail=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;(0,_classCallCheck2.default)(this,IcosahedronGeometry);var t=(1+Math.sqrt(5))/2;var vertices=[-1,t,0,1,t,0,-1,-t,0,1,-t,0,0,-1,t,0,1,t,0,-1,-t,0,1,-t,t,0,-1,t,0,1,-t,0,-1,-t,0,1];var indices=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];_this67=_super77.call(this,vertices,indices,radius,detail);_this67.type='IcosahedronGeometry';_this67.parameters={radius:radius,detail:detail};return _this67;}(0,_createClass2.default)(IcosahedronGeometry,null,[{key:"fromJSON",value:function fromJSON(data){return new IcosahedronGeometry(data.radius,data.detail);}}]);return IcosahedronGeometry;}(PolyhedronGeometry);exports.IcosahedronGeometry=exports.IcosahedronBufferGeometry=IcosahedronGeometry;var LatheGeometry=/*#__PURE__*/function(_BufferGeometry8){(0,_inherits2.default)(LatheGeometry,_BufferGeometry8);var _super78=_createSuper(LatheGeometry);function LatheGeometry(){var _this68;var points=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[new Vector2(0,0.5),new Vector2(0.5,0),new Vector2(0,-0.5)];var segments=arguments.length>1&&arguments[1]!==undefined?arguments[1]:12;var phiStart=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var phiLength=arguments.length>3&&arguments[3]!==undefined?arguments[3]:Math.PI*2;(0,_classCallCheck2.default)(this,LatheGeometry);_this68=_super78.call(this);_this68.type='LatheGeometry';_this68.parameters={points:points,segments:segments,phiStart:phiStart,phiLength:phiLength};segments=Math.floor(segments);// clamp phiLength so it's in range of [ 0, 2PI ]
phiLength=clamp(phiLength,0,Math.PI*2);// buffers
var indices=[];var vertices=[];var uvs=[];// helper variables
var inverseSegments=1.0/segments;var vertex=new Vector3();var uv=new Vector2();// generate vertices and uvs
for(var i=0;i<=segments;i++){var phi=phiStart+i*inverseSegments*phiLength;var sin=Math.sin(phi);var cos=Math.cos(phi);for(var j=0;j<=points.length-1;j++){// vertex
vertex.x=points[j].x*sin;vertex.y=points[j].y;vertex.z=points[j].x*cos;vertices.push(vertex.x,vertex.y,vertex.z);// uv
uv.x=i/segments;uv.y=j/(points.length-1);uvs.push(uv.x,uv.y);}}// indices
for(var _i124=0;_i124<segments;_i124++){for(var _j8=0;_j8<points.length-1;_j8++){var base=_j8+_i124*points.length;var a=base;var b=base+points.length;var c=base+points.length+1;var d=base+1;// faces
indices.push(a,b,d);indices.push(b,c,d);}}// build geometry
_this68.setIndex(indices);_this68.setAttribute('position',new Float32BufferAttribute(vertices,3));_this68.setAttribute('uv',new Float32BufferAttribute(uvs,2));// generate normals
_this68.computeVertexNormals();// if the geometry is closed, we need to average the normals along the seam.
// because the corresponding vertices are identical (but still have different UVs).
if(phiLength===Math.PI*2){var normals=_this68.attributes.normal.array;var n1=new Vector3();var n2=new Vector3();var n=new Vector3();// this is the buffer offset for the last line of vertices
var _base=segments*points.length*3;for(var _i125=0,_j9=0;_i125<points.length;_i125++,_j9+=3){// select the normal of the vertex in the first line
n1.x=normals[_j9+0];n1.y=normals[_j9+1];n1.z=normals[_j9+2];// select the normal of the vertex in the last line
n2.x=normals[_base+_j9+0];n2.y=normals[_base+_j9+1];n2.z=normals[_base+_j9+2];// average normals
n.addVectors(n1,n2).normalize();// assign the new values to both normals
normals[_j9+0]=normals[_base+_j9+0]=n.x;normals[_j9+1]=normals[_base+_j9+1]=n.y;normals[_j9+2]=normals[_base+_j9+2]=n.z;}}return _this68;}(0,_createClass2.default)(LatheGeometry,null,[{key:"fromJSON",value:function fromJSON(data){return new LatheGeometry(data.points,data.segments,data.phiStart,data.phiLength);}}]);return LatheGeometry;}(BufferGeometry);exports.LatheGeometry=exports.LatheBufferGeometry=LatheGeometry;var OctahedronGeometry=/*#__PURE__*/function(_PolyhedronGeometry3){(0,_inherits2.default)(OctahedronGeometry,_PolyhedronGeometry3);var _super79=_createSuper(OctahedronGeometry);function OctahedronGeometry(){var _this69;var radius=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var detail=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;(0,_classCallCheck2.default)(this,OctahedronGeometry);var vertices=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1];var indices=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];_this69=_super79.call(this,vertices,indices,radius,detail);_this69.type='OctahedronGeometry';_this69.parameters={radius:radius,detail:detail};return _this69;}(0,_createClass2.default)(OctahedronGeometry,null,[{key:"fromJSON",value:function fromJSON(data){return new OctahedronGeometry(data.radius,data.detail);}}]);return OctahedronGeometry;}(PolyhedronGeometry);exports.OctahedronGeometry=exports.OctahedronBufferGeometry=OctahedronGeometry;var RingGeometry=/*#__PURE__*/function(_BufferGeometry9){(0,_inherits2.default)(RingGeometry,_BufferGeometry9);var _super80=_createSuper(RingGeometry);function RingGeometry(){var _this70;var innerRadius=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0.5;var outerRadius=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var thetaSegments=arguments.length>2&&arguments[2]!==undefined?arguments[2]:8;var phiSegments=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;var thetaStart=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;var thetaLength=arguments.length>5&&arguments[5]!==undefined?arguments[5]:Math.PI*2;(0,_classCallCheck2.default)(this,RingGeometry);_this70=_super80.call(this);_this70.type='RingGeometry';_this70.parameters={innerRadius:innerRadius,outerRadius:outerRadius,thetaSegments:thetaSegments,phiSegments:phiSegments,thetaStart:thetaStart,thetaLength:thetaLength};thetaSegments=Math.max(3,thetaSegments);phiSegments=Math.max(1,phiSegments);// buffers
var indices=[];var vertices=[];var normals=[];var uvs=[];// some helper variables
var radius=innerRadius;var radiusStep=(outerRadius-innerRadius)/phiSegments;var vertex=new Vector3();var uv=new Vector2();// generate vertices, normals and uvs
for(var j=0;j<=phiSegments;j++){for(var i=0;i<=thetaSegments;i++){// values are generate from the inside of the ring to the outside
var segment=thetaStart+i/thetaSegments*thetaLength;// vertex
vertex.x=radius*Math.cos(segment);vertex.y=radius*Math.sin(segment);vertices.push(vertex.x,vertex.y,vertex.z);// normal
normals.push(0,0,1);// uv
uv.x=(vertex.x/outerRadius+1)/2;uv.y=(vertex.y/outerRadius+1)/2;uvs.push(uv.x,uv.y);}// increase the radius for next row of vertices
radius+=radiusStep;}// indices
for(var _j10=0;_j10<phiSegments;_j10++){var thetaSegmentLevel=_j10*(thetaSegments+1);for(var _i126=0;_i126<thetaSegments;_i126++){var _segment=_i126+thetaSegmentLevel;var a=_segment;var b=_segment+thetaSegments+1;var c=_segment+thetaSegments+2;var d=_segment+1;// faces
indices.push(a,b,d);indices.push(b,c,d);}}// build geometry
_this70.setIndex(indices);_this70.setAttribute('position',new Float32BufferAttribute(vertices,3));_this70.setAttribute('normal',new Float32BufferAttribute(normals,3));_this70.setAttribute('uv',new Float32BufferAttribute(uvs,2));return _this70;}(0,_createClass2.default)(RingGeometry,null,[{key:"fromJSON",value:function fromJSON(data){return new RingGeometry(data.innerRadius,data.outerRadius,data.thetaSegments,data.phiSegments,data.thetaStart,data.thetaLength);}}]);return RingGeometry;}(BufferGeometry);exports.RingGeometry=exports.RingBufferGeometry=RingGeometry;var ShapeGeometry=/*#__PURE__*/function(_BufferGeometry10){(0,_inherits2.default)(ShapeGeometry,_BufferGeometry10);var _super81=_createSuper(ShapeGeometry);function ShapeGeometry(){var _this71;var shapes=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new Shape([new Vector2(0,0.5),new Vector2(-0.5,-0.5),new Vector2(0.5,-0.5)]);var curveSegments=arguments.length>1&&arguments[1]!==undefined?arguments[1]:12;(0,_classCallCheck2.default)(this,ShapeGeometry);_this71=_super81.call(this);_this71.type='ShapeGeometry';_this71.parameters={shapes:shapes,curveSegments:curveSegments};// buffers
var indices=[];var vertices=[];var normals=[];var uvs=[];// helper variables
var groupStart=0;var groupCount=0;// allow single and array values for "shapes" parameter
if(Array.isArray(shapes)===false){addShape(shapes);}else{for(var i=0;i<shapes.length;i++){addShape(shapes[i]);_this71.addGroup(groupStart,groupCount,i);// enables MultiMaterial support
groupStart+=groupCount;groupCount=0;}}// build geometry
_this71.setIndex(indices);_this71.setAttribute('position',new Float32BufferAttribute(vertices,3));_this71.setAttribute('normal',new Float32BufferAttribute(normals,3));_this71.setAttribute('uv',new Float32BufferAttribute(uvs,2));// helper functions
function addShape(shape){var indexOffset=vertices.length/3;var points=shape.extractPoints(curveSegments);var shapeVertices=points.shape;var shapeHoles=points.holes;// check direction of vertices
if(ShapeUtils.isClockWise(shapeVertices)===false){shapeVertices=shapeVertices.reverse();}for(var _i127=0,l=shapeHoles.length;_i127<l;_i127++){var shapeHole=shapeHoles[_i127];if(ShapeUtils.isClockWise(shapeHole)===true){shapeHoles[_i127]=shapeHole.reverse();}}var faces=ShapeUtils.triangulateShape(shapeVertices,shapeHoles);// join vertices of inner and outer paths to a single array
for(var _i128=0,_l7=shapeHoles.length;_i128<_l7;_i128++){var _shapeHole=shapeHoles[_i128];shapeVertices=shapeVertices.concat(_shapeHole);}// vertices, normals, uvs
for(var _i129=0,_l8=shapeVertices.length;_i129<_l8;_i129++){var _vertex=shapeVertices[_i129];vertices.push(_vertex.x,_vertex.y,0);normals.push(0,0,1);uvs.push(_vertex.x,_vertex.y);// world uvs
}// incides
for(var _i130=0,_l9=faces.length;_i130<_l9;_i130++){var face=faces[_i130];var a=face[0]+indexOffset;var b=face[1]+indexOffset;var c=face[2]+indexOffset;indices.push(a,b,c);groupCount+=3;}}return _this71;}(0,_createClass2.default)(ShapeGeometry,[{key:"toJSON",value:function toJSON(){var data=(0,_get2.default)((0,_getPrototypeOf2.default)(ShapeGeometry.prototype),"toJSON",this).call(this);var shapes=this.parameters.shapes;return _toJSON(shapes,data);}}],[{key:"fromJSON",value:function fromJSON(data,shapes){var geometryShapes=[];for(var j=0,jl=data.shapes.length;j<jl;j++){var shape=shapes[data.shapes[j]];geometryShapes.push(shape);}return new ShapeGeometry(geometryShapes,data.curveSegments);}}]);return ShapeGeometry;}(BufferGeometry);exports.ShapeGeometry=exports.ShapeBufferGeometry=ShapeGeometry;function _toJSON(shapes,data){data.shapes=[];if(Array.isArray(shapes)){for(var i=0,l=shapes.length;i<l;i++){var shape=shapes[i];data.shapes.push(shape.uuid);}}else{data.shapes.push(shapes.uuid);}return data;}var SphereGeometry=/*#__PURE__*/function(_BufferGeometry11){(0,_inherits2.default)(SphereGeometry,_BufferGeometry11);var _super82=_createSuper(SphereGeometry);function SphereGeometry(){var _this72;var radius=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var widthSegments=arguments.length>1&&arguments[1]!==undefined?arguments[1]:32;var heightSegments=arguments.length>2&&arguments[2]!==undefined?arguments[2]:16;var phiStart=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;var phiLength=arguments.length>4&&arguments[4]!==undefined?arguments[4]:Math.PI*2;var thetaStart=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0;var thetaLength=arguments.length>6&&arguments[6]!==undefined?arguments[6]:Math.PI;(0,_classCallCheck2.default)(this,SphereGeometry);_this72=_super82.call(this);_this72.type='SphereGeometry';_this72.parameters={radius:radius,widthSegments:widthSegments,heightSegments:heightSegments,phiStart:phiStart,phiLength:phiLength,thetaStart:thetaStart,thetaLength:thetaLength};widthSegments=Math.max(3,Math.floor(widthSegments));heightSegments=Math.max(2,Math.floor(heightSegments));var thetaEnd=Math.min(thetaStart+thetaLength,Math.PI);var index=0;var grid=[];var vertex=new Vector3();var normal=new Vector3();// buffers
var indices=[];var vertices=[];var normals=[];var uvs=[];// generate vertices, normals and uvs
for(var iy=0;iy<=heightSegments;iy++){var verticesRow=[];var v=iy/heightSegments;// special case for the poles
var uOffset=0;if(iy==0&&thetaStart==0){uOffset=0.5/widthSegments;}else if(iy==heightSegments&&thetaEnd==Math.PI){uOffset=-0.5/widthSegments;}for(var ix=0;ix<=widthSegments;ix++){var u=ix/widthSegments;// vertex
vertex.x=-radius*Math.cos(phiStart+u*phiLength)*Math.sin(thetaStart+v*thetaLength);vertex.y=radius*Math.cos(thetaStart+v*thetaLength);vertex.z=radius*Math.sin(phiStart+u*phiLength)*Math.sin(thetaStart+v*thetaLength);vertices.push(vertex.x,vertex.y,vertex.z);// normal
normal.copy(vertex).normalize();normals.push(normal.x,normal.y,normal.z);// uv
uvs.push(u+uOffset,1-v);verticesRow.push(index++);}grid.push(verticesRow);}// indices
for(var _iy3=0;_iy3<heightSegments;_iy3++){for(var _ix3=0;_ix3<widthSegments;_ix3++){var a=grid[_iy3][_ix3+1];var b=grid[_iy3][_ix3];var c=grid[_iy3+1][_ix3];var d=grid[_iy3+1][_ix3+1];if(_iy3!==0||thetaStart>0)indices.push(a,b,d);if(_iy3!==heightSegments-1||thetaEnd<Math.PI)indices.push(b,c,d);}}// build geometry
_this72.setIndex(indices);_this72.setAttribute('position',new Float32BufferAttribute(vertices,3));_this72.setAttribute('normal',new Float32BufferAttribute(normals,3));_this72.setAttribute('uv',new Float32BufferAttribute(uvs,2));return _this72;}(0,_createClass2.default)(SphereGeometry,null,[{key:"fromJSON",value:function fromJSON(data){return new SphereGeometry(data.radius,data.widthSegments,data.heightSegments,data.phiStart,data.phiLength,data.thetaStart,data.thetaLength);}}]);return SphereGeometry;}(BufferGeometry);exports.SphereGeometry=exports.SphereBufferGeometry=SphereGeometry;var TetrahedronGeometry=/*#__PURE__*/function(_PolyhedronGeometry4){(0,_inherits2.default)(TetrahedronGeometry,_PolyhedronGeometry4);var _super83=_createSuper(TetrahedronGeometry);function TetrahedronGeometry(){var _this73;var radius=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var detail=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;(0,_classCallCheck2.default)(this,TetrahedronGeometry);var vertices=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1];var indices=[2,1,0,0,3,2,1,3,0,2,3,1];_this73=_super83.call(this,vertices,indices,radius,detail);_this73.type='TetrahedronGeometry';_this73.parameters={radius:radius,detail:detail};return _this73;}(0,_createClass2.default)(TetrahedronGeometry,null,[{key:"fromJSON",value:function fromJSON(data){return new TetrahedronGeometry(data.radius,data.detail);}}]);return TetrahedronGeometry;}(PolyhedronGeometry);exports.TetrahedronGeometry=exports.TetrahedronBufferGeometry=TetrahedronGeometry;var TorusGeometry=/*#__PURE__*/function(_BufferGeometry12){(0,_inherits2.default)(TorusGeometry,_BufferGeometry12);var _super84=_createSuper(TorusGeometry);function TorusGeometry(){var _this74;var radius=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var tube=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0.4;var radialSegments=arguments.length>2&&arguments[2]!==undefined?arguments[2]:8;var tubularSegments=arguments.length>3&&arguments[3]!==undefined?arguments[3]:6;var arc=arguments.length>4&&arguments[4]!==undefined?arguments[4]:Math.PI*2;(0,_classCallCheck2.default)(this,TorusGeometry);_this74=_super84.call(this);_this74.type='TorusGeometry';_this74.parameters={radius:radius,tube:tube,radialSegments:radialSegments,tubularSegments:tubularSegments,arc:arc};radialSegments=Math.floor(radialSegments);tubularSegments=Math.floor(tubularSegments);// buffers
var indices=[];var vertices=[];var normals=[];var uvs=[];// helper variables
var center=new Vector3();var vertex=new Vector3();var normal=new Vector3();// generate vertices, normals and uvs
for(var j=0;j<=radialSegments;j++){for(var i=0;i<=tubularSegments;i++){var u=i/tubularSegments*arc;var v=j/radialSegments*Math.PI*2;// vertex
vertex.x=(radius+tube*Math.cos(v))*Math.cos(u);vertex.y=(radius+tube*Math.cos(v))*Math.sin(u);vertex.z=tube*Math.sin(v);vertices.push(vertex.x,vertex.y,vertex.z);// normal
center.x=radius*Math.cos(u);center.y=radius*Math.sin(u);normal.subVectors(vertex,center).normalize();normals.push(normal.x,normal.y,normal.z);// uv
uvs.push(i/tubularSegments);uvs.push(j/radialSegments);}}// generate indices
for(var _j11=1;_j11<=radialSegments;_j11++){for(var _i131=1;_i131<=tubularSegments;_i131++){// indices
var a=(tubularSegments+1)*_j11+_i131-1;var b=(tubularSegments+1)*(_j11-1)+_i131-1;var c=(tubularSegments+1)*(_j11-1)+_i131;var d=(tubularSegments+1)*_j11+_i131;// faces
indices.push(a,b,d);indices.push(b,c,d);}}// build geometry
_this74.setIndex(indices);_this74.setAttribute('position',new Float32BufferAttribute(vertices,3));_this74.setAttribute('normal',new Float32BufferAttribute(normals,3));_this74.setAttribute('uv',new Float32BufferAttribute(uvs,2));return _this74;}(0,_createClass2.default)(TorusGeometry,null,[{key:"fromJSON",value:function fromJSON(data){return new TorusGeometry(data.radius,data.tube,data.radialSegments,data.tubularSegments,data.arc);}}]);return TorusGeometry;}(BufferGeometry);exports.TorusGeometry=exports.TorusBufferGeometry=TorusGeometry;var TorusKnotGeometry=/*#__PURE__*/function(_BufferGeometry13){(0,_inherits2.default)(TorusKnotGeometry,_BufferGeometry13);var _super85=_createSuper(TorusKnotGeometry);function TorusKnotGeometry(){var _this75;var radius=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var tube=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0.4;var tubularSegments=arguments.length>2&&arguments[2]!==undefined?arguments[2]:64;var radialSegments=arguments.length>3&&arguments[3]!==undefined?arguments[3]:8;var p=arguments.length>4&&arguments[4]!==undefined?arguments[4]:2;var q=arguments.length>5&&arguments[5]!==undefined?arguments[5]:3;(0,_classCallCheck2.default)(this,TorusKnotGeometry);_this75=_super85.call(this);_this75.type='TorusKnotGeometry';_this75.parameters={radius:radius,tube:tube,tubularSegments:tubularSegments,radialSegments:radialSegments,p:p,q:q};tubularSegments=Math.floor(tubularSegments);radialSegments=Math.floor(radialSegments);// buffers
var indices=[];var vertices=[];var normals=[];var uvs=[];// helper variables
var vertex=new Vector3();var normal=new Vector3();var P1=new Vector3();var P2=new Vector3();var B=new Vector3();var T=new Vector3();var N=new Vector3();// generate vertices, normals and uvs
for(var i=0;i<=tubularSegments;++i){// the radian "u" is used to calculate the position on the torus curve of the current tubular segement
var u=i/tubularSegments*p*Math.PI*2;// now we calculate two points. P1 is our current position on the curve, P2 is a little farther ahead.
// these points are used to create a special "coordinate space", which is necessary to calculate the correct vertex positions
calculatePositionOnCurve(u,p,q,radius,P1);calculatePositionOnCurve(u+0.01,p,q,radius,P2);// calculate orthonormal basis
T.subVectors(P2,P1);N.addVectors(P2,P1);B.crossVectors(T,N);N.crossVectors(B,T);// normalize B, N. T can be ignored, we don't use it
B.normalize();N.normalize();for(var j=0;j<=radialSegments;++j){// now calculate the vertices. they are nothing more than an extrusion of the torus curve.
// because we extrude a shape in the xy-plane, there is no need to calculate a z-value.
var v=j/radialSegments*Math.PI*2;var cx=-tube*Math.cos(v);var cy=tube*Math.sin(v);// now calculate the final vertex position.
// first we orient the extrusion with our basis vectos, then we add it to the current position on the curve
vertex.x=P1.x+(cx*N.x+cy*B.x);vertex.y=P1.y+(cx*N.y+cy*B.y);vertex.z=P1.z+(cx*N.z+cy*B.z);vertices.push(vertex.x,vertex.y,vertex.z);// normal (P1 is always the center/origin of the extrusion, thus we can use it to calculate the normal)
normal.subVectors(vertex,P1).normalize();normals.push(normal.x,normal.y,normal.z);// uv
uvs.push(i/tubularSegments);uvs.push(j/radialSegments);}}// generate indices
for(var _j12=1;_j12<=tubularSegments;_j12++){for(var _i132=1;_i132<=radialSegments;_i132++){// indices
var a=(radialSegments+1)*(_j12-1)+(_i132-1);var b=(radialSegments+1)*_j12+(_i132-1);var c=(radialSegments+1)*_j12+_i132;var d=(radialSegments+1)*(_j12-1)+_i132;// faces
indices.push(a,b,d);indices.push(b,c,d);}}// build geometry
_this75.setIndex(indices);_this75.setAttribute('position',new Float32BufferAttribute(vertices,3));_this75.setAttribute('normal',new Float32BufferAttribute(normals,3));_this75.setAttribute('uv',new Float32BufferAttribute(uvs,2));// this function calculates the current position on the torus curve
function calculatePositionOnCurve(u,p,q,radius,position){var cu=Math.cos(u);var su=Math.sin(u);var quOverP=q/p*u;var cs=Math.cos(quOverP);position.x=radius*(2+cs)*0.5*cu;position.y=radius*(2+cs)*su*0.5;position.z=radius*Math.sin(quOverP)*0.5;}return _this75;}(0,_createClass2.default)(TorusKnotGeometry,null,[{key:"fromJSON",value:function fromJSON(data){return new TorusKnotGeometry(data.radius,data.tube,data.tubularSegments,data.radialSegments,data.p,data.q);}}]);return TorusKnotGeometry;}(BufferGeometry);exports.TorusKnotGeometry=exports.TorusKnotBufferGeometry=TorusKnotGeometry;var TubeGeometry=/*#__PURE__*/function(_BufferGeometry14){(0,_inherits2.default)(TubeGeometry,_BufferGeometry14);var _super86=_createSuper(TubeGeometry);function TubeGeometry(){var _this76;var path=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new QuadraticBezierCurve3(new Vector3(-1,-1,0),new Vector3(-1,1,0),new Vector3(1,1,0));var tubularSegments=arguments.length>1&&arguments[1]!==undefined?arguments[1]:64;var radius=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var radialSegments=arguments.length>3&&arguments[3]!==undefined?arguments[3]:8;var closed=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;(0,_classCallCheck2.default)(this,TubeGeometry);_this76=_super86.call(this);_this76.type='TubeGeometry';_this76.parameters={path:path,tubularSegments:tubularSegments,radius:radius,radialSegments:radialSegments,closed:closed};var frames=path.computeFrenetFrames(tubularSegments,closed);// expose internals
_this76.tangents=frames.tangents;_this76.normals=frames.normals;_this76.binormals=frames.binormals;// helper variables
var vertex=new Vector3();var normal=new Vector3();var uv=new Vector2();var P=new Vector3();// buffer
var vertices=[];var normals=[];var uvs=[];var indices=[];// create buffer data
generateBufferData();// build geometry
_this76.setIndex(indices);_this76.setAttribute('position',new Float32BufferAttribute(vertices,3));_this76.setAttribute('normal',new Float32BufferAttribute(normals,3));_this76.setAttribute('uv',new Float32BufferAttribute(uvs,2));// functions
function generateBufferData(){for(var i=0;i<tubularSegments;i++){generateSegment(i);}// if the geometry is not closed, generate the last row of vertices and normals
// at the regular position on the given path
//
// if the geometry is closed, duplicate the first row of vertices and normals (uvs will differ)
generateSegment(closed===false?tubularSegments:0);// uvs are generated in a separate function.
// this makes it easy compute correct values for closed geometries
generateUVs();// finally create faces
generateIndices();}function generateSegment(i){// we use getPointAt to sample evenly distributed points from the given path
P=path.getPointAt(i/tubularSegments,P);// retrieve corresponding normal and binormal
var N=frames.normals[i];var B=frames.binormals[i];// generate normals and vertices for the current segment
for(var j=0;j<=radialSegments;j++){var v=j/radialSegments*Math.PI*2;var sin=Math.sin(v);var cos=-Math.cos(v);// normal
normal.x=cos*N.x+sin*B.x;normal.y=cos*N.y+sin*B.y;normal.z=cos*N.z+sin*B.z;normal.normalize();normals.push(normal.x,normal.y,normal.z);// vertex
vertex.x=P.x+radius*normal.x;vertex.y=P.y+radius*normal.y;vertex.z=P.z+radius*normal.z;vertices.push(vertex.x,vertex.y,vertex.z);}}function generateIndices(){for(var j=1;j<=tubularSegments;j++){for(var i=1;i<=radialSegments;i++){var a=(radialSegments+1)*(j-1)+(i-1);var b=(radialSegments+1)*j+(i-1);var c=(radialSegments+1)*j+i;var d=(radialSegments+1)*(j-1)+i;// faces
indices.push(a,b,d);indices.push(b,c,d);}}}function generateUVs(){for(var i=0;i<=tubularSegments;i++){for(var j=0;j<=radialSegments;j++){uv.x=i/tubularSegments;uv.y=j/radialSegments;uvs.push(uv.x,uv.y);}}}return _this76;}(0,_createClass2.default)(TubeGeometry,[{key:"toJSON",value:function toJSON(){var data=(0,_get2.default)((0,_getPrototypeOf2.default)(TubeGeometry.prototype),"toJSON",this).call(this);data.path=this.parameters.path.toJSON();return data;}}],[{key:"fromJSON",value:function fromJSON(data){// This only works for built-in curves (e.g. CatmullRomCurve3).
// User defined curves or instances of CurvePath will not be deserialized.
return new TubeGeometry(new Curves[data.path.type]().fromJSON(data.path),data.tubularSegments,data.radius,data.radialSegments,data.closed);}}]);return TubeGeometry;}(BufferGeometry);exports.TubeGeometry=exports.TubeBufferGeometry=TubeGeometry;var WireframeGeometry=/*#__PURE__*/function(_BufferGeometry15){(0,_inherits2.default)(WireframeGeometry,_BufferGeometry15);var _super87=_createSuper(WireframeGeometry);function WireframeGeometry(){var _this77;var geometry=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;(0,_classCallCheck2.default)(this,WireframeGeometry);_this77=_super87.call(this);_this77.type='WireframeGeometry';_this77.parameters={geometry:geometry};if(geometry!==null){// buffer
var vertices=[];var edges=new Set();// helper variables
var start=new Vector3();var end=new Vector3();if(geometry.index!==null){// indexed BufferGeometry
var position=geometry.attributes.position;var indices=geometry.index;var groups=geometry.groups;if(groups.length===0){groups=[{start:0,count:indices.count,materialIndex:0}];}// create a data structure that contains all eges without duplicates
for(var o=0,ol=groups.length;o<ol;++o){var group=groups[o];var groupStart=group.start;var groupCount=group.count;for(var i=groupStart,l=groupStart+groupCount;i<l;i+=3){for(var j=0;j<3;j++){var index1=indices.getX(i+j);var index2=indices.getX(i+(j+1)%3);start.fromBufferAttribute(position,index1);end.fromBufferAttribute(position,index2);if(isUniqueEdge(start,end,edges)===true){vertices.push(start.x,start.y,start.z);vertices.push(end.x,end.y,end.z);}}}}}else{// non-indexed BufferGeometry
var _position2=geometry.attributes.position;for(var _i133=0,_l10=_position2.count/3;_i133<_l10;_i133++){for(var _j13=0;_j13<3;_j13++){// three edges per triangle, an edge is represented as (index1, index2)
// e.g. the first triangle has the following edges: (0,1),(1,2),(2,0)
var _index=3*_i133+_j13;var _index2=3*_i133+(_j13+1)%3;start.fromBufferAttribute(_position2,_index);end.fromBufferAttribute(_position2,_index2);if(isUniqueEdge(start,end,edges)===true){vertices.push(start.x,start.y,start.z);vertices.push(end.x,end.y,end.z);}}}}// build geometry
_this77.setAttribute('position',new Float32BufferAttribute(vertices,3));}return _this77;}return(0,_createClass2.default)(WireframeGeometry);}(BufferGeometry);exports.WireframeGeometry=WireframeGeometry;function isUniqueEdge(start,end,edges){var hash1="".concat(start.x,",").concat(start.y,",").concat(start.z,"-").concat(end.x,",").concat(end.y,",").concat(end.z);var hash2="".concat(end.x,",").concat(end.y,",").concat(end.z,"-").concat(start.x,",").concat(start.y,",").concat(start.z);// coincident edge
if(edges.has(hash1)===true||edges.has(hash2)===true){return false;}else{edges.add(hash1,hash2);return true;}}var Geometries=/*#__PURE__*/Object.freeze({__proto__:null,BoxGeometry:BoxGeometry,BoxBufferGeometry:BoxGeometry,CircleGeometry:CircleGeometry,CircleBufferGeometry:CircleGeometry,ConeGeometry:ConeGeometry,ConeBufferGeometry:ConeGeometry,CylinderGeometry:CylinderGeometry,CylinderBufferGeometry:CylinderGeometry,DodecahedronGeometry:DodecahedronGeometry,DodecahedronBufferGeometry:DodecahedronGeometry,EdgesGeometry:EdgesGeometry,ExtrudeGeometry:ExtrudeGeometry,ExtrudeBufferGeometry:ExtrudeGeometry,IcosahedronGeometry:IcosahedronGeometry,IcosahedronBufferGeometry:IcosahedronGeometry,LatheGeometry:LatheGeometry,LatheBufferGeometry:LatheGeometry,OctahedronGeometry:OctahedronGeometry,OctahedronBufferGeometry:OctahedronGeometry,PlaneGeometry:PlaneGeometry,PlaneBufferGeometry:PlaneGeometry,PolyhedronGeometry:PolyhedronGeometry,PolyhedronBufferGeometry:PolyhedronGeometry,RingGeometry:RingGeometry,RingBufferGeometry:RingGeometry,ShapeGeometry:ShapeGeometry,ShapeBufferGeometry:ShapeGeometry,SphereGeometry:SphereGeometry,SphereBufferGeometry:SphereGeometry,TetrahedronGeometry:TetrahedronGeometry,TetrahedronBufferGeometry:TetrahedronGeometry,TorusGeometry:TorusGeometry,TorusBufferGeometry:TorusGeometry,TorusKnotGeometry:TorusKnotGeometry,TorusKnotBufferGeometry:TorusKnotGeometry,TubeGeometry:TubeGeometry,TubeBufferGeometry:TubeGeometry,WireframeGeometry:WireframeGeometry});/**
 * parameters = {
 *  color: <THREE.Color>
 * }
 */var ShadowMaterial=/*#__PURE__*/function(_Material8){(0,_inherits2.default)(ShadowMaterial,_Material8);var _super88=_createSuper(ShadowMaterial);function ShadowMaterial(parameters){var _this78;(0,_classCallCheck2.default)(this,ShadowMaterial);_this78=_super88.call(this);_this78.type='ShadowMaterial';_this78.color=new Color(0x000000);_this78.transparent=true;_this78.setValues(parameters);return _this78;}(0,_createClass2.default)(ShadowMaterial,[{key:"copy",value:function copy(source){(0,_get2.default)((0,_getPrototypeOf2.default)(ShadowMaterial.prototype),"copy",this).call(this,source);this.color.copy(source.color);return this;}}]);return ShadowMaterial;}(Material);exports.ShadowMaterial=ShadowMaterial;ShadowMaterial.prototype.isShadowMaterial=true;/**
 * parameters = {
 *  color: <hex>,
 *  roughness: <float>,
 *  metalness: <float>,
 *  opacity: <float>,
 *
 *  map: new THREE.Texture( <Image> ),
 *
 *  lightMap: new THREE.Texture( <Image> ),
 *  lightMapIntensity: <float>
 *
 *  aoMap: new THREE.Texture( <Image> ),
 *  aoMapIntensity: <float>
 *
 *  emissive: <hex>,
 *  emissiveIntensity: <float>
 *  emissiveMap: new THREE.Texture( <Image> ),
 *
 *  bumpMap: new THREE.Texture( <Image> ),
 *  bumpScale: <float>,
 *
 *  normalMap: new THREE.Texture( <Image> ),
 *  normalMapType: THREE.TangentSpaceNormalMap,
 *  normalScale: <Vector2>,
 *
 *  displacementMap: new THREE.Texture( <Image> ),
 *  displacementScale: <float>,
 *  displacementBias: <float>,
 *
 *  roughnessMap: new THREE.Texture( <Image> ),
 *
 *  metalnessMap: new THREE.Texture( <Image> ),
 *
 *  alphaMap: new THREE.Texture( <Image> ),
 *
 *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),
 *  envMapIntensity: <float>
 *
 *  refractionRatio: <float>,
 *
 *  wireframe: <boolean>,
 *  wireframeLinewidth: <float>,
 *
 *  flatShading: <bool>
 * }
 */var MeshStandardMaterial=/*#__PURE__*/function(_Material9){(0,_inherits2.default)(MeshStandardMaterial,_Material9);var _super89=_createSuper(MeshStandardMaterial);function MeshStandardMaterial(parameters){var _this79;(0,_classCallCheck2.default)(this,MeshStandardMaterial);_this79=_super89.call(this);_this79.defines={'STANDARD':''};_this79.type='MeshStandardMaterial';_this79.color=new Color(0xffffff);// diffuse
_this79.roughness=1.0;_this79.metalness=0.0;_this79.map=null;_this79.lightMap=null;_this79.lightMapIntensity=1.0;_this79.aoMap=null;_this79.aoMapIntensity=1.0;_this79.emissive=new Color(0x000000);_this79.emissiveIntensity=1.0;_this79.emissiveMap=null;_this79.bumpMap=null;_this79.bumpScale=1;_this79.normalMap=null;_this79.normalMapType=TangentSpaceNormalMap;_this79.normalScale=new Vector2(1,1);_this79.displacementMap=null;_this79.displacementScale=1;_this79.displacementBias=0;_this79.roughnessMap=null;_this79.metalnessMap=null;_this79.alphaMap=null;_this79.envMap=null;_this79.envMapIntensity=1.0;_this79.refractionRatio=0.98;_this79.wireframe=false;_this79.wireframeLinewidth=1;_this79.wireframeLinecap='round';_this79.wireframeLinejoin='round';_this79.flatShading=false;_this79.setValues(parameters);return _this79;}(0,_createClass2.default)(MeshStandardMaterial,[{key:"copy",value:function copy(source){(0,_get2.default)((0,_getPrototypeOf2.default)(MeshStandardMaterial.prototype),"copy",this).call(this,source);this.defines={'STANDARD':''};this.color.copy(source.color);this.roughness=source.roughness;this.metalness=source.metalness;this.map=source.map;this.lightMap=source.lightMap;this.lightMapIntensity=source.lightMapIntensity;this.aoMap=source.aoMap;this.aoMapIntensity=source.aoMapIntensity;this.emissive.copy(source.emissive);this.emissiveMap=source.emissiveMap;this.emissiveIntensity=source.emissiveIntensity;this.bumpMap=source.bumpMap;this.bumpScale=source.bumpScale;this.normalMap=source.normalMap;this.normalMapType=source.normalMapType;this.normalScale.copy(source.normalScale);this.displacementMap=source.displacementMap;this.displacementScale=source.displacementScale;this.displacementBias=source.displacementBias;this.roughnessMap=source.roughnessMap;this.metalnessMap=source.metalnessMap;this.alphaMap=source.alphaMap;this.envMap=source.envMap;this.envMapIntensity=source.envMapIntensity;this.refractionRatio=source.refractionRatio;this.wireframe=source.wireframe;this.wireframeLinewidth=source.wireframeLinewidth;this.wireframeLinecap=source.wireframeLinecap;this.wireframeLinejoin=source.wireframeLinejoin;this.flatShading=source.flatShading;return this;}}]);return MeshStandardMaterial;}(Material);exports.MeshStandardMaterial=MeshStandardMaterial;MeshStandardMaterial.prototype.isMeshStandardMaterial=true;/**
 * parameters = {
 *  clearcoat: <float>,
 *  clearcoatMap: new THREE.Texture( <Image> ),
 *  clearcoatRoughness: <float>,
 *  clearcoatRoughnessMap: new THREE.Texture( <Image> ),
 *  clearcoatNormalScale: <Vector2>,
 *  clearcoatNormalMap: new THREE.Texture( <Image> ),
 *
 *  ior: <float>,
 *  reflectivity: <float>,
 *
 *  sheen: <float>,
 *  sheenTint: <Color>,
 *  sheenRoughness: <float>,
 *
 *  transmission: <float>,
 *  transmissionMap: new THREE.Texture( <Image> ),
 *
 *  thickness: <float>,
 *  thicknessMap: new THREE.Texture( <Image> ),
 *  attenuationDistance: <float>,
 *  attenuationTint: <Color>,
 *
 *  specularIntensity: <float>,
 *  specularIntensityhMap: new THREE.Texture( <Image> ),
 *  specularTint: <Color>,
 *  specularTintMap: new THREE.Texture( <Image> )
 * }
 */var MeshPhysicalMaterial=/*#__PURE__*/function(_MeshStandardMaterial){(0,_inherits2.default)(MeshPhysicalMaterial,_MeshStandardMaterial);var _super90=_createSuper(MeshPhysicalMaterial);function MeshPhysicalMaterial(parameters){var _this80;(0,_classCallCheck2.default)(this,MeshPhysicalMaterial);_this80=_super90.call(this);_this80.defines={'STANDARD':'','PHYSICAL':''};_this80.type='MeshPhysicalMaterial';_this80.clearcoatMap=null;_this80.clearcoatRoughness=0.0;_this80.clearcoatRoughnessMap=null;_this80.clearcoatNormalScale=new Vector2(1,1);_this80.clearcoatNormalMap=null;_this80.ior=1.5;Object.defineProperty((0,_assertThisInitialized2.default)(_this80),'reflectivity',{get:function get(){return clamp(2.5*(this.ior-1)/(this.ior+1),0,1);},set:function set(reflectivity){this.ior=(1+0.4*reflectivity)/(1-0.4*reflectivity);}});_this80.sheenTint=new Color(0x000000);_this80.sheenRoughness=1.0;_this80.transmissionMap=null;_this80.thickness=0.01;_this80.thicknessMap=null;_this80.attenuationDistance=0.0;_this80.attenuationTint=new Color(1,1,1);_this80.specularIntensity=1.0;_this80.specularIntensityMap=null;_this80.specularTint=new Color(1,1,1);_this80.specularTintMap=null;_this80._sheen=0.0;_this80._clearcoat=0;_this80._transmission=0;_this80.setValues(parameters);return _this80;}(0,_createClass2.default)(MeshPhysicalMaterial,[{key:"sheen",get:function get(){return this._sheen;},set:function set(value){if(this._sheen>0!==value>0){this.version++;}this._sheen=value;}},{key:"clearcoat",get:function get(){return this._clearcoat;},set:function set(value){if(this._clearcoat>0!==value>0){this.version++;}this._clearcoat=value;}},{key:"transmission",get:function get(){return this._transmission;},set:function set(value){if(this._transmission>0!==value>0){this.version++;}this._transmission=value;}},{key:"copy",value:function copy(source){(0,_get2.default)((0,_getPrototypeOf2.default)(MeshPhysicalMaterial.prototype),"copy",this).call(this,source);this.defines={'STANDARD':'','PHYSICAL':''};this.clearcoat=source.clearcoat;this.clearcoatMap=source.clearcoatMap;this.clearcoatRoughness=source.clearcoatRoughness;this.clearcoatRoughnessMap=source.clearcoatRoughnessMap;this.clearcoatNormalMap=source.clearcoatNormalMap;this.clearcoatNormalScale.copy(source.clearcoatNormalScale);this.ior=source.ior;this.sheen=source.sheen;this.sheenTint.copy(source.sheenTint);this.sheenRoughness=source.sheenRoughness;this.transmission=source.transmission;this.transmissionMap=source.transmissionMap;this.thickness=source.thickness;this.thicknessMap=source.thicknessMap;this.attenuationDistance=source.attenuationDistance;this.attenuationTint.copy(source.attenuationTint);this.specularIntensity=source.specularIntensity;this.specularIntensityMap=source.specularIntensityMap;this.specularTint.copy(source.specularTint);this.specularTintMap=source.specularTintMap;return this;}}]);return MeshPhysicalMaterial;}(MeshStandardMaterial);exports.MeshPhysicalMaterial=MeshPhysicalMaterial;MeshPhysicalMaterial.prototype.isMeshPhysicalMaterial=true;/**
 * parameters = {
 *  color: <hex>,
 *  specular: <hex>,
 *  shininess: <float>,
 *  opacity: <float>,
 *
 *  map: new THREE.Texture( <Image> ),
 *
 *  lightMap: new THREE.Texture( <Image> ),
 *  lightMapIntensity: <float>
 *
 *  aoMap: new THREE.Texture( <Image> ),
 *  aoMapIntensity: <float>
 *
 *  emissive: <hex>,
 *  emissiveIntensity: <float>
 *  emissiveMap: new THREE.Texture( <Image> ),
 *
 *  bumpMap: new THREE.Texture( <Image> ),
 *  bumpScale: <float>,
 *
 *  normalMap: new THREE.Texture( <Image> ),
 *  normalMapType: THREE.TangentSpaceNormalMap,
 *  normalScale: <Vector2>,
 *
 *  displacementMap: new THREE.Texture( <Image> ),
 *  displacementScale: <float>,
 *  displacementBias: <float>,
 *
 *  specularMap: new THREE.Texture( <Image> ),
 *
 *  alphaMap: new THREE.Texture( <Image> ),
 *
 *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),
 *  combine: THREE.MultiplyOperation,
 *  reflectivity: <float>,
 *  refractionRatio: <float>,
 *
 *  wireframe: <boolean>,
 *  wireframeLinewidth: <float>,
 *
 *  flatShading: <bool>
 * }
 */var MeshPhongMaterial=/*#__PURE__*/function(_Material10){(0,_inherits2.default)(MeshPhongMaterial,_Material10);var _super91=_createSuper(MeshPhongMaterial);function MeshPhongMaterial(parameters){var _this81;(0,_classCallCheck2.default)(this,MeshPhongMaterial);_this81=_super91.call(this);_this81.type='MeshPhongMaterial';_this81.color=new Color(0xffffff);// diffuse
_this81.specular=new Color(0x111111);_this81.shininess=30;_this81.map=null;_this81.lightMap=null;_this81.lightMapIntensity=1.0;_this81.aoMap=null;_this81.aoMapIntensity=1.0;_this81.emissive=new Color(0x000000);_this81.emissiveIntensity=1.0;_this81.emissiveMap=null;_this81.bumpMap=null;_this81.bumpScale=1;_this81.normalMap=null;_this81.normalMapType=TangentSpaceNormalMap;_this81.normalScale=new Vector2(1,1);_this81.displacementMap=null;_this81.displacementScale=1;_this81.displacementBias=0;_this81.specularMap=null;_this81.alphaMap=null;_this81.envMap=null;_this81.combine=MultiplyOperation;_this81.reflectivity=1;_this81.refractionRatio=0.98;_this81.wireframe=false;_this81.wireframeLinewidth=1;_this81.wireframeLinecap='round';_this81.wireframeLinejoin='round';_this81.flatShading=false;_this81.setValues(parameters);return _this81;}(0,_createClass2.default)(MeshPhongMaterial,[{key:"copy",value:function copy(source){(0,_get2.default)((0,_getPrototypeOf2.default)(MeshPhongMaterial.prototype),"copy",this).call(this,source);this.color.copy(source.color);this.specular.copy(source.specular);this.shininess=source.shininess;this.map=source.map;this.lightMap=source.lightMap;this.lightMapIntensity=source.lightMapIntensity;this.aoMap=source.aoMap;this.aoMapIntensity=source.aoMapIntensity;this.emissive.copy(source.emissive);this.emissiveMap=source.emissiveMap;this.emissiveIntensity=source.emissiveIntensity;this.bumpMap=source.bumpMap;this.bumpScale=source.bumpScale;this.normalMap=source.normalMap;this.normalMapType=source.normalMapType;this.normalScale.copy(source.normalScale);this.displacementMap=source.displacementMap;this.displacementScale=source.displacementScale;this.displacementBias=source.displacementBias;this.specularMap=source.specularMap;this.alphaMap=source.alphaMap;this.envMap=source.envMap;this.combine=source.combine;this.reflectivity=source.reflectivity;this.refractionRatio=source.refractionRatio;this.wireframe=source.wireframe;this.wireframeLinewidth=source.wireframeLinewidth;this.wireframeLinecap=source.wireframeLinecap;this.wireframeLinejoin=source.wireframeLinejoin;this.flatShading=source.flatShading;return this;}}]);return MeshPhongMaterial;}(Material);exports.MeshPhongMaterial=MeshPhongMaterial;MeshPhongMaterial.prototype.isMeshPhongMaterial=true;/**
 * parameters = {
 *  color: <hex>,
 *
 *  map: new THREE.Texture( <Image> ),
 *  gradientMap: new THREE.Texture( <Image> ),
 *
 *  lightMap: new THREE.Texture( <Image> ),
 *  lightMapIntensity: <float>
 *
 *  aoMap: new THREE.Texture( <Image> ),
 *  aoMapIntensity: <float>
 *
 *  emissive: <hex>,
 *  emissiveIntensity: <float>
 *  emissiveMap: new THREE.Texture( <Image> ),
 *
 *  bumpMap: new THREE.Texture( <Image> ),
 *  bumpScale: <float>,
 *
 *  normalMap: new THREE.Texture( <Image> ),
 *  normalMapType: THREE.TangentSpaceNormalMap,
 *  normalScale: <Vector2>,
 *
 *  displacementMap: new THREE.Texture( <Image> ),
 *  displacementScale: <float>,
 *  displacementBias: <float>,
 *
 *  alphaMap: new THREE.Texture( <Image> ),
 *
 *  wireframe: <boolean>,
 *  wireframeLinewidth: <float>,
 *
 * }
 */var MeshToonMaterial=/*#__PURE__*/function(_Material11){(0,_inherits2.default)(MeshToonMaterial,_Material11);var _super92=_createSuper(MeshToonMaterial);function MeshToonMaterial(parameters){var _this82;(0,_classCallCheck2.default)(this,MeshToonMaterial);_this82=_super92.call(this);_this82.defines={'TOON':''};_this82.type='MeshToonMaterial';_this82.color=new Color(0xffffff);_this82.map=null;_this82.gradientMap=null;_this82.lightMap=null;_this82.lightMapIntensity=1.0;_this82.aoMap=null;_this82.aoMapIntensity=1.0;_this82.emissive=new Color(0x000000);_this82.emissiveIntensity=1.0;_this82.emissiveMap=null;_this82.bumpMap=null;_this82.bumpScale=1;_this82.normalMap=null;_this82.normalMapType=TangentSpaceNormalMap;_this82.normalScale=new Vector2(1,1);_this82.displacementMap=null;_this82.displacementScale=1;_this82.displacementBias=0;_this82.alphaMap=null;_this82.wireframe=false;_this82.wireframeLinewidth=1;_this82.wireframeLinecap='round';_this82.wireframeLinejoin='round';_this82.setValues(parameters);return _this82;}(0,_createClass2.default)(MeshToonMaterial,[{key:"copy",value:function copy(source){(0,_get2.default)((0,_getPrototypeOf2.default)(MeshToonMaterial.prototype),"copy",this).call(this,source);this.color.copy(source.color);this.map=source.map;this.gradientMap=source.gradientMap;this.lightMap=source.lightMap;this.lightMapIntensity=source.lightMapIntensity;this.aoMap=source.aoMap;this.aoMapIntensity=source.aoMapIntensity;this.emissive.copy(source.emissive);this.emissiveMap=source.emissiveMap;this.emissiveIntensity=source.emissiveIntensity;this.bumpMap=source.bumpMap;this.bumpScale=source.bumpScale;this.normalMap=source.normalMap;this.normalMapType=source.normalMapType;this.normalScale.copy(source.normalScale);this.displacementMap=source.displacementMap;this.displacementScale=source.displacementScale;this.displacementBias=source.displacementBias;this.alphaMap=source.alphaMap;this.wireframe=source.wireframe;this.wireframeLinewidth=source.wireframeLinewidth;this.wireframeLinecap=source.wireframeLinecap;this.wireframeLinejoin=source.wireframeLinejoin;return this;}}]);return MeshToonMaterial;}(Material);exports.MeshToonMaterial=MeshToonMaterial;MeshToonMaterial.prototype.isMeshToonMaterial=true;/**
 * parameters = {
 *  opacity: <float>,
 *
 *  bumpMap: new THREE.Texture( <Image> ),
 *  bumpScale: <float>,
 *
 *  normalMap: new THREE.Texture( <Image> ),
 *  normalMapType: THREE.TangentSpaceNormalMap,
 *  normalScale: <Vector2>,
 *
 *  displacementMap: new THREE.Texture( <Image> ),
 *  displacementScale: <float>,
 *  displacementBias: <float>,
 *
 *  wireframe: <boolean>,
 *  wireframeLinewidth: <float>
 *
 *  flatShading: <bool>
 * }
 */var MeshNormalMaterial=/*#__PURE__*/function(_Material12){(0,_inherits2.default)(MeshNormalMaterial,_Material12);var _super93=_createSuper(MeshNormalMaterial);function MeshNormalMaterial(parameters){var _this83;(0,_classCallCheck2.default)(this,MeshNormalMaterial);_this83=_super93.call(this);_this83.type='MeshNormalMaterial';_this83.bumpMap=null;_this83.bumpScale=1;_this83.normalMap=null;_this83.normalMapType=TangentSpaceNormalMap;_this83.normalScale=new Vector2(1,1);_this83.displacementMap=null;_this83.displacementScale=1;_this83.displacementBias=0;_this83.wireframe=false;_this83.wireframeLinewidth=1;_this83.fog=false;_this83.flatShading=false;_this83.setValues(parameters);return _this83;}(0,_createClass2.default)(MeshNormalMaterial,[{key:"copy",value:function copy(source){(0,_get2.default)((0,_getPrototypeOf2.default)(MeshNormalMaterial.prototype),"copy",this).call(this,source);this.bumpMap=source.bumpMap;this.bumpScale=source.bumpScale;this.normalMap=source.normalMap;this.normalMapType=source.normalMapType;this.normalScale.copy(source.normalScale);this.displacementMap=source.displacementMap;this.displacementScale=source.displacementScale;this.displacementBias=source.displacementBias;this.wireframe=source.wireframe;this.wireframeLinewidth=source.wireframeLinewidth;this.flatShading=source.flatShading;return this;}}]);return MeshNormalMaterial;}(Material);exports.MeshNormalMaterial=MeshNormalMaterial;MeshNormalMaterial.prototype.isMeshNormalMaterial=true;/**
 * parameters = {
 *  color: <hex>,
 *  opacity: <float>,
 *
 *  map: new THREE.Texture( <Image> ),
 *
 *  lightMap: new THREE.Texture( <Image> ),
 *  lightMapIntensity: <float>
 *
 *  aoMap: new THREE.Texture( <Image> ),
 *  aoMapIntensity: <float>
 *
 *  emissive: <hex>,
 *  emissiveIntensity: <float>
 *  emissiveMap: new THREE.Texture( <Image> ),
 *
 *  specularMap: new THREE.Texture( <Image> ),
 *
 *  alphaMap: new THREE.Texture( <Image> ),
 *
 *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),
 *  combine: THREE.Multiply,
 *  reflectivity: <float>,
 *  refractionRatio: <float>,
 *
 *  wireframe: <boolean>,
 *  wireframeLinewidth: <float>,
 *
 * }
 */var MeshLambertMaterial=/*#__PURE__*/function(_Material13){(0,_inherits2.default)(MeshLambertMaterial,_Material13);var _super94=_createSuper(MeshLambertMaterial);function MeshLambertMaterial(parameters){var _this84;(0,_classCallCheck2.default)(this,MeshLambertMaterial);_this84=_super94.call(this);_this84.type='MeshLambertMaterial';_this84.color=new Color(0xffffff);// diffuse
_this84.map=null;_this84.lightMap=null;_this84.lightMapIntensity=1.0;_this84.aoMap=null;_this84.aoMapIntensity=1.0;_this84.emissive=new Color(0x000000);_this84.emissiveIntensity=1.0;_this84.emissiveMap=null;_this84.specularMap=null;_this84.alphaMap=null;_this84.envMap=null;_this84.combine=MultiplyOperation;_this84.reflectivity=1;_this84.refractionRatio=0.98;_this84.wireframe=false;_this84.wireframeLinewidth=1;_this84.wireframeLinecap='round';_this84.wireframeLinejoin='round';_this84.setValues(parameters);return _this84;}(0,_createClass2.default)(MeshLambertMaterial,[{key:"copy",value:function copy(source){(0,_get2.default)((0,_getPrototypeOf2.default)(MeshLambertMaterial.prototype),"copy",this).call(this,source);this.color.copy(source.color);this.map=source.map;this.lightMap=source.lightMap;this.lightMapIntensity=source.lightMapIntensity;this.aoMap=source.aoMap;this.aoMapIntensity=source.aoMapIntensity;this.emissive.copy(source.emissive);this.emissiveMap=source.emissiveMap;this.emissiveIntensity=source.emissiveIntensity;this.specularMap=source.specularMap;this.alphaMap=source.alphaMap;this.envMap=source.envMap;this.combine=source.combine;this.reflectivity=source.reflectivity;this.refractionRatio=source.refractionRatio;this.wireframe=source.wireframe;this.wireframeLinewidth=source.wireframeLinewidth;this.wireframeLinecap=source.wireframeLinecap;this.wireframeLinejoin=source.wireframeLinejoin;return this;}}]);return MeshLambertMaterial;}(Material);exports.MeshLambertMaterial=MeshLambertMaterial;MeshLambertMaterial.prototype.isMeshLambertMaterial=true;/**
 * parameters = {
 *  color: <hex>,
 *  opacity: <float>,
 *
 *  matcap: new THREE.Texture( <Image> ),
 *
 *  map: new THREE.Texture( <Image> ),
 *
 *  bumpMap: new THREE.Texture( <Image> ),
 *  bumpScale: <float>,
 *
 *  normalMap: new THREE.Texture( <Image> ),
 *  normalMapType: THREE.TangentSpaceNormalMap,
 *  normalScale: <Vector2>,
 *
 *  displacementMap: new THREE.Texture( <Image> ),
 *  displacementScale: <float>,
 *  displacementBias: <float>,
 *
 *  alphaMap: new THREE.Texture( <Image> ),
 *
 *  flatShading: <bool>
 * }
 */var MeshMatcapMaterial=/*#__PURE__*/function(_Material14){(0,_inherits2.default)(MeshMatcapMaterial,_Material14);var _super95=_createSuper(MeshMatcapMaterial);function MeshMatcapMaterial(parameters){var _this85;(0,_classCallCheck2.default)(this,MeshMatcapMaterial);_this85=_super95.call(this);_this85.defines={'MATCAP':''};_this85.type='MeshMatcapMaterial';_this85.color=new Color(0xffffff);// diffuse
_this85.matcap=null;_this85.map=null;_this85.bumpMap=null;_this85.bumpScale=1;_this85.normalMap=null;_this85.normalMapType=TangentSpaceNormalMap;_this85.normalScale=new Vector2(1,1);_this85.displacementMap=null;_this85.displacementScale=1;_this85.displacementBias=0;_this85.alphaMap=null;_this85.flatShading=false;_this85.setValues(parameters);return _this85;}(0,_createClass2.default)(MeshMatcapMaterial,[{key:"copy",value:function copy(source){(0,_get2.default)((0,_getPrototypeOf2.default)(MeshMatcapMaterial.prototype),"copy",this).call(this,source);this.defines={'MATCAP':''};this.color.copy(source.color);this.matcap=source.matcap;this.map=source.map;this.bumpMap=source.bumpMap;this.bumpScale=source.bumpScale;this.normalMap=source.normalMap;this.normalMapType=source.normalMapType;this.normalScale.copy(source.normalScale);this.displacementMap=source.displacementMap;this.displacementScale=source.displacementScale;this.displacementBias=source.displacementBias;this.alphaMap=source.alphaMap;this.flatShading=source.flatShading;return this;}}]);return MeshMatcapMaterial;}(Material);exports.MeshMatcapMaterial=MeshMatcapMaterial;MeshMatcapMaterial.prototype.isMeshMatcapMaterial=true;/**
 * parameters = {
 *  color: <hex>,
 *  opacity: <float>,
 *
 *  linewidth: <float>,
 *
 *  scale: <float>,
 *  dashSize: <float>,
 *  gapSize: <float>
 * }
 */var LineDashedMaterial=/*#__PURE__*/function(_LineBasicMaterial){(0,_inherits2.default)(LineDashedMaterial,_LineBasicMaterial);var _super96=_createSuper(LineDashedMaterial);function LineDashedMaterial(parameters){var _this86;(0,_classCallCheck2.default)(this,LineDashedMaterial);_this86=_super96.call(this);_this86.type='LineDashedMaterial';_this86.scale=1;_this86.dashSize=3;_this86.gapSize=1;_this86.setValues(parameters);return _this86;}(0,_createClass2.default)(LineDashedMaterial,[{key:"copy",value:function copy(source){(0,_get2.default)((0,_getPrototypeOf2.default)(LineDashedMaterial.prototype),"copy",this).call(this,source);this.scale=source.scale;this.dashSize=source.dashSize;this.gapSize=source.gapSize;return this;}}]);return LineDashedMaterial;}(LineBasicMaterial);exports.LineDashedMaterial=LineDashedMaterial;LineDashedMaterial.prototype.isLineDashedMaterial=true;var Materials=/*#__PURE__*/Object.freeze({__proto__:null,ShadowMaterial:ShadowMaterial,SpriteMaterial:SpriteMaterial,RawShaderMaterial:RawShaderMaterial,ShaderMaterial:ShaderMaterial,PointsMaterial:PointsMaterial,MeshPhysicalMaterial:MeshPhysicalMaterial,MeshStandardMaterial:MeshStandardMaterial,MeshPhongMaterial:MeshPhongMaterial,MeshToonMaterial:MeshToonMaterial,MeshNormalMaterial:MeshNormalMaterial,MeshLambertMaterial:MeshLambertMaterial,MeshDepthMaterial:MeshDepthMaterial,MeshDistanceMaterial:MeshDistanceMaterial,MeshBasicMaterial:MeshBasicMaterial,MeshMatcapMaterial:MeshMatcapMaterial,LineDashedMaterial:LineDashedMaterial,LineBasicMaterial:LineBasicMaterial,Material:Material});var AnimationUtils={// same as Array.prototype.slice, but also works on typed arrays
arraySlice:function arraySlice(array,from,to){if(AnimationUtils.isTypedArray(array)){// in ios9 array.subarray(from, undefined) will return empty array
// but array.subarray(from) or array.subarray(from, len) is correct
return new array.constructor(array.subarray(from,to!==undefined?to:array.length));}return array.slice(from,to);},// converts an array to a specific type
convertArray:function convertArray(array,type,forceClone){if(!array||// let 'undefined' and 'null' pass
!forceClone&&array.constructor===type)return array;if(typeof type.BYTES_PER_ELEMENT==='number'){return new type(array);// create typed array
}return Array.prototype.slice.call(array);// create Array
},isTypedArray:function isTypedArray(object){return ArrayBuffer.isView(object)&&!(object instanceof DataView);},// returns an array by which times and values can be sorted
getKeyframeOrder:function getKeyframeOrder(times){function compareTime(i,j){return times[i]-times[j];}var n=times.length;var result=new Array(n);for(var i=0;i!==n;++i){result[i]=i;}result.sort(compareTime);return result;},// uses the array previously returned by 'getKeyframeOrder' to sort data
sortedArray:function sortedArray(values,stride,order){var nValues=values.length;var result=new values.constructor(nValues);for(var i=0,dstOffset=0;dstOffset!==nValues;++i){var srcOffset=order[i]*stride;for(var j=0;j!==stride;++j){result[dstOffset++]=values[srcOffset+j];}}return result;},// function for parsing AOS keyframe formats
flattenJSON:function flattenJSON(jsonKeys,times,values,valuePropertyName){var i=1,key=jsonKeys[0];while(key!==undefined&&key[valuePropertyName]===undefined){key=jsonKeys[i++];}if(key===undefined)return;// no data
var value=key[valuePropertyName];if(value===undefined)return;// no data
if(Array.isArray(value)){do{value=key[valuePropertyName];if(value!==undefined){times.push(key.time);values.push.apply(values,value);// push all elements
}key=jsonKeys[i++];}while(key!==undefined);}else if(value.toArray!==undefined){// ...assume THREE.Math-ish
do{value=key[valuePropertyName];if(value!==undefined){times.push(key.time);value.toArray(values,values.length);}key=jsonKeys[i++];}while(key!==undefined);}else{// otherwise push as-is
do{value=key[valuePropertyName];if(value!==undefined){times.push(key.time);values.push(value);}key=jsonKeys[i++];}while(key!==undefined);}},subclip:function subclip(sourceClip,name,startFrame,endFrame){var fps=arguments.length>4&&arguments[4]!==undefined?arguments[4]:30;var clip=sourceClip.clone();clip.name=name;var tracks=[];for(var i=0;i<clip.tracks.length;++i){var track=clip.tracks[i];var valueSize=track.getValueSize();var times=[];var values=[];for(var j=0;j<track.times.length;++j){var frame=track.times[j]*fps;if(frame<startFrame||frame>=endFrame)continue;times.push(track.times[j]);for(var k=0;k<valueSize;++k){values.push(track.values[j*valueSize+k]);}}if(times.length===0)continue;track.times=AnimationUtils.convertArray(times,track.times.constructor);track.values=AnimationUtils.convertArray(values,track.values.constructor);tracks.push(track);}clip.tracks=tracks;// find minimum .times value across all tracks in the trimmed clip
var minStartTime=Infinity;for(var _i134=0;_i134<clip.tracks.length;++_i134){if(minStartTime>clip.tracks[_i134].times[0]){minStartTime=clip.tracks[_i134].times[0];}}// shift all tracks such that clip begins at t=0
for(var _i135=0;_i135<clip.tracks.length;++_i135){clip.tracks[_i135].shift(-1*minStartTime);}clip.resetDuration();return clip;},makeClipAdditive:function makeClipAdditive(targetClip){var referenceFrame=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var referenceClip=arguments.length>2&&arguments[2]!==undefined?arguments[2]:targetClip;var fps=arguments.length>3&&arguments[3]!==undefined?arguments[3]:30;if(fps<=0)fps=30;var numTracks=referenceClip.tracks.length;var referenceTime=referenceFrame/fps;// Make each track's values relative to the values at the reference frame
var _loop=function _loop(i){var referenceTrack=referenceClip.tracks[i];var referenceTrackType=referenceTrack.ValueTypeName;// Skip this track if it's non-numeric
if(referenceTrackType==='bool'||referenceTrackType==='string')return"continue";// Find the track in the target clip whose name and type matches the reference track
var targetTrack=targetClip.tracks.find(function(track){return track.name===referenceTrack.name&&track.ValueTypeName===referenceTrackType;});if(targetTrack===undefined)return"continue";var referenceOffset=0;var referenceValueSize=referenceTrack.getValueSize();if(referenceTrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline){referenceOffset=referenceValueSize/3;}var targetOffset=0;var targetValueSize=targetTrack.getValueSize();if(targetTrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline){targetOffset=targetValueSize/3;}var lastIndex=referenceTrack.times.length-1;var referenceValue=void 0;// Find the value to subtract out of the track
if(referenceTime<=referenceTrack.times[0]){// Reference frame is earlier than the first keyframe, so just use the first keyframe
var startIndex=referenceOffset;var endIndex=referenceValueSize-referenceOffset;referenceValue=AnimationUtils.arraySlice(referenceTrack.values,startIndex,endIndex);}else if(referenceTime>=referenceTrack.times[lastIndex]){// Reference frame is after the last keyframe, so just use the last keyframe
var _startIndex=lastIndex*referenceValueSize+referenceOffset;var _endIndex=_startIndex+referenceValueSize-referenceOffset;referenceValue=AnimationUtils.arraySlice(referenceTrack.values,_startIndex,_endIndex);}else{// Interpolate to the reference value
var interpolant=referenceTrack.createInterpolant();var _startIndex2=referenceOffset;var _endIndex2=referenceValueSize-referenceOffset;interpolant.evaluate(referenceTime);referenceValue=AnimationUtils.arraySlice(interpolant.resultBuffer,_startIndex2,_endIndex2);}// Conjugate the quaternion
if(referenceTrackType==='quaternion'){var referenceQuat=new Quaternion().fromArray(referenceValue).normalize().conjugate();referenceQuat.toArray(referenceValue);}// Subtract the reference value from all of the track values
var numTimes=targetTrack.times.length;for(var j=0;j<numTimes;++j){var valueStart=j*targetValueSize+targetOffset;if(referenceTrackType==='quaternion'){// Multiply the conjugate for quaternion track types
Quaternion.multiplyQuaternionsFlat(targetTrack.values,valueStart,referenceValue,0,targetTrack.values,valueStart);}else{var valueEnd=targetValueSize-targetOffset*2;// Subtract each value for all other numeric track types
for(var k=0;k<valueEnd;++k){targetTrack.values[valueStart+k]-=referenceValue[k];}}}};for(var i=0;i<numTracks;++i){var _ret=_loop(i);if(_ret==="continue")continue;}targetClip.blendMode=AdditiveAnimationBlendMode;return targetClip;}};/**
 * Abstract base class of interpolants over parametric samples.
 *
 * The parameter domain is one dimensional, typically the time or a path
 * along a curve defined by the data.
 *
 * The sample values can have any dimensionality and derived classes may
 * apply special interpretations to the data.
 *
 * This class provides the interval seek in a Template Method, deferring
 * the actual interpolation to derived classes.
 *
 * Time complexity is O(1) for linear access crossing at most two points
 * and O(log N) for random access, where N is the number of positions.
 *
 * References:
 *
 * 		http://www.oodesign.com/template-method-pattern.html
 *
 */exports.AnimationUtils=AnimationUtils;var Interpolant=/*#__PURE__*/function(){function Interpolant(parameterPositions,sampleValues,sampleSize,resultBuffer){(0,_classCallCheck2.default)(this,Interpolant);this.parameterPositions=parameterPositions;this._cachedIndex=0;this.resultBuffer=resultBuffer!==undefined?resultBuffer:new sampleValues.constructor(sampleSize);this.sampleValues=sampleValues;this.valueSize=sampleSize;this.settings=null;this.DefaultSettings_={};}(0,_createClass2.default)(Interpolant,[{key:"evaluate",value:function evaluate(t){var pp=this.parameterPositions;var i1=this._cachedIndex,t1=pp[i1],t0=pp[i1-1];validate_interval:{seek:{var right;linear_scan:{//- See http://jsperf.com/comparison-to-undefined/3
//- slower code:
//-
//- 				if ( t >= t1 || t1 === undefined ) {
forward_scan:if(!(t<t1)){for(var giveUpAt=i1+2;;){if(t1===undefined){if(t<t0)break forward_scan;// after end
i1=pp.length;this._cachedIndex=i1;return this.afterEnd_(i1-1,t,t0);}if(i1===giveUpAt)break;// this loop
t0=t1;t1=pp[++i1];if(t<t1){// we have arrived at the sought interval
break seek;}}// prepare binary search on the right side of the index
right=pp.length;break linear_scan;}//- slower code:
//-					if ( t < t0 || t0 === undefined ) {
if(!(t>=t0)){// looping?
var t1global=pp[1];if(t<t1global){i1=2;// + 1, using the scan for the details
t0=t1global;}// linear reverse scan
for(var _giveUpAt=i1-2;;){if(t0===undefined){// before start
this._cachedIndex=0;return this.beforeStart_(0,t,t1);}if(i1===_giveUpAt)break;// this loop
t1=t0;t0=pp[--i1-1];if(t>=t0){// we have arrived at the sought interval
break seek;}}// prepare binary search on the left side of the index
right=i1;i1=0;break linear_scan;}// the interval is valid
break validate_interval;}// linear scan
// binary search
while(i1<right){var mid=i1+right>>>1;if(t<pp[mid]){right=mid;}else{i1=mid+1;}}t1=pp[i1];t0=pp[i1-1];// check boundary cases, again
if(t0===undefined){this._cachedIndex=0;return this.beforeStart_(0,t,t1);}if(t1===undefined){i1=pp.length;this._cachedIndex=i1;return this.afterEnd_(i1-1,t0,t);}}// seek
this._cachedIndex=i1;this.intervalChanged_(i1,t0,t1);}// validate_interval
return this.interpolate_(i1,t0,t,t1);}},{key:"getSettings_",value:function getSettings_(){return this.settings||this.DefaultSettings_;}},{key:"copySampleValue_",value:function copySampleValue_(index){// copies a sample value to the result buffer
var result=this.resultBuffer,values=this.sampleValues,stride=this.valueSize,offset=index*stride;for(var i=0;i!==stride;++i){result[i]=values[offset+i];}return result;}// Template methods for derived classes:
},{key:"interpolate_",value:function interpolate_(/* i1, t0, t, t1 */){throw new Error('call to abstract method');// implementations shall return this.resultBuffer
}},{key:"intervalChanged_",value:function intervalChanged_(/* i1, t0, t1 */){// empty
}}]);return Interpolant;}();// ALIAS DEFINITIONS
exports.Interpolant=Interpolant;Interpolant.prototype.beforeStart_=Interpolant.prototype.copySampleValue_;Interpolant.prototype.afterEnd_=Interpolant.prototype.copySampleValue_;/**
 * Fast and simple cubic spline interpolant.
 *
 * It was derived from a Hermitian construction setting the first derivative
 * at each sample position to the linear slope between neighboring positions
 * over their parameter interval.
 */var CubicInterpolant=/*#__PURE__*/function(_Interpolant){(0,_inherits2.default)(CubicInterpolant,_Interpolant);var _super97=_createSuper(CubicInterpolant);function CubicInterpolant(parameterPositions,sampleValues,sampleSize,resultBuffer){var _this87;(0,_classCallCheck2.default)(this,CubicInterpolant);_this87=_super97.call(this,parameterPositions,sampleValues,sampleSize,resultBuffer);_this87._weightPrev=-0;_this87._offsetPrev=-0;_this87._weightNext=-0;_this87._offsetNext=-0;_this87.DefaultSettings_={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding};return _this87;}(0,_createClass2.default)(CubicInterpolant,[{key:"intervalChanged_",value:function intervalChanged_(i1,t0,t1){var pp=this.parameterPositions;var iPrev=i1-2,iNext=i1+1,tPrev=pp[iPrev],tNext=pp[iNext];if(tPrev===undefined){switch(this.getSettings_().endingStart){case ZeroSlopeEnding:// f'(t0) = 0
iPrev=i1;tPrev=2*t0-t1;break;case WrapAroundEnding:// use the other end of the curve
iPrev=pp.length-2;tPrev=t0+pp[iPrev]-pp[iPrev+1];break;default:// ZeroCurvatureEnding
// f''(t0) = 0 a.k.a. Natural Spline
iPrev=i1;tPrev=t1;}}if(tNext===undefined){switch(this.getSettings_().endingEnd){case ZeroSlopeEnding:// f'(tN) = 0
iNext=i1;tNext=2*t1-t0;break;case WrapAroundEnding:// use the other end of the curve
iNext=1;tNext=t1+pp[1]-pp[0];break;default:// ZeroCurvatureEnding
// f''(tN) = 0, a.k.a. Natural Spline
iNext=i1-1;tNext=t0;}}var halfDt=(t1-t0)*0.5,stride=this.valueSize;this._weightPrev=halfDt/(t0-tPrev);this._weightNext=halfDt/(tNext-t1);this._offsetPrev=iPrev*stride;this._offsetNext=iNext*stride;}},{key:"interpolate_",value:function interpolate_(i1,t0,t,t1){var result=this.resultBuffer,values=this.sampleValues,stride=this.valueSize,o1=i1*stride,o0=o1-stride,oP=this._offsetPrev,oN=this._offsetNext,wP=this._weightPrev,wN=this._weightNext,p=(t-t0)/(t1-t0),pp=p*p,ppp=pp*p;// evaluate polynomials
var sP=-wP*ppp+2*wP*pp-wP*p;var s0=(1+wP)*ppp+(-1.5-2*wP)*pp+(-0.5+wP)*p+1;var s1=(-1-wN)*ppp+(1.5+wN)*pp+0.5*p;var sN=wN*ppp-wN*pp;// combine data linearly
for(var i=0;i!==stride;++i){result[i]=sP*values[oP+i]+s0*values[o0+i]+s1*values[o1+i]+sN*values[oN+i];}return result;}}]);return CubicInterpolant;}(Interpolant);exports.CubicInterpolant=CubicInterpolant;var LinearInterpolant=/*#__PURE__*/function(_Interpolant2){(0,_inherits2.default)(LinearInterpolant,_Interpolant2);var _super98=_createSuper(LinearInterpolant);function LinearInterpolant(parameterPositions,sampleValues,sampleSize,resultBuffer){(0,_classCallCheck2.default)(this,LinearInterpolant);return _super98.call(this,parameterPositions,sampleValues,sampleSize,resultBuffer);}(0,_createClass2.default)(LinearInterpolant,[{key:"interpolate_",value:function interpolate_(i1,t0,t,t1){var result=this.resultBuffer,values=this.sampleValues,stride=this.valueSize,offset1=i1*stride,offset0=offset1-stride,weight1=(t-t0)/(t1-t0),weight0=1-weight1;for(var i=0;i!==stride;++i){result[i]=values[offset0+i]*weight0+values[offset1+i]*weight1;}return result;}}]);return LinearInterpolant;}(Interpolant);/**
 *
 * Interpolant that evaluates to the sample value at the position preceeding
 * the parameter.
 */exports.LinearInterpolant=LinearInterpolant;var DiscreteInterpolant=/*#__PURE__*/function(_Interpolant3){(0,_inherits2.default)(DiscreteInterpolant,_Interpolant3);var _super99=_createSuper(DiscreteInterpolant);function DiscreteInterpolant(parameterPositions,sampleValues,sampleSize,resultBuffer){(0,_classCallCheck2.default)(this,DiscreteInterpolant);return _super99.call(this,parameterPositions,sampleValues,sampleSize,resultBuffer);}(0,_createClass2.default)(DiscreteInterpolant,[{key:"interpolate_",value:function interpolate_(i1/*, t0, t, t1 */){return this.copySampleValue_(i1-1);}}]);return DiscreteInterpolant;}(Interpolant);exports.DiscreteInterpolant=DiscreteInterpolant;var KeyframeTrack=/*#__PURE__*/function(){function KeyframeTrack(name,times,values,interpolation){(0,_classCallCheck2.default)(this,KeyframeTrack);if(name===undefined)throw new Error('THREE.KeyframeTrack: track name is undefined');if(times===undefined||times.length===0)throw new Error('THREE.KeyframeTrack: no keyframes in track named '+name);this.name=name;this.times=AnimationUtils.convertArray(times,this.TimeBufferType);this.values=AnimationUtils.convertArray(values,this.ValueBufferType);this.setInterpolation(interpolation||this.DefaultInterpolation);}// Serialization (in static context, because of constructor invocation
// and automatic invocation of .toJSON):
(0,_createClass2.default)(KeyframeTrack,[{key:"InterpolantFactoryMethodDiscrete",value:function InterpolantFactoryMethodDiscrete(result){return new DiscreteInterpolant(this.times,this.values,this.getValueSize(),result);}},{key:"InterpolantFactoryMethodLinear",value:function InterpolantFactoryMethodLinear(result){return new LinearInterpolant(this.times,this.values,this.getValueSize(),result);}},{key:"InterpolantFactoryMethodSmooth",value:function InterpolantFactoryMethodSmooth(result){return new CubicInterpolant(this.times,this.values,this.getValueSize(),result);}},{key:"setInterpolation",value:function setInterpolation(interpolation){var factoryMethod;switch(interpolation){case InterpolateDiscrete:factoryMethod=this.InterpolantFactoryMethodDiscrete;break;case InterpolateLinear:factoryMethod=this.InterpolantFactoryMethodLinear;break;case InterpolateSmooth:factoryMethod=this.InterpolantFactoryMethodSmooth;break;}if(factoryMethod===undefined){var message='unsupported interpolation for '+this.ValueTypeName+' keyframe track named '+this.name;if(this.createInterpolant===undefined){// fall back to default, unless the default itself is messed up
if(interpolation!==this.DefaultInterpolation){this.setInterpolation(this.DefaultInterpolation);}else{throw new Error(message);// fatal, in this case
}}console.warn('THREE.KeyframeTrack:',message);return this;}this.createInterpolant=factoryMethod;return this;}},{key:"getInterpolation",value:function getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return InterpolateSmooth;}}},{key:"getValueSize",value:function getValueSize(){return this.values.length/this.times.length;}// move all keyframes either forwards or backwards in time
},{key:"shift",value:function shift(timeOffset){if(timeOffset!==0.0){var times=this.times;for(var i=0,n=times.length;i!==n;++i){times[i]+=timeOffset;}}return this;}// scale all keyframe times by a factor (useful for frame <-> seconds conversions)
},{key:"scale",value:function scale(timeScale){if(timeScale!==1.0){var times=this.times;for(var i=0,n=times.length;i!==n;++i){times[i]*=timeScale;}}return this;}// removes keyframes before and after animation without changing any values within the range [startTime, endTime].
// IMPORTANT: We do not shift around keys to the start of the track time, because for interpolated keys this will change their values
},{key:"trim",value:function trim(startTime,endTime){var times=this.times,nKeys=times.length;var from=0,to=nKeys-1;while(from!==nKeys&&times[from]<startTime){++from;}while(to!==-1&&times[to]>endTime){--to;}++to;// inclusive -> exclusive bound
if(from!==0||to!==nKeys){// empty tracks are forbidden, so keep at least one keyframe
if(from>=to){to=Math.max(to,1);from=to-1;}var stride=this.getValueSize();this.times=AnimationUtils.arraySlice(times,from,to);this.values=AnimationUtils.arraySlice(this.values,from*stride,to*stride);}return this;}// ensure we do not get a GarbageInGarbageOut situation, make sure tracks are at least minimally viable
},{key:"validate",value:function validate(){var valid=true;var valueSize=this.getValueSize();if(valueSize-Math.floor(valueSize)!==0){console.error('THREE.KeyframeTrack: Invalid value size in track.',this);valid=false;}var times=this.times,values=this.values,nKeys=times.length;if(nKeys===0){console.error('THREE.KeyframeTrack: Track is empty.',this);valid=false;}var prevTime=null;for(var i=0;i!==nKeys;i++){var currTime=times[i];if(typeof currTime==='number'&&isNaN(currTime)){console.error('THREE.KeyframeTrack: Time is not a valid number.',this,i,currTime);valid=false;break;}if(prevTime!==null&&prevTime>currTime){console.error('THREE.KeyframeTrack: Out of order keys.',this,i,currTime,prevTime);valid=false;break;}prevTime=currTime;}if(values!==undefined){if(AnimationUtils.isTypedArray(values)){for(var _i136=0,n=values.length;_i136!==n;++_i136){var _value5=values[_i136];if(isNaN(_value5)){console.error('THREE.KeyframeTrack: Value is not a valid number.',this,_i136,_value5);valid=false;break;}}}}return valid;}// removes equivalent sequential keys as common in morph target sequences
// (0,0,0,0,1,1,1,0,0,0,0,0,0,0) --> (0,0,1,1,0,0)
},{key:"optimize",value:function optimize(){// times or values may be shared with other tracks, so overwriting is unsafe
var times=AnimationUtils.arraySlice(this.times),values=AnimationUtils.arraySlice(this.values),stride=this.getValueSize(),smoothInterpolation=this.getInterpolation()===InterpolateSmooth,lastIndex=times.length-1;var writeIndex=1;for(var i=1;i<lastIndex;++i){var keep=false;var time=times[i];var timeNext=times[i+1];// remove adjacent keyframes scheduled at the same time
if(time!==timeNext&&(i!==1||time!==times[0])){if(!smoothInterpolation){// remove unnecessary keyframes same as their neighbors
var offset=i*stride,offsetP=offset-stride,offsetN=offset+stride;for(var j=0;j!==stride;++j){var _value6=values[offset+j];if(_value6!==values[offsetP+j]||_value6!==values[offsetN+j]){keep=true;break;}}}else{keep=true;}}// in-place compaction
if(keep){if(i!==writeIndex){times[writeIndex]=times[i];var readOffset=i*stride,writeOffset=writeIndex*stride;for(var _j14=0;_j14!==stride;++_j14){values[writeOffset+_j14]=values[readOffset+_j14];}}++writeIndex;}}// flush last keyframe (compaction looks ahead)
if(lastIndex>0){times[writeIndex]=times[lastIndex];for(var _readOffset=lastIndex*stride,_writeOffset=writeIndex*stride,_j15=0;_j15!==stride;++_j15){values[_writeOffset+_j15]=values[_readOffset+_j15];}++writeIndex;}if(writeIndex!==times.length){this.times=AnimationUtils.arraySlice(times,0,writeIndex);this.values=AnimationUtils.arraySlice(values,0,writeIndex*stride);}else{this.times=times;this.values=values;}return this;}},{key:"clone",value:function clone(){var times=AnimationUtils.arraySlice(this.times,0);var values=AnimationUtils.arraySlice(this.values,0);var TypedKeyframeTrack=this.constructor;var track=new TypedKeyframeTrack(this.name,times,values);// Interpolant argument to constructor is not saved, so copy the factory method directly.
track.createInterpolant=this.createInterpolant;return track;}}],[{key:"toJSON",value:function toJSON(track){var trackType=track.constructor;var json;// derived classes can define a static toJSON method
if(trackType.toJSON!==this.toJSON){json=trackType.toJSON(track);}else{// by default, we assume the data can be serialized as-is
json={'name':track.name,'times':AnimationUtils.convertArray(track.times,Array),'values':AnimationUtils.convertArray(track.values,Array)};var interpolation=track.getInterpolation();if(interpolation!==track.DefaultInterpolation){json.interpolation=interpolation;}}json.type=track.ValueTypeName;// mandatory
return json;}}]);return KeyframeTrack;}();exports.KeyframeTrack=KeyframeTrack;KeyframeTrack.prototype.TimeBufferType=Float32Array;KeyframeTrack.prototype.ValueBufferType=Float32Array;KeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;/**
 * A Track of Boolean keyframe values.
 */var BooleanKeyframeTrack=/*#__PURE__*/function(_KeyframeTrack){(0,_inherits2.default)(BooleanKeyframeTrack,_KeyframeTrack);var _super100=_createSuper(BooleanKeyframeTrack);function BooleanKeyframeTrack(){(0,_classCallCheck2.default)(this,BooleanKeyframeTrack);return _super100.apply(this,arguments);}return(0,_createClass2.default)(BooleanKeyframeTrack);}(KeyframeTrack);exports.BooleanKeyframeTrack=BooleanKeyframeTrack;BooleanKeyframeTrack.prototype.ValueTypeName='bool';BooleanKeyframeTrack.prototype.ValueBufferType=Array;BooleanKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodLinear=undefined;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=undefined;/**
 * A Track of keyframe values that represent color.
 */var ColorKeyframeTrack=/*#__PURE__*/function(_KeyframeTrack2){(0,_inherits2.default)(ColorKeyframeTrack,_KeyframeTrack2);var _super101=_createSuper(ColorKeyframeTrack);function ColorKeyframeTrack(){(0,_classCallCheck2.default)(this,ColorKeyframeTrack);return _super101.apply(this,arguments);}return(0,_createClass2.default)(ColorKeyframeTrack);}(KeyframeTrack);exports.ColorKeyframeTrack=ColorKeyframeTrack;ColorKeyframeTrack.prototype.ValueTypeName='color';/**
 * A Track of numeric keyframe values.
 */var NumberKeyframeTrack=/*#__PURE__*/function(_KeyframeTrack3){(0,_inherits2.default)(NumberKeyframeTrack,_KeyframeTrack3);var _super102=_createSuper(NumberKeyframeTrack);function NumberKeyframeTrack(){(0,_classCallCheck2.default)(this,NumberKeyframeTrack);return _super102.apply(this,arguments);}return(0,_createClass2.default)(NumberKeyframeTrack);}(KeyframeTrack);exports.NumberKeyframeTrack=NumberKeyframeTrack;NumberKeyframeTrack.prototype.ValueTypeName='number';/**
 * Spherical linear unit quaternion interpolant.
 */var QuaternionLinearInterpolant=/*#__PURE__*/function(_Interpolant4){(0,_inherits2.default)(QuaternionLinearInterpolant,_Interpolant4);var _super103=_createSuper(QuaternionLinearInterpolant);function QuaternionLinearInterpolant(parameterPositions,sampleValues,sampleSize,resultBuffer){(0,_classCallCheck2.default)(this,QuaternionLinearInterpolant);return _super103.call(this,parameterPositions,sampleValues,sampleSize,resultBuffer);}(0,_createClass2.default)(QuaternionLinearInterpolant,[{key:"interpolate_",value:function interpolate_(i1,t0,t,t1){var result=this.resultBuffer,values=this.sampleValues,stride=this.valueSize,alpha=(t-t0)/(t1-t0);var offset=i1*stride;for(var end=offset+stride;offset!==end;offset+=4){Quaternion.slerpFlat(result,0,values,offset-stride,values,offset,alpha);}return result;}}]);return QuaternionLinearInterpolant;}(Interpolant);/**
 * A Track of quaternion keyframe values.
 */exports.QuaternionLinearInterpolant=QuaternionLinearInterpolant;var QuaternionKeyframeTrack=/*#__PURE__*/function(_KeyframeTrack4){(0,_inherits2.default)(QuaternionKeyframeTrack,_KeyframeTrack4);var _super104=_createSuper(QuaternionKeyframeTrack);function QuaternionKeyframeTrack(){(0,_classCallCheck2.default)(this,QuaternionKeyframeTrack);return _super104.apply(this,arguments);}(0,_createClass2.default)(QuaternionKeyframeTrack,[{key:"InterpolantFactoryMethodLinear",value:function InterpolantFactoryMethodLinear(result){return new QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),result);}}]);return QuaternionKeyframeTrack;}(KeyframeTrack);exports.QuaternionKeyframeTrack=QuaternionKeyframeTrack;QuaternionKeyframeTrack.prototype.ValueTypeName='quaternion';// ValueBufferType is inherited
QuaternionKeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;QuaternionKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=undefined;/**
 * A Track that interpolates Strings
 */var StringKeyframeTrack=/*#__PURE__*/function(_KeyframeTrack5){(0,_inherits2.default)(StringKeyframeTrack,_KeyframeTrack5);var _super105=_createSuper(StringKeyframeTrack);function StringKeyframeTrack(){(0,_classCallCheck2.default)(this,StringKeyframeTrack);return _super105.apply(this,arguments);}return(0,_createClass2.default)(StringKeyframeTrack);}(KeyframeTrack);exports.StringKeyframeTrack=StringKeyframeTrack;StringKeyframeTrack.prototype.ValueTypeName='string';StringKeyframeTrack.prototype.ValueBufferType=Array;StringKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;StringKeyframeTrack.prototype.InterpolantFactoryMethodLinear=undefined;StringKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=undefined;/**
 * A Track of vectored keyframe values.
 */var VectorKeyframeTrack=/*#__PURE__*/function(_KeyframeTrack6){(0,_inherits2.default)(VectorKeyframeTrack,_KeyframeTrack6);var _super106=_createSuper(VectorKeyframeTrack);function VectorKeyframeTrack(){(0,_classCallCheck2.default)(this,VectorKeyframeTrack);return _super106.apply(this,arguments);}return(0,_createClass2.default)(VectorKeyframeTrack);}(KeyframeTrack);exports.VectorKeyframeTrack=VectorKeyframeTrack;VectorKeyframeTrack.prototype.ValueTypeName='vector';var AnimationClip=/*#__PURE__*/function(){function AnimationClip(name){var duration=arguments.length>1&&arguments[1]!==undefined?arguments[1]:-1;var tracks=arguments.length>2?arguments[2]:undefined;var blendMode=arguments.length>3&&arguments[3]!==undefined?arguments[3]:NormalAnimationBlendMode;(0,_classCallCheck2.default)(this,AnimationClip);this.name=name;this.tracks=tracks;this.duration=duration;this.blendMode=blendMode;this.uuid=generateUUID();// this means it should figure out its duration by scanning the tracks
if(this.duration<0){this.resetDuration();}}(0,_createClass2.default)(AnimationClip,[{key:"resetDuration",value:function resetDuration(){var tracks=this.tracks;var duration=0;for(var i=0,n=tracks.length;i!==n;++i){var track=this.tracks[i];duration=Math.max(duration,track.times[track.times.length-1]);}this.duration=duration;return this;}},{key:"trim",value:function trim(){for(var i=0;i<this.tracks.length;i++){this.tracks[i].trim(0,this.duration);}return this;}},{key:"validate",value:function validate(){var valid=true;for(var i=0;i<this.tracks.length;i++){valid=valid&&this.tracks[i].validate();}return valid;}},{key:"optimize",value:function optimize(){for(var i=0;i<this.tracks.length;i++){this.tracks[i].optimize();}return this;}},{key:"clone",value:function clone(){var tracks=[];for(var i=0;i<this.tracks.length;i++){tracks.push(this.tracks[i].clone());}return new this.constructor(this.name,this.duration,tracks,this.blendMode);}},{key:"toJSON",value:function toJSON(){return this.constructor.toJSON(this);}}],[{key:"parse",value:function parse(json){var tracks=[],jsonTracks=json.tracks,frameTime=1.0/(json.fps||1.0);for(var i=0,n=jsonTracks.length;i!==n;++i){tracks.push(parseKeyframeTrack(jsonTracks[i]).scale(frameTime));}var clip=new this(json.name,json.duration,tracks,json.blendMode);clip.uuid=json.uuid;return clip;}},{key:"toJSON",value:function toJSON(clip){var tracks=[],clipTracks=clip.tracks;var json={'name':clip.name,'duration':clip.duration,'tracks':tracks,'uuid':clip.uuid,'blendMode':clip.blendMode};for(var i=0,n=clipTracks.length;i!==n;++i){tracks.push(KeyframeTrack.toJSON(clipTracks[i]));}return json;}},{key:"CreateFromMorphTargetSequence",value:function CreateFromMorphTargetSequence(name,morphTargetSequence,fps,noLoop){var numMorphTargets=morphTargetSequence.length;var tracks=[];for(var i=0;i<numMorphTargets;i++){var times=[];var values=[];times.push((i+numMorphTargets-1)%numMorphTargets,i,(i+1)%numMorphTargets);values.push(0,1,0);var order=AnimationUtils.getKeyframeOrder(times);times=AnimationUtils.sortedArray(times,1,order);values=AnimationUtils.sortedArray(values,1,order);// if there is a key at the first frame, duplicate it as the
// last frame as well for perfect loop.
if(!noLoop&&times[0]===0){times.push(numMorphTargets);values.push(values[0]);}tracks.push(new NumberKeyframeTrack('.morphTargetInfluences['+morphTargetSequence[i].name+']',times,values).scale(1.0/fps));}return new this(name,-1,tracks);}},{key:"findByName",value:function findByName(objectOrClipArray,name){var clipArray=objectOrClipArray;if(!Array.isArray(objectOrClipArray)){var o=objectOrClipArray;clipArray=o.geometry&&o.geometry.animations||o.animations;}for(var i=0;i<clipArray.length;i++){if(clipArray[i].name===name){return clipArray[i];}}return null;}},{key:"CreateClipsFromMorphTargetSequences",value:function CreateClipsFromMorphTargetSequences(morphTargets,fps,noLoop){var animationToMorphTargets={};// tested with https://regex101.com/ on trick sequences
// such flamingo_flyA_003, flamingo_run1_003, crdeath0059
var pattern=/^([\w-]*?)([\d]+)$/;// sort morph target names into animation groups based
// patterns like Walk_001, Walk_002, Run_001, Run_002
for(var i=0,il=morphTargets.length;i<il;i++){var morphTarget=morphTargets[i];var parts=morphTarget.name.match(pattern);if(parts&&parts.length>1){var name=parts[1];var animationMorphTargets=animationToMorphTargets[name];if(!animationMorphTargets){animationToMorphTargets[name]=animationMorphTargets=[];}animationMorphTargets.push(morphTarget);}}var clips=[];for(var _name4 in animationToMorphTargets){clips.push(this.CreateFromMorphTargetSequence(_name4,animationToMorphTargets[_name4],fps,noLoop));}return clips;}// parse the animation.hierarchy format
},{key:"parseAnimation",value:function parseAnimation(animation,bones){if(!animation){console.error('THREE.AnimationClip: No animation in JSONLoader data.');return null;}var addNonemptyTrack=function addNonemptyTrack(trackType,trackName,animationKeys,propertyName,destTracks){// only return track if there are actually keys.
if(animationKeys.length!==0){var times=[];var values=[];AnimationUtils.flattenJSON(animationKeys,times,values,propertyName);// empty keys are filtered out, so check again
if(times.length!==0){destTracks.push(new trackType(trackName,times,values));}}};var tracks=[];var clipName=animation.name||'default';var fps=animation.fps||30;var blendMode=animation.blendMode;// automatic length determination in AnimationClip.
var duration=animation.length||-1;var hierarchyTracks=animation.hierarchy||[];for(var h=0;h<hierarchyTracks.length;h++){var animationKeys=hierarchyTracks[h].keys;// skip empty tracks
if(!animationKeys||animationKeys.length===0)continue;// process morph targets
if(animationKeys[0].morphTargets){// figure out all morph targets used in this track
var morphTargetNames={};var k=void 0;for(k=0;k<animationKeys.length;k++){if(animationKeys[k].morphTargets){for(var m=0;m<animationKeys[k].morphTargets.length;m++){morphTargetNames[animationKeys[k].morphTargets[m]]=-1;}}}// create a track for each morph target with all zero
// morphTargetInfluences except for the keys in which
// the morphTarget is named.
for(var morphTargetName in morphTargetNames){var times=[];var values=[];for(var _m=0;_m!==animationKeys[k].morphTargets.length;++_m){var animationKey=animationKeys[k];times.push(animationKey.time);values.push(animationKey.morphTarget===morphTargetName?1:0);}tracks.push(new NumberKeyframeTrack('.morphTargetInfluence['+morphTargetName+']',times,values));}duration=morphTargetNames.length*(fps||1.0);}else{// ...assume skeletal animation
var boneName='.bones['+bones[h].name+']';addNonemptyTrack(VectorKeyframeTrack,boneName+'.position',animationKeys,'pos',tracks);addNonemptyTrack(QuaternionKeyframeTrack,boneName+'.quaternion',animationKeys,'rot',tracks);addNonemptyTrack(VectorKeyframeTrack,boneName+'.scale',animationKeys,'scl',tracks);}}if(tracks.length===0){return null;}var clip=new this(clipName,duration,tracks,blendMode);return clip;}}]);return AnimationClip;}();exports.AnimationClip=AnimationClip;function getTrackTypeForValueTypeName(typeName){switch(typeName.toLowerCase()){case'scalar':case'double':case'float':case'number':case'integer':return NumberKeyframeTrack;case'vector':case'vector2':case'vector3':case'vector4':return VectorKeyframeTrack;case'color':return ColorKeyframeTrack;case'quaternion':return QuaternionKeyframeTrack;case'bool':case'boolean':return BooleanKeyframeTrack;case'string':return StringKeyframeTrack;}throw new Error('THREE.KeyframeTrack: Unsupported typeName: '+typeName);}function parseKeyframeTrack(json){if(json.type===undefined){throw new Error('THREE.KeyframeTrack: track type undefined, can not parse');}var trackType=getTrackTypeForValueTypeName(json.type);if(json.times===undefined){var times=[],values=[];AnimationUtils.flattenJSON(json.keys,times,values,'value');json.times=times;json.values=values;}// derived classes can define a static parse method
if(trackType.parse!==undefined){return trackType.parse(json);}else{// by default, we assume a constructor compatible with the base
return new trackType(json.name,json.times,json.values,json.interpolation);}}var Cache={enabled:false,files:{},add:function add(key,file){if(this.enabled===false)return;// console.log( 'THREE.Cache', 'Adding key:', key );
this.files[key]=file;},get:function get(key){if(this.enabled===false)return;// console.log( 'THREE.Cache', 'Checking key:', key );
return this.files[key];},remove:function remove(key){delete this.files[key];},clear:function clear(){this.files={};}};exports.Cache=Cache;var LoadingManager=/*#__PURE__*/(0,_createClass2.default)(function LoadingManager(onLoad,onProgress,onError){(0,_classCallCheck2.default)(this,LoadingManager);var scope=this;var isLoading=false;var itemsLoaded=0;var itemsTotal=0;var urlModifier=undefined;var handlers=[];// Refer to #5689 for the reason why we don't set .onStart
// in the constructor
this.onStart=undefined;this.onLoad=onLoad;this.onProgress=onProgress;this.onError=onError;this.itemStart=function(url){itemsTotal++;if(isLoading===false){if(scope.onStart!==undefined){scope.onStart(url,itemsLoaded,itemsTotal);}}isLoading=true;};this.itemEnd=function(url){itemsLoaded++;if(scope.onProgress!==undefined){scope.onProgress(url,itemsLoaded,itemsTotal);}if(itemsLoaded===itemsTotal){isLoading=false;if(scope.onLoad!==undefined){scope.onLoad();}}};this.itemError=function(url){if(scope.onError!==undefined){scope.onError(url);}};this.resolveURL=function(url){if(urlModifier){return urlModifier(url);}return url;};this.setURLModifier=function(transform){urlModifier=transform;return this;};this.addHandler=function(regex,loader){handlers.push(regex,loader);return this;};this.removeHandler=function(regex){var index=handlers.indexOf(regex);if(index!==-1){handlers.splice(index,2);}return this;};this.getHandler=function(file){for(var i=0,l=handlers.length;i<l;i+=2){var regex=handlers[i];var loader=handlers[i+1];if(regex.global)regex.lastIndex=0;// see #17920
if(regex.test(file)){return loader;}}return null;};});exports.LoadingManager=LoadingManager;var DefaultLoadingManager=new LoadingManager();exports.DefaultLoadingManager=DefaultLoadingManager;var Loader=/*#__PURE__*/function(){function Loader(manager){(0,_classCallCheck2.default)(this,Loader);this.manager=manager!==undefined?manager:DefaultLoadingManager;this.crossOrigin='anonymous';this.withCredentials=false;this.path='';this.resourcePath='';this.requestHeader={};}(0,_createClass2.default)(Loader,[{key:"load",value:function load(/* url, onLoad, onProgress, onError */){}},{key:"loadAsync",value:function loadAsync(url,onProgress){var scope=this;return new Promise(function(resolve,reject){scope.load(url,resolve,onProgress,reject);});}},{key:"parse",value:function parse(/* data */){}},{key:"setCrossOrigin",value:function setCrossOrigin(crossOrigin){this.crossOrigin=crossOrigin;return this;}},{key:"setWithCredentials",value:function setWithCredentials(value){this.withCredentials=value;return this;}},{key:"setPath",value:function setPath(path){this.path=path;return this;}},{key:"setResourcePath",value:function setResourcePath(resourcePath){this.resourcePath=resourcePath;return this;}},{key:"setRequestHeader",value:function setRequestHeader(requestHeader){this.requestHeader=requestHeader;return this;}}]);return Loader;}();exports.Loader=Loader;var loading={};var FileLoader=/*#__PURE__*/function(_Loader){(0,_inherits2.default)(FileLoader,_Loader);var _super107=_createSuper(FileLoader);function FileLoader(manager){(0,_classCallCheck2.default)(this,FileLoader);return _super107.call(this,manager);}(0,_createClass2.default)(FileLoader,[{key:"load",value:function load(url,onLoad,onProgress,onError){if(url===undefined)url='';if(this.path!==undefined)url=this.path+url;url=this.manager.resolveURL(url);var scope=this;var cached=Cache.get(url);if(cached!==undefined){scope.manager.itemStart(url);setTimeout(function(){if(onLoad)onLoad(cached);scope.manager.itemEnd(url);},0);return cached;}// Check if request is duplicate
if(loading[url]!==undefined){loading[url].push({onLoad:onLoad,onProgress:onProgress,onError:onError});return;}// Check for data: URI
var dataUriRegex=/^data:(.*?)(;base64)?,(.*)$/;var dataUriRegexResult=url.match(dataUriRegex);var request;// Safari can not handle Data URIs through XMLHttpRequest so process manually
if(dataUriRegexResult){var mimeType=dataUriRegexResult[1];var isBase64=!!dataUriRegexResult[2];var data=dataUriRegexResult[3];data=decodeURIComponent(data);if(isBase64)data=$atob(data);try{var response;var responseType=(this.responseType||'').toLowerCase();switch(responseType){case'arraybuffer':case'blob':var view=new Uint8Array(data.length);for(var i=0;i<data.length;i++){view[i]=data.charCodeAt(i);}if(responseType==='blob'){response=new $Blob([view.buffer],{type:mimeType});}else{response=view.buffer;}break;case'document':var parser=new $DOMParser();response=parser.parseFromString(data,mimeType);break;case'json':response=JSON.parse(data);break;default:// 'text' or other
response=data;break;}// Wait for next browser tick like standard XMLHttpRequest event dispatching does
setTimeout(function(){if(onLoad)onLoad(response);scope.manager.itemEnd(url);},0);}catch(error){// Wait for next browser tick like standard XMLHttpRequest event dispatching does
setTimeout(function(){if(onError)onError(error);scope.manager.itemError(url);scope.manager.itemEnd(url);},0);}}else{// Initialise array for duplicate requests
loading[url]=[];loading[url].push({onLoad:onLoad,onProgress:onProgress,onError:onError});request=new $XMLHttpRequest();request.open('GET',url,true);request.addEventListener('load',function(event){var response=this.response;var callbacks=loading[url];delete loading[url];if(this.status===200||this.status===0){// Some browsers return HTTP Status 0 when using non-http protocol
// e.g. 'file://' or 'data://'. Handle as success.
if(this.status===0)console.warn('THREE.FileLoader: HTTP Status 0 received.');// Add to cache only on HTTP success, so that we do not cache
// error response bodies as proper responses to requests.
Cache.add(url,response);for(var _i137=0,il=callbacks.length;_i137<il;_i137++){var callback=callbacks[_i137];if(callback.onLoad)callback.onLoad(response);}scope.manager.itemEnd(url);}else{for(var _i138=0,_il18=callbacks.length;_i138<_il18;_i138++){var _callback=callbacks[_i138];if(_callback.onError)_callback.onError(event);}scope.manager.itemError(url);scope.manager.itemEnd(url);}},false);request.addEventListener('progress',function(event){var callbacks=loading[url];for(var _i139=0,il=callbacks.length;_i139<il;_i139++){var callback=callbacks[_i139];if(callback.onProgress)callback.onProgress(event);}},false);request.addEventListener('error',function(event){var callbacks=loading[url];delete loading[url];for(var _i140=0,il=callbacks.length;_i140<il;_i140++){var callback=callbacks[_i140];if(callback.onError)callback.onError(event);}scope.manager.itemError(url);scope.manager.itemEnd(url);},false);request.addEventListener('abort',function(event){var callbacks=loading[url];delete loading[url];for(var _i141=0,il=callbacks.length;_i141<il;_i141++){var callback=callbacks[_i141];if(callback.onError)callback.onError(event);}scope.manager.itemError(url);scope.manager.itemEnd(url);},false);if(this.responseType!==undefined)request.responseType=this.responseType;if(this.withCredentials!==undefined)request.withCredentials=this.withCredentials;if(request.overrideMimeType)request.overrideMimeType(this.mimeType!==undefined?this.mimeType:'text/plain');for(var header in this.requestHeader){request.setRequestHeader(header,this.requestHeader[header]);}request.send(null);}scope.manager.itemStart(url);return request;}},{key:"setResponseType",value:function setResponseType(value){this.responseType=value;return this;}},{key:"setMimeType",value:function setMimeType(value){this.mimeType=value;return this;}}]);return FileLoader;}(Loader);exports.FileLoader=FileLoader;var AnimationLoader=/*#__PURE__*/function(_Loader2){(0,_inherits2.default)(AnimationLoader,_Loader2);var _super108=_createSuper(AnimationLoader);function AnimationLoader(manager){(0,_classCallCheck2.default)(this,AnimationLoader);return _super108.call(this,manager);}(0,_createClass2.default)(AnimationLoader,[{key:"load",value:function load(url,onLoad,onProgress,onError){var scope=this;var loader=new FileLoader(this.manager);loader.setPath(this.path);loader.setRequestHeader(this.requestHeader);loader.setWithCredentials(this.withCredentials);loader.load(url,function(text){try{onLoad(scope.parse(JSON.parse(text)));}catch(e){if(onError){onError(e);}else{console.error(e);}scope.manager.itemError(url);}},onProgress,onError);}},{key:"parse",value:function parse(json){var animations=[];for(var i=0;i<json.length;i++){var clip=AnimationClip.parse(json[i]);animations.push(clip);}return animations;}}]);return AnimationLoader;}(Loader);/**
 * Abstract Base class to block based textures loader (dds, pvr, ...)
 *
 * Sub classes have to implement the parse() method which will be used in load().
 */exports.AnimationLoader=AnimationLoader;var CompressedTextureLoader=/*#__PURE__*/function(_Loader3){(0,_inherits2.default)(CompressedTextureLoader,_Loader3);var _super109=_createSuper(CompressedTextureLoader);function CompressedTextureLoader(manager){(0,_classCallCheck2.default)(this,CompressedTextureLoader);return _super109.call(this,manager);}(0,_createClass2.default)(CompressedTextureLoader,[{key:"load",value:function load(url,onLoad,onProgress,onError){var scope=this;var images=[];var texture=new CompressedTexture();var loader=new FileLoader(this.manager);loader.setPath(this.path);loader.setResponseType('arraybuffer');loader.setRequestHeader(this.requestHeader);loader.setWithCredentials(scope.withCredentials);var loaded=0;function loadTexture(i){loader.load(url[i],function(buffer){var texDatas=scope.parse(buffer,true);images[i]={width:texDatas.width,height:texDatas.height,format:texDatas.format,mipmaps:texDatas.mipmaps};loaded+=1;if(loaded===6){if(texDatas.mipmapCount===1)texture.minFilter=LinearFilter;texture.image=images;texture.format=texDatas.format;texture.needsUpdate=true;if(onLoad)onLoad(texture);}},onProgress,onError);}if(Array.isArray(url)){for(var i=0,il=url.length;i<il;++i){loadTexture(i);}}else{// compressed cubemap texture stored in a single DDS file
loader.load(url,function(buffer){var texDatas=scope.parse(buffer,true);if(texDatas.isCubemap){var faces=texDatas.mipmaps.length/texDatas.mipmapCount;for(var f=0;f<faces;f++){images[f]={mipmaps:[]};for(var _i142=0;_i142<texDatas.mipmapCount;_i142++){images[f].mipmaps.push(texDatas.mipmaps[f*texDatas.mipmapCount+_i142]);images[f].format=texDatas.format;images[f].width=texDatas.width;images[f].height=texDatas.height;}}texture.image=images;}else{texture.image.width=texDatas.width;texture.image.height=texDatas.height;texture.mipmaps=texDatas.mipmaps;}if(texDatas.mipmapCount===1){texture.minFilter=LinearFilter;}texture.format=texDatas.format;texture.needsUpdate=true;if(onLoad)onLoad(texture);},onProgress,onError);}return texture;}}]);return CompressedTextureLoader;}(Loader);exports.CompressedTextureLoader=CompressedTextureLoader;var ImageLoader=/*#__PURE__*/function(_Loader4){(0,_inherits2.default)(ImageLoader,_Loader4);var _super110=_createSuper(ImageLoader);function ImageLoader(manager){(0,_classCallCheck2.default)(this,ImageLoader);return _super110.call(this,manager);}(0,_createClass2.default)(ImageLoader,[{key:"load",value:function load(url,onLoad,onProgress,onError){if(this.path!==undefined)url=this.path+url;url=this.manager.resolveURL(url);var scope=this;var cached=Cache.get(url);if(cached!==undefined){scope.manager.itemStart(url);setTimeout(function(){if(onLoad)onLoad(cached);scope.manager.itemEnd(url);},0);return cached;}var image=createElementNS('img');function onImageLoad(){image.removeEventListener('load',onImageLoad,false);image.removeEventListener('error',onImageError,false);Cache.add(url,this);if(onLoad)onLoad(this);scope.manager.itemEnd(url);}function onImageError(event){image.removeEventListener('load',onImageLoad,false);image.removeEventListener('error',onImageError,false);if(onError)onError(event);scope.manager.itemError(url);scope.manager.itemEnd(url);}image.addEventListener('load',onImageLoad,false);image.addEventListener('error',onImageError,false);if(url.substr(0,5)!=='data:'){if(this.crossOrigin!==undefined)image.crossOrigin=this.crossOrigin;}scope.manager.itemStart(url);image.src=url;return image;}}]);return ImageLoader;}(Loader);exports.ImageLoader=ImageLoader;var CubeTextureLoader=/*#__PURE__*/function(_Loader5){(0,_inherits2.default)(CubeTextureLoader,_Loader5);var _super111=_createSuper(CubeTextureLoader);function CubeTextureLoader(manager){(0,_classCallCheck2.default)(this,CubeTextureLoader);return _super111.call(this,manager);}(0,_createClass2.default)(CubeTextureLoader,[{key:"load",value:function load(urls,onLoad,onProgress,onError){var texture=new CubeTexture();var loader=new ImageLoader(this.manager);loader.setCrossOrigin(this.crossOrigin);loader.setPath(this.path);var loaded=0;function loadTexture(i){loader.load(urls[i],function(image){texture.images[i]=image;loaded++;if(loaded===6){texture.needsUpdate=true;if(onLoad)onLoad(texture);}},undefined,onError);}for(var i=0;i<urls.length;++i){loadTexture(i);}return texture;}}]);return CubeTextureLoader;}(Loader);/**
 * Abstract Base class to load generic binary textures formats (rgbe, hdr, ...)
 *
 * Sub classes have to implement the parse() method which will be used in load().
 */exports.CubeTextureLoader=CubeTextureLoader;var DataTextureLoader=/*#__PURE__*/function(_Loader6){(0,_inherits2.default)(DataTextureLoader,_Loader6);var _super112=_createSuper(DataTextureLoader);function DataTextureLoader(manager){(0,_classCallCheck2.default)(this,DataTextureLoader);return _super112.call(this,manager);}(0,_createClass2.default)(DataTextureLoader,[{key:"load",value:function load(url,onLoad,onProgress,onError){var scope=this;var texture=new DataTexture();var loader=new FileLoader(this.manager);loader.setResponseType('arraybuffer');loader.setRequestHeader(this.requestHeader);loader.setPath(this.path);loader.setWithCredentials(scope.withCredentials);loader.load(url,function(buffer){var texData=scope.parse(buffer);if(!texData)return;if(texData.image!==undefined){texture.image=texData.image;}else if(texData.data!==undefined){texture.image.width=texData.width;texture.image.height=texData.height;texture.image.data=texData.data;}texture.wrapS=texData.wrapS!==undefined?texData.wrapS:ClampToEdgeWrapping;texture.wrapT=texData.wrapT!==undefined?texData.wrapT:ClampToEdgeWrapping;texture.magFilter=texData.magFilter!==undefined?texData.magFilter:LinearFilter;texture.minFilter=texData.minFilter!==undefined?texData.minFilter:LinearFilter;texture.anisotropy=texData.anisotropy!==undefined?texData.anisotropy:1;if(texData.encoding!==undefined){texture.encoding=texData.encoding;}if(texData.flipY!==undefined){texture.flipY=texData.flipY;}if(texData.format!==undefined){texture.format=texData.format;}if(texData.type!==undefined){texture.type=texData.type;}if(texData.mipmaps!==undefined){texture.mipmaps=texData.mipmaps;texture.minFilter=LinearMipmapLinearFilter;// presumably...
}if(texData.mipmapCount===1){texture.minFilter=LinearFilter;}if(texData.generateMipmaps!==undefined){texture.generateMipmaps=texData.generateMipmaps;}texture.needsUpdate=true;if(onLoad)onLoad(texture,texData);},onProgress,onError);return texture;}}]);return DataTextureLoader;}(Loader);exports.DataTextureLoader=DataTextureLoader;var TextureLoader=/*#__PURE__*/function(_Loader7){(0,_inherits2.default)(TextureLoader,_Loader7);var _super113=_createSuper(TextureLoader);function TextureLoader(manager){(0,_classCallCheck2.default)(this,TextureLoader);return _super113.call(this,manager);}(0,_createClass2.default)(TextureLoader,[{key:"load",value:function load(url,onLoad,onProgress,onError){var texture=new Texture();var loader=new ImageLoader(this.manager);loader.setCrossOrigin(this.crossOrigin);loader.setPath(this.path);loader.load(url,function(image){texture.image=image;texture.needsUpdate=true;if(onLoad!==undefined){onLoad(texture);}},onProgress,onError);return texture;}}]);return TextureLoader;}(Loader);exports.TextureLoader=TextureLoader;var Light=/*#__PURE__*/function(_Object3D11){(0,_inherits2.default)(Light,_Object3D11);var _super114=_createSuper(Light);function Light(color){var _this88;var intensity=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;(0,_classCallCheck2.default)(this,Light);_this88=_super114.call(this);_this88.type='Light';_this88.color=new Color(color);_this88.intensity=intensity;return _this88;}(0,_createClass2.default)(Light,[{key:"dispose",value:function dispose(){// Empty here in base class; some subclasses override.
}},{key:"copy",value:function copy(source){(0,_get2.default)((0,_getPrototypeOf2.default)(Light.prototype),"copy",this).call(this,source);this.color.copy(source.color);this.intensity=source.intensity;return this;}},{key:"toJSON",value:function toJSON(meta){var data=(0,_get2.default)((0,_getPrototypeOf2.default)(Light.prototype),"toJSON",this).call(this,meta);data.object.color=this.color.getHex();data.object.intensity=this.intensity;if(this.groundColor!==undefined)data.object.groundColor=this.groundColor.getHex();if(this.distance!==undefined)data.object.distance=this.distance;if(this.angle!==undefined)data.object.angle=this.angle;if(this.decay!==undefined)data.object.decay=this.decay;if(this.penumbra!==undefined)data.object.penumbra=this.penumbra;if(this.shadow!==undefined)data.object.shadow=this.shadow.toJSON();return data;}}]);return Light;}(Object3D);exports.Light=Light;Light.prototype.isLight=true;var HemisphereLight=/*#__PURE__*/function(_Light){(0,_inherits2.default)(HemisphereLight,_Light);var _super115=_createSuper(HemisphereLight);function HemisphereLight(skyColor,groundColor,intensity){var _this89;(0,_classCallCheck2.default)(this,HemisphereLight);_this89=_super115.call(this,skyColor,intensity);_this89.type='HemisphereLight';_this89.position.copy(Object3D.DefaultUp);_this89.updateMatrix();_this89.groundColor=new Color(groundColor);return _this89;}(0,_createClass2.default)(HemisphereLight,[{key:"copy",value:function copy(source){Light.prototype.copy.call(this,source);this.groundColor.copy(source.groundColor);return this;}}]);return HemisphereLight;}(Light);exports.HemisphereLight=HemisphereLight;HemisphereLight.prototype.isHemisphereLight=true;var _projScreenMatrix$1=/*@__PURE__*/new Matrix4();var _lightPositionWorld$1=/*@__PURE__*/new Vector3();var _lookTarget$1=/*@__PURE__*/new Vector3();var LightShadow=/*#__PURE__*/function(){function LightShadow(camera){(0,_classCallCheck2.default)(this,LightShadow);this.camera=camera;this.bias=0;this.normalBias=0;this.radius=1;this.blurSamples=8;this.mapSize=new Vector2(512,512);this.map=null;this.mapPass=null;this.matrix=new Matrix4();this.autoUpdate=true;this.needsUpdate=false;this._frustum=new Frustum();this._frameExtents=new Vector2(1,1);this._viewportCount=1;this._viewports=[new Vector4(0,0,1,1)];}(0,_createClass2.default)(LightShadow,[{key:"getViewportCount",value:function getViewportCount(){return this._viewportCount;}},{key:"getFrustum",value:function getFrustum(){return this._frustum;}},{key:"updateMatrices",value:function updateMatrices(light){var shadowCamera=this.camera;var shadowMatrix=this.matrix;_lightPositionWorld$1.setFromMatrixPosition(light.matrixWorld);shadowCamera.position.copy(_lightPositionWorld$1);_lookTarget$1.setFromMatrixPosition(light.target.matrixWorld);shadowCamera.lookAt(_lookTarget$1);shadowCamera.updateMatrixWorld();_projScreenMatrix$1.multiplyMatrices(shadowCamera.projectionMatrix,shadowCamera.matrixWorldInverse);this._frustum.setFromProjectionMatrix(_projScreenMatrix$1);shadowMatrix.set(0.5,0.0,0.0,0.5,0.0,0.5,0.0,0.5,0.0,0.0,0.5,0.5,0.0,0.0,0.0,1.0);shadowMatrix.multiply(shadowCamera.projectionMatrix);shadowMatrix.multiply(shadowCamera.matrixWorldInverse);}},{key:"getViewport",value:function getViewport(viewportIndex){return this._viewports[viewportIndex];}},{key:"getFrameExtents",value:function getFrameExtents(){return this._frameExtents;}},{key:"dispose",value:function dispose(){if(this.map){this.map.dispose();}if(this.mapPass){this.mapPass.dispose();}}},{key:"copy",value:function copy(source){this.camera=source.camera.clone();this.bias=source.bias;this.radius=source.radius;this.mapSize.copy(source.mapSize);return this;}},{key:"clone",value:function clone(){return new this.constructor().copy(this);}},{key:"toJSON",value:function toJSON(){var object={};if(this.bias!==0)object.bias=this.bias;if(this.normalBias!==0)object.normalBias=this.normalBias;if(this.radius!==1)object.radius=this.radius;if(this.mapSize.x!==512||this.mapSize.y!==512)object.mapSize=this.mapSize.toArray();object.camera=this.camera.toJSON(false).object;delete object.camera.matrix;return object;}}]);return LightShadow;}();var SpotLightShadow=/*#__PURE__*/function(_LightShadow){(0,_inherits2.default)(SpotLightShadow,_LightShadow);var _super116=_createSuper(SpotLightShadow);function SpotLightShadow(){var _this90;(0,_classCallCheck2.default)(this,SpotLightShadow);_this90=_super116.call(this,new PerspectiveCamera(50,1,0.5,500));_this90.focus=1;return _this90;}(0,_createClass2.default)(SpotLightShadow,[{key:"updateMatrices",value:function updateMatrices(light){var camera=this.camera;var fov=RAD2DEG*2*light.angle*this.focus;var aspect=this.mapSize.width/this.mapSize.height;var far=light.distance||camera.far;if(fov!==camera.fov||aspect!==camera.aspect||far!==camera.far){camera.fov=fov;camera.aspect=aspect;camera.far=far;camera.updateProjectionMatrix();}(0,_get2.default)((0,_getPrototypeOf2.default)(SpotLightShadow.prototype),"updateMatrices",this).call(this,light);}},{key:"copy",value:function copy(source){(0,_get2.default)((0,_getPrototypeOf2.default)(SpotLightShadow.prototype),"copy",this).call(this,source);this.focus=source.focus;return this;}}]);return SpotLightShadow;}(LightShadow);SpotLightShadow.prototype.isSpotLightShadow=true;var SpotLight=/*#__PURE__*/function(_Light2){(0,_inherits2.default)(SpotLight,_Light2);var _super117=_createSuper(SpotLight);function SpotLight(color,intensity){var _this91;var distance=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var angle=arguments.length>3&&arguments[3]!==undefined?arguments[3]:Math.PI/3;var penumbra=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;var decay=arguments.length>5&&arguments[5]!==undefined?arguments[5]:1;(0,_classCallCheck2.default)(this,SpotLight);_this91=_super117.call(this,color,intensity);_this91.type='SpotLight';_this91.position.copy(Object3D.DefaultUp);_this91.updateMatrix();_this91.target=new Object3D();_this91.distance=distance;_this91.angle=angle;_this91.penumbra=penumbra;_this91.decay=decay;// for physically correct lights, should be 2.
_this91.shadow=new SpotLightShadow();return _this91;}(0,_createClass2.default)(SpotLight,[{key:"power",get:function get(){// compute the light's luminous power (in lumens) from its intensity (in candela)
// by convention for a spotlight, luminous power (lm) = π * luminous intensity (cd)
return this.intensity*Math.PI;},set:function set(power){// set the light's intensity (in candela) from the desired luminous power (in lumens)
this.intensity=power/Math.PI;}},{key:"dispose",value:function dispose(){this.shadow.dispose();}},{key:"copy",value:function copy(source){(0,_get2.default)((0,_getPrototypeOf2.default)(SpotLight.prototype),"copy",this).call(this,source);this.distance=source.distance;this.angle=source.angle;this.penumbra=source.penumbra;this.decay=source.decay;this.target=source.target.clone();this.shadow=source.shadow.clone();return this;}}]);return SpotLight;}(Light);exports.SpotLight=SpotLight;SpotLight.prototype.isSpotLight=true;var _projScreenMatrix=/*@__PURE__*/new Matrix4();var _lightPositionWorld=/*@__PURE__*/new Vector3();var _lookTarget=/*@__PURE__*/new Vector3();var PointLightShadow=/*#__PURE__*/function(_LightShadow2){(0,_inherits2.default)(PointLightShadow,_LightShadow2);var _super118=_createSuper(PointLightShadow);function PointLightShadow(){var _this92;(0,_classCallCheck2.default)(this,PointLightShadow);_this92=_super118.call(this,new PerspectiveCamera(90,1,0.5,500));_this92._frameExtents=new Vector2(4,2);_this92._viewportCount=6;_this92._viewports=[// These viewports map a cube-map onto a 2D texture with the
// following orientation:
//
//  xzXZ
//   y Y
//
// X - Positive x direction
// x - Negative x direction
// Y - Positive y direction
// y - Negative y direction
// Z - Positive z direction
// z - Negative z direction
// positive X
new Vector4(2,1,1,1),// negative X
new Vector4(0,1,1,1),// positive Z
new Vector4(3,1,1,1),// negative Z
new Vector4(1,1,1,1),// positive Y
new Vector4(3,0,1,1),// negative Y
new Vector4(1,0,1,1)];_this92._cubeDirections=[new Vector3(1,0,0),new Vector3(-1,0,0),new Vector3(0,0,1),new Vector3(0,0,-1),new Vector3(0,1,0),new Vector3(0,-1,0)];_this92._cubeUps=[new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,0,1),new Vector3(0,0,-1)];return _this92;}(0,_createClass2.default)(PointLightShadow,[{key:"updateMatrices",value:function updateMatrices(light){var viewportIndex=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var camera=this.camera;var shadowMatrix=this.matrix;var far=light.distance||camera.far;if(far!==camera.far){camera.far=far;camera.updateProjectionMatrix();}_lightPositionWorld.setFromMatrixPosition(light.matrixWorld);camera.position.copy(_lightPositionWorld);_lookTarget.copy(camera.position);_lookTarget.add(this._cubeDirections[viewportIndex]);camera.up.copy(this._cubeUps[viewportIndex]);camera.lookAt(_lookTarget);camera.updateMatrixWorld();shadowMatrix.makeTranslation(-_lightPositionWorld.x,-_lightPositionWorld.y,-_lightPositionWorld.z);_projScreenMatrix.multiplyMatrices(camera.projectionMatrix,camera.matrixWorldInverse);this._frustum.setFromProjectionMatrix(_projScreenMatrix);}}]);return PointLightShadow;}(LightShadow);PointLightShadow.prototype.isPointLightShadow=true;var PointLight=/*#__PURE__*/function(_Light3){(0,_inherits2.default)(PointLight,_Light3);var _super119=_createSuper(PointLight);function PointLight(color,intensity){var _this93;var distance=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var decay=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;(0,_classCallCheck2.default)(this,PointLight);_this93=_super119.call(this,color,intensity);_this93.type='PointLight';_this93.distance=distance;_this93.decay=decay;// for physically correct lights, should be 2.
_this93.shadow=new PointLightShadow();return _this93;}(0,_createClass2.default)(PointLight,[{key:"power",get:function get(){// compute the light's luminous power (in lumens) from its intensity (in candela)
// for an isotropic light source, luminous power (lm) = 4 π luminous intensity (cd)
return this.intensity*4*Math.PI;},set:function set(power){// set the light's intensity (in candela) from the desired luminous power (in lumens)
this.intensity=power/(4*Math.PI);}},{key:"dispose",value:function dispose(){this.shadow.dispose();}},{key:"copy",value:function copy(source){(0,_get2.default)((0,_getPrototypeOf2.default)(PointLight.prototype),"copy",this).call(this,source);this.distance=source.distance;this.decay=source.decay;this.shadow=source.shadow.clone();return this;}}]);return PointLight;}(Light);exports.PointLight=PointLight;PointLight.prototype.isPointLight=true;var DirectionalLightShadow=/*#__PURE__*/function(_LightShadow3){(0,_inherits2.default)(DirectionalLightShadow,_LightShadow3);var _super120=_createSuper(DirectionalLightShadow);function DirectionalLightShadow(){(0,_classCallCheck2.default)(this,DirectionalLightShadow);return _super120.call(this,new OrthographicCamera(-5,5,5,-5,0.5,500));}return(0,_createClass2.default)(DirectionalLightShadow);}(LightShadow);DirectionalLightShadow.prototype.isDirectionalLightShadow=true;var DirectionalLight=/*#__PURE__*/function(_Light4){(0,_inherits2.default)(DirectionalLight,_Light4);var _super121=_createSuper(DirectionalLight);function DirectionalLight(color,intensity){var _this94;(0,_classCallCheck2.default)(this,DirectionalLight);_this94=_super121.call(this,color,intensity);_this94.type='DirectionalLight';_this94.position.copy(Object3D.DefaultUp);_this94.updateMatrix();_this94.target=new Object3D();_this94.shadow=new DirectionalLightShadow();return _this94;}(0,_createClass2.default)(DirectionalLight,[{key:"dispose",value:function dispose(){this.shadow.dispose();}},{key:"copy",value:function copy(source){(0,_get2.default)((0,_getPrototypeOf2.default)(DirectionalLight.prototype),"copy",this).call(this,source);this.target=source.target.clone();this.shadow=source.shadow.clone();return this;}}]);return DirectionalLight;}(Light);exports.DirectionalLight=DirectionalLight;DirectionalLight.prototype.isDirectionalLight=true;var AmbientLight=/*#__PURE__*/function(_Light5){(0,_inherits2.default)(AmbientLight,_Light5);var _super122=_createSuper(AmbientLight);function AmbientLight(color,intensity){var _this95;(0,_classCallCheck2.default)(this,AmbientLight);_this95=_super122.call(this,color,intensity);_this95.type='AmbientLight';return _this95;}return(0,_createClass2.default)(AmbientLight);}(Light);exports.AmbientLight=AmbientLight;AmbientLight.prototype.isAmbientLight=true;var RectAreaLight=/*#__PURE__*/function(_Light6){(0,_inherits2.default)(RectAreaLight,_Light6);var _super123=_createSuper(RectAreaLight);function RectAreaLight(color,intensity){var _this96;var width=arguments.length>2&&arguments[2]!==undefined?arguments[2]:10;var height=arguments.length>3&&arguments[3]!==undefined?arguments[3]:10;(0,_classCallCheck2.default)(this,RectAreaLight);_this96=_super123.call(this,color,intensity);_this96.type='RectAreaLight';_this96.width=width;_this96.height=height;return _this96;}(0,_createClass2.default)(RectAreaLight,[{key:"power",get:function get(){// compute the light's luminous power (in lumens) from its intensity (in nits)
return this.intensity*this.width*this.height*Math.PI;},set:function set(power){// set the light's intensity (in nits) from the desired luminous power (in lumens)
this.intensity=power/(this.width*this.height*Math.PI);}},{key:"copy",value:function copy(source){(0,_get2.default)((0,_getPrototypeOf2.default)(RectAreaLight.prototype),"copy",this).call(this,source);this.width=source.width;this.height=source.height;return this;}},{key:"toJSON",value:function toJSON(meta){var data=(0,_get2.default)((0,_getPrototypeOf2.default)(RectAreaLight.prototype),"toJSON",this).call(this,meta);data.object.width=this.width;data.object.height=this.height;return data;}}]);return RectAreaLight;}(Light);exports.RectAreaLight=RectAreaLight;RectAreaLight.prototype.isRectAreaLight=true;/**
 * Primary reference:
 *   https://graphics.stanford.edu/papers/envmap/envmap.pdf
 *
 * Secondary reference:
 *   https://www.ppsloan.org/publications/StupidSH36.pdf
 */ // 3-band SH defined by 9 coefficients
var SphericalHarmonics3=/*#__PURE__*/function(){function SphericalHarmonics3(){(0,_classCallCheck2.default)(this,SphericalHarmonics3);this.coefficients=[];for(var i=0;i<9;i++){this.coefficients.push(new Vector3());}}(0,_createClass2.default)(SphericalHarmonics3,[{key:"set",value:function set(coefficients){for(var i=0;i<9;i++){this.coefficients[i].copy(coefficients[i]);}return this;}},{key:"zero",value:function zero(){for(var i=0;i<9;i++){this.coefficients[i].set(0,0,0);}return this;}// get the radiance in the direction of the normal
// target is a Vector3
},{key:"getAt",value:function getAt(normal,target){// normal is assumed to be unit length
var x=normal.x,y=normal.y,z=normal.z;var coeff=this.coefficients;// band 0
target.copy(coeff[0]).multiplyScalar(0.282095);// band 1
target.addScaledVector(coeff[1],0.488603*y);target.addScaledVector(coeff[2],0.488603*z);target.addScaledVector(coeff[3],0.488603*x);// band 2
target.addScaledVector(coeff[4],1.092548*(x*y));target.addScaledVector(coeff[5],1.092548*(y*z));target.addScaledVector(coeff[6],0.315392*(3.0*z*z-1.0));target.addScaledVector(coeff[7],1.092548*(x*z));target.addScaledVector(coeff[8],0.546274*(x*x-y*y));return target;}// get the irradiance (radiance convolved with cosine lobe) in the direction of the normal
// target is a Vector3
// https://graphics.stanford.edu/papers/envmap/envmap.pdf
},{key:"getIrradianceAt",value:function getIrradianceAt(normal,target){// normal is assumed to be unit length
var x=normal.x,y=normal.y,z=normal.z;var coeff=this.coefficients;// band 0
target.copy(coeff[0]).multiplyScalar(0.886227);// π * 0.282095
// band 1
target.addScaledVector(coeff[1],2.0*0.511664*y);// ( 2 * π / 3 ) * 0.488603
target.addScaledVector(coeff[2],2.0*0.511664*z);target.addScaledVector(coeff[3],2.0*0.511664*x);// band 2
target.addScaledVector(coeff[4],2.0*0.429043*x*y);// ( π / 4 ) * 1.092548
target.addScaledVector(coeff[5],2.0*0.429043*y*z);target.addScaledVector(coeff[6],0.743125*z*z-0.247708);// ( π / 4 ) * 0.315392 * 3
target.addScaledVector(coeff[7],2.0*0.429043*x*z);target.addScaledVector(coeff[8],0.429043*(x*x-y*y));// ( π / 4 ) * 0.546274
return target;}},{key:"add",value:function add(sh){for(var i=0;i<9;i++){this.coefficients[i].add(sh.coefficients[i]);}return this;}},{key:"addScaledSH",value:function addScaledSH(sh,s){for(var i=0;i<9;i++){this.coefficients[i].addScaledVector(sh.coefficients[i],s);}return this;}},{key:"scale",value:function scale(s){for(var i=0;i<9;i++){this.coefficients[i].multiplyScalar(s);}return this;}},{key:"lerp",value:function lerp(sh,alpha){for(var i=0;i<9;i++){this.coefficients[i].lerp(sh.coefficients[i],alpha);}return this;}},{key:"equals",value:function equals(sh){for(var i=0;i<9;i++){if(!this.coefficients[i].equals(sh.coefficients[i])){return false;}}return true;}},{key:"copy",value:function copy(sh){return this.set(sh.coefficients);}},{key:"clone",value:function clone(){return new this.constructor().copy(this);}},{key:"fromArray",value:function fromArray(array){var offset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var coefficients=this.coefficients;for(var i=0;i<9;i++){coefficients[i].fromArray(array,offset+i*3);}return this;}},{key:"toArray",value:function toArray(){var array=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var offset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var coefficients=this.coefficients;for(var i=0;i<9;i++){coefficients[i].toArray(array,offset+i*3);}return array;}// evaluate the basis functions
// shBasis is an Array[ 9 ]
}],[{key:"getBasisAt",value:function getBasisAt(normal,shBasis){// normal is assumed to be unit length
var x=normal.x,y=normal.y,z=normal.z;// band 0
shBasis[0]=0.282095;// band 1
shBasis[1]=0.488603*y;shBasis[2]=0.488603*z;shBasis[3]=0.488603*x;// band 2
shBasis[4]=1.092548*x*y;shBasis[5]=1.092548*y*z;shBasis[6]=0.315392*(3*z*z-1);shBasis[7]=1.092548*x*z;shBasis[8]=0.546274*(x*x-y*y);}}]);return SphericalHarmonics3;}();exports.SphericalHarmonics3=SphericalHarmonics3;SphericalHarmonics3.prototype.isSphericalHarmonics3=true;var LightProbe=/*#__PURE__*/function(_Light7){(0,_inherits2.default)(LightProbe,_Light7);var _super124=_createSuper(LightProbe);function LightProbe(){var _this97;var sh=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new SphericalHarmonics3();var intensity=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;(0,_classCallCheck2.default)(this,LightProbe);_this97=_super124.call(this,undefined,intensity);_this97.sh=sh;return _this97;}(0,_createClass2.default)(LightProbe,[{key:"copy",value:function copy(source){(0,_get2.default)((0,_getPrototypeOf2.default)(LightProbe.prototype),"copy",this).call(this,source);this.sh.copy(source.sh);return this;}},{key:"fromJSON",value:function fromJSON(json){this.intensity=json.intensity;// TODO: Move this bit to Light.fromJSON();
this.sh.fromArray(json.sh);return this;}},{key:"toJSON",value:function toJSON(meta){var data=(0,_get2.default)((0,_getPrototypeOf2.default)(LightProbe.prototype),"toJSON",this).call(this,meta);data.object.sh=this.sh.toArray();return data;}}]);return LightProbe;}(Light);exports.LightProbe=LightProbe;LightProbe.prototype.isLightProbe=true;var MaterialLoader=/*#__PURE__*/function(_Loader8){(0,_inherits2.default)(MaterialLoader,_Loader8);var _super125=_createSuper(MaterialLoader);function MaterialLoader(manager){var _this98;(0,_classCallCheck2.default)(this,MaterialLoader);_this98=_super125.call(this,manager);_this98.textures={};return _this98;}(0,_createClass2.default)(MaterialLoader,[{key:"load",value:function load(url,onLoad,onProgress,onError){var scope=this;var loader=new FileLoader(scope.manager);loader.setPath(scope.path);loader.setRequestHeader(scope.requestHeader);loader.setWithCredentials(scope.withCredentials);loader.load(url,function(text){try{onLoad(scope.parse(JSON.parse(text)));}catch(e){if(onError){onError(e);}else{console.error(e);}scope.manager.itemError(url);}},onProgress,onError);}},{key:"parse",value:function parse(json){var textures=this.textures;function getTexture(name){if(textures[name]===undefined){console.warn('THREE.MaterialLoader: Undefined texture',name);}return textures[name];}var material=new Materials[json.type]();if(json.uuid!==undefined)material.uuid=json.uuid;if(json.name!==undefined)material.name=json.name;if(json.color!==undefined&&material.color!==undefined)material.color.setHex(json.color);if(json.roughness!==undefined)material.roughness=json.roughness;if(json.metalness!==undefined)material.metalness=json.metalness;if(json.sheen!==undefined)material.sheen=json.sheen;if(json.sheenTint!==undefined)material.sheenTint=new Color().setHex(json.sheenTint);if(json.sheenRoughness!==undefined)material.sheenRoughness=json.sheenRoughness;if(json.emissive!==undefined&&material.emissive!==undefined)material.emissive.setHex(json.emissive);if(json.specular!==undefined&&material.specular!==undefined)material.specular.setHex(json.specular);if(json.specularIntensity!==undefined)material.specularIntensity=json.specularIntensity;if(json.specularTint!==undefined&&material.specularTint!==undefined)material.specularTint.setHex(json.specularTint);if(json.shininess!==undefined)material.shininess=json.shininess;if(json.clearcoat!==undefined)material.clearcoat=json.clearcoat;if(json.clearcoatRoughness!==undefined)material.clearcoatRoughness=json.clearcoatRoughness;if(json.transmission!==undefined)material.transmission=json.transmission;if(json.thickness!==undefined)material.thickness=json.thickness;if(json.attenuationDistance!==undefined)material.attenuationDistance=json.attenuationDistance;if(json.attenuationTint!==undefined&&material.attenuationTint!==undefined)material.attenuationTint.setHex(json.attenuationTint);if(json.fog!==undefined)material.fog=json.fog;if(json.flatShading!==undefined)material.flatShading=json.flatShading;if(json.blending!==undefined)material.blending=json.blending;if(json.combine!==undefined)material.combine=json.combine;if(json.side!==undefined)material.side=json.side;if(json.shadowSide!==undefined)material.shadowSide=json.shadowSide;if(json.opacity!==undefined)material.opacity=json.opacity;if(json.format!==undefined)material.format=json.format;if(json.transparent!==undefined)material.transparent=json.transparent;if(json.alphaTest!==undefined)material.alphaTest=json.alphaTest;if(json.depthTest!==undefined)material.depthTest=json.depthTest;if(json.depthWrite!==undefined)material.depthWrite=json.depthWrite;if(json.colorWrite!==undefined)material.colorWrite=json.colorWrite;if(json.stencilWrite!==undefined)material.stencilWrite=json.stencilWrite;if(json.stencilWriteMask!==undefined)material.stencilWriteMask=json.stencilWriteMask;if(json.stencilFunc!==undefined)material.stencilFunc=json.stencilFunc;if(json.stencilRef!==undefined)material.stencilRef=json.stencilRef;if(json.stencilFuncMask!==undefined)material.stencilFuncMask=json.stencilFuncMask;if(json.stencilFail!==undefined)material.stencilFail=json.stencilFail;if(json.stencilZFail!==undefined)material.stencilZFail=json.stencilZFail;if(json.stencilZPass!==undefined)material.stencilZPass=json.stencilZPass;if(json.wireframe!==undefined)material.wireframe=json.wireframe;if(json.wireframeLinewidth!==undefined)material.wireframeLinewidth=json.wireframeLinewidth;if(json.wireframeLinecap!==undefined)material.wireframeLinecap=json.wireframeLinecap;if(json.wireframeLinejoin!==undefined)material.wireframeLinejoin=json.wireframeLinejoin;if(json.rotation!==undefined)material.rotation=json.rotation;if(json.linewidth!==1)material.linewidth=json.linewidth;if(json.dashSize!==undefined)material.dashSize=json.dashSize;if(json.gapSize!==undefined)material.gapSize=json.gapSize;if(json.scale!==undefined)material.scale=json.scale;if(json.polygonOffset!==undefined)material.polygonOffset=json.polygonOffset;if(json.polygonOffsetFactor!==undefined)material.polygonOffsetFactor=json.polygonOffsetFactor;if(json.polygonOffsetUnits!==undefined)material.polygonOffsetUnits=json.polygonOffsetUnits;if(json.dithering!==undefined)material.dithering=json.dithering;if(json.alphaToCoverage!==undefined)material.alphaToCoverage=json.alphaToCoverage;if(json.premultipliedAlpha!==undefined)material.premultipliedAlpha=json.premultipliedAlpha;if(json.visible!==undefined)material.visible=json.visible;if(json.toneMapped!==undefined)material.toneMapped=json.toneMapped;if(json.userData!==undefined)material.userData=json.userData;if(json.vertexColors!==undefined){if(typeof json.vertexColors==='number'){material.vertexColors=json.vertexColors>0?true:false;}else{material.vertexColors=json.vertexColors;}}// Shader Material
if(json.uniforms!==undefined){for(var name in json.uniforms){var uniform=json.uniforms[name];material.uniforms[name]={};switch(uniform.type){case't':material.uniforms[name].value=getTexture(uniform.value);break;case'c':material.uniforms[name].value=new Color().setHex(uniform.value);break;case'v2':material.uniforms[name].value=new Vector2().fromArray(uniform.value);break;case'v3':material.uniforms[name].value=new Vector3().fromArray(uniform.value);break;case'v4':material.uniforms[name].value=new Vector4().fromArray(uniform.value);break;case'm3':material.uniforms[name].value=new Matrix3().fromArray(uniform.value);break;case'm4':material.uniforms[name].value=new Matrix4().fromArray(uniform.value);break;default:material.uniforms[name].value=uniform.value;}}}if(json.defines!==undefined)material.defines=json.defines;if(json.vertexShader!==undefined)material.vertexShader=json.vertexShader;if(json.fragmentShader!==undefined)material.fragmentShader=json.fragmentShader;if(json.extensions!==undefined){for(var key in json.extensions){material.extensions[key]=json.extensions[key];}}// Deprecated
if(json.shading!==undefined)material.flatShading=json.shading===1;// THREE.FlatShading
// for PointsMaterial
if(json.size!==undefined)material.size=json.size;if(json.sizeAttenuation!==undefined)material.sizeAttenuation=json.sizeAttenuation;// maps
if(json.map!==undefined)material.map=getTexture(json.map);if(json.matcap!==undefined)material.matcap=getTexture(json.matcap);if(json.alphaMap!==undefined)material.alphaMap=getTexture(json.alphaMap);if(json.bumpMap!==undefined)material.bumpMap=getTexture(json.bumpMap);if(json.bumpScale!==undefined)material.bumpScale=json.bumpScale;if(json.normalMap!==undefined)material.normalMap=getTexture(json.normalMap);if(json.normalMapType!==undefined)material.normalMapType=json.normalMapType;if(json.normalScale!==undefined){var normalScale=json.normalScale;if(Array.isArray(normalScale)===false){// Blender exporter used to export a scalar. See #7459
normalScale=[normalScale,normalScale];}material.normalScale=new Vector2().fromArray(normalScale);}if(json.displacementMap!==undefined)material.displacementMap=getTexture(json.displacementMap);if(json.displacementScale!==undefined)material.displacementScale=json.displacementScale;if(json.displacementBias!==undefined)material.displacementBias=json.displacementBias;if(json.roughnessMap!==undefined)material.roughnessMap=getTexture(json.roughnessMap);if(json.metalnessMap!==undefined)material.metalnessMap=getTexture(json.metalnessMap);if(json.emissiveMap!==undefined)material.emissiveMap=getTexture(json.emissiveMap);if(json.emissiveIntensity!==undefined)material.emissiveIntensity=json.emissiveIntensity;if(json.specularMap!==undefined)material.specularMap=getTexture(json.specularMap);if(json.specularIntensityMap!==undefined)material.specularIntensityMap=getTexture(json.specularIntensityMap);if(json.specularTintMap!==undefined)material.specularTintMap=getTexture(json.specularTintMap);if(json.envMap!==undefined)material.envMap=getTexture(json.envMap);if(json.envMapIntensity!==undefined)material.envMapIntensity=json.envMapIntensity;if(json.reflectivity!==undefined)material.reflectivity=json.reflectivity;if(json.refractionRatio!==undefined)material.refractionRatio=json.refractionRatio;if(json.lightMap!==undefined)material.lightMap=getTexture(json.lightMap);if(json.lightMapIntensity!==undefined)material.lightMapIntensity=json.lightMapIntensity;if(json.aoMap!==undefined)material.aoMap=getTexture(json.aoMap);if(json.aoMapIntensity!==undefined)material.aoMapIntensity=json.aoMapIntensity;if(json.gradientMap!==undefined)material.gradientMap=getTexture(json.gradientMap);if(json.clearcoatMap!==undefined)material.clearcoatMap=getTexture(json.clearcoatMap);if(json.clearcoatRoughnessMap!==undefined)material.clearcoatRoughnessMap=getTexture(json.clearcoatRoughnessMap);if(json.clearcoatNormalMap!==undefined)material.clearcoatNormalMap=getTexture(json.clearcoatNormalMap);if(json.clearcoatNormalScale!==undefined)material.clearcoatNormalScale=new Vector2().fromArray(json.clearcoatNormalScale);if(json.transmissionMap!==undefined)material.transmissionMap=getTexture(json.transmissionMap);if(json.thicknessMap!==undefined)material.thicknessMap=getTexture(json.thicknessMap);return material;}},{key:"setTextures",value:function setTextures(value){this.textures=value;return this;}}]);return MaterialLoader;}(Loader);exports.MaterialLoader=MaterialLoader;var LoaderUtils=/*#__PURE__*/function(){function LoaderUtils(){(0,_classCallCheck2.default)(this,LoaderUtils);}(0,_createClass2.default)(LoaderUtils,null,[{key:"decodeText",value:function decodeText(array){if(typeof $TextDecoder!=='undefined'){return new $TextDecoder().decode(array);}// Avoid the String.fromCharCode.apply(null, array) shortcut, which
// throws a "maximum call stack size exceeded" error for large arrays.
var s='';for(var i=0,il=array.length;i<il;i++){// Implicitly assumes little-endian.
s+=String.fromCharCode(array[i]);}try{// merges multi-byte utf-8 characters.
return decodeURIComponent(escape(s));}catch(e){// see #16358
return s;}}},{key:"extractUrlBase",value:function extractUrlBase(url){var index=url.lastIndexOf('/');if(index===-1)return'./';return url.substr(0,index+1);}}]);return LoaderUtils;}();exports.LoaderUtils=LoaderUtils;var InstancedBufferGeometry=/*#__PURE__*/function(_BufferGeometry16){(0,_inherits2.default)(InstancedBufferGeometry,_BufferGeometry16);var _super126=_createSuper(InstancedBufferGeometry);function InstancedBufferGeometry(){var _this99;(0,_classCallCheck2.default)(this,InstancedBufferGeometry);_this99=_super126.call(this);_this99.type='InstancedBufferGeometry';_this99.instanceCount=Infinity;return _this99;}(0,_createClass2.default)(InstancedBufferGeometry,[{key:"copy",value:function copy(source){(0,_get2.default)((0,_getPrototypeOf2.default)(InstancedBufferGeometry.prototype),"copy",this).call(this,source);this.instanceCount=source.instanceCount;return this;}},{key:"clone",value:function clone(){return new this.constructor().copy(this);}},{key:"toJSON",value:function toJSON(){var data=(0,_get2.default)((0,_getPrototypeOf2.default)(InstancedBufferGeometry.prototype),"toJSON",this).call(this,this);data.instanceCount=this.instanceCount;data.isInstancedBufferGeometry=true;return data;}}]);return InstancedBufferGeometry;}(BufferGeometry);exports.InstancedBufferGeometry=InstancedBufferGeometry;InstancedBufferGeometry.prototype.isInstancedBufferGeometry=true;var BufferGeometryLoader=/*#__PURE__*/function(_Loader9){(0,_inherits2.default)(BufferGeometryLoader,_Loader9);var _super127=_createSuper(BufferGeometryLoader);function BufferGeometryLoader(manager){(0,_classCallCheck2.default)(this,BufferGeometryLoader);return _super127.call(this,manager);}(0,_createClass2.default)(BufferGeometryLoader,[{key:"load",value:function load(url,onLoad,onProgress,onError){var scope=this;var loader=new FileLoader(scope.manager);loader.setPath(scope.path);loader.setRequestHeader(scope.requestHeader);loader.setWithCredentials(scope.withCredentials);loader.load(url,function(text){try{onLoad(scope.parse(JSON.parse(text)));}catch(e){if(onError){onError(e);}else{console.error(e);}scope.manager.itemError(url);}},onProgress,onError);}},{key:"parse",value:function parse(json){var interleavedBufferMap={};var arrayBufferMap={};function getInterleavedBuffer(json,uuid){if(interleavedBufferMap[uuid]!==undefined)return interleavedBufferMap[uuid];var interleavedBuffers=json.interleavedBuffers;var interleavedBuffer=interleavedBuffers[uuid];var buffer=getArrayBuffer(json,interleavedBuffer.buffer);var array=getTypedArray(interleavedBuffer.type,buffer);var ib=new InterleavedBuffer(array,interleavedBuffer.stride);ib.uuid=interleavedBuffer.uuid;interleavedBufferMap[uuid]=ib;return ib;}function getArrayBuffer(json,uuid){if(arrayBufferMap[uuid]!==undefined)return arrayBufferMap[uuid];var arrayBuffers=json.arrayBuffers;var arrayBuffer=arrayBuffers[uuid];var ab=new Uint32Array(arrayBuffer).buffer;arrayBufferMap[uuid]=ab;return ab;}var geometry=json.isInstancedBufferGeometry?new InstancedBufferGeometry():new BufferGeometry();var index=json.data.index;if(index!==undefined){var typedArray=getTypedArray(index.type,index.array);geometry.setIndex(new BufferAttribute(typedArray,1));}var attributes=json.data.attributes;for(var key in attributes){var attribute=attributes[key];var bufferAttribute=void 0;if(attribute.isInterleavedBufferAttribute){var interleavedBuffer=getInterleavedBuffer(json.data,attribute.data);bufferAttribute=new InterleavedBufferAttribute(interleavedBuffer,attribute.itemSize,attribute.offset,attribute.normalized);}else{var _typedArray=getTypedArray(attribute.type,attribute.array);var bufferAttributeConstr=attribute.isInstancedBufferAttribute?InstancedBufferAttribute:BufferAttribute;bufferAttribute=new bufferAttributeConstr(_typedArray,attribute.itemSize,attribute.normalized);}if(attribute.name!==undefined)bufferAttribute.name=attribute.name;if(attribute.usage!==undefined)bufferAttribute.setUsage(attribute.usage);if(attribute.updateRange!==undefined){bufferAttribute.updateRange.offset=attribute.updateRange.offset;bufferAttribute.updateRange.count=attribute.updateRange.count;}geometry.setAttribute(key,bufferAttribute);}var morphAttributes=json.data.morphAttributes;if(morphAttributes){for(var _key3 in morphAttributes){var attributeArray=morphAttributes[_key3];var array=[];for(var i=0,il=attributeArray.length;i<il;i++){var _attribute3=attributeArray[i];var _bufferAttribute=void 0;if(_attribute3.isInterleavedBufferAttribute){var _interleavedBuffer=getInterleavedBuffer(json.data,_attribute3.data);_bufferAttribute=new InterleavedBufferAttribute(_interleavedBuffer,_attribute3.itemSize,_attribute3.offset,_attribute3.normalized);}else{var _typedArray2=getTypedArray(_attribute3.type,_attribute3.array);_bufferAttribute=new BufferAttribute(_typedArray2,_attribute3.itemSize,_attribute3.normalized);}if(_attribute3.name!==undefined)_bufferAttribute.name=_attribute3.name;array.push(_bufferAttribute);}geometry.morphAttributes[_key3]=array;}}var morphTargetsRelative=json.data.morphTargetsRelative;if(morphTargetsRelative){geometry.morphTargetsRelative=true;}var groups=json.data.groups||json.data.drawcalls||json.data.offsets;if(groups!==undefined){for(var _i143=0,n=groups.length;_i143!==n;++_i143){var group=groups[_i143];geometry.addGroup(group.start,group.count,group.materialIndex);}}var boundingSphere=json.data.boundingSphere;if(boundingSphere!==undefined){var center=new Vector3();if(boundingSphere.center!==undefined){center.fromArray(boundingSphere.center);}geometry.boundingSphere=new Sphere(center,boundingSphere.radius);}if(json.name)geometry.name=json.name;if(json.userData)geometry.userData=json.userData;return geometry;}}]);return BufferGeometryLoader;}(Loader);exports.BufferGeometryLoader=BufferGeometryLoader;var ObjectLoader=/*#__PURE__*/function(_Loader10){(0,_inherits2.default)(ObjectLoader,_Loader10);var _super128=_createSuper(ObjectLoader);function ObjectLoader(manager){(0,_classCallCheck2.default)(this,ObjectLoader);return _super128.call(this,manager);}(0,_createClass2.default)(ObjectLoader,[{key:"load",value:function load(url,onLoad,onProgress,onError){var scope=this;var path=this.path===''?LoaderUtils.extractUrlBase(url):this.path;this.resourcePath=this.resourcePath||path;var loader=new FileLoader(this.manager);loader.setPath(this.path);loader.setRequestHeader(this.requestHeader);loader.setWithCredentials(this.withCredentials);loader.load(url,function(text){var json=null;try{json=JSON.parse(text);}catch(error){if(onError!==undefined)onError(error);console.error('THREE:ObjectLoader: Can\'t parse '+url+'.',error.message);return;}var metadata=json.metadata;if(metadata===undefined||metadata.type===undefined||metadata.type.toLowerCase()==='geometry'){console.error('THREE.ObjectLoader: Can\'t load '+url);return;}scope.parse(json,onLoad);},onProgress,onError);}},{key:"loadAsync",value:function(){var _loadAsync=(0,_asyncToGenerator2.default)(/*#__PURE__*/_regenerator.default.mark(function _callee2(url,onProgress){var scope,path,loader,text,json,metadata;return _regenerator.default.wrap(function _callee2$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:scope=this;path=this.path===''?LoaderUtils.extractUrlBase(url):this.path;this.resourcePath=this.resourcePath||path;loader=new FileLoader(this.manager);loader.setPath(this.path);loader.setRequestHeader(this.requestHeader);loader.setWithCredentials(this.withCredentials);_context6.next=9;return loader.loadAsync(url,onProgress);case 9:text=_context6.sent;json=JSON.parse(text);metadata=json.metadata;if(!(metadata===undefined||metadata.type===undefined||metadata.type.toLowerCase()==='geometry')){_context6.next=14;break;}throw new Error('THREE.ObjectLoader: Can\'t load '+url);case 14:_context6.next=16;return scope.parseAsync(json);case 16:return _context6.abrupt("return",_context6.sent);case 17:case"end":return _context6.stop();}}},_callee2,this);}));function loadAsync(_x7,_x8){return _loadAsync.apply(this,arguments);}return loadAsync;}()},{key:"parse",value:function parse(json,onLoad){var animations=this.parseAnimations(json.animations);var shapes=this.parseShapes(json.shapes);var geometries=this.parseGeometries(json.geometries,shapes);var images=this.parseImages(json.images,function(){if(onLoad!==undefined)onLoad(object);});var textures=this.parseTextures(json.textures,images);var materials=this.parseMaterials(json.materials,textures);var object=this.parseObject(json.object,geometries,materials,textures,animations);var skeletons=this.parseSkeletons(json.skeletons,object);this.bindSkeletons(object,skeletons);//
if(onLoad!==undefined){var hasImages=false;for(var uuid in images){if(images[uuid]instanceof HTMLImageElement){hasImages=true;break;}}if(hasImages===false)onLoad(object);}return object;}},{key:"parseAsync",value:function(){var _parseAsync=(0,_asyncToGenerator2.default)(/*#__PURE__*/_regenerator.default.mark(function _callee3(json){var animations,shapes,geometries,images,textures,materials,object,skeletons;return _regenerator.default.wrap(function _callee3$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:animations=this.parseAnimations(json.animations);shapes=this.parseShapes(json.shapes);geometries=this.parseGeometries(json.geometries,shapes);_context7.next=5;return this.parseImagesAsync(json.images);case 5:images=_context7.sent;textures=this.parseTextures(json.textures,images);materials=this.parseMaterials(json.materials,textures);object=this.parseObject(json.object,geometries,materials,textures,animations);skeletons=this.parseSkeletons(json.skeletons,object);this.bindSkeletons(object,skeletons);return _context7.abrupt("return",object);case 12:case"end":return _context7.stop();}}},_callee3,this);}));function parseAsync(_x9){return _parseAsync.apply(this,arguments);}return parseAsync;}()},{key:"parseShapes",value:function parseShapes(json){var shapes={};if(json!==undefined){for(var i=0,l=json.length;i<l;i++){var shape=new Shape().fromJSON(json[i]);shapes[shape.uuid]=shape;}}return shapes;}},{key:"parseSkeletons",value:function parseSkeletons(json,object){var skeletons={};var bones={};// generate bone lookup table
object.traverse(function(child){if(child.isBone)bones[child.uuid]=child;});// create skeletons
if(json!==undefined){for(var i=0,l=json.length;i<l;i++){var skeleton=new Skeleton().fromJSON(json[i],bones);skeletons[skeleton.uuid]=skeleton;}}return skeletons;}},{key:"parseGeometries",value:function parseGeometries(json,shapes){var geometries={};if(json!==undefined){var bufferGeometryLoader=new BufferGeometryLoader();for(var i=0,l=json.length;i<l;i++){var geometry=void 0;var data=json[i];switch(data.type){case'BufferGeometry':case'InstancedBufferGeometry':geometry=bufferGeometryLoader.parse(data);break;case'Geometry':console.error('THREE.ObjectLoader: The legacy Geometry type is no longer supported.');break;default:if(data.type in Geometries){geometry=Geometries[data.type].fromJSON(data,shapes);}else{console.warn("THREE.ObjectLoader: Unsupported geometry type \"".concat(data.type,"\""));}}geometry.uuid=data.uuid;if(data.name!==undefined)geometry.name=data.name;if(geometry.isBufferGeometry===true&&data.userData!==undefined)geometry.userData=data.userData;geometries[data.uuid]=geometry;}}return geometries;}},{key:"parseMaterials",value:function parseMaterials(json,textures){var cache={};// MultiMaterial
var materials={};if(json!==undefined){var loader=new MaterialLoader();loader.setTextures(textures);for(var i=0,l=json.length;i<l;i++){var data=json[i];if(data.type==='MultiMaterial'){// Deprecated
var array=[];for(var j=0;j<data.materials.length;j++){var material=data.materials[j];if(cache[material.uuid]===undefined){cache[material.uuid]=loader.parse(material);}array.push(cache[material.uuid]);}materials[data.uuid]=array;}else{if(cache[data.uuid]===undefined){cache[data.uuid]=loader.parse(data);}materials[data.uuid]=cache[data.uuid];}}}return materials;}},{key:"parseAnimations",value:function parseAnimations(json){var animations={};if(json!==undefined){for(var i=0;i<json.length;i++){var data=json[i];var clip=AnimationClip.parse(data);animations[clip.uuid]=clip;}}return animations;}},{key:"parseImages",value:function parseImages(json,onLoad){var scope=this;var images={};var loader;function loadImage(url){scope.manager.itemStart(url);return loader.load(url,function(){scope.manager.itemEnd(url);},undefined,function(){scope.manager.itemError(url);scope.manager.itemEnd(url);});}function deserializeImage(image){if(typeof image==='string'){var url=image;var path=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(url)?url:scope.resourcePath+url;return loadImage(path);}else{if(image.data){return{data:getTypedArray(image.type,image.data),width:image.width,height:image.height};}else{return null;}}}if(json!==undefined&&json.length>0){var manager=new LoadingManager(onLoad);loader=new ImageLoader(manager);loader.setCrossOrigin(this.crossOrigin);for(var i=0,il=json.length;i<il;i++){var image=json[i];var url=image.url;if(Array.isArray(url)){// load array of images e.g CubeTexture
images[image.uuid]=[];for(var j=0,jl=url.length;j<jl;j++){var currentUrl=url[j];var deserializedImage=deserializeImage(currentUrl);if(deserializedImage!==null){if(deserializedImage instanceof HTMLImageElement){images[image.uuid].push(deserializedImage);}else{// special case: handle array of data textures for cube textures
images[image.uuid].push(new DataTexture(deserializedImage.data,deserializedImage.width,deserializedImage.height));}}}}else{// load single image
var _deserializedImage=deserializeImage(image.url);if(_deserializedImage!==null){images[image.uuid]=_deserializedImage;}}}}return images;}},{key:"parseImagesAsync",value:function(){var _parseImagesAsync=(0,_asyncToGenerator2.default)(/*#__PURE__*/_regenerator.default.mark(function _callee5(json){var scope,images,loader,deserializeImage,_deserializeImage,i,il,image,url,j,jl,currentUrl,deserializedImage,_deserializedImage2;return _regenerator.default.wrap(function _callee5$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_deserializeImage=function _deserializeImage3(){_deserializeImage=(0,_asyncToGenerator2.default)(/*#__PURE__*/_regenerator.default.mark(function _callee4(image){var _url,path;return _regenerator.default.wrap(function _callee4$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:if(!(typeof image==='string')){_context8.next=8;break;}_url=image;path=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(_url)?_url:scope.resourcePath+_url;_context8.next=5;return loader.loadAsync(path);case 5:return _context8.abrupt("return",_context8.sent);case 8:if(!image.data){_context8.next=12;break;}return _context8.abrupt("return",{data:getTypedArray(image.type,image.data),width:image.width,height:image.height});case 12:return _context8.abrupt("return",null);case 13:case"end":return _context8.stop();}}},_callee4);}));return _deserializeImage.apply(this,arguments);};deserializeImage=function _deserializeImage2(_x11){return _deserializeImage.apply(this,arguments);};scope=this;images={};if(!(json!==undefined&&json.length>0)){_context9.next=32;break;}loader=new ImageLoader(this.manager);loader.setCrossOrigin(this.crossOrigin);i=0,il=json.length;case 8:if(!(i<il)){_context9.next=32;break;}image=json[i];url=image.url;if(!Array.isArray(url)){_context9.next=25;break;}// load array of images e.g CubeTexture
images[image.uuid]=[];j=0,jl=url.length;case 14:if(!(j<jl)){_context9.next=23;break;}currentUrl=url[j];_context9.next=18;return deserializeImage(currentUrl);case 18:deserializedImage=_context9.sent;if(deserializedImage!==null){if(deserializedImage instanceof HTMLImageElement){images[image.uuid].push(deserializedImage);}else{// special case: handle array of data textures for cube textures
images[image.uuid].push(new DataTexture(deserializedImage.data,deserializedImage.width,deserializedImage.height));}}case 20:j++;_context9.next=14;break;case 23:_context9.next=29;break;case 25:_context9.next=27;return deserializeImage(image.url);case 27:_deserializedImage2=_context9.sent;if(_deserializedImage2!==null){images[image.uuid]=_deserializedImage2;}case 29:i++;_context9.next=8;break;case 32:return _context9.abrupt("return",images);case 33:case"end":return _context9.stop();}}},_callee5,this);}));function parseImagesAsync(_x10){return _parseImagesAsync.apply(this,arguments);}return parseImagesAsync;}()},{key:"parseTextures",value:function parseTextures(json,images){function parseConstant(value,type){if(typeof value==='number')return value;console.warn('THREE.ObjectLoader.parseTexture: Constant should be in numeric form.',value);return type[value];}var textures={};if(json!==undefined){for(var i=0,l=json.length;i<l;i++){var data=json[i];if(data.image===undefined){console.warn('THREE.ObjectLoader: No "image" specified for',data.uuid);}if(images[data.image]===undefined){console.warn('THREE.ObjectLoader: Undefined image',data.image);}var texture=void 0;var image=images[data.image];if(Array.isArray(image)){texture=new CubeTexture(image);if(image.length===6)texture.needsUpdate=true;}else{if(image&&image.data){texture=new DataTexture(image.data,image.width,image.height);}else{texture=new Texture(image);}if(image)texture.needsUpdate=true;// textures can have undefined image data
}texture.uuid=data.uuid;if(data.name!==undefined)texture.name=data.name;if(data.mapping!==undefined)texture.mapping=parseConstant(data.mapping,TEXTURE_MAPPING);if(data.offset!==undefined)texture.offset.fromArray(data.offset);if(data.repeat!==undefined)texture.repeat.fromArray(data.repeat);if(data.center!==undefined)texture.center.fromArray(data.center);if(data.rotation!==undefined)texture.rotation=data.rotation;if(data.wrap!==undefined){texture.wrapS=parseConstant(data.wrap[0],TEXTURE_WRAPPING);texture.wrapT=parseConstant(data.wrap[1],TEXTURE_WRAPPING);}if(data.format!==undefined)texture.format=data.format;if(data.type!==undefined)texture.type=data.type;if(data.encoding!==undefined)texture.encoding=data.encoding;if(data.minFilter!==undefined)texture.minFilter=parseConstant(data.minFilter,TEXTURE_FILTER);if(data.magFilter!==undefined)texture.magFilter=parseConstant(data.magFilter,TEXTURE_FILTER);if(data.anisotropy!==undefined)texture.anisotropy=data.anisotropy;if(data.flipY!==undefined)texture.flipY=data.flipY;if(data.premultiplyAlpha!==undefined)texture.premultiplyAlpha=data.premultiplyAlpha;if(data.unpackAlignment!==undefined)texture.unpackAlignment=data.unpackAlignment;textures[data.uuid]=texture;}}return textures;}},{key:"parseObject",value:function parseObject(data,geometries,materials,textures,animations){var object;function getGeometry(name){if(geometries[name]===undefined){console.warn('THREE.ObjectLoader: Undefined geometry',name);}return geometries[name];}function getMaterial(name){if(name===undefined)return undefined;if(Array.isArray(name)){var array=[];for(var i=0,l=name.length;i<l;i++){var uuid=name[i];if(materials[uuid]===undefined){console.warn('THREE.ObjectLoader: Undefined material',uuid);}array.push(materials[uuid]);}return array;}if(materials[name]===undefined){console.warn('THREE.ObjectLoader: Undefined material',name);}return materials[name];}function getTexture(uuid){if(textures[uuid]===undefined){console.warn('THREE.ObjectLoader: Undefined texture',uuid);}return textures[uuid];}var geometry,material;switch(data.type){case'Scene':object=new Scene();if(data.background!==undefined){if(Number.isInteger(data.background)){object.background=new Color(data.background);}else{object.background=getTexture(data.background);}}if(data.environment!==undefined){object.environment=getTexture(data.environment);}if(data.fog!==undefined){if(data.fog.type==='Fog'){object.fog=new Fog(data.fog.color,data.fog.near,data.fog.far);}else if(data.fog.type==='FogExp2'){object.fog=new FogExp2(data.fog.color,data.fog.density);}}break;case'PerspectiveCamera':object=new PerspectiveCamera(data.fov,data.aspect,data.near,data.far);if(data.focus!==undefined)object.focus=data.focus;if(data.zoom!==undefined)object.zoom=data.zoom;if(data.filmGauge!==undefined)object.filmGauge=data.filmGauge;if(data.filmOffset!==undefined)object.filmOffset=data.filmOffset;if(data.view!==undefined)object.view=Object.assign({},data.view);break;case'OrthographicCamera':object=new OrthographicCamera(data.left,data.right,data.top,data.bottom,data.near,data.far);if(data.zoom!==undefined)object.zoom=data.zoom;if(data.view!==undefined)object.view=Object.assign({},data.view);break;case'AmbientLight':object=new AmbientLight(data.color,data.intensity);break;case'DirectionalLight':object=new DirectionalLight(data.color,data.intensity);break;case'PointLight':object=new PointLight(data.color,data.intensity,data.distance,data.decay);break;case'RectAreaLight':object=new RectAreaLight(data.color,data.intensity,data.width,data.height);break;case'SpotLight':object=new SpotLight(data.color,data.intensity,data.distance,data.angle,data.penumbra,data.decay);break;case'HemisphereLight':object=new HemisphereLight(data.color,data.groundColor,data.intensity);break;case'LightProbe':object=new LightProbe().fromJSON(data);break;case'SkinnedMesh':geometry=getGeometry(data.geometry);material=getMaterial(data.material);object=new SkinnedMesh(geometry,material);if(data.bindMode!==undefined)object.bindMode=data.bindMode;if(data.bindMatrix!==undefined)object.bindMatrix.fromArray(data.bindMatrix);if(data.skeleton!==undefined)object.skeleton=data.skeleton;break;case'Mesh':geometry=getGeometry(data.geometry);material=getMaterial(data.material);object=new Mesh(geometry,material);break;case'InstancedMesh':geometry=getGeometry(data.geometry);material=getMaterial(data.material);var count=data.count;var instanceMatrix=data.instanceMatrix;var instanceColor=data.instanceColor;object=new InstancedMesh(geometry,material,count);object.instanceMatrix=new InstancedBufferAttribute(new Float32Array(instanceMatrix.array),16);if(instanceColor!==undefined)object.instanceColor=new InstancedBufferAttribute(new Float32Array(instanceColor.array),instanceColor.itemSize);break;case'LOD':object=new LOD();break;case'Line':object=new Line(getGeometry(data.geometry),getMaterial(data.material));break;case'LineLoop':object=new LineLoop(getGeometry(data.geometry),getMaterial(data.material));break;case'LineSegments':object=new LineSegments(getGeometry(data.geometry),getMaterial(data.material));break;case'PointCloud':case'Points':object=new Points(getGeometry(data.geometry),getMaterial(data.material));break;case'Sprite':object=new Sprite(getMaterial(data.material));break;case'Group':object=new Group();break;case'Bone':object=new Bone();break;default:object=new Object3D();}object.uuid=data.uuid;if(data.name!==undefined)object.name=data.name;if(data.matrix!==undefined){object.matrix.fromArray(data.matrix);if(data.matrixAutoUpdate!==undefined)object.matrixAutoUpdate=data.matrixAutoUpdate;if(object.matrixAutoUpdate)object.matrix.decompose(object.position,object.quaternion,object.scale);}else{if(data.position!==undefined)object.position.fromArray(data.position);if(data.rotation!==undefined)object.rotation.fromArray(data.rotation);if(data.quaternion!==undefined)object.quaternion.fromArray(data.quaternion);if(data.scale!==undefined)object.scale.fromArray(data.scale);}if(data.castShadow!==undefined)object.castShadow=data.castShadow;if(data.receiveShadow!==undefined)object.receiveShadow=data.receiveShadow;if(data.shadow){if(data.shadow.bias!==undefined)object.shadow.bias=data.shadow.bias;if(data.shadow.normalBias!==undefined)object.shadow.normalBias=data.shadow.normalBias;if(data.shadow.radius!==undefined)object.shadow.radius=data.shadow.radius;if(data.shadow.mapSize!==undefined)object.shadow.mapSize.fromArray(data.shadow.mapSize);if(data.shadow.camera!==undefined)object.shadow.camera=this.parseObject(data.shadow.camera);}if(data.visible!==undefined)object.visible=data.visible;if(data.frustumCulled!==undefined)object.frustumCulled=data.frustumCulled;if(data.renderOrder!==undefined)object.renderOrder=data.renderOrder;if(data.userData!==undefined)object.userData=data.userData;if(data.layers!==undefined)object.layers.mask=data.layers;if(data.children!==undefined){var children=data.children;for(var i=0;i<children.length;i++){object.add(this.parseObject(children[i],geometries,materials,textures,animations));}}if(data.animations!==undefined){var objectAnimations=data.animations;for(var _i144=0;_i144<objectAnimations.length;_i144++){var uuid=objectAnimations[_i144];object.animations.push(animations[uuid]);}}if(data.type==='LOD'){if(data.autoUpdate!==undefined)object.autoUpdate=data.autoUpdate;var levels=data.levels;for(var l=0;l<levels.length;l++){var level=levels[l];var child=object.getObjectByProperty('uuid',level.object);if(child!==undefined){object.addLevel(child,level.distance);}}}return object;}},{key:"bindSkeletons",value:function bindSkeletons(object,skeletons){if(Object.keys(skeletons).length===0)return;object.traverse(function(child){if(child.isSkinnedMesh===true&&child.skeleton!==undefined){var skeleton=skeletons[child.skeleton];if(skeleton===undefined){console.warn('THREE.ObjectLoader: No skeleton found with UUID:',child.skeleton);}else{child.bind(skeleton,child.bindMatrix);}}});}/* DEPRECATED */},{key:"setTexturePath",value:function setTexturePath(value){console.warn('THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath().');return this.setResourcePath(value);}}]);return ObjectLoader;}(Loader);exports.ObjectLoader=ObjectLoader;var TEXTURE_MAPPING={UVMapping:UVMapping,CubeReflectionMapping:CubeReflectionMapping,CubeRefractionMapping:CubeRefractionMapping,EquirectangularReflectionMapping:EquirectangularReflectionMapping,EquirectangularRefractionMapping:EquirectangularRefractionMapping,CubeUVReflectionMapping:CubeUVReflectionMapping,CubeUVRefractionMapping:CubeUVRefractionMapping};var TEXTURE_WRAPPING={RepeatWrapping:RepeatWrapping,ClampToEdgeWrapping:ClampToEdgeWrapping,MirroredRepeatWrapping:MirroredRepeatWrapping};var TEXTURE_FILTER={NearestFilter:NearestFilter,NearestMipmapNearestFilter:NearestMipmapNearestFilter,NearestMipmapLinearFilter:NearestMipmapLinearFilter,LinearFilter:LinearFilter,LinearMipmapNearestFilter:LinearMipmapNearestFilter,LinearMipmapLinearFilter:LinearMipmapLinearFilter};var ImageBitmapLoader=/*#__PURE__*/function(_Loader11){(0,_inherits2.default)(ImageBitmapLoader,_Loader11);var _super129=_createSuper(ImageBitmapLoader);function ImageBitmapLoader(manager){var _this100;(0,_classCallCheck2.default)(this,ImageBitmapLoader);_this100=_super129.call(this,manager);if(typeof $createImageBitmap==='undefined'){console.warn('THREE.ImageBitmapLoader: createImageBitmap() not supported.');}if(typeof fetch==='undefined'){console.warn('THREE.ImageBitmapLoader: fetch() not supported.');}_this100.options={premultiplyAlpha:'none'};return _this100;}(0,_createClass2.default)(ImageBitmapLoader,[{key:"setOptions",value:function setOptions(options){this.options=options;return this;}},{key:"load",value:function load(url,onLoad,onProgress,onError){if(url===undefined)url='';if(this.path!==undefined)url=this.path+url;url=this.manager.resolveURL(url);var scope=this;var cached=Cache.get(url);if(cached!==undefined){scope.manager.itemStart(url);setTimeout(function(){if(onLoad)onLoad(cached);scope.manager.itemEnd(url);},0);return cached;}var fetchOptions={};fetchOptions.credentials=this.crossOrigin==='anonymous'?'same-origin':'include';fetchOptions.headers=this.requestHeader;fetch(url,fetchOptions).then(function(res){return res.blob();}).then(function(blob){return $createImageBitmap(blob,Object.assign(scope.options,{colorSpaceConversion:'none'}));}).then(function(imageBitmap){Cache.add(url,imageBitmap);if(onLoad)onLoad(imageBitmap);scope.manager.itemEnd(url);}).catch(function(e){if(onError)onError(e);scope.manager.itemError(url);scope.manager.itemEnd(url);});scope.manager.itemStart(url);}}]);return ImageBitmapLoader;}(Loader);exports.ImageBitmapLoader=ImageBitmapLoader;ImageBitmapLoader.prototype.isImageBitmapLoader=true;var _context;var AudioContext={getContext:function getContext(){if(_context===undefined){_context=new($window.AudioContext||$window.webkitAudioContext)();}return _context;},setContext:function setContext(value){_context=value;}};exports.AudioContext=AudioContext;var AudioLoader=/*#__PURE__*/function(_Loader12){(0,_inherits2.default)(AudioLoader,_Loader12);var _super130=_createSuper(AudioLoader);function AudioLoader(manager){(0,_classCallCheck2.default)(this,AudioLoader);return _super130.call(this,manager);}(0,_createClass2.default)(AudioLoader,[{key:"load",value:function load(url,onLoad,onProgress,onError){var scope=this;var loader=new FileLoader(this.manager);loader.setResponseType('arraybuffer');loader.setPath(this.path);loader.setRequestHeader(this.requestHeader);loader.setWithCredentials(this.withCredentials);loader.load(url,function(buffer){try{// Create a copy of the buffer. The `decodeAudioData` method
// detaches the buffer when complete, preventing reuse.
var bufferCopy=buffer.slice(0);var context=AudioContext.getContext();context.decodeAudioData(bufferCopy,function(audioBuffer){onLoad(audioBuffer);});}catch(e){if(onError){onError(e);}else{console.error(e);}scope.manager.itemError(url);}},onProgress,onError);}}]);return AudioLoader;}(Loader);exports.AudioLoader=AudioLoader;var HemisphereLightProbe=/*#__PURE__*/function(_LightProbe){(0,_inherits2.default)(HemisphereLightProbe,_LightProbe);var _super131=_createSuper(HemisphereLightProbe);function HemisphereLightProbe(skyColor,groundColor){var _this101;var intensity=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;(0,_classCallCheck2.default)(this,HemisphereLightProbe);_this101=_super131.call(this,undefined,intensity);var color1=new Color().set(skyColor);var color2=new Color().set(groundColor);var sky=new Vector3(color1.r,color1.g,color1.b);var ground=new Vector3(color2.r,color2.g,color2.b);// without extra factor of PI in the shader, should = 1 / Math.sqrt( Math.PI );
var c0=Math.sqrt(Math.PI);var c1=c0*Math.sqrt(0.75);_this101.sh.coefficients[0].copy(sky).add(ground).multiplyScalar(c0);_this101.sh.coefficients[1].copy(sky).sub(ground).multiplyScalar(c1);return _this101;}return(0,_createClass2.default)(HemisphereLightProbe);}(LightProbe);exports.HemisphereLightProbe=HemisphereLightProbe;HemisphereLightProbe.prototype.isHemisphereLightProbe=true;var AmbientLightProbe=/*#__PURE__*/function(_LightProbe2){(0,_inherits2.default)(AmbientLightProbe,_LightProbe2);var _super132=_createSuper(AmbientLightProbe);function AmbientLightProbe(color){var _this102;var intensity=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;(0,_classCallCheck2.default)(this,AmbientLightProbe);_this102=_super132.call(this,undefined,intensity);var color1=new Color().set(color);// without extra factor of PI in the shader, would be 2 / Math.sqrt( Math.PI );
_this102.sh.coefficients[0].set(color1.r,color1.g,color1.b).multiplyScalar(2*Math.sqrt(Math.PI));return _this102;}return(0,_createClass2.default)(AmbientLightProbe);}(LightProbe);exports.AmbientLightProbe=AmbientLightProbe;AmbientLightProbe.prototype.isAmbientLightProbe=true;var _eyeRight=/*@__PURE__*/new Matrix4();var _eyeLeft=/*@__PURE__*/new Matrix4();var StereoCamera=/*#__PURE__*/function(){function StereoCamera(){(0,_classCallCheck2.default)(this,StereoCamera);this.type='StereoCamera';this.aspect=1;this.eyeSep=0.064;this.cameraL=new PerspectiveCamera();this.cameraL.layers.enable(1);this.cameraL.matrixAutoUpdate=false;this.cameraR=new PerspectiveCamera();this.cameraR.layers.enable(2);this.cameraR.matrixAutoUpdate=false;this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null};}(0,_createClass2.default)(StereoCamera,[{key:"update",value:function update(camera){var cache=this._cache;var needsUpdate=cache.focus!==camera.focus||cache.fov!==camera.fov||cache.aspect!==camera.aspect*this.aspect||cache.near!==camera.near||cache.far!==camera.far||cache.zoom!==camera.zoom||cache.eyeSep!==this.eyeSep;if(needsUpdate){cache.focus=camera.focus;cache.fov=camera.fov;cache.aspect=camera.aspect*this.aspect;cache.near=camera.near;cache.far=camera.far;cache.zoom=camera.zoom;cache.eyeSep=this.eyeSep;// Off-axis stereoscopic effect based on
// http://paulbourke.net/stereographics/stereorender/
var projectionMatrix=camera.projectionMatrix.clone();var eyeSepHalf=cache.eyeSep/2;var eyeSepOnProjection=eyeSepHalf*cache.near/cache.focus;var ymax=cache.near*Math.tan(DEG2RAD*cache.fov*0.5)/cache.zoom;var xmin,xmax;// translate xOffset
_eyeLeft.elements[12]=-eyeSepHalf;_eyeRight.elements[12]=eyeSepHalf;// for left eye
xmin=-ymax*cache.aspect+eyeSepOnProjection;xmax=ymax*cache.aspect+eyeSepOnProjection;projectionMatrix.elements[0]=2*cache.near/(xmax-xmin);projectionMatrix.elements[8]=(xmax+xmin)/(xmax-xmin);this.cameraL.projectionMatrix.copy(projectionMatrix);// for right eye
xmin=-ymax*cache.aspect-eyeSepOnProjection;xmax=ymax*cache.aspect-eyeSepOnProjection;projectionMatrix.elements[0]=2*cache.near/(xmax-xmin);projectionMatrix.elements[8]=(xmax+xmin)/(xmax-xmin);this.cameraR.projectionMatrix.copy(projectionMatrix);}this.cameraL.matrixWorld.copy(camera.matrixWorld).multiply(_eyeLeft);this.cameraR.matrixWorld.copy(camera.matrixWorld).multiply(_eyeRight);}}]);return StereoCamera;}();exports.StereoCamera=StereoCamera;var Clock=/*#__PURE__*/function(){function Clock(){var autoStart=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;(0,_classCallCheck2.default)(this,Clock);this.autoStart=autoStart;this.startTime=0;this.oldTime=0;this.elapsedTime=0;this.running=false;}(0,_createClass2.default)(Clock,[{key:"start",value:function start(){this.startTime=now();this.oldTime=this.startTime;this.elapsedTime=0;this.running=true;}},{key:"stop",value:function stop(){this.getElapsedTime();this.running=false;this.autoStart=false;}},{key:"getElapsedTime",value:function getElapsedTime(){this.getDelta();return this.elapsedTime;}},{key:"getDelta",value:function getDelta(){var diff=0;if(this.autoStart&&!this.running){this.start();return 0;}if(this.running){var newTime=now();diff=(newTime-this.oldTime)/1000;this.oldTime=newTime;this.elapsedTime+=diff;}return diff;}}]);return Clock;}();exports.Clock=Clock;function now(){return(typeof performance==='undefined'?Date:performance).now();// see #10732
}var _position$1=/*@__PURE__*/new Vector3();var _quaternion$1=/*@__PURE__*/new Quaternion();var _scale$1=/*@__PURE__*/new Vector3();var _orientation$1=/*@__PURE__*/new Vector3();var AudioListener=/*#__PURE__*/function(_Object3D12){(0,_inherits2.default)(AudioListener,_Object3D12);var _super133=_createSuper(AudioListener);function AudioListener(){var _this103;(0,_classCallCheck2.default)(this,AudioListener);_this103=_super133.call(this);_this103.type='AudioListener';_this103.context=AudioContext.getContext();_this103.gain=_this103.context.createGain();_this103.gain.connect(_this103.context.destination);_this103.filter=null;_this103.timeDelta=0;// private
_this103._clock=new Clock();return _this103;}(0,_createClass2.default)(AudioListener,[{key:"getInput",value:function getInput(){return this.gain;}},{key:"removeFilter",value:function removeFilter(){if(this.filter!==null){this.gain.disconnect(this.filter);this.filter.disconnect(this.context.destination);this.gain.connect(this.context.destination);this.filter=null;}return this;}},{key:"getFilter",value:function getFilter(){return this.filter;}},{key:"setFilter",value:function setFilter(value){if(this.filter!==null){this.gain.disconnect(this.filter);this.filter.disconnect(this.context.destination);}else{this.gain.disconnect(this.context.destination);}this.filter=value;this.gain.connect(this.filter);this.filter.connect(this.context.destination);return this;}},{key:"getMasterVolume",value:function getMasterVolume(){return this.gain.gain.value;}},{key:"setMasterVolume",value:function setMasterVolume(value){this.gain.gain.setTargetAtTime(value,this.context.currentTime,0.01);return this;}},{key:"updateMatrixWorld",value:function updateMatrixWorld(force){(0,_get2.default)((0,_getPrototypeOf2.default)(AudioListener.prototype),"updateMatrixWorld",this).call(this,force);var listener=this.context.listener;var up=this.up;this.timeDelta=this._clock.getDelta();this.matrixWorld.decompose(_position$1,_quaternion$1,_scale$1);_orientation$1.set(0,0,-1).applyQuaternion(_quaternion$1);if(listener.positionX){// code path for Chrome (see #14393)
var endTime=this.context.currentTime+this.timeDelta;listener.positionX.linearRampToValueAtTime(_position$1.x,endTime);listener.positionY.linearRampToValueAtTime(_position$1.y,endTime);listener.positionZ.linearRampToValueAtTime(_position$1.z,endTime);listener.forwardX.linearRampToValueAtTime(_orientation$1.x,endTime);listener.forwardY.linearRampToValueAtTime(_orientation$1.y,endTime);listener.forwardZ.linearRampToValueAtTime(_orientation$1.z,endTime);listener.upX.linearRampToValueAtTime(up.x,endTime);listener.upY.linearRampToValueAtTime(up.y,endTime);listener.upZ.linearRampToValueAtTime(up.z,endTime);}else{listener.setPosition(_position$1.x,_position$1.y,_position$1.z);listener.setOrientation(_orientation$1.x,_orientation$1.y,_orientation$1.z,up.x,up.y,up.z);}}}]);return AudioListener;}(Object3D);exports.AudioListener=AudioListener;var Audio=/*#__PURE__*/function(_Object3D13){(0,_inherits2.default)(Audio,_Object3D13);var _super134=_createSuper(Audio);function Audio(listener){var _this104;(0,_classCallCheck2.default)(this,Audio);_this104=_super134.call(this);_this104.type='Audio';_this104.listener=listener;_this104.context=listener.context;_this104.gain=_this104.context.createGain();_this104.gain.connect(listener.getInput());_this104.autoplay=false;_this104.buffer=null;_this104.detune=0;_this104.loop=false;_this104.loopStart=0;_this104.loopEnd=0;_this104.offset=0;_this104.duration=undefined;_this104.playbackRate=1;_this104.isPlaying=false;_this104.hasPlaybackControl=true;_this104.source=null;_this104.sourceType='empty';_this104._startedAt=0;_this104._progress=0;_this104._connected=false;_this104.filters=[];return _this104;}(0,_createClass2.default)(Audio,[{key:"getOutput",value:function getOutput(){return this.gain;}},{key:"setNodeSource",value:function setNodeSource(audioNode){this.hasPlaybackControl=false;this.sourceType='audioNode';this.source=audioNode;this.connect();return this;}},{key:"setMediaElementSource",value:function setMediaElementSource(mediaElement){this.hasPlaybackControl=false;this.sourceType='mediaNode';this.source=this.context.createMediaElementSource(mediaElement);this.connect();return this;}},{key:"setMediaStreamSource",value:function setMediaStreamSource(mediaStream){this.hasPlaybackControl=false;this.sourceType='mediaStreamNode';this.source=this.context.createMediaStreamSource(mediaStream);this.connect();return this;}},{key:"setBuffer",value:function setBuffer(audioBuffer){this.buffer=audioBuffer;this.sourceType='buffer';if(this.autoplay)this.play();return this;}},{key:"play",value:function play(){var delay=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;if(this.isPlaying===true){console.warn('THREE.Audio: Audio is already playing.');return;}if(this.hasPlaybackControl===false){console.warn('THREE.Audio: this Audio has no playback control.');return;}this._startedAt=this.context.currentTime+delay;var source=this.context.createBufferSource();source.buffer=this.buffer;source.loop=this.loop;source.loopStart=this.loopStart;source.loopEnd=this.loopEnd;source.onended=this.onEnded.bind(this);source.start(this._startedAt,this._progress+this.offset,this.duration);this.isPlaying=true;this.source=source;this.setDetune(this.detune);this.setPlaybackRate(this.playbackRate);return this.connect();}},{key:"pause",value:function pause(){if(this.hasPlaybackControl===false){console.warn('THREE.Audio: this Audio has no playback control.');return;}if(this.isPlaying===true){// update current progress
this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate;if(this.loop===true){// ensure _progress does not exceed duration with looped audios
this._progress=this._progress%(this.duration||this.buffer.duration);}this.source.stop();this.source.onended=null;this.isPlaying=false;}return this;}},{key:"stop",value:function stop(){if(this.hasPlaybackControl===false){console.warn('THREE.Audio: this Audio has no playback control.');return;}this._progress=0;this.source.stop();this.source.onended=null;this.isPlaying=false;return this;}},{key:"connect",value:function connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var i=1,l=this.filters.length;i<l;i++){this.filters[i-1].connect(this.filters[i]);}this.filters[this.filters.length-1].connect(this.getOutput());}else{this.source.connect(this.getOutput());}this._connected=true;return this;}},{key:"disconnect",value:function disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var i=1,l=this.filters.length;i<l;i++){this.filters[i-1].disconnect(this.filters[i]);}this.filters[this.filters.length-1].disconnect(this.getOutput());}else{this.source.disconnect(this.getOutput());}this._connected=false;return this;}},{key:"getFilters",value:function getFilters(){return this.filters;}},{key:"setFilters",value:function setFilters(value){if(!value)value=[];if(this._connected===true){this.disconnect();this.filters=value.slice();this.connect();}else{this.filters=value.slice();}return this;}},{key:"setDetune",value:function setDetune(value){this.detune=value;if(this.source.detune===undefined)return;// only set detune when available
if(this.isPlaying===true){this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,0.01);}return this;}},{key:"getDetune",value:function getDetune(){return this.detune;}},{key:"getFilter",value:function getFilter(){return this.getFilters()[0];}},{key:"setFilter",value:function setFilter(filter){return this.setFilters(filter?[filter]:[]);}},{key:"setPlaybackRate",value:function setPlaybackRate(value){if(this.hasPlaybackControl===false){console.warn('THREE.Audio: this Audio has no playback control.');return;}this.playbackRate=value;if(this.isPlaying===true){this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,0.01);}return this;}},{key:"getPlaybackRate",value:function getPlaybackRate(){return this.playbackRate;}},{key:"onEnded",value:function onEnded(){this.isPlaying=false;}},{key:"getLoop",value:function getLoop(){if(this.hasPlaybackControl===false){console.warn('THREE.Audio: this Audio has no playback control.');return false;}return this.loop;}},{key:"setLoop",value:function setLoop(value){if(this.hasPlaybackControl===false){console.warn('THREE.Audio: this Audio has no playback control.');return;}this.loop=value;if(this.isPlaying===true){this.source.loop=this.loop;}return this;}},{key:"setLoopStart",value:function setLoopStart(value){this.loopStart=value;return this;}},{key:"setLoopEnd",value:function setLoopEnd(value){this.loopEnd=value;return this;}},{key:"getVolume",value:function getVolume(){return this.gain.gain.value;}},{key:"setVolume",value:function setVolume(value){this.gain.gain.setTargetAtTime(value,this.context.currentTime,0.01);return this;}}]);return Audio;}(Object3D);exports.Audio=Audio;var _position=/*@__PURE__*/new Vector3();var _quaternion=/*@__PURE__*/new Quaternion();var _scale=/*@__PURE__*/new Vector3();var _orientation=/*@__PURE__*/new Vector3();var PositionalAudio=/*#__PURE__*/function(_Audio){(0,_inherits2.default)(PositionalAudio,_Audio);var _super135=_createSuper(PositionalAudio);function PositionalAudio(listener){var _this105;(0,_classCallCheck2.default)(this,PositionalAudio);_this105=_super135.call(this,listener);_this105.panner=_this105.context.createPanner();_this105.panner.panningModel='HRTF';_this105.panner.connect(_this105.gain);return _this105;}(0,_createClass2.default)(PositionalAudio,[{key:"getOutput",value:function getOutput(){return this.panner;}},{key:"getRefDistance",value:function getRefDistance(){return this.panner.refDistance;}},{key:"setRefDistance",value:function setRefDistance(value){this.panner.refDistance=value;return this;}},{key:"getRolloffFactor",value:function getRolloffFactor(){return this.panner.rolloffFactor;}},{key:"setRolloffFactor",value:function setRolloffFactor(value){this.panner.rolloffFactor=value;return this;}},{key:"getDistanceModel",value:function getDistanceModel(){return this.panner.distanceModel;}},{key:"setDistanceModel",value:function setDistanceModel(value){this.panner.distanceModel=value;return this;}},{key:"getMaxDistance",value:function getMaxDistance(){return this.panner.maxDistance;}},{key:"setMaxDistance",value:function setMaxDistance(value){this.panner.maxDistance=value;return this;}},{key:"setDirectionalCone",value:function setDirectionalCone(coneInnerAngle,coneOuterAngle,coneOuterGain){this.panner.coneInnerAngle=coneInnerAngle;this.panner.coneOuterAngle=coneOuterAngle;this.panner.coneOuterGain=coneOuterGain;return this;}},{key:"updateMatrixWorld",value:function updateMatrixWorld(force){(0,_get2.default)((0,_getPrototypeOf2.default)(PositionalAudio.prototype),"updateMatrixWorld",this).call(this,force);if(this.hasPlaybackControl===true&&this.isPlaying===false)return;this.matrixWorld.decompose(_position,_quaternion,_scale);_orientation.set(0,0,1).applyQuaternion(_quaternion);var panner=this.panner;if(panner.positionX){// code path for Chrome and Firefox (see #14393)
var endTime=this.context.currentTime+this.listener.timeDelta;panner.positionX.linearRampToValueAtTime(_position.x,endTime);panner.positionY.linearRampToValueAtTime(_position.y,endTime);panner.positionZ.linearRampToValueAtTime(_position.z,endTime);panner.orientationX.linearRampToValueAtTime(_orientation.x,endTime);panner.orientationY.linearRampToValueAtTime(_orientation.y,endTime);panner.orientationZ.linearRampToValueAtTime(_orientation.z,endTime);}else{panner.setPosition(_position.x,_position.y,_position.z);panner.setOrientation(_orientation.x,_orientation.y,_orientation.z);}}}]);return PositionalAudio;}(Audio);exports.PositionalAudio=PositionalAudio;var AudioAnalyser=/*#__PURE__*/function(){function AudioAnalyser(audio){var fftSize=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2048;(0,_classCallCheck2.default)(this,AudioAnalyser);this.analyser=audio.context.createAnalyser();this.analyser.fftSize=fftSize;this.data=new Uint8Array(this.analyser.frequencyBinCount);audio.getOutput().connect(this.analyser);}(0,_createClass2.default)(AudioAnalyser,[{key:"getFrequencyData",value:function getFrequencyData(){this.analyser.getByteFrequencyData(this.data);return this.data;}},{key:"getAverageFrequency",value:function getAverageFrequency(){var value=0;var data=this.getFrequencyData();for(var i=0;i<data.length;i++){value+=data[i];}return value/data.length;}}]);return AudioAnalyser;}();exports.AudioAnalyser=AudioAnalyser;var PropertyMixer=/*#__PURE__*/function(){function PropertyMixer(binding,typeName,valueSize){(0,_classCallCheck2.default)(this,PropertyMixer);this.binding=binding;this.valueSize=valueSize;var mixFunction,mixFunctionAdditive,setIdentity;// buffer layout: [ incoming | accu0 | accu1 | orig | addAccu | (optional work) ]
//
// interpolators can use .buffer as their .result
// the data then goes to 'incoming'
//
// 'accu0' and 'accu1' are used frame-interleaved for
// the cumulative result and are compared to detect
// changes
//
// 'orig' stores the original state of the property
//
// 'add' is used for additive cumulative results
//
// 'work' is optional and is only present for quaternion types. It is used
// to store intermediate quaternion multiplication results
switch(typeName){case'quaternion':mixFunction=this._slerp;mixFunctionAdditive=this._slerpAdditive;setIdentity=this._setAdditiveIdentityQuaternion;this.buffer=new Float64Array(valueSize*6);this._workIndex=5;break;case'string':case'bool':mixFunction=this._select;// Use the regular mix function and for additive on these types,
// additive is not relevant for non-numeric types
mixFunctionAdditive=this._select;setIdentity=this._setAdditiveIdentityOther;this.buffer=new Array(valueSize*5);break;default:mixFunction=this._lerp;mixFunctionAdditive=this._lerpAdditive;setIdentity=this._setAdditiveIdentityNumeric;this.buffer=new Float64Array(valueSize*5);}this._mixBufferRegion=mixFunction;this._mixBufferRegionAdditive=mixFunctionAdditive;this._setIdentity=setIdentity;this._origIndex=3;this._addIndex=4;this.cumulativeWeight=0;this.cumulativeWeightAdditive=0;this.useCount=0;this.referenceCount=0;}// accumulate data in the 'incoming' region into 'accu<i>'
(0,_createClass2.default)(PropertyMixer,[{key:"accumulate",value:function accumulate(accuIndex,weight){// note: happily accumulating nothing when weight = 0, the caller knows
// the weight and shouldn't have made the call in the first place
var buffer=this.buffer,stride=this.valueSize,offset=accuIndex*stride+stride;var currentWeight=this.cumulativeWeight;if(currentWeight===0){// accuN := incoming * weight
for(var i=0;i!==stride;++i){buffer[offset+i]=buffer[i];}currentWeight=weight;}else{// accuN := accuN + incoming * weight
currentWeight+=weight;var mix=weight/currentWeight;this._mixBufferRegion(buffer,offset,0,mix,stride);}this.cumulativeWeight=currentWeight;}// accumulate data in the 'incoming' region into 'add'
},{key:"accumulateAdditive",value:function accumulateAdditive(weight){var buffer=this.buffer,stride=this.valueSize,offset=stride*this._addIndex;if(this.cumulativeWeightAdditive===0){// add = identity
this._setIdentity();}// add := add + incoming * weight
this._mixBufferRegionAdditive(buffer,offset,0,weight,stride);this.cumulativeWeightAdditive+=weight;}// apply the state of 'accu<i>' to the binding when accus differ
},{key:"apply",value:function apply(accuIndex){var stride=this.valueSize,buffer=this.buffer,offset=accuIndex*stride+stride,weight=this.cumulativeWeight,weightAdditive=this.cumulativeWeightAdditive,binding=this.binding;this.cumulativeWeight=0;this.cumulativeWeightAdditive=0;if(weight<1){// accuN := accuN + original * ( 1 - cumulativeWeight )
var originalValueOffset=stride*this._origIndex;this._mixBufferRegion(buffer,offset,originalValueOffset,1-weight,stride);}if(weightAdditive>0){// accuN := accuN + additive accuN
this._mixBufferRegionAdditive(buffer,offset,this._addIndex*stride,1,stride);}for(var i=stride,e=stride+stride;i!==e;++i){if(buffer[i]!==buffer[i+stride]){// value has changed -> update scene graph
binding.setValue(buffer,offset);break;}}}// remember the state of the bound property and copy it to both accus
},{key:"saveOriginalState",value:function saveOriginalState(){var binding=this.binding;var buffer=this.buffer,stride=this.valueSize,originalValueOffset=stride*this._origIndex;binding.getValue(buffer,originalValueOffset);// accu[0..1] := orig -- initially detect changes against the original
for(var i=stride,e=originalValueOffset;i!==e;++i){buffer[i]=buffer[originalValueOffset+i%stride];}// Add to identity for additive
this._setIdentity();this.cumulativeWeight=0;this.cumulativeWeightAdditive=0;}// apply the state previously taken via 'saveOriginalState' to the binding
},{key:"restoreOriginalState",value:function restoreOriginalState(){var originalValueOffset=this.valueSize*3;this.binding.setValue(this.buffer,originalValueOffset);}},{key:"_setAdditiveIdentityNumeric",value:function _setAdditiveIdentityNumeric(){var startIndex=this._addIndex*this.valueSize;var endIndex=startIndex+this.valueSize;for(var i=startIndex;i<endIndex;i++){this.buffer[i]=0;}}},{key:"_setAdditiveIdentityQuaternion",value:function _setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric();this.buffer[this._addIndex*this.valueSize+3]=1;}},{key:"_setAdditiveIdentityOther",value:function _setAdditiveIdentityOther(){var startIndex=this._origIndex*this.valueSize;var targetIndex=this._addIndex*this.valueSize;for(var i=0;i<this.valueSize;i++){this.buffer[targetIndex+i]=this.buffer[startIndex+i];}}// mix functions
},{key:"_select",value:function _select(buffer,dstOffset,srcOffset,t,stride){if(t>=0.5){for(var i=0;i!==stride;++i){buffer[dstOffset+i]=buffer[srcOffset+i];}}}},{key:"_slerp",value:function _slerp(buffer,dstOffset,srcOffset,t){Quaternion.slerpFlat(buffer,dstOffset,buffer,dstOffset,buffer,srcOffset,t);}},{key:"_slerpAdditive",value:function _slerpAdditive(buffer,dstOffset,srcOffset,t,stride){var workOffset=this._workIndex*stride;// Store result in intermediate buffer offset
Quaternion.multiplyQuaternionsFlat(buffer,workOffset,buffer,dstOffset,buffer,srcOffset);// Slerp to the intermediate result
Quaternion.slerpFlat(buffer,dstOffset,buffer,dstOffset,buffer,workOffset,t);}},{key:"_lerp",value:function _lerp(buffer,dstOffset,srcOffset,t,stride){var s=1-t;for(var i=0;i!==stride;++i){var j=dstOffset+i;buffer[j]=buffer[j]*s+buffer[srcOffset+i]*t;}}},{key:"_lerpAdditive",value:function _lerpAdditive(buffer,dstOffset,srcOffset,t,stride){for(var i=0;i!==stride;++i){var j=dstOffset+i;buffer[j]=buffer[j]+buffer[srcOffset+i]*t;}}}]);return PropertyMixer;}();// Characters [].:/ are reserved for track binding syntax.
exports.PropertyMixer=PropertyMixer;var _RESERVED_CHARS_RE='\\[\\]\\.:\\/';var _reservedRe=new RegExp('['+_RESERVED_CHARS_RE+']','g');// Attempts to allow node names from any language. ES5's `\w` regexp matches
// only latin characters, and the unicode \p{L} is not yet supported. So
// instead, we exclude reserved characters and match everything else.
var _wordChar='[^'+_RESERVED_CHARS_RE+']';var _wordCharOrDot='[^'+_RESERVED_CHARS_RE.replace('\\.','')+']';// Parent directories, delimited by '/' or ':'. Currently unused, but must
// be matched to parse the rest of the track name.
var _directoryRe=/((?:WC+[\/:])*)/.source.replace('WC',_wordChar);// Target node. May contain word characters (a-zA-Z0-9_) and '.' or '-'.
var _nodeRe=/(WCOD+)?/.source.replace('WCOD',_wordCharOrDot);// Object on target node, and accessor. May not contain reserved
// characters. Accessor may contain any character except closing bracket.
var _objectRe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace('WC',_wordChar);// Property and accessor. May not contain reserved characters. Accessor may
// contain any non-bracket characters.
var _propertyRe=/\.(WC+)(?:\[(.+)\])?/.source.replace('WC',_wordChar);var _trackRe=new RegExp(''+'^'+_directoryRe+_nodeRe+_objectRe+_propertyRe+'$');var _supportedObjectNames=['material','materials','bones'];var Composite=/*#__PURE__*/function(){function Composite(targetGroup,path,optionalParsedPath){(0,_classCallCheck2.default)(this,Composite);var parsedPath=optionalParsedPath||PropertyBinding.parseTrackName(path);this._targetGroup=targetGroup;this._bindings=targetGroup.subscribe_(path,parsedPath);}(0,_createClass2.default)(Composite,[{key:"getValue",value:function getValue(array,offset){this.bind();// bind all binding
var firstValidIndex=this._targetGroup.nCachedObjects_,binding=this._bindings[firstValidIndex];// and only call .getValue on the first
if(binding!==undefined)binding.getValue(array,offset);}},{key:"setValue",value:function setValue(array,offset){var bindings=this._bindings;for(var i=this._targetGroup.nCachedObjects_,n=bindings.length;i!==n;++i){bindings[i].setValue(array,offset);}}},{key:"bind",value:function bind(){var bindings=this._bindings;for(var i=this._targetGroup.nCachedObjects_,n=bindings.length;i!==n;++i){bindings[i].bind();}}},{key:"unbind",value:function unbind(){var bindings=this._bindings;for(var i=this._targetGroup.nCachedObjects_,n=bindings.length;i!==n;++i){bindings[i].unbind();}}}]);return Composite;}();// Note: This class uses a State pattern on a per-method basis:
// 'bind' sets 'this.getValue' / 'setValue' and shadows the
// prototype version of these methods with one that represents
// the bound state. When the property is not found, the methods
// become no-ops.
var PropertyBinding=/*#__PURE__*/function(){function PropertyBinding(rootNode,path,parsedPath){(0,_classCallCheck2.default)(this,PropertyBinding);this.path=path;this.parsedPath=parsedPath||PropertyBinding.parseTrackName(path);this.node=PropertyBinding.findNode(rootNode,this.parsedPath.nodeName)||rootNode;this.rootNode=rootNode;// initial state of these methods that calls 'bind'
this.getValue=this._getValue_unbound;this.setValue=this._setValue_unbound;}(0,_createClass2.default)(PropertyBinding,[{key:"_getValue_unavailable",value:// these are used to "bind" a nonexistent property
function _getValue_unavailable(){}},{key:"_setValue_unavailable",value:function _setValue_unavailable(){}// Getters
},{key:"_getValue_direct",value:function _getValue_direct(buffer,offset){buffer[offset]=this.targetObject[this.propertyName];}},{key:"_getValue_array",value:function _getValue_array(buffer,offset){var source=this.resolvedProperty;for(var i=0,n=source.length;i!==n;++i){buffer[offset++]=source[i];}}},{key:"_getValue_arrayElement",value:function _getValue_arrayElement(buffer,offset){buffer[offset]=this.resolvedProperty[this.propertyIndex];}},{key:"_getValue_toArray",value:function _getValue_toArray(buffer,offset){this.resolvedProperty.toArray(buffer,offset);}// Direct
},{key:"_setValue_direct",value:function _setValue_direct(buffer,offset){this.targetObject[this.propertyName]=buffer[offset];}},{key:"_setValue_direct_setNeedsUpdate",value:function _setValue_direct_setNeedsUpdate(buffer,offset){this.targetObject[this.propertyName]=buffer[offset];this.targetObject.needsUpdate=true;}},{key:"_setValue_direct_setMatrixWorldNeedsUpdate",value:function _setValue_direct_setMatrixWorldNeedsUpdate(buffer,offset){this.targetObject[this.propertyName]=buffer[offset];this.targetObject.matrixWorldNeedsUpdate=true;}// EntireArray
},{key:"_setValue_array",value:function _setValue_array(buffer,offset){var dest=this.resolvedProperty;for(var i=0,n=dest.length;i!==n;++i){dest[i]=buffer[offset++];}}},{key:"_setValue_array_setNeedsUpdate",value:function _setValue_array_setNeedsUpdate(buffer,offset){var dest=this.resolvedProperty;for(var i=0,n=dest.length;i!==n;++i){dest[i]=buffer[offset++];}this.targetObject.needsUpdate=true;}},{key:"_setValue_array_setMatrixWorldNeedsUpdate",value:function _setValue_array_setMatrixWorldNeedsUpdate(buffer,offset){var dest=this.resolvedProperty;for(var i=0,n=dest.length;i!==n;++i){dest[i]=buffer[offset++];}this.targetObject.matrixWorldNeedsUpdate=true;}// ArrayElement
},{key:"_setValue_arrayElement",value:function _setValue_arrayElement(buffer,offset){this.resolvedProperty[this.propertyIndex]=buffer[offset];}},{key:"_setValue_arrayElement_setNeedsUpdate",value:function _setValue_arrayElement_setNeedsUpdate(buffer,offset){this.resolvedProperty[this.propertyIndex]=buffer[offset];this.targetObject.needsUpdate=true;}},{key:"_setValue_arrayElement_setMatrixWorldNeedsUpdate",value:function _setValue_arrayElement_setMatrixWorldNeedsUpdate(buffer,offset){this.resolvedProperty[this.propertyIndex]=buffer[offset];this.targetObject.matrixWorldNeedsUpdate=true;}// HasToFromArray
},{key:"_setValue_fromArray",value:function _setValue_fromArray(buffer,offset){this.resolvedProperty.fromArray(buffer,offset);}},{key:"_setValue_fromArray_setNeedsUpdate",value:function _setValue_fromArray_setNeedsUpdate(buffer,offset){this.resolvedProperty.fromArray(buffer,offset);this.targetObject.needsUpdate=true;}},{key:"_setValue_fromArray_setMatrixWorldNeedsUpdate",value:function _setValue_fromArray_setMatrixWorldNeedsUpdate(buffer,offset){this.resolvedProperty.fromArray(buffer,offset);this.targetObject.matrixWorldNeedsUpdate=true;}},{key:"_getValue_unbound",value:function _getValue_unbound(targetArray,offset){this.bind();this.getValue(targetArray,offset);}},{key:"_setValue_unbound",value:function _setValue_unbound(sourceArray,offset){this.bind();this.setValue(sourceArray,offset);}// create getter / setter pair for a property in the scene graph
},{key:"bind",value:function bind(){var targetObject=this.node;var parsedPath=this.parsedPath;var objectName=parsedPath.objectName;var propertyName=parsedPath.propertyName;var propertyIndex=parsedPath.propertyIndex;if(!targetObject){targetObject=PropertyBinding.findNode(this.rootNode,parsedPath.nodeName)||this.rootNode;this.node=targetObject;}// set fail state so we can just 'return' on error
this.getValue=this._getValue_unavailable;this.setValue=this._setValue_unavailable;// ensure there is a value node
if(!targetObject){console.error('THREE.PropertyBinding: Trying to update node for track: '+this.path+' but it wasn\'t found.');return;}if(objectName){var objectIndex=parsedPath.objectIndex;// special cases were we need to reach deeper into the hierarchy to get the face materials....
switch(objectName){case'materials':if(!targetObject.material){console.error('THREE.PropertyBinding: Can not bind to material as node does not have a material.',this);return;}if(!targetObject.material.materials){console.error('THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.',this);return;}targetObject=targetObject.material.materials;break;case'bones':if(!targetObject.skeleton){console.error('THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.',this);return;}// potential future optimization: skip this if propertyIndex is already an integer
// and convert the integer string to a true integer.
targetObject=targetObject.skeleton.bones;// support resolving morphTarget names into indices.
for(var i=0;i<targetObject.length;i++){if(targetObject[i].name===objectIndex){objectIndex=i;break;}}break;default:if(targetObject[objectName]===undefined){console.error('THREE.PropertyBinding: Can not bind to objectName of node undefined.',this);return;}targetObject=targetObject[objectName];}if(objectIndex!==undefined){if(targetObject[objectIndex]===undefined){console.error('THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.',this,targetObject);return;}targetObject=targetObject[objectIndex];}}// resolve property
var nodeProperty=targetObject[propertyName];if(nodeProperty===undefined){var nodeName=parsedPath.nodeName;console.error('THREE.PropertyBinding: Trying to update property for track: '+nodeName+'.'+propertyName+' but it wasn\'t found.',targetObject);return;}// determine versioning scheme
var versioning=this.Versioning.None;this.targetObject=targetObject;if(targetObject.needsUpdate!==undefined){// material
versioning=this.Versioning.NeedsUpdate;}else if(targetObject.matrixWorldNeedsUpdate!==undefined){// node transform
versioning=this.Versioning.MatrixWorldNeedsUpdate;}// determine how the property gets bound
var bindingType=this.BindingType.Direct;if(propertyIndex!==undefined){// access a sub element of the property array (only primitives are supported right now)
if(propertyName==='morphTargetInfluences'){// potential optimization, skip this if propertyIndex is already an integer, and convert the integer string to a true integer.
// support resolving morphTarget names into indices.
if(!targetObject.geometry){console.error('THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.',this);return;}if(targetObject.geometry.isBufferGeometry){if(!targetObject.geometry.morphAttributes){console.error('THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.',this);return;}if(targetObject.morphTargetDictionary[propertyIndex]!==undefined){propertyIndex=targetObject.morphTargetDictionary[propertyIndex];}}else{console.error('THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.',this);return;}}bindingType=this.BindingType.ArrayElement;this.resolvedProperty=nodeProperty;this.propertyIndex=propertyIndex;}else if(nodeProperty.fromArray!==undefined&&nodeProperty.toArray!==undefined){// must use copy for Object3D.Euler/Quaternion
bindingType=this.BindingType.HasFromToArray;this.resolvedProperty=nodeProperty;}else if(Array.isArray(nodeProperty)){bindingType=this.BindingType.EntireArray;this.resolvedProperty=nodeProperty;}else{this.propertyName=propertyName;}// select getter / setter
this.getValue=this.GetterByBindingType[bindingType];this.setValue=this.SetterByBindingTypeAndVersioning[bindingType][versioning];}},{key:"unbind",value:function unbind(){this.node=null;// back to the prototype version of getValue / setValue
// note: avoiding to mutate the shape of 'this' via 'delete'
this.getValue=this._getValue_unbound;this.setValue=this._setValue_unbound;}}],[{key:"create",value:function create(root,path,parsedPath){if(!(root&&root.isAnimationObjectGroup)){return new PropertyBinding(root,path,parsedPath);}else{return new PropertyBinding.Composite(root,path,parsedPath);}}/**
	 * Replaces spaces with underscores and removes unsupported characters from
	 * node names, to ensure compatibility with parseTrackName().
	 *
	 * @param {string} name Node name to be sanitized.
	 * @return {string}
	 */},{key:"sanitizeNodeName",value:function sanitizeNodeName(name){return name.replace(/\s/g,'_').replace(_reservedRe,'');}},{key:"parseTrackName",value:function parseTrackName(trackName){var matches=_trackRe.exec(trackName);if(!matches){throw new Error('PropertyBinding: Cannot parse trackName: '+trackName);}var results={// directoryName: matches[ 1 ], // (tschw) currently unused
nodeName:matches[2],objectName:matches[3],objectIndex:matches[4],propertyName:matches[5],// required
propertyIndex:matches[6]};var lastDot=results.nodeName&&results.nodeName.lastIndexOf('.');if(lastDot!==undefined&&lastDot!==-1){var objectName=results.nodeName.substring(lastDot+1);// Object names must be checked against an allowlist. Otherwise, there
// is no way to parse 'foo.bar.baz': 'baz' must be a property, but
// 'bar' could be the objectName, or part of a nodeName (which can
// include '.' characters).
if(_supportedObjectNames.indexOf(objectName)!==-1){results.nodeName=results.nodeName.substring(0,lastDot);results.objectName=objectName;}}if(results.propertyName===null||results.propertyName.length===0){throw new Error('PropertyBinding: can not parse propertyName from trackName: '+trackName);}return results;}},{key:"findNode",value:function findNode(root,nodeName){if(!nodeName||nodeName===''||nodeName==='.'||nodeName===-1||nodeName===root.name||nodeName===root.uuid){return root;}// search into skeleton bones.
if(root.skeleton){var bone=root.skeleton.getBoneByName(nodeName);if(bone!==undefined){return bone;}}// search into node subtree.
if(root.children){var searchNodeSubtree=function searchNodeSubtree(children){for(var i=0;i<children.length;i++){var childNode=children[i];if(childNode.name===nodeName||childNode.uuid===nodeName){return childNode;}var result=searchNodeSubtree(childNode.children);if(result)return result;}return null;};var subTreeNode=searchNodeSubtree(root.children);if(subTreeNode){return subTreeNode;}}return null;}}]);return PropertyBinding;}();exports.PropertyBinding=PropertyBinding;PropertyBinding.Composite=Composite;PropertyBinding.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};PropertyBinding.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};PropertyBinding.prototype.GetterByBindingType=[PropertyBinding.prototype._getValue_direct,PropertyBinding.prototype._getValue_array,PropertyBinding.prototype._getValue_arrayElement,PropertyBinding.prototype._getValue_toArray];PropertyBinding.prototype.SetterByBindingTypeAndVersioning=[[// Direct
PropertyBinding.prototype._setValue_direct,PropertyBinding.prototype._setValue_direct_setNeedsUpdate,PropertyBinding.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[// EntireArray
PropertyBinding.prototype._setValue_array,PropertyBinding.prototype._setValue_array_setNeedsUpdate,PropertyBinding.prototype._setValue_array_setMatrixWorldNeedsUpdate],[// ArrayElement
PropertyBinding.prototype._setValue_arrayElement,PropertyBinding.prototype._setValue_arrayElement_setNeedsUpdate,PropertyBinding.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[// HasToFromArray
PropertyBinding.prototype._setValue_fromArray,PropertyBinding.prototype._setValue_fromArray_setNeedsUpdate,PropertyBinding.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];/**
 *
 * A group of objects that receives a shared animation state.
 *
 * Usage:
 *
 *  - Add objects you would otherwise pass as 'root' to the
 *    constructor or the .clipAction method of AnimationMixer.
 *
 *  - Instead pass this object as 'root'.
 *
 *  - You can also add and remove objects later when the mixer
 *    is running.
 *
 * Note:
 *
 *    Objects of this class appear as one object to the mixer,
 *    so cache control of the individual objects must be done
 *    on the group.
 *
 * Limitation:
 *
 *  - The animated properties must be compatible among the
 *    all objects in the group.
 *
 *  - A single property can either be controlled through a
 *    target group or directly, but not both.
 */var AnimationObjectGroup=/*#__PURE__*/function(){function AnimationObjectGroup(){(0,_classCallCheck2.default)(this,AnimationObjectGroup);this.uuid=generateUUID();// cached objects followed by the active ones
this._objects=Array.prototype.slice.call(arguments);this.nCachedObjects_=0;// threshold
// note: read by PropertyBinding.Composite
var indices={};this._indicesByUUID=indices;// for bookkeeping
for(var i=0,n=arguments.length;i!==n;++i){indices[arguments[i].uuid]=i;}this._paths=[];// inside: string
this._parsedPaths=[];// inside: { we don't care, here }
this._bindings=[];// inside: Array< PropertyBinding >
this._bindingsIndicesByPath={};// inside: indices in these arrays
var scope=this;this.stats={objects:{get total(){return scope._objects.length;},get inUse(){return this.total-scope.nCachedObjects_;}},get bindingsPerObject(){return scope._bindings.length;}};}(0,_createClass2.default)(AnimationObjectGroup,[{key:"add",value:function add(){var objects=this._objects,indicesByUUID=this._indicesByUUID,paths=this._paths,parsedPaths=this._parsedPaths,bindings=this._bindings,nBindings=bindings.length;var knownObject=undefined,nObjects=objects.length,nCachedObjects=this.nCachedObjects_;for(var i=0,n=arguments.length;i!==n;++i){var object=arguments[i],uuid=object.uuid;var index=indicesByUUID[uuid];if(index===undefined){// unknown object -> add it to the ACTIVE region
index=nObjects++;indicesByUUID[uuid]=index;objects.push(object);// accounting is done, now do the same for all bindings
for(var j=0,m=nBindings;j!==m;++j){bindings[j].push(new PropertyBinding(object,paths[j],parsedPaths[j]));}}else if(index<nCachedObjects){knownObject=objects[index];// move existing object to the ACTIVE region
var firstActiveIndex=--nCachedObjects,lastCachedObject=objects[firstActiveIndex];indicesByUUID[lastCachedObject.uuid]=index;objects[index]=lastCachedObject;indicesByUUID[uuid]=firstActiveIndex;objects[firstActiveIndex]=object;// accounting is done, now do the same for all bindings
for(var _j16=0,_m2=nBindings;_j16!==_m2;++_j16){var bindingsForPath=bindings[_j16],lastCached=bindingsForPath[firstActiveIndex];var binding=bindingsForPath[index];bindingsForPath[index]=lastCached;if(binding===undefined){// since we do not bother to create new bindings
// for objects that are cached, the binding may
// or may not exist
binding=new PropertyBinding(object,paths[_j16],parsedPaths[_j16]);}bindingsForPath[firstActiveIndex]=binding;}}else if(objects[index]!==knownObject){console.error('THREE.AnimationObjectGroup: Different objects with the same UUID '+'detected. Clean the caches or recreate your infrastructure when reloading scenes.');}// else the object is already where we want it to be
}// for arguments
this.nCachedObjects_=nCachedObjects;}},{key:"remove",value:function remove(){var objects=this._objects,indicesByUUID=this._indicesByUUID,bindings=this._bindings,nBindings=bindings.length;var nCachedObjects=this.nCachedObjects_;for(var i=0,n=arguments.length;i!==n;++i){var object=arguments[i],uuid=object.uuid,index=indicesByUUID[uuid];if(index!==undefined&&index>=nCachedObjects){// move existing object into the CACHED region
var lastCachedIndex=nCachedObjects++,firstActiveObject=objects[lastCachedIndex];indicesByUUID[firstActiveObject.uuid]=index;objects[index]=firstActiveObject;indicesByUUID[uuid]=lastCachedIndex;objects[lastCachedIndex]=object;// accounting is done, now do the same for all bindings
for(var j=0,m=nBindings;j!==m;++j){var bindingsForPath=bindings[j],firstActive=bindingsForPath[lastCachedIndex],binding=bindingsForPath[index];bindingsForPath[index]=firstActive;bindingsForPath[lastCachedIndex]=binding;}}}// for arguments
this.nCachedObjects_=nCachedObjects;}// remove & forget
},{key:"uncache",value:function uncache(){var objects=this._objects,indicesByUUID=this._indicesByUUID,bindings=this._bindings,nBindings=bindings.length;var nCachedObjects=this.nCachedObjects_,nObjects=objects.length;for(var i=0,n=arguments.length;i!==n;++i){var object=arguments[i],uuid=object.uuid,index=indicesByUUID[uuid];if(index!==undefined){delete indicesByUUID[uuid];if(index<nCachedObjects){// object is cached, shrink the CACHED region
var firstActiveIndex=--nCachedObjects,lastCachedObject=objects[firstActiveIndex],lastIndex=--nObjects,lastObject=objects[lastIndex];// last cached object takes this object's place
indicesByUUID[lastCachedObject.uuid]=index;objects[index]=lastCachedObject;// last object goes to the activated slot and pop
indicesByUUID[lastObject.uuid]=firstActiveIndex;objects[firstActiveIndex]=lastObject;objects.pop();// accounting is done, now do the same for all bindings
for(var j=0,m=nBindings;j!==m;++j){var bindingsForPath=bindings[j],lastCached=bindingsForPath[firstActiveIndex],last=bindingsForPath[lastIndex];bindingsForPath[index]=lastCached;bindingsForPath[firstActiveIndex]=last;bindingsForPath.pop();}}else{// object is active, just swap with the last and pop
var _lastIndex=--nObjects,_lastObject=objects[_lastIndex];if(_lastIndex>0){indicesByUUID[_lastObject.uuid]=index;}objects[index]=_lastObject;objects.pop();// accounting is done, now do the same for all bindings
for(var _j17=0,_m3=nBindings;_j17!==_m3;++_j17){var _bindingsForPath=bindings[_j17];_bindingsForPath[index]=_bindingsForPath[_lastIndex];_bindingsForPath.pop();}}// cached or active
}// if object is known
}// for arguments
this.nCachedObjects_=nCachedObjects;}// Internal interface used by befriended PropertyBinding.Composite:
},{key:"subscribe_",value:function subscribe_(path,parsedPath){// returns an array of bindings for the given path that is changed
// according to the contained objects in the group
var indicesByPath=this._bindingsIndicesByPath;var index=indicesByPath[path];var bindings=this._bindings;if(index!==undefined)return bindings[index];var paths=this._paths,parsedPaths=this._parsedPaths,objects=this._objects,nObjects=objects.length,nCachedObjects=this.nCachedObjects_,bindingsForPath=new Array(nObjects);index=bindings.length;indicesByPath[path]=index;paths.push(path);parsedPaths.push(parsedPath);bindings.push(bindingsForPath);for(var i=nCachedObjects,n=objects.length;i!==n;++i){var object=objects[i];bindingsForPath[i]=new PropertyBinding(object,path,parsedPath);}return bindingsForPath;}},{key:"unsubscribe_",value:function unsubscribe_(path){// tells the group to forget about a property path and no longer
// update the array previously obtained with 'subscribe_'
var indicesByPath=this._bindingsIndicesByPath,index=indicesByPath[path];if(index!==undefined){var paths=this._paths,parsedPaths=this._parsedPaths,bindings=this._bindings,lastBindingsIndex=bindings.length-1,lastBindings=bindings[lastBindingsIndex],lastBindingsPath=path[lastBindingsIndex];indicesByPath[lastBindingsPath]=index;bindings[index]=lastBindings;bindings.pop();parsedPaths[index]=parsedPaths[lastBindingsIndex];parsedPaths.pop();paths[index]=paths[lastBindingsIndex];paths.pop();}}}]);return AnimationObjectGroup;}();exports.AnimationObjectGroup=AnimationObjectGroup;AnimationObjectGroup.prototype.isAnimationObjectGroup=true;var AnimationAction=/*#__PURE__*/function(){function AnimationAction(mixer,clip){var localRoot=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var blendMode=arguments.length>3&&arguments[3]!==undefined?arguments[3]:clip.blendMode;(0,_classCallCheck2.default)(this,AnimationAction);this._mixer=mixer;this._clip=clip;this._localRoot=localRoot;this.blendMode=blendMode;var tracks=clip.tracks,nTracks=tracks.length,interpolants=new Array(nTracks);var interpolantSettings={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding};for(var i=0;i!==nTracks;++i){var interpolant=tracks[i].createInterpolant(null);interpolants[i]=interpolant;interpolant.settings=interpolantSettings;}this._interpolantSettings=interpolantSettings;this._interpolants=interpolants;// bound by the mixer
// inside: PropertyMixer (managed by the mixer)
this._propertyBindings=new Array(nTracks);this._cacheIndex=null;// for the memory manager
this._byClipCacheIndex=null;// for the memory manager
this._timeScaleInterpolant=null;this._weightInterpolant=null;this.loop=LoopRepeat;this._loopCount=-1;// global mixer time when the action is to be started
// it's set back to 'null' upon start of the action
this._startTime=null;// scaled local time of the action
// gets clamped or wrapped to 0..clip.duration according to loop
this.time=0;this.timeScale=1;this._effectiveTimeScale=1;this.weight=1;this._effectiveWeight=1;this.repetitions=Infinity;// no. of repetitions when looping
this.paused=false;// true -> zero effective time scale
this.enabled=true;// false -> zero effective weight
this.clampWhenFinished=false;// keep feeding the last frame?
this.zeroSlopeAtStart=true;// for smooth interpolation w/o separate
this.zeroSlopeAtEnd=true;// clips for start, loop and end
}// State & Scheduling
(0,_createClass2.default)(AnimationAction,[{key:"play",value:function play(){this._mixer._activateAction(this);return this;}},{key:"stop",value:function stop(){this._mixer._deactivateAction(this);return this.reset();}},{key:"reset",value:function reset(){this.paused=false;this.enabled=true;this.time=0;// restart clip
this._loopCount=-1;// forget previous loops
this._startTime=null;// forget scheduling
return this.stopFading().stopWarping();}},{key:"isRunning",value:function isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this);}// return true when play has been called
},{key:"isScheduled",value:function isScheduled(){return this._mixer._isActiveAction(this);}},{key:"startAt",value:function startAt(time){this._startTime=time;return this;}},{key:"setLoop",value:function setLoop(mode,repetitions){this.loop=mode;this.repetitions=repetitions;return this;}// Weight
// set the weight stopping any scheduled fading
// although .enabled = false yields an effective weight of zero, this
// method does *not* change .enabled, because it would be confusing
},{key:"setEffectiveWeight",value:function setEffectiveWeight(weight){this.weight=weight;// note: same logic as when updated at runtime
this._effectiveWeight=this.enabled?weight:0;return this.stopFading();}// return the weight considering fading and .enabled
},{key:"getEffectiveWeight",value:function getEffectiveWeight(){return this._effectiveWeight;}},{key:"fadeIn",value:function fadeIn(duration){return this._scheduleFading(duration,0,1);}},{key:"fadeOut",value:function fadeOut(duration){return this._scheduleFading(duration,1,0);}},{key:"crossFadeFrom",value:function crossFadeFrom(fadeOutAction,duration,warp){fadeOutAction.fadeOut(duration);this.fadeIn(duration);if(warp){var fadeInDuration=this._clip.duration,fadeOutDuration=fadeOutAction._clip.duration,startEndRatio=fadeOutDuration/fadeInDuration,endStartRatio=fadeInDuration/fadeOutDuration;fadeOutAction.warp(1.0,startEndRatio,duration);this.warp(endStartRatio,1.0,duration);}return this;}},{key:"crossFadeTo",value:function crossFadeTo(fadeInAction,duration,warp){return fadeInAction.crossFadeFrom(this,duration,warp);}},{key:"stopFading",value:function stopFading(){var weightInterpolant=this._weightInterpolant;if(weightInterpolant!==null){this._weightInterpolant=null;this._mixer._takeBackControlInterpolant(weightInterpolant);}return this;}// Time Scale Control
// set the time scale stopping any scheduled warping
// although .paused = true yields an effective time scale of zero, this
// method does *not* change .paused, because it would be confusing
},{key:"setEffectiveTimeScale",value:function setEffectiveTimeScale(timeScale){this.timeScale=timeScale;this._effectiveTimeScale=this.paused?0:timeScale;return this.stopWarping();}// return the time scale considering warping and .paused
},{key:"getEffectiveTimeScale",value:function getEffectiveTimeScale(){return this._effectiveTimeScale;}},{key:"setDuration",value:function setDuration(duration){this.timeScale=this._clip.duration/duration;return this.stopWarping();}},{key:"syncWith",value:function syncWith(action){this.time=action.time;this.timeScale=action.timeScale;return this.stopWarping();}},{key:"halt",value:function halt(duration){return this.warp(this._effectiveTimeScale,0,duration);}},{key:"warp",value:function warp(startTimeScale,endTimeScale,duration){var mixer=this._mixer,now=mixer.time,timeScale=this.timeScale;var interpolant=this._timeScaleInterpolant;if(interpolant===null){interpolant=mixer._lendControlInterpolant();this._timeScaleInterpolant=interpolant;}var times=interpolant.parameterPositions,values=interpolant.sampleValues;times[0]=now;times[1]=now+duration;values[0]=startTimeScale/timeScale;values[1]=endTimeScale/timeScale;return this;}},{key:"stopWarping",value:function stopWarping(){var timeScaleInterpolant=this._timeScaleInterpolant;if(timeScaleInterpolant!==null){this._timeScaleInterpolant=null;this._mixer._takeBackControlInterpolant(timeScaleInterpolant);}return this;}// Object Accessors
},{key:"getMixer",value:function getMixer(){return this._mixer;}},{key:"getClip",value:function getClip(){return this._clip;}},{key:"getRoot",value:function getRoot(){return this._localRoot||this._mixer._root;}// Interna
},{key:"_update",value:function _update(time,deltaTime,timeDirection,accuIndex){// called by the mixer
if(!this.enabled){// call ._updateWeight() to update ._effectiveWeight
this._updateWeight(time);return;}var startTime=this._startTime;if(startTime!==null){// check for scheduled start of action
var timeRunning=(time-startTime)*timeDirection;if(timeRunning<0||timeDirection===0){return;// yet to come / don't decide when delta = 0
}// start
this._startTime=null;// unschedule
deltaTime=timeDirection*timeRunning;}// apply time scale and advance time
deltaTime*=this._updateTimeScale(time);var clipTime=this._updateTime(deltaTime);// note: _updateTime may disable the action resulting in
// an effective weight of 0
var weight=this._updateWeight(time);if(weight>0){var interpolants=this._interpolants;var propertyMixers=this._propertyBindings;switch(this.blendMode){case AdditiveAnimationBlendMode:for(var j=0,m=interpolants.length;j!==m;++j){interpolants[j].evaluate(clipTime);propertyMixers[j].accumulateAdditive(weight);}break;case NormalAnimationBlendMode:default:for(var _j18=0,_m4=interpolants.length;_j18!==_m4;++_j18){interpolants[_j18].evaluate(clipTime);propertyMixers[_j18].accumulate(accuIndex,weight);}}}}},{key:"_updateWeight",value:function _updateWeight(time){var weight=0;if(this.enabled){weight=this.weight;var interpolant=this._weightInterpolant;if(interpolant!==null){var interpolantValue=interpolant.evaluate(time)[0];weight*=interpolantValue;if(time>interpolant.parameterPositions[1]){this.stopFading();if(interpolantValue===0){// faded out, disable
this.enabled=false;}}}}this._effectiveWeight=weight;return weight;}},{key:"_updateTimeScale",value:function _updateTimeScale(time){var timeScale=0;if(!this.paused){timeScale=this.timeScale;var interpolant=this._timeScaleInterpolant;if(interpolant!==null){var interpolantValue=interpolant.evaluate(time)[0];timeScale*=interpolantValue;if(time>interpolant.parameterPositions[1]){this.stopWarping();if(timeScale===0){// motion has halted, pause
this.paused=true;}else{// warp done - apply final time scale
this.timeScale=timeScale;}}}}this._effectiveTimeScale=timeScale;return timeScale;}},{key:"_updateTime",value:function _updateTime(deltaTime){var duration=this._clip.duration;var loop=this.loop;var time=this.time+deltaTime;var loopCount=this._loopCount;var pingPong=loop===LoopPingPong;if(deltaTime===0){if(loopCount===-1)return time;return pingPong&&(loopCount&1)===1?duration-time:time;}if(loop===LoopOnce){if(loopCount===-1){// just started
this._loopCount=0;this._setEndings(true,true,false);}handle_stop:{if(time>=duration){time=duration;}else if(time<0){time=0;}else{this.time=time;break handle_stop;}if(this.clampWhenFinished)this.paused=true;else this.enabled=false;this.time=time;this._mixer.dispatchEvent({type:'finished',action:this,direction:deltaTime<0?-1:1});}}else{// repetitive Repeat or PingPong
if(loopCount===-1){// just started
if(deltaTime>=0){loopCount=0;this._setEndings(true,this.repetitions===0,pingPong);}else{// when looping in reverse direction, the initial
// transition through zero counts as a repetition,
// so leave loopCount at -1
this._setEndings(this.repetitions===0,true,pingPong);}}if(time>=duration||time<0){// wrap around
var loopDelta=Math.floor(time/duration);// signed
time-=duration*loopDelta;loopCount+=Math.abs(loopDelta);var pending=this.repetitions-loopCount;if(pending<=0){// have to stop (switch state, clamp time, fire event)
if(this.clampWhenFinished)this.paused=true;else this.enabled=false;time=deltaTime>0?duration:0;this.time=time;this._mixer.dispatchEvent({type:'finished',action:this,direction:deltaTime>0?1:-1});}else{// keep running
if(pending===1){// entering the last round
var atStart=deltaTime<0;this._setEndings(atStart,!atStart,pingPong);}else{this._setEndings(false,false,pingPong);}this._loopCount=loopCount;this.time=time;this._mixer.dispatchEvent({type:'loop',action:this,loopDelta:loopDelta});}}else{this.time=time;}if(pingPong&&(loopCount&1)===1){// invert time for the "pong round"
return duration-time;}}return time;}},{key:"_setEndings",value:function _setEndings(atStart,atEnd,pingPong){var settings=this._interpolantSettings;if(pingPong){settings.endingStart=ZeroSlopeEnding;settings.endingEnd=ZeroSlopeEnding;}else{// assuming for LoopOnce atStart == atEnd == true
if(atStart){settings.endingStart=this.zeroSlopeAtStart?ZeroSlopeEnding:ZeroCurvatureEnding;}else{settings.endingStart=WrapAroundEnding;}if(atEnd){settings.endingEnd=this.zeroSlopeAtEnd?ZeroSlopeEnding:ZeroCurvatureEnding;}else{settings.endingEnd=WrapAroundEnding;}}}},{key:"_scheduleFading",value:function _scheduleFading(duration,weightNow,weightThen){var mixer=this._mixer,now=mixer.time;var interpolant=this._weightInterpolant;if(interpolant===null){interpolant=mixer._lendControlInterpolant();this._weightInterpolant=interpolant;}var times=interpolant.parameterPositions,values=interpolant.sampleValues;times[0]=now;values[0]=weightNow;times[1]=now+duration;values[1]=weightThen;return this;}}]);return AnimationAction;}();var AnimationMixer=/*#__PURE__*/function(_EventDispatcher7){(0,_inherits2.default)(AnimationMixer,_EventDispatcher7);var _super136=_createSuper(AnimationMixer);function AnimationMixer(root){var _this106;(0,_classCallCheck2.default)(this,AnimationMixer);_this106=_super136.call(this);_this106._root=root;_this106._initMemoryManager();_this106._accuIndex=0;_this106.time=0;_this106.timeScale=1.0;return _this106;}(0,_createClass2.default)(AnimationMixer,[{key:"_bindAction",value:function _bindAction(action,prototypeAction){var root=action._localRoot||this._root,tracks=action._clip.tracks,nTracks=tracks.length,bindings=action._propertyBindings,interpolants=action._interpolants,rootUuid=root.uuid,bindingsByRoot=this._bindingsByRootAndName;var bindingsByName=bindingsByRoot[rootUuid];if(bindingsByName===undefined){bindingsByName={};bindingsByRoot[rootUuid]=bindingsByName;}for(var i=0;i!==nTracks;++i){var track=tracks[i],trackName=track.name;var binding=bindingsByName[trackName];if(binding!==undefined){bindings[i]=binding;}else{binding=bindings[i];if(binding!==undefined){// existing binding, make sure the cache knows
if(binding._cacheIndex===null){++binding.referenceCount;this._addInactiveBinding(binding,rootUuid,trackName);}continue;}var path=prototypeAction&&prototypeAction._propertyBindings[i].binding.parsedPath;binding=new PropertyMixer(PropertyBinding.create(root,trackName,path),track.ValueTypeName,track.getValueSize());++binding.referenceCount;this._addInactiveBinding(binding,rootUuid,trackName);bindings[i]=binding;}interpolants[i].resultBuffer=binding.buffer;}}},{key:"_activateAction",value:function _activateAction(action){if(!this._isActiveAction(action)){if(action._cacheIndex===null){// this action has been forgotten by the cache, but the user
// appears to be still using it -> rebind
var rootUuid=(action._localRoot||this._root).uuid,clipUuid=action._clip.uuid,actionsForClip=this._actionsByClip[clipUuid];this._bindAction(action,actionsForClip&&actionsForClip.knownActions[0]);this._addInactiveAction(action,clipUuid,rootUuid);}var bindings=action._propertyBindings;// increment reference counts / sort out state
for(var i=0,n=bindings.length;i!==n;++i){var binding=bindings[i];if(binding.useCount++===0){this._lendBinding(binding);binding.saveOriginalState();}}this._lendAction(action);}}},{key:"_deactivateAction",value:function _deactivateAction(action){if(this._isActiveAction(action)){var bindings=action._propertyBindings;// decrement reference counts / sort out state
for(var i=0,n=bindings.length;i!==n;++i){var binding=bindings[i];if(--binding.useCount===0){binding.restoreOriginalState();this._takeBackBinding(binding);}}this._takeBackAction(action);}}// Memory manager
},{key:"_initMemoryManager",value:function _initMemoryManager(){this._actions=[];// 'nActiveActions' followed by inactive ones
this._nActiveActions=0;this._actionsByClip={};// inside:
// {
// 	knownActions: Array< AnimationAction > - used as prototypes
// 	actionByRoot: AnimationAction - lookup
// }
this._bindings=[];// 'nActiveBindings' followed by inactive ones
this._nActiveBindings=0;this._bindingsByRootAndName={};// inside: Map< name, PropertyMixer >
this._controlInterpolants=[];// same game as above
this._nActiveControlInterpolants=0;var scope=this;this.stats={actions:{get total(){return scope._actions.length;},get inUse(){return scope._nActiveActions;}},bindings:{get total(){return scope._bindings.length;},get inUse(){return scope._nActiveBindings;}},controlInterpolants:{get total(){return scope._controlInterpolants.length;},get inUse(){return scope._nActiveControlInterpolants;}}};}// Memory management for AnimationAction objects
},{key:"_isActiveAction",value:function _isActiveAction(action){var index=action._cacheIndex;return index!==null&&index<this._nActiveActions;}},{key:"_addInactiveAction",value:function _addInactiveAction(action,clipUuid,rootUuid){var actions=this._actions,actionsByClip=this._actionsByClip;var actionsForClip=actionsByClip[clipUuid];if(actionsForClip===undefined){actionsForClip={knownActions:[action],actionByRoot:{}};action._byClipCacheIndex=0;actionsByClip[clipUuid]=actionsForClip;}else{var knownActions=actionsForClip.knownActions;action._byClipCacheIndex=knownActions.length;knownActions.push(action);}action._cacheIndex=actions.length;actions.push(action);actionsForClip.actionByRoot[rootUuid]=action;}},{key:"_removeInactiveAction",value:function _removeInactiveAction(action){var actions=this._actions,lastInactiveAction=actions[actions.length-1],cacheIndex=action._cacheIndex;lastInactiveAction._cacheIndex=cacheIndex;actions[cacheIndex]=lastInactiveAction;actions.pop();action._cacheIndex=null;var clipUuid=action._clip.uuid,actionsByClip=this._actionsByClip,actionsForClip=actionsByClip[clipUuid],knownActionsForClip=actionsForClip.knownActions,lastKnownAction=knownActionsForClip[knownActionsForClip.length-1],byClipCacheIndex=action._byClipCacheIndex;lastKnownAction._byClipCacheIndex=byClipCacheIndex;knownActionsForClip[byClipCacheIndex]=lastKnownAction;knownActionsForClip.pop();action._byClipCacheIndex=null;var actionByRoot=actionsForClip.actionByRoot,rootUuid=(action._localRoot||this._root).uuid;delete actionByRoot[rootUuid];if(knownActionsForClip.length===0){delete actionsByClip[clipUuid];}this._removeInactiveBindingsForAction(action);}},{key:"_removeInactiveBindingsForAction",value:function _removeInactiveBindingsForAction(action){var bindings=action._propertyBindings;for(var i=0,n=bindings.length;i!==n;++i){var binding=bindings[i];if(--binding.referenceCount===0){this._removeInactiveBinding(binding);}}}},{key:"_lendAction",value:function _lendAction(action){// [ active actions |  inactive actions  ]
// [  active actions >| inactive actions ]
//                 s        a
//                  <-swap->
//                 a        s
var actions=this._actions,prevIndex=action._cacheIndex,lastActiveIndex=this._nActiveActions++,firstInactiveAction=actions[lastActiveIndex];action._cacheIndex=lastActiveIndex;actions[lastActiveIndex]=action;firstInactiveAction._cacheIndex=prevIndex;actions[prevIndex]=firstInactiveAction;}},{key:"_takeBackAction",value:function _takeBackAction(action){// [  active actions  | inactive actions ]
// [ active actions |< inactive actions  ]
//        a        s
//         <-swap->
//        s        a
var actions=this._actions,prevIndex=action._cacheIndex,firstInactiveIndex=--this._nActiveActions,lastActiveAction=actions[firstInactiveIndex];action._cacheIndex=firstInactiveIndex;actions[firstInactiveIndex]=action;lastActiveAction._cacheIndex=prevIndex;actions[prevIndex]=lastActiveAction;}// Memory management for PropertyMixer objects
},{key:"_addInactiveBinding",value:function _addInactiveBinding(binding,rootUuid,trackName){var bindingsByRoot=this._bindingsByRootAndName,bindings=this._bindings;var bindingByName=bindingsByRoot[rootUuid];if(bindingByName===undefined){bindingByName={};bindingsByRoot[rootUuid]=bindingByName;}bindingByName[trackName]=binding;binding._cacheIndex=bindings.length;bindings.push(binding);}},{key:"_removeInactiveBinding",value:function _removeInactiveBinding(binding){var bindings=this._bindings,propBinding=binding.binding,rootUuid=propBinding.rootNode.uuid,trackName=propBinding.path,bindingsByRoot=this._bindingsByRootAndName,bindingByName=bindingsByRoot[rootUuid],lastInactiveBinding=bindings[bindings.length-1],cacheIndex=binding._cacheIndex;lastInactiveBinding._cacheIndex=cacheIndex;bindings[cacheIndex]=lastInactiveBinding;bindings.pop();delete bindingByName[trackName];if(Object.keys(bindingByName).length===0){delete bindingsByRoot[rootUuid];}}},{key:"_lendBinding",value:function _lendBinding(binding){var bindings=this._bindings,prevIndex=binding._cacheIndex,lastActiveIndex=this._nActiveBindings++,firstInactiveBinding=bindings[lastActiveIndex];binding._cacheIndex=lastActiveIndex;bindings[lastActiveIndex]=binding;firstInactiveBinding._cacheIndex=prevIndex;bindings[prevIndex]=firstInactiveBinding;}},{key:"_takeBackBinding",value:function _takeBackBinding(binding){var bindings=this._bindings,prevIndex=binding._cacheIndex,firstInactiveIndex=--this._nActiveBindings,lastActiveBinding=bindings[firstInactiveIndex];binding._cacheIndex=firstInactiveIndex;bindings[firstInactiveIndex]=binding;lastActiveBinding._cacheIndex=prevIndex;bindings[prevIndex]=lastActiveBinding;}// Memory management of Interpolants for weight and time scale
},{key:"_lendControlInterpolant",value:function _lendControlInterpolant(){var interpolants=this._controlInterpolants,lastActiveIndex=this._nActiveControlInterpolants++;var interpolant=interpolants[lastActiveIndex];if(interpolant===undefined){interpolant=new LinearInterpolant(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer);interpolant.__cacheIndex=lastActiveIndex;interpolants[lastActiveIndex]=interpolant;}return interpolant;}},{key:"_takeBackControlInterpolant",value:function _takeBackControlInterpolant(interpolant){var interpolants=this._controlInterpolants,prevIndex=interpolant.__cacheIndex,firstInactiveIndex=--this._nActiveControlInterpolants,lastActiveInterpolant=interpolants[firstInactiveIndex];interpolant.__cacheIndex=firstInactiveIndex;interpolants[firstInactiveIndex]=interpolant;lastActiveInterpolant.__cacheIndex=prevIndex;interpolants[prevIndex]=lastActiveInterpolant;}// return an action for a clip optionally using a custom root target
// object (this method allocates a lot of dynamic memory in case a
// previously unknown clip/root combination is specified)
},{key:"clipAction",value:function clipAction(clip,optionalRoot,blendMode){var root=optionalRoot||this._root,rootUuid=root.uuid;var clipObject=typeof clip==='string'?AnimationClip.findByName(root,clip):clip;var clipUuid=clipObject!==null?clipObject.uuid:clip;var actionsForClip=this._actionsByClip[clipUuid];var prototypeAction=null;if(blendMode===undefined){if(clipObject!==null){blendMode=clipObject.blendMode;}else{blendMode=NormalAnimationBlendMode;}}if(actionsForClip!==undefined){var existingAction=actionsForClip.actionByRoot[rootUuid];if(existingAction!==undefined&&existingAction.blendMode===blendMode){return existingAction;}// we know the clip, so we don't have to parse all
// the bindings again but can just copy
prototypeAction=actionsForClip.knownActions[0];// also, take the clip from the prototype action
if(clipObject===null)clipObject=prototypeAction._clip;}// clip must be known when specified via string
if(clipObject===null)return null;// allocate all resources required to run it
var newAction=new AnimationAction(this,clipObject,optionalRoot,blendMode);this._bindAction(newAction,prototypeAction);// and make the action known to the memory manager
this._addInactiveAction(newAction,clipUuid,rootUuid);return newAction;}// get an existing action
},{key:"existingAction",value:function existingAction(clip,optionalRoot){var root=optionalRoot||this._root,rootUuid=root.uuid,clipObject=typeof clip==='string'?AnimationClip.findByName(root,clip):clip,clipUuid=clipObject?clipObject.uuid:clip,actionsForClip=this._actionsByClip[clipUuid];if(actionsForClip!==undefined){return actionsForClip.actionByRoot[rootUuid]||null;}return null;}// deactivates all previously scheduled actions
},{key:"stopAllAction",value:function stopAllAction(){var actions=this._actions,nActions=this._nActiveActions;for(var i=nActions-1;i>=0;--i){actions[i].stop();}return this;}// advance the time and update apply the animation
},{key:"update",value:function update(deltaTime){deltaTime*=this.timeScale;var actions=this._actions,nActions=this._nActiveActions,time=this.time+=deltaTime,timeDirection=Math.sign(deltaTime),accuIndex=this._accuIndex^=1;// run active actions
for(var i=0;i!==nActions;++i){var action=actions[i];action._update(time,deltaTime,timeDirection,accuIndex);}// update scene graph
var bindings=this._bindings,nBindings=this._nActiveBindings;for(var _i145=0;_i145!==nBindings;++_i145){bindings[_i145].apply(accuIndex);}return this;}// Allows you to seek to a specific time in an animation.
},{key:"setTime",value:function setTime(timeInSeconds){this.time=0;// Zero out time attribute for AnimationMixer object;
for(var i=0;i<this._actions.length;i++){this._actions[i].time=0;// Zero out time attribute for all associated AnimationAction objects.
}return this.update(timeInSeconds);// Update used to set exact time. Returns "this" AnimationMixer object.
}// return this mixer's root target object
},{key:"getRoot",value:function getRoot(){return this._root;}// free all resources specific to a particular clip
},{key:"uncacheClip",value:function uncacheClip(clip){var actions=this._actions,clipUuid=clip.uuid,actionsByClip=this._actionsByClip,actionsForClip=actionsByClip[clipUuid];if(actionsForClip!==undefined){// note: just calling _removeInactiveAction would mess up the
// iteration state and also require updating the state we can
// just throw away
var actionsToRemove=actionsForClip.knownActions;for(var i=0,n=actionsToRemove.length;i!==n;++i){var action=actionsToRemove[i];this._deactivateAction(action);var cacheIndex=action._cacheIndex,lastInactiveAction=actions[actions.length-1];action._cacheIndex=null;action._byClipCacheIndex=null;lastInactiveAction._cacheIndex=cacheIndex;actions[cacheIndex]=lastInactiveAction;actions.pop();this._removeInactiveBindingsForAction(action);}delete actionsByClip[clipUuid];}}// free all resources specific to a particular root target object
},{key:"uncacheRoot",value:function uncacheRoot(root){var rootUuid=root.uuid,actionsByClip=this._actionsByClip;for(var clipUuid in actionsByClip){var actionByRoot=actionsByClip[clipUuid].actionByRoot,action=actionByRoot[rootUuid];if(action!==undefined){this._deactivateAction(action);this._removeInactiveAction(action);}}var bindingsByRoot=this._bindingsByRootAndName,bindingByName=bindingsByRoot[rootUuid];if(bindingByName!==undefined){for(var trackName in bindingByName){var binding=bindingByName[trackName];binding.restoreOriginalState();this._removeInactiveBinding(binding);}}}// remove a targeted clip from the cache
},{key:"uncacheAction",value:function uncacheAction(clip,optionalRoot){var action=this.existingAction(clip,optionalRoot);if(action!==null){this._deactivateAction(action);this._removeInactiveAction(action);}}}]);return AnimationMixer;}(EventDispatcher);exports.AnimationMixer=AnimationMixer;AnimationMixer.prototype._controlInterpolantsResultBuffer=new Float32Array(1);var Uniform=/*#__PURE__*/function(){function Uniform(value){(0,_classCallCheck2.default)(this,Uniform);if(typeof value==='string'){console.warn('THREE.Uniform: Type parameter is no longer needed.');value=arguments[1];}this.value=value;}(0,_createClass2.default)(Uniform,[{key:"clone",value:function clone(){return new Uniform(this.value.clone===undefined?this.value:this.value.clone());}}]);return Uniform;}();exports.Uniform=Uniform;var InstancedInterleavedBuffer=/*#__PURE__*/function(_InterleavedBuffer){(0,_inherits2.default)(InstancedInterleavedBuffer,_InterleavedBuffer);var _super137=_createSuper(InstancedInterleavedBuffer);function InstancedInterleavedBuffer(array,stride){var _this107;var meshPerAttribute=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;(0,_classCallCheck2.default)(this,InstancedInterleavedBuffer);_this107=_super137.call(this,array,stride);_this107.meshPerAttribute=meshPerAttribute;return _this107;}(0,_createClass2.default)(InstancedInterleavedBuffer,[{key:"copy",value:function copy(source){(0,_get2.default)((0,_getPrototypeOf2.default)(InstancedInterleavedBuffer.prototype),"copy",this).call(this,source);this.meshPerAttribute=source.meshPerAttribute;return this;}},{key:"clone",value:function clone(data){var ib=(0,_get2.default)((0,_getPrototypeOf2.default)(InstancedInterleavedBuffer.prototype),"clone",this).call(this,data);ib.meshPerAttribute=this.meshPerAttribute;return ib;}},{key:"toJSON",value:function toJSON(data){var json=(0,_get2.default)((0,_getPrototypeOf2.default)(InstancedInterleavedBuffer.prototype),"toJSON",this).call(this,data);json.isInstancedInterleavedBuffer=true;json.meshPerAttribute=this.meshPerAttribute;return json;}}]);return InstancedInterleavedBuffer;}(InterleavedBuffer);exports.InstancedInterleavedBuffer=InstancedInterleavedBuffer;InstancedInterleavedBuffer.prototype.isInstancedInterleavedBuffer=true;var GLBufferAttribute=/*#__PURE__*/function(){function GLBufferAttribute(buffer,type,itemSize,elementSize,count){(0,_classCallCheck2.default)(this,GLBufferAttribute);this.buffer=buffer;this.type=type;this.itemSize=itemSize;this.elementSize=elementSize;this.count=count;this.version=0;}(0,_createClass2.default)(GLBufferAttribute,[{key:"needsUpdate",set:function set(value){if(value===true)this.version++;}},{key:"setBuffer",value:function setBuffer(buffer){this.buffer=buffer;return this;}},{key:"setType",value:function setType(type,elementSize){this.type=type;this.elementSize=elementSize;return this;}},{key:"setItemSize",value:function setItemSize(itemSize){this.itemSize=itemSize;return this;}},{key:"setCount",value:function setCount(count){this.count=count;return this;}}]);return GLBufferAttribute;}();exports.GLBufferAttribute=GLBufferAttribute;GLBufferAttribute.prototype.isGLBufferAttribute=true;var Raycaster=/*#__PURE__*/function(){function Raycaster(origin,direction){var near=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var far=arguments.length>3&&arguments[3]!==undefined?arguments[3]:Infinity;(0,_classCallCheck2.default)(this,Raycaster);this.ray=new Ray(origin,direction);// direction is assumed to be normalized (for accurate distance calculations)
this.near=near;this.far=far;this.camera=null;this.layers=new Layers();this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}};}(0,_createClass2.default)(Raycaster,[{key:"set",value:function set(origin,direction){// direction is assumed to be normalized (for accurate distance calculations)
this.ray.set(origin,direction);}},{key:"setFromCamera",value:function setFromCamera(coords,camera){if(camera&&camera.isPerspectiveCamera){this.ray.origin.setFromMatrixPosition(camera.matrixWorld);this.ray.direction.set(coords.x,coords.y,0.5).unproject(camera).sub(this.ray.origin).normalize();this.camera=camera;}else if(camera&&camera.isOrthographicCamera){this.ray.origin.set(coords.x,coords.y,(camera.near+camera.far)/(camera.near-camera.far)).unproject(camera);// set origin in plane of camera
this.ray.direction.set(0,0,-1).transformDirection(camera.matrixWorld);this.camera=camera;}else{console.error('THREE.Raycaster: Unsupported camera type: '+camera.type);}}},{key:"intersectObject",value:function intersectObject(object){var recursive=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var intersects=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];_intersectObject(object,this,intersects,recursive);intersects.sort(ascSort);return intersects;}},{key:"intersectObjects",value:function intersectObjects(objects){var recursive=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var intersects=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];for(var i=0,l=objects.length;i<l;i++){_intersectObject(objects[i],this,intersects,recursive);}intersects.sort(ascSort);return intersects;}}]);return Raycaster;}();exports.Raycaster=Raycaster;function ascSort(a,b){return a.distance-b.distance;}function _intersectObject(object,raycaster,intersects,recursive){if(object.layers.test(raycaster.layers)){object.raycast(raycaster,intersects);}if(recursive===true){var children=object.children;for(var i=0,l=children.length;i<l;i++){_intersectObject(children[i],raycaster,intersects,true);}}}/**
 * Ref: https://en.wikipedia.org/wiki/Spherical_coordinate_system
 *
 * The polar angle (phi) is measured from the positive y-axis. The positive y-axis is up.
 * The azimuthal angle (theta) is measured from the positive z-axis.
 */var Spherical=/*#__PURE__*/function(){function Spherical(){var radius=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var phi=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var theta=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;(0,_classCallCheck2.default)(this,Spherical);this.radius=radius;this.phi=phi;// polar angle
this.theta=theta;// azimuthal angle
return this;}(0,_createClass2.default)(Spherical,[{key:"set",value:function set(radius,phi,theta){this.radius=radius;this.phi=phi;this.theta=theta;return this;}},{key:"copy",value:function copy(other){this.radius=other.radius;this.phi=other.phi;this.theta=other.theta;return this;}// restrict phi to be betwee EPS and PI-EPS
},{key:"makeSafe",value:function makeSafe(){var EPS=0.000001;this.phi=Math.max(EPS,Math.min(Math.PI-EPS,this.phi));return this;}},{key:"setFromVector3",value:function setFromVector3(v){return this.setFromCartesianCoords(v.x,v.y,v.z);}},{key:"setFromCartesianCoords",value:function setFromCartesianCoords(x,y,z){this.radius=Math.sqrt(x*x+y*y+z*z);if(this.radius===0){this.theta=0;this.phi=0;}else{this.theta=Math.atan2(x,z);this.phi=Math.acos(clamp(y/this.radius,-1,1));}return this;}},{key:"clone",value:function clone(){return new this.constructor().copy(this);}}]);return Spherical;}();/**
 * Ref: https://en.wikipedia.org/wiki/Cylindrical_coordinate_system
 */exports.Spherical=Spherical;var Cylindrical=/*#__PURE__*/function(){function Cylindrical(){var radius=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var theta=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var y=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;(0,_classCallCheck2.default)(this,Cylindrical);this.radius=radius;// distance from the origin to a point in the x-z plane
this.theta=theta;// counterclockwise angle in the x-z plane measured in radians from the positive z-axis
this.y=y;// height above the x-z plane
return this;}(0,_createClass2.default)(Cylindrical,[{key:"set",value:function set(radius,theta,y){this.radius=radius;this.theta=theta;this.y=y;return this;}},{key:"copy",value:function copy(other){this.radius=other.radius;this.theta=other.theta;this.y=other.y;return this;}},{key:"setFromVector3",value:function setFromVector3(v){return this.setFromCartesianCoords(v.x,v.y,v.z);}},{key:"setFromCartesianCoords",value:function setFromCartesianCoords(x,y,z){this.radius=Math.sqrt(x*x+z*z);this.theta=Math.atan2(x,z);this.y=y;return this;}},{key:"clone",value:function clone(){return new this.constructor().copy(this);}}]);return Cylindrical;}();exports.Cylindrical=Cylindrical;var _vector$4=/*@__PURE__*/new Vector2();var Box2=/*#__PURE__*/function(){function Box2(){var min=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new Vector2(+Infinity,+Infinity);var max=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new Vector2(-Infinity,-Infinity);(0,_classCallCheck2.default)(this,Box2);this.min=min;this.max=max;}(0,_createClass2.default)(Box2,[{key:"set",value:function set(min,max){this.min.copy(min);this.max.copy(max);return this;}},{key:"setFromPoints",value:function setFromPoints(points){this.makeEmpty();for(var i=0,il=points.length;i<il;i++){this.expandByPoint(points[i]);}return this;}},{key:"setFromCenterAndSize",value:function setFromCenterAndSize(center,size){var halfSize=_vector$4.copy(size).multiplyScalar(0.5);this.min.copy(center).sub(halfSize);this.max.copy(center).add(halfSize);return this;}},{key:"clone",value:function clone(){return new this.constructor().copy(this);}},{key:"copy",value:function copy(box){this.min.copy(box.min);this.max.copy(box.max);return this;}},{key:"makeEmpty",value:function makeEmpty(){this.min.x=this.min.y=+Infinity;this.max.x=this.max.y=-Infinity;return this;}},{key:"isEmpty",value:function isEmpty(){// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes
return this.max.x<this.min.x||this.max.y<this.min.y;}},{key:"getCenter",value:function getCenter(target){return this.isEmpty()?target.set(0,0):target.addVectors(this.min,this.max).multiplyScalar(0.5);}},{key:"getSize",value:function getSize(target){return this.isEmpty()?target.set(0,0):target.subVectors(this.max,this.min);}},{key:"expandByPoint",value:function expandByPoint(point){this.min.min(point);this.max.max(point);return this;}},{key:"expandByVector",value:function expandByVector(vector){this.min.sub(vector);this.max.add(vector);return this;}},{key:"expandByScalar",value:function expandByScalar(scalar){this.min.addScalar(-scalar);this.max.addScalar(scalar);return this;}},{key:"containsPoint",value:function containsPoint(point){return point.x<this.min.x||point.x>this.max.x||point.y<this.min.y||point.y>this.max.y?false:true;}},{key:"containsBox",value:function containsBox(box){return this.min.x<=box.min.x&&box.max.x<=this.max.x&&this.min.y<=box.min.y&&box.max.y<=this.max.y;}},{key:"getParameter",value:function getParameter(point,target){// This can potentially have a divide by zero if the box
// has a size dimension of 0.
return target.set((point.x-this.min.x)/(this.max.x-this.min.x),(point.y-this.min.y)/(this.max.y-this.min.y));}},{key:"intersectsBox",value:function intersectsBox(box){// using 4 splitting planes to rule out intersections
return box.max.x<this.min.x||box.min.x>this.max.x||box.max.y<this.min.y||box.min.y>this.max.y?false:true;}},{key:"clampPoint",value:function clampPoint(point,target){return target.copy(point).clamp(this.min,this.max);}},{key:"distanceToPoint",value:function distanceToPoint(point){var clampedPoint=_vector$4.copy(point).clamp(this.min,this.max);return clampedPoint.sub(point).length();}},{key:"intersect",value:function intersect(box){this.min.max(box.min);this.max.min(box.max);return this;}},{key:"union",value:function union(box){this.min.min(box.min);this.max.max(box.max);return this;}},{key:"translate",value:function translate(offset){this.min.add(offset);this.max.add(offset);return this;}},{key:"equals",value:function equals(box){return box.min.equals(this.min)&&box.max.equals(this.max);}}]);return Box2;}();exports.Box2=Box2;Box2.prototype.isBox2=true;var _startP=/*@__PURE__*/new Vector3();var _startEnd=/*@__PURE__*/new Vector3();var Line3=/*#__PURE__*/function(){function Line3(){var start=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new Vector3();var end=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new Vector3();(0,_classCallCheck2.default)(this,Line3);this.start=start;this.end=end;}(0,_createClass2.default)(Line3,[{key:"set",value:function set(start,end){this.start.copy(start);this.end.copy(end);return this;}},{key:"copy",value:function copy(line){this.start.copy(line.start);this.end.copy(line.end);return this;}},{key:"getCenter",value:function getCenter(target){return target.addVectors(this.start,this.end).multiplyScalar(0.5);}},{key:"delta",value:function delta(target){return target.subVectors(this.end,this.start);}},{key:"distanceSq",value:function distanceSq(){return this.start.distanceToSquared(this.end);}},{key:"distance",value:function distance(){return this.start.distanceTo(this.end);}},{key:"at",value:function at(t,target){return this.delta(target).multiplyScalar(t).add(this.start);}},{key:"closestPointToPointParameter",value:function closestPointToPointParameter(point,clampToLine){_startP.subVectors(point,this.start);_startEnd.subVectors(this.end,this.start);var startEnd2=_startEnd.dot(_startEnd);var startEnd_startP=_startEnd.dot(_startP);var t=startEnd_startP/startEnd2;if(clampToLine){t=clamp(t,0,1);}return t;}},{key:"closestPointToPoint",value:function closestPointToPoint(point,clampToLine,target){var t=this.closestPointToPointParameter(point,clampToLine);return this.delta(target).multiplyScalar(t).add(this.start);}},{key:"applyMatrix4",value:function applyMatrix4(matrix){this.start.applyMatrix4(matrix);this.end.applyMatrix4(matrix);return this;}},{key:"equals",value:function equals(line){return line.start.equals(this.start)&&line.end.equals(this.end);}},{key:"clone",value:function clone(){return new this.constructor().copy(this);}}]);return Line3;}();exports.Line3=Line3;var ImmediateRenderObject=/*#__PURE__*/function(_Object3D14){(0,_inherits2.default)(ImmediateRenderObject,_Object3D14);var _super138=_createSuper(ImmediateRenderObject);function ImmediateRenderObject(material){var _this108;(0,_classCallCheck2.default)(this,ImmediateRenderObject);_this108=_super138.call(this);_this108.material=material;_this108.render=function/* renderCallback */(){};_this108.hasPositions=false;_this108.hasNormals=false;_this108.hasColors=false;_this108.hasUvs=false;_this108.positionArray=null;_this108.normalArray=null;_this108.colorArray=null;_this108.uvArray=null;_this108.count=0;return _this108;}return(0,_createClass2.default)(ImmediateRenderObject);}(Object3D);exports.ImmediateRenderObject=ImmediateRenderObject;ImmediateRenderObject.prototype.isImmediateRenderObject=true;var _vector$3=/*@__PURE__*/new Vector3();var SpotLightHelper=/*#__PURE__*/function(_Object3D15){(0,_inherits2.default)(SpotLightHelper,_Object3D15);var _super139=_createSuper(SpotLightHelper);function SpotLightHelper(light,color){var _this109;(0,_classCallCheck2.default)(this,SpotLightHelper);_this109=_super139.call(this);_this109.light=light;_this109.light.updateMatrixWorld();_this109.matrix=light.matrixWorld;_this109.matrixAutoUpdate=false;_this109.color=color;var geometry=new BufferGeometry();var positions=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(var i=0,j=1,l=32;i<l;i++,j++){var p1=i/l*Math.PI*2;var p2=j/l*Math.PI*2;positions.push(Math.cos(p1),Math.sin(p1),1,Math.cos(p2),Math.sin(p2),1);}geometry.setAttribute('position',new Float32BufferAttribute(positions,3));var material=new LineBasicMaterial({fog:false,toneMapped:false});_this109.cone=new LineSegments(geometry,material);_this109.add(_this109.cone);_this109.update();return _this109;}(0,_createClass2.default)(SpotLightHelper,[{key:"dispose",value:function dispose(){this.cone.geometry.dispose();this.cone.material.dispose();}},{key:"update",value:function update(){this.light.updateMatrixWorld();var coneLength=this.light.distance?this.light.distance:1000;var coneWidth=coneLength*Math.tan(this.light.angle);this.cone.scale.set(coneWidth,coneWidth,coneLength);_vector$3.setFromMatrixPosition(this.light.target.matrixWorld);this.cone.lookAt(_vector$3);if(this.color!==undefined){this.cone.material.color.set(this.color);}else{this.cone.material.color.copy(this.light.color);}}}]);return SpotLightHelper;}(Object3D);exports.SpotLightHelper=SpotLightHelper;var _vector$2=/*@__PURE__*/new Vector3();var _boneMatrix=/*@__PURE__*/new Matrix4();var _matrixWorldInv=/*@__PURE__*/new Matrix4();var SkeletonHelper=/*#__PURE__*/function(_LineSegments){(0,_inherits2.default)(SkeletonHelper,_LineSegments);var _super140=_createSuper(SkeletonHelper);function SkeletonHelper(object){var _this110;(0,_classCallCheck2.default)(this,SkeletonHelper);var bones=getBoneList(object);var geometry=new BufferGeometry();var vertices=[];var colors=[];var color1=new Color(0,0,1);var color2=new Color(0,1,0);for(var i=0;i<bones.length;i++){var bone=bones[i];if(bone.parent&&bone.parent.isBone){vertices.push(0,0,0);vertices.push(0,0,0);colors.push(color1.r,color1.g,color1.b);colors.push(color2.r,color2.g,color2.b);}}geometry.setAttribute('position',new Float32BufferAttribute(vertices,3));geometry.setAttribute('color',new Float32BufferAttribute(colors,3));var material=new LineBasicMaterial({vertexColors:true,depthTest:false,depthWrite:false,toneMapped:false,transparent:true});_this110=_super140.call(this,geometry,material);_this110.type='SkeletonHelper';_this110.isSkeletonHelper=true;_this110.root=object;_this110.bones=bones;_this110.matrix=object.matrixWorld;_this110.matrixAutoUpdate=false;return _this110;}(0,_createClass2.default)(SkeletonHelper,[{key:"updateMatrixWorld",value:function updateMatrixWorld(force){var bones=this.bones;var geometry=this.geometry;var position=geometry.getAttribute('position');_matrixWorldInv.copy(this.root.matrixWorld).invert();for(var i=0,j=0;i<bones.length;i++){var bone=bones[i];if(bone.parent&&bone.parent.isBone){_boneMatrix.multiplyMatrices(_matrixWorldInv,bone.matrixWorld);_vector$2.setFromMatrixPosition(_boneMatrix);position.setXYZ(j,_vector$2.x,_vector$2.y,_vector$2.z);_boneMatrix.multiplyMatrices(_matrixWorldInv,bone.parent.matrixWorld);_vector$2.setFromMatrixPosition(_boneMatrix);position.setXYZ(j+1,_vector$2.x,_vector$2.y,_vector$2.z);j+=2;}}geometry.getAttribute('position').needsUpdate=true;(0,_get2.default)((0,_getPrototypeOf2.default)(SkeletonHelper.prototype),"updateMatrixWorld",this).call(this,force);}}]);return SkeletonHelper;}(LineSegments);exports.SkeletonHelper=SkeletonHelper;function getBoneList(object){var boneList=[];if(object&&object.isBone){boneList.push(object);}for(var i=0;i<object.children.length;i++){boneList.push.apply(boneList,getBoneList(object.children[i]));}return boneList;}var PointLightHelper=/*#__PURE__*/function(_Mesh3){(0,_inherits2.default)(PointLightHelper,_Mesh3);var _super141=_createSuper(PointLightHelper);function PointLightHelper(light,sphereSize,color){var _this111;(0,_classCallCheck2.default)(this,PointLightHelper);var geometry=new SphereGeometry(sphereSize,4,2);var material=new MeshBasicMaterial({wireframe:true,fog:false,toneMapped:false});_this111=_super141.call(this,geometry,material);_this111.light=light;_this111.light.updateMatrixWorld();_this111.color=color;_this111.type='PointLightHelper';_this111.matrix=_this111.light.matrixWorld;_this111.matrixAutoUpdate=false;_this111.update();/*
	// TODO: delete this comment?
	const distanceGeometry = new THREE.IcosahedronBufferGeometry( 1, 2 );
	const distanceMaterial = new THREE.MeshBasicMaterial( { color: hexColor, fog: false, wireframe: true, opacity: 0.1, transparent: true } );

	this.lightSphere = new THREE.Mesh( bulbGeometry, bulbMaterial );
	this.lightDistance = new THREE.Mesh( distanceGeometry, distanceMaterial );

	const d = light.distance;

	if ( d === 0.0 ) {

		this.lightDistance.visible = false;

	} else {

		this.lightDistance.scale.set( d, d, d );

	}

	this.add( this.lightDistance );
	*/return _this111;}(0,_createClass2.default)(PointLightHelper,[{key:"dispose",value:function dispose(){this.geometry.dispose();this.material.dispose();}},{key:"update",value:function update(){if(this.color!==undefined){this.material.color.set(this.color);}else{this.material.color.copy(this.light.color);}/*
		const d = this.light.distance;

		if ( d === 0.0 ) {

			this.lightDistance.visible = false;

		} else {

			this.lightDistance.visible = true;
			this.lightDistance.scale.set( d, d, d );

		}
		*/}}]);return PointLightHelper;}(Mesh);exports.PointLightHelper=PointLightHelper;var _vector$1=/*@__PURE__*/new Vector3();var _color1=/*@__PURE__*/new Color();var _color2=/*@__PURE__*/new Color();var HemisphereLightHelper=/*#__PURE__*/function(_Object3D16){(0,_inherits2.default)(HemisphereLightHelper,_Object3D16);var _super142=_createSuper(HemisphereLightHelper);function HemisphereLightHelper(light,size,color){var _this112;(0,_classCallCheck2.default)(this,HemisphereLightHelper);_this112=_super142.call(this);_this112.light=light;_this112.light.updateMatrixWorld();_this112.matrix=light.matrixWorld;_this112.matrixAutoUpdate=false;_this112.color=color;var geometry=new OctahedronGeometry(size);geometry.rotateY(Math.PI*0.5);_this112.material=new MeshBasicMaterial({wireframe:true,fog:false,toneMapped:false});if(_this112.color===undefined)_this112.material.vertexColors=true;var position=geometry.getAttribute('position');var colors=new Float32Array(position.count*3);geometry.setAttribute('color',new BufferAttribute(colors,3));_this112.add(new Mesh(geometry,_this112.material));_this112.update();return _this112;}(0,_createClass2.default)(HemisphereLightHelper,[{key:"dispose",value:function dispose(){this.children[0].geometry.dispose();this.children[0].material.dispose();}},{key:"update",value:function update(){var mesh=this.children[0];if(this.color!==undefined){this.material.color.set(this.color);}else{var colors=mesh.geometry.getAttribute('color');_color1.copy(this.light.color);_color2.copy(this.light.groundColor);for(var i=0,l=colors.count;i<l;i++){var color=i<l/2?_color1:_color2;colors.setXYZ(i,color.r,color.g,color.b);}colors.needsUpdate=true;}mesh.lookAt(_vector$1.setFromMatrixPosition(this.light.matrixWorld).negate());}}]);return HemisphereLightHelper;}(Object3D);exports.HemisphereLightHelper=HemisphereLightHelper;var GridHelper=/*#__PURE__*/function(_LineSegments2){(0,_inherits2.default)(GridHelper,_LineSegments2);var _super143=_createSuper(GridHelper);function GridHelper(){var _this113;var size=arguments.length>0&&arguments[0]!==undefined?arguments[0]:10;var divisions=arguments.length>1&&arguments[1]!==undefined?arguments[1]:10;var color1=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0x444444;var color2=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0x888888;(0,_classCallCheck2.default)(this,GridHelper);color1=new Color(color1);color2=new Color(color2);var center=divisions/2;var step=size/divisions;var halfSize=size/2;var vertices=[],colors=[];for(var i=0,j=0,k=-halfSize;i<=divisions;i++,k+=step){vertices.push(-halfSize,0,k,halfSize,0,k);vertices.push(k,0,-halfSize,k,0,halfSize);var color=i===center?color1:color2;color.toArray(colors,j);j+=3;color.toArray(colors,j);j+=3;color.toArray(colors,j);j+=3;color.toArray(colors,j);j+=3;}var geometry=new BufferGeometry();geometry.setAttribute('position',new Float32BufferAttribute(vertices,3));geometry.setAttribute('color',new Float32BufferAttribute(colors,3));var material=new LineBasicMaterial({vertexColors:true,toneMapped:false});_this113=_super143.call(this,geometry,material);_this113.type='GridHelper';return _this113;}return(0,_createClass2.default)(GridHelper);}(LineSegments);exports.GridHelper=GridHelper;var PolarGridHelper=/*#__PURE__*/function(_LineSegments3){(0,_inherits2.default)(PolarGridHelper,_LineSegments3);var _super144=_createSuper(PolarGridHelper);function PolarGridHelper(){var _this114;var radius=arguments.length>0&&arguments[0]!==undefined?arguments[0]:10;var radials=arguments.length>1&&arguments[1]!==undefined?arguments[1]:16;var circles=arguments.length>2&&arguments[2]!==undefined?arguments[2]:8;var divisions=arguments.length>3&&arguments[3]!==undefined?arguments[3]:64;var color1=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0x444444;var color2=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0x888888;(0,_classCallCheck2.default)(this,PolarGridHelper);color1=new Color(color1);color2=new Color(color2);var vertices=[];var colors=[];// create the radials
for(var i=0;i<=radials;i++){var v=i/radials*(Math.PI*2);var x=Math.sin(v)*radius;var z=Math.cos(v)*radius;vertices.push(0,0,0);vertices.push(x,0,z);var color=i&1?color1:color2;colors.push(color.r,color.g,color.b);colors.push(color.r,color.g,color.b);}// create the circles
for(var _i146=0;_i146<=circles;_i146++){var _color=_i146&1?color1:color2;var r=radius-radius/circles*_i146;for(var j=0;j<divisions;j++){// first vertex
var _v=j/divisions*(Math.PI*2);var _x12=Math.sin(_v)*r;var _z3=Math.cos(_v)*r;vertices.push(_x12,0,_z3);colors.push(_color.r,_color.g,_color.b);// second vertex
_v=(j+1)/divisions*(Math.PI*2);_x12=Math.sin(_v)*r;_z3=Math.cos(_v)*r;vertices.push(_x12,0,_z3);colors.push(_color.r,_color.g,_color.b);}}var geometry=new BufferGeometry();geometry.setAttribute('position',new Float32BufferAttribute(vertices,3));geometry.setAttribute('color',new Float32BufferAttribute(colors,3));var material=new LineBasicMaterial({vertexColors:true,toneMapped:false});_this114=_super144.call(this,geometry,material);_this114.type='PolarGridHelper';return _this114;}return(0,_createClass2.default)(PolarGridHelper);}(LineSegments);exports.PolarGridHelper=PolarGridHelper;var _v1=/*@__PURE__*/new Vector3();var _v2=/*@__PURE__*/new Vector3();var _v3=/*@__PURE__*/new Vector3();var DirectionalLightHelper=/*#__PURE__*/function(_Object3D17){(0,_inherits2.default)(DirectionalLightHelper,_Object3D17);var _super145=_createSuper(DirectionalLightHelper);function DirectionalLightHelper(light,size,color){var _this115;(0,_classCallCheck2.default)(this,DirectionalLightHelper);_this115=_super145.call(this);_this115.light=light;_this115.light.updateMatrixWorld();_this115.matrix=light.matrixWorld;_this115.matrixAutoUpdate=false;_this115.color=color;if(size===undefined)size=1;var geometry=new BufferGeometry();geometry.setAttribute('position',new Float32BufferAttribute([-size,size,0,size,size,0,size,-size,0,-size,-size,0,-size,size,0],3));var material=new LineBasicMaterial({fog:false,toneMapped:false});_this115.lightPlane=new Line(geometry,material);_this115.add(_this115.lightPlane);geometry=new BufferGeometry();geometry.setAttribute('position',new Float32BufferAttribute([0,0,0,0,0,1],3));_this115.targetLine=new Line(geometry,material);_this115.add(_this115.targetLine);_this115.update();return _this115;}(0,_createClass2.default)(DirectionalLightHelper,[{key:"dispose",value:function dispose(){this.lightPlane.geometry.dispose();this.lightPlane.material.dispose();this.targetLine.geometry.dispose();this.targetLine.material.dispose();}},{key:"update",value:function update(){_v1.setFromMatrixPosition(this.light.matrixWorld);_v2.setFromMatrixPosition(this.light.target.matrixWorld);_v3.subVectors(_v2,_v1);this.lightPlane.lookAt(_v2);if(this.color!==undefined){this.lightPlane.material.color.set(this.color);this.targetLine.material.color.set(this.color);}else{this.lightPlane.material.color.copy(this.light.color);this.targetLine.material.color.copy(this.light.color);}this.targetLine.lookAt(_v2);this.targetLine.scale.z=_v3.length();}}]);return DirectionalLightHelper;}(Object3D);exports.DirectionalLightHelper=DirectionalLightHelper;var _vector=/*@__PURE__*/new Vector3();var _camera=/*@__PURE__*/new Camera();/**
 *	- shows frustum, line of sight and up of the camera
 *	- suitable for fast updates
 * 	- based on frustum visualization in lightgl.js shadowmap example
 *		http://evanw.github.com/lightgl.js/tests/shadowmap.html
 */var CameraHelper=/*#__PURE__*/function(_LineSegments4){(0,_inherits2.default)(CameraHelper,_LineSegments4);var _super146=_createSuper(CameraHelper);function CameraHelper(camera){var _this116;(0,_classCallCheck2.default)(this,CameraHelper);var geometry=new BufferGeometry();var material=new LineBasicMaterial({color:0xffffff,vertexColors:true,toneMapped:false});var vertices=[];var colors=[];var pointMap={};// colors
var colorFrustum=new Color(0xffaa00);var colorCone=new Color(0xff0000);var colorUp=new Color(0x00aaff);var colorTarget=new Color(0xffffff);var colorCross=new Color(0x333333);// near
addLine('n1','n2',colorFrustum);addLine('n2','n4',colorFrustum);addLine('n4','n3',colorFrustum);addLine('n3','n1',colorFrustum);// far
addLine('f1','f2',colorFrustum);addLine('f2','f4',colorFrustum);addLine('f4','f3',colorFrustum);addLine('f3','f1',colorFrustum);// sides
addLine('n1','f1',colorFrustum);addLine('n2','f2',colorFrustum);addLine('n3','f3',colorFrustum);addLine('n4','f4',colorFrustum);// cone
addLine('p','n1',colorCone);addLine('p','n2',colorCone);addLine('p','n3',colorCone);addLine('p','n4',colorCone);// up
addLine('u1','u2',colorUp);addLine('u2','u3',colorUp);addLine('u3','u1',colorUp);// target
addLine('c','t',colorTarget);addLine('p','c',colorCross);// cross
addLine('cn1','cn2',colorCross);addLine('cn3','cn4',colorCross);addLine('cf1','cf2',colorCross);addLine('cf3','cf4',colorCross);function addLine(a,b,color){addPoint(a,color);addPoint(b,color);}function addPoint(id,color){vertices.push(0,0,0);colors.push(color.r,color.g,color.b);if(pointMap[id]===undefined){pointMap[id]=[];}pointMap[id].push(vertices.length/3-1);}geometry.setAttribute('position',new Float32BufferAttribute(vertices,3));geometry.setAttribute('color',new Float32BufferAttribute(colors,3));_this116=_super146.call(this,geometry,material);_this116.type='CameraHelper';_this116.camera=camera;if(_this116.camera.updateProjectionMatrix)_this116.camera.updateProjectionMatrix();_this116.matrix=camera.matrixWorld;_this116.matrixAutoUpdate=false;_this116.pointMap=pointMap;_this116.update();return _this116;}(0,_createClass2.default)(CameraHelper,[{key:"update",value:function update(){var geometry=this.geometry;var pointMap=this.pointMap;var w=1,h=1;// we need just camera projection matrix inverse
// world matrix must be identity
_camera.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);// center / target
setPoint('c',pointMap,geometry,_camera,0,0,-1);setPoint('t',pointMap,geometry,_camera,0,0,1);// near
setPoint('n1',pointMap,geometry,_camera,-w,-h,-1);setPoint('n2',pointMap,geometry,_camera,w,-h,-1);setPoint('n3',pointMap,geometry,_camera,-w,h,-1);setPoint('n4',pointMap,geometry,_camera,w,h,-1);// far
setPoint('f1',pointMap,geometry,_camera,-w,-h,1);setPoint('f2',pointMap,geometry,_camera,w,-h,1);setPoint('f3',pointMap,geometry,_camera,-w,h,1);setPoint('f4',pointMap,geometry,_camera,w,h,1);// up
setPoint('u1',pointMap,geometry,_camera,w*0.7,h*1.1,-1);setPoint('u2',pointMap,geometry,_camera,-w*0.7,h*1.1,-1);setPoint('u3',pointMap,geometry,_camera,0,h*2,-1);// cross
setPoint('cf1',pointMap,geometry,_camera,-w,0,1);setPoint('cf2',pointMap,geometry,_camera,w,0,1);setPoint('cf3',pointMap,geometry,_camera,0,-h,1);setPoint('cf4',pointMap,geometry,_camera,0,h,1);setPoint('cn1',pointMap,geometry,_camera,-w,0,-1);setPoint('cn2',pointMap,geometry,_camera,w,0,-1);setPoint('cn3',pointMap,geometry,_camera,0,-h,-1);setPoint('cn4',pointMap,geometry,_camera,0,h,-1);geometry.getAttribute('position').needsUpdate=true;}},{key:"dispose",value:function dispose(){this.geometry.dispose();this.material.dispose();}}]);return CameraHelper;}(LineSegments);exports.CameraHelper=CameraHelper;function setPoint(point,pointMap,geometry,camera,x,y,z){_vector.set(x,y,z).unproject(camera);var points=pointMap[point];if(points!==undefined){var position=geometry.getAttribute('position');for(var i=0,l=points.length;i<l;i++){position.setXYZ(points[i],_vector.x,_vector.y,_vector.z);}}}var _box=/*@__PURE__*/new Box3();var BoxHelper=/*#__PURE__*/function(_LineSegments5){(0,_inherits2.default)(BoxHelper,_LineSegments5);var _super147=_createSuper(BoxHelper);function BoxHelper(object){var _this117;var color=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0xffff00;(0,_classCallCheck2.default)(this,BoxHelper);var indices=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]);var positions=new Float32Array(8*3);var geometry=new BufferGeometry();geometry.setIndex(new BufferAttribute(indices,1));geometry.setAttribute('position',new BufferAttribute(positions,3));_this117=_super147.call(this,geometry,new LineBasicMaterial({color:color,toneMapped:false}));_this117.object=object;_this117.type='BoxHelper';_this117.matrixAutoUpdate=false;_this117.update();return _this117;}(0,_createClass2.default)(BoxHelper,[{key:"update",value:function update(object){if(object!==undefined){console.warn('THREE.BoxHelper: .update() has no longer arguments.');}if(this.object!==undefined){_box.setFromObject(this.object);}if(_box.isEmpty())return;var min=_box.min;var max=_box.max;/*
			5____4
		1/___0/|
		| 6__|_7
		2/___3/

		0: max.x, max.y, max.z
		1: min.x, max.y, max.z
		2: min.x, min.y, max.z
		3: max.x, min.y, max.z
		4: max.x, max.y, min.z
		5: min.x, max.y, min.z
		6: min.x, min.y, min.z
		7: max.x, min.y, min.z
		*/var position=this.geometry.attributes.position;var array=position.array;array[0]=max.x;array[1]=max.y;array[2]=max.z;array[3]=min.x;array[4]=max.y;array[5]=max.z;array[6]=min.x;array[7]=min.y;array[8]=max.z;array[9]=max.x;array[10]=min.y;array[11]=max.z;array[12]=max.x;array[13]=max.y;array[14]=min.z;array[15]=min.x;array[16]=max.y;array[17]=min.z;array[18]=min.x;array[19]=min.y;array[20]=min.z;array[21]=max.x;array[22]=min.y;array[23]=min.z;position.needsUpdate=true;this.geometry.computeBoundingSphere();}},{key:"setFromObject",value:function setFromObject(object){this.object=object;this.update();return this;}},{key:"copy",value:function copy(source){LineSegments.prototype.copy.call(this,source);this.object=source.object;return this;}}]);return BoxHelper;}(LineSegments);exports.BoxHelper=BoxHelper;var Box3Helper=/*#__PURE__*/function(_LineSegments6){(0,_inherits2.default)(Box3Helper,_LineSegments6);var _super148=_createSuper(Box3Helper);function Box3Helper(box){var _this118;var color=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0xffff00;(0,_classCallCheck2.default)(this,Box3Helper);var indices=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]);var positions=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1];var geometry=new BufferGeometry();geometry.setIndex(new BufferAttribute(indices,1));geometry.setAttribute('position',new Float32BufferAttribute(positions,3));_this118=_super148.call(this,geometry,new LineBasicMaterial({color:color,toneMapped:false}));_this118.box=box;_this118.type='Box3Helper';_this118.geometry.computeBoundingSphere();return _this118;}(0,_createClass2.default)(Box3Helper,[{key:"updateMatrixWorld",value:function updateMatrixWorld(force){var box=this.box;if(box.isEmpty())return;box.getCenter(this.position);box.getSize(this.scale);this.scale.multiplyScalar(0.5);(0,_get2.default)((0,_getPrototypeOf2.default)(Box3Helper.prototype),"updateMatrixWorld",this).call(this,force);}}]);return Box3Helper;}(LineSegments);exports.Box3Helper=Box3Helper;var PlaneHelper=/*#__PURE__*/function(_Line3){(0,_inherits2.default)(PlaneHelper,_Line3);var _super149=_createSuper(PlaneHelper);function PlaneHelper(plane){var _this119;var size=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var hex=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0xffff00;(0,_classCallCheck2.default)(this,PlaneHelper);var color=hex;var positions=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0];var geometry=new BufferGeometry();geometry.setAttribute('position',new Float32BufferAttribute(positions,3));geometry.computeBoundingSphere();_this119=_super149.call(this,geometry,new LineBasicMaterial({color:color,toneMapped:false}));_this119.type='PlaneHelper';_this119.plane=plane;_this119.size=size;var positions2=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1];var geometry2=new BufferGeometry();geometry2.setAttribute('position',new Float32BufferAttribute(positions2,3));geometry2.computeBoundingSphere();_this119.add(new Mesh(geometry2,new MeshBasicMaterial({color:color,opacity:0.2,transparent:true,depthWrite:false,toneMapped:false})));return _this119;}(0,_createClass2.default)(PlaneHelper,[{key:"updateMatrixWorld",value:function updateMatrixWorld(force){var scale=-this.plane.constant;if(Math.abs(scale)<1e-8)scale=1e-8;// sign does not matter
this.scale.set(0.5*this.size,0.5*this.size,scale);this.children[0].material.side=scale<0?BackSide:FrontSide;// renderer flips side when determinant < 0; flipping not wanted here
this.lookAt(this.plane.normal);(0,_get2.default)((0,_getPrototypeOf2.default)(PlaneHelper.prototype),"updateMatrixWorld",this).call(this,force);}}]);return PlaneHelper;}(Line);exports.PlaneHelper=PlaneHelper;var _axis=/*@__PURE__*/new Vector3();var _lineGeometry,_coneGeometry;var ArrowHelper=/*#__PURE__*/function(_Object3D18){(0,_inherits2.default)(ArrowHelper,_Object3D18);var _super150=_createSuper(ArrowHelper);// dir is assumed to be normalized
function ArrowHelper(){var _this120;var dir=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new Vector3(0,0,1);var origin=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new Vector3(0,0,0);var length=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var color=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0xffff00;var headLength=arguments.length>4&&arguments[4]!==undefined?arguments[4]:length*0.2;var headWidth=arguments.length>5&&arguments[5]!==undefined?arguments[5]:headLength*0.2;(0,_classCallCheck2.default)(this,ArrowHelper);_this120=_super150.call(this);_this120.type='ArrowHelper';if(_lineGeometry===undefined){_lineGeometry=new BufferGeometry();_lineGeometry.setAttribute('position',new Float32BufferAttribute([0,0,0,0,1,0],3));_coneGeometry=new CylinderGeometry(0,0.5,1,5,1);_coneGeometry.translate(0,-0.5,0);}_this120.position.copy(origin);_this120.line=new Line(_lineGeometry,new LineBasicMaterial({color:color,toneMapped:false}));_this120.line.matrixAutoUpdate=false;_this120.add(_this120.line);_this120.cone=new Mesh(_coneGeometry,new MeshBasicMaterial({color:color,toneMapped:false}));_this120.cone.matrixAutoUpdate=false;_this120.add(_this120.cone);_this120.setDirection(dir);_this120.setLength(length,headLength,headWidth);return _this120;}(0,_createClass2.default)(ArrowHelper,[{key:"setDirection",value:function setDirection(dir){// dir is assumed to be normalized
if(dir.y>0.99999){this.quaternion.set(0,0,0,1);}else if(dir.y<-0.99999){this.quaternion.set(1,0,0,0);}else{_axis.set(dir.z,0,-dir.x).normalize();var radians=Math.acos(dir.y);this.quaternion.setFromAxisAngle(_axis,radians);}}},{key:"setLength",value:function setLength(length){var headLength=arguments.length>1&&arguments[1]!==undefined?arguments[1]:length*0.2;var headWidth=arguments.length>2&&arguments[2]!==undefined?arguments[2]:headLength*0.2;this.line.scale.set(1,Math.max(0.0001,length-headLength),1);// see #17458
this.line.updateMatrix();this.cone.scale.set(headWidth,headLength,headWidth);this.cone.position.y=length;this.cone.updateMatrix();}},{key:"setColor",value:function setColor(color){this.line.material.color.set(color);this.cone.material.color.set(color);}},{key:"copy",value:function copy(source){(0,_get2.default)((0,_getPrototypeOf2.default)(ArrowHelper.prototype),"copy",this).call(this,source,false);this.line.copy(source.line);this.cone.copy(source.cone);return this;}}]);return ArrowHelper;}(Object3D);exports.ArrowHelper=ArrowHelper;var AxesHelper=/*#__PURE__*/function(_LineSegments7){(0,_inherits2.default)(AxesHelper,_LineSegments7);var _super151=_createSuper(AxesHelper);function AxesHelper(){var _this121;var size=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;(0,_classCallCheck2.default)(this,AxesHelper);var vertices=[0,0,0,size,0,0,0,0,0,0,size,0,0,0,0,0,0,size];var colors=[1,0,0,1,0.6,0,0,1,0,0.6,1,0,0,0,1,0,0.6,1];var geometry=new BufferGeometry();geometry.setAttribute('position',new Float32BufferAttribute(vertices,3));geometry.setAttribute('color',new Float32BufferAttribute(colors,3));var material=new LineBasicMaterial({vertexColors:true,toneMapped:false});_this121=_super151.call(this,geometry,material);_this121.type='AxesHelper';return _this121;}(0,_createClass2.default)(AxesHelper,[{key:"setColors",value:function setColors(xAxisColor,yAxisColor,zAxisColor){var color=new Color();var array=this.geometry.attributes.color.array;color.set(xAxisColor);color.toArray(array,0);color.toArray(array,3);color.set(yAxisColor);color.toArray(array,6);color.toArray(array,9);color.set(zAxisColor);color.toArray(array,12);color.toArray(array,15);this.geometry.attributes.color.needsUpdate=true;return this;}},{key:"dispose",value:function dispose(){this.geometry.dispose();this.material.dispose();}}]);return AxesHelper;}(LineSegments);exports.AxesHelper=AxesHelper;var ShapePath=/*#__PURE__*/function(){function ShapePath(){(0,_classCallCheck2.default)(this,ShapePath);this.type='ShapePath';this.color=new Color();this.subPaths=[];this.currentPath=null;}(0,_createClass2.default)(ShapePath,[{key:"moveTo",value:function moveTo(x,y){this.currentPath=new Path();this.subPaths.push(this.currentPath);this.currentPath.moveTo(x,y);return this;}},{key:"lineTo",value:function lineTo(x,y){this.currentPath.lineTo(x,y);return this;}},{key:"quadraticCurveTo",value:function quadraticCurveTo(aCPx,aCPy,aX,aY){this.currentPath.quadraticCurveTo(aCPx,aCPy,aX,aY);return this;}},{key:"bezierCurveTo",value:function bezierCurveTo(aCP1x,aCP1y,aCP2x,aCP2y,aX,aY){this.currentPath.bezierCurveTo(aCP1x,aCP1y,aCP2x,aCP2y,aX,aY);return this;}},{key:"splineThru",value:function splineThru(pts){this.currentPath.splineThru(pts);return this;}},{key:"toShapes",value:function toShapes(isCCW,noHoles){function toShapesNoHoles(inSubpaths){var shapes=[];for(var i=0,l=inSubpaths.length;i<l;i++){var _tmpPath=inSubpaths[i];var _tmpShape=new Shape();_tmpShape.curves=_tmpPath.curves;shapes.push(_tmpShape);}return shapes;}function isPointInsidePolygon(inPt,inPolygon){var polyLen=inPolygon.length;// inPt on polygon contour => immediate success    or
// toggling of inside/outside at every single! intersection point of an edge
//  with the horizontal line through inPt, left of inPt
//  not counting lowerY endpoints of edges and whole edges on that line
var inside=false;for(var p=polyLen-1,q=0;q<polyLen;p=q++){var edgeLowPt=inPolygon[p];var edgeHighPt=inPolygon[q];var edgeDx=edgeHighPt.x-edgeLowPt.x;var edgeDy=edgeHighPt.y-edgeLowPt.y;if(Math.abs(edgeDy)>Number.EPSILON){// not parallel
if(edgeDy<0){edgeLowPt=inPolygon[q];edgeDx=-edgeDx;edgeHighPt=inPolygon[p];edgeDy=-edgeDy;}if(inPt.y<edgeLowPt.y||inPt.y>edgeHighPt.y)continue;if(inPt.y===edgeLowPt.y){if(inPt.x===edgeLowPt.x)return true;// inPt is on contour ?
// continue;				// no intersection or edgeLowPt => doesn't count !!!
}else{var perpEdge=edgeDy*(inPt.x-edgeLowPt.x)-edgeDx*(inPt.y-edgeLowPt.y);if(perpEdge===0)return true;// inPt is on contour ?
if(perpEdge<0)continue;inside=!inside;// true intersection left of inPt
}}else{// parallel or collinear
if(inPt.y!==edgeLowPt.y)continue;// parallel
// edge lies on the same horizontal line as inPt
if(edgeHighPt.x<=inPt.x&&inPt.x<=edgeLowPt.x||edgeLowPt.x<=inPt.x&&inPt.x<=edgeHighPt.x)return true;// inPt: Point on contour !
// continue;
}}return inside;}var isClockWise=ShapeUtils.isClockWise;var subPaths=this.subPaths;if(subPaths.length===0)return[];if(noHoles===true)return toShapesNoHoles(subPaths);var solid,tmpPath,tmpShape;var shapes=[];if(subPaths.length===1){tmpPath=subPaths[0];tmpShape=new Shape();tmpShape.curves=tmpPath.curves;shapes.push(tmpShape);return shapes;}var holesFirst=!isClockWise(subPaths[0].getPoints());holesFirst=isCCW?!holesFirst:holesFirst;// console.log("Holes first", holesFirst);
var betterShapeHoles=[];var newShapes=[];var newShapeHoles=[];var mainIdx=0;var tmpPoints;newShapes[mainIdx]=undefined;newShapeHoles[mainIdx]=[];for(var i=0,l=subPaths.length;i<l;i++){tmpPath=subPaths[i];tmpPoints=tmpPath.getPoints();solid=isClockWise(tmpPoints);solid=isCCW?!solid:solid;if(solid){if(!holesFirst&&newShapes[mainIdx])mainIdx++;newShapes[mainIdx]={s:new Shape(),p:tmpPoints};newShapes[mainIdx].s.curves=tmpPath.curves;if(holesFirst)mainIdx++;newShapeHoles[mainIdx]=[];//console.log('cw', i);
}else{newShapeHoles[mainIdx].push({h:tmpPath,p:tmpPoints[0]});//console.log('ccw', i);
}}// only Holes? -> probably all Shapes with wrong orientation
if(!newShapes[0])return toShapesNoHoles(subPaths);if(newShapes.length>1){var ambiguous=false;var toChange=[];for(var sIdx=0,sLen=newShapes.length;sIdx<sLen;sIdx++){betterShapeHoles[sIdx]=[];}for(var _sIdx=0,_sLen=newShapes.length;_sIdx<_sLen;_sIdx++){var sho=newShapeHoles[_sIdx];for(var hIdx=0;hIdx<sho.length;hIdx++){var ho=sho[hIdx];var hole_unassigned=true;for(var s2Idx=0;s2Idx<newShapes.length;s2Idx++){if(isPointInsidePolygon(ho.p,newShapes[s2Idx].p)){if(_sIdx!==s2Idx)toChange.push({froms:_sIdx,tos:s2Idx,hole:hIdx});if(hole_unassigned){hole_unassigned=false;betterShapeHoles[s2Idx].push(ho);}else{ambiguous=true;}}}if(hole_unassigned){betterShapeHoles[_sIdx].push(ho);}}}// console.log("ambiguous: ", ambiguous);
if(toChange.length>0){// console.log("to change: ", toChange);
if(!ambiguous)newShapeHoles=betterShapeHoles;}}var tmpHoles;for(var _i147=0,il=newShapes.length;_i147<il;_i147++){tmpShape=newShapes[_i147].s;shapes.push(tmpShape);tmpHoles=newShapeHoles[_i147];for(var j=0,jl=tmpHoles.length;j<jl;j++){tmpShape.holes.push(tmpHoles[j].h);}}//console.log("shape", shapes);
return shapes;}}]);return ShapePath;}();exports.ShapePath=ShapePath;var _floatView=new Float32Array(1);var _int32View=new Int32Array(_floatView.buffer);var DataUtils=/*#__PURE__*/function(){function DataUtils(){(0,_classCallCheck2.default)(this,DataUtils);}(0,_createClass2.default)(DataUtils,null,[{key:"toHalfFloat",value:// Converts float32 to float16 (stored as uint16 value).
function toHalfFloat(val){if(val>65504){console.warn('THREE.DataUtils.toHalfFloat(): value exceeds 65504.');val=65504;// maximum representable value in float16
}// Source: http://gamedev.stackexchange.com/questions/17326/conversion-of-a-number-from-single-precision-floating-point-representation-to-a/17410#17410
/* This method is faster than the OpenEXR implementation (very often
		* used, eg. in Ogre), with the additional benefit of rounding, inspired
		* by James Tursa?s half-precision code. */_floatView[0]=val;var x=_int32View[0];var bits=x>>16&0x8000;/* Get the sign */var m=x>>12&0x07ff;/* Keep one extra bit for rounding */var e=x>>23&0xff;/* Using int is faster here */ /* If zero, or denormal, or exponent underflows too much for a denormal
			* half, return signed zero. */if(e<103)return bits;/* If NaN, return NaN. If Inf or exponent overflow, return Inf. */if(e>142){bits|=0x7c00;/* If exponent was 0xff and one mantissa bit was set, it means NaN,
						* not Inf, so make sure we set one mantissa bit too. */bits|=(e==255?0:1)&&x&0x007fffff;return bits;}/* If exponent underflows but not too much, return a denormal */if(e<113){m|=0x0800;/* Extra rounding may overflow and set mantissa to 0 and exponent
				* to 1, which is OK. */bits|=(m>>114-e)+(m>>113-e&1);return bits;}bits|=e-112<<10|m>>1;/* Extra rounding. An overflow will set mantissa to 0 and increment
			* the exponent, which is OK. */bits+=m&1;return bits;}}]);return DataUtils;}();exports.DataUtils=DataUtils;var LineStrip=0;exports.LineStrip=LineStrip;var LinePieces=1;exports.LinePieces=LinePieces;var NoColors=0;exports.NoColors=NoColors;var FaceColors=1;exports.FaceColors=FaceColors;var VertexColors=2;exports.VertexColors=VertexColors;function MeshFaceMaterial(materials){console.warn('THREE.MeshFaceMaterial has been removed. Use an Array instead.');return materials;}function MultiMaterial(){var materials=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];console.warn('THREE.MultiMaterial has been removed. Use an Array instead.');materials.isMultiMaterial=true;materials.materials=materials;materials.clone=function(){return materials.slice();};return materials;}function PointCloud(geometry,material){console.warn('THREE.PointCloud has been renamed to THREE.Points.');return new Points(geometry,material);}function Particle(material){console.warn('THREE.Particle has been renamed to THREE.Sprite.');return new Sprite(material);}function ParticleSystem(geometry,material){console.warn('THREE.ParticleSystem has been renamed to THREE.Points.');return new Points(geometry,material);}function PointCloudMaterial(parameters){console.warn('THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.');return new PointsMaterial(parameters);}function ParticleBasicMaterial(parameters){console.warn('THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.');return new PointsMaterial(parameters);}function ParticleSystemMaterial(parameters){console.warn('THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.');return new PointsMaterial(parameters);}function Vertex(x,y,z){console.warn('THREE.Vertex has been removed. Use THREE.Vector3 instead.');return new Vector3(x,y,z);}//
function DynamicBufferAttribute(array,itemSize){console.warn('THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead.');return new BufferAttribute(array,itemSize).setUsage(DynamicDrawUsage);}function Int8Attribute(array,itemSize){console.warn('THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead.');return new Int8BufferAttribute(array,itemSize);}function Uint8Attribute(array,itemSize){console.warn('THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead.');return new Uint8BufferAttribute(array,itemSize);}function Uint8ClampedAttribute(array,itemSize){console.warn('THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead.');return new Uint8ClampedBufferAttribute(array,itemSize);}function Int16Attribute(array,itemSize){console.warn('THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead.');return new Int16BufferAttribute(array,itemSize);}function Uint16Attribute(array,itemSize){console.warn('THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead.');return new Uint16BufferAttribute(array,itemSize);}function Int32Attribute(array,itemSize){console.warn('THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead.');return new Int32BufferAttribute(array,itemSize);}function Uint32Attribute(array,itemSize){console.warn('THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead.');return new Uint32BufferAttribute(array,itemSize);}function Float32Attribute(array,itemSize){console.warn('THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead.');return new Float32BufferAttribute(array,itemSize);}function Float64Attribute(array,itemSize){console.warn('THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead.');return new Float64BufferAttribute(array,itemSize);}//
Curve.create=function(construct,getPoint){console.log('THREE.Curve.create() has been deprecated');construct.prototype=Object.create(Curve.prototype);construct.prototype.constructor=construct;construct.prototype.getPoint=getPoint;return construct;};//
Path.prototype.fromPoints=function(points){console.warn('THREE.Path: .fromPoints() has been renamed to .setFromPoints().');return this.setFromPoints(points);};//
function AxisHelper(size){console.warn('THREE.AxisHelper has been renamed to THREE.AxesHelper.');return new AxesHelper(size);}function BoundingBoxHelper(object,color){console.warn('THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead.');return new BoxHelper(object,color);}function EdgesHelper(object,hex){console.warn('THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.');return new LineSegments(new EdgesGeometry(object.geometry),new LineBasicMaterial({color:hex!==undefined?hex:0xffffff}));}GridHelper.prototype.setColors=function(){console.error('THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.');};SkeletonHelper.prototype.update=function(){console.error('THREE.SkeletonHelper: update() no longer needs to be called.');};function WireframeHelper(object,hex){console.warn('THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.');return new LineSegments(new WireframeGeometry(object.geometry),new LineBasicMaterial({color:hex!==undefined?hex:0xffffff}));}//
Loader.prototype.extractUrlBase=function(url){console.warn('THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead.');return LoaderUtils.extractUrlBase(url);};Loader.Handlers={add:function add(/* regex, loader */){console.error('THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.');},get:function get(/* file */){console.error('THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.');}};function XHRLoader(manager){console.warn('THREE.XHRLoader has been renamed to THREE.FileLoader.');return new FileLoader(manager);}function BinaryTextureLoader(manager){console.warn('THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader.');return new DataTextureLoader(manager);}//
Box2.prototype.center=function(optionalTarget){console.warn('THREE.Box2: .center() has been renamed to .getCenter().');return this.getCenter(optionalTarget);};Box2.prototype.empty=function(){console.warn('THREE.Box2: .empty() has been renamed to .isEmpty().');return this.isEmpty();};Box2.prototype.isIntersectionBox=function(box){console.warn('THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().');return this.intersectsBox(box);};Box2.prototype.size=function(optionalTarget){console.warn('THREE.Box2: .size() has been renamed to .getSize().');return this.getSize(optionalTarget);};//
Box3.prototype.center=function(optionalTarget){console.warn('THREE.Box3: .center() has been renamed to .getCenter().');return this.getCenter(optionalTarget);};Box3.prototype.empty=function(){console.warn('THREE.Box3: .empty() has been renamed to .isEmpty().');return this.isEmpty();};Box3.prototype.isIntersectionBox=function(box){console.warn('THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().');return this.intersectsBox(box);};Box3.prototype.isIntersectionSphere=function(sphere){console.warn('THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().');return this.intersectsSphere(sphere);};Box3.prototype.size=function(optionalTarget){console.warn('THREE.Box3: .size() has been renamed to .getSize().');return this.getSize(optionalTarget);};//
Sphere.prototype.empty=function(){console.warn('THREE.Sphere: .empty() has been renamed to .isEmpty().');return this.isEmpty();};//
Frustum.prototype.setFromMatrix=function(m){console.warn('THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix().');return this.setFromProjectionMatrix(m);};//
Line3.prototype.center=function(optionalTarget){console.warn('THREE.Line3: .center() has been renamed to .getCenter().');return this.getCenter(optionalTarget);};//
Matrix3.prototype.flattenToArrayOffset=function(array,offset){console.warn('THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.');return this.toArray(array,offset);};Matrix3.prototype.multiplyVector3=function(vector){console.warn('THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.');return vector.applyMatrix3(this);};Matrix3.prototype.multiplyVector3Array=function/* a */(){console.error('THREE.Matrix3: .multiplyVector3Array() has been removed.');};Matrix3.prototype.applyToBufferAttribute=function(attribute){console.warn('THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead.');return attribute.applyMatrix3(this);};Matrix3.prototype.applyToVector3Array=function/* array, offset, length */(){console.error('THREE.Matrix3: .applyToVector3Array() has been removed.');};Matrix3.prototype.getInverse=function(matrix){console.warn('THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead.');return this.copy(matrix).invert();};//
Matrix4.prototype.extractPosition=function(m){console.warn('THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().');return this.copyPosition(m);};Matrix4.prototype.flattenToArrayOffset=function(array,offset){console.warn('THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.');return this.toArray(array,offset);};Matrix4.prototype.getPosition=function(){console.warn('THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.');return new Vector3().setFromMatrixColumn(this,3);};Matrix4.prototype.setRotationFromQuaternion=function(q){console.warn('THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().');return this.makeRotationFromQuaternion(q);};Matrix4.prototype.multiplyToArray=function(){console.warn('THREE.Matrix4: .multiplyToArray() has been removed.');};Matrix4.prototype.multiplyVector3=function(vector){console.warn('THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.');return vector.applyMatrix4(this);};Matrix4.prototype.multiplyVector4=function(vector){console.warn('THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.');return vector.applyMatrix4(this);};Matrix4.prototype.multiplyVector3Array=function/* a */(){console.error('THREE.Matrix4: .multiplyVector3Array() has been removed.');};Matrix4.prototype.rotateAxis=function(v){console.warn('THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.');v.transformDirection(this);};Matrix4.prototype.crossVector=function(vector){console.warn('THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.');return vector.applyMatrix4(this);};Matrix4.prototype.translate=function(){console.error('THREE.Matrix4: .translate() has been removed.');};Matrix4.prototype.rotateX=function(){console.error('THREE.Matrix4: .rotateX() has been removed.');};Matrix4.prototype.rotateY=function(){console.error('THREE.Matrix4: .rotateY() has been removed.');};Matrix4.prototype.rotateZ=function(){console.error('THREE.Matrix4: .rotateZ() has been removed.');};Matrix4.prototype.rotateByAxis=function(){console.error('THREE.Matrix4: .rotateByAxis() has been removed.');};Matrix4.prototype.applyToBufferAttribute=function(attribute){console.warn('THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead.');return attribute.applyMatrix4(this);};Matrix4.prototype.applyToVector3Array=function/* array, offset, length */(){console.error('THREE.Matrix4: .applyToVector3Array() has been removed.');};Matrix4.prototype.makeFrustum=function(left,right,bottom,top,near,far){console.warn('THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.');return this.makePerspective(left,right,top,bottom,near,far);};Matrix4.prototype.getInverse=function(matrix){console.warn('THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead.');return this.copy(matrix).invert();};//
Plane.prototype.isIntersectionLine=function(line){console.warn('THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().');return this.intersectsLine(line);};//
Quaternion.prototype.multiplyVector3=function(vector){console.warn('THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.');return vector.applyQuaternion(this);};Quaternion.prototype.inverse=function(){console.warn('THREE.Quaternion: .inverse() has been renamed to invert().');return this.invert();};//
Ray.prototype.isIntersectionBox=function(box){console.warn('THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().');return this.intersectsBox(box);};Ray.prototype.isIntersectionPlane=function(plane){console.warn('THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().');return this.intersectsPlane(plane);};Ray.prototype.isIntersectionSphere=function(sphere){console.warn('THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().');return this.intersectsSphere(sphere);};//
Triangle.prototype.area=function(){console.warn('THREE.Triangle: .area() has been renamed to .getArea().');return this.getArea();};Triangle.prototype.barycoordFromPoint=function(point,target){console.warn('THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().');return this.getBarycoord(point,target);};Triangle.prototype.midpoint=function(target){console.warn('THREE.Triangle: .midpoint() has been renamed to .getMidpoint().');return this.getMidpoint(target);};Triangle.prototypenormal=function(target){console.warn('THREE.Triangle: .normal() has been renamed to .getNormal().');return this.getNormal(target);};Triangle.prototype.plane=function(target){console.warn('THREE.Triangle: .plane() has been renamed to .getPlane().');return this.getPlane(target);};Triangle.barycoordFromPoint=function(point,a,b,c,target){console.warn('THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().');return Triangle.getBarycoord(point,a,b,c,target);};Triangle.normal=function(a,b,c,target){console.warn('THREE.Triangle: .normal() has been renamed to .getNormal().');return Triangle.getNormal(a,b,c,target);};//
Shape.prototype.extractAllPoints=function(divisions){console.warn('THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead.');return this.extractPoints(divisions);};Shape.prototype.extrude=function(options){console.warn('THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.');return new ExtrudeGeometry(this,options);};Shape.prototype.makeGeometry=function(options){console.warn('THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.');return new ShapeGeometry(this,options);};//
Vector2.prototype.fromAttribute=function(attribute,index,offset){console.warn('THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().');return this.fromBufferAttribute(attribute,index,offset);};Vector2.prototype.distanceToManhattan=function(v){console.warn('THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo().');return this.manhattanDistanceTo(v);};Vector2.prototype.lengthManhattan=function(){console.warn('THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength().');return this.manhattanLength();};//
Vector3.prototype.setEulerFromRotationMatrix=function(){console.error('THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.');};Vector3.prototype.setEulerFromQuaternion=function(){console.error('THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.');};Vector3.prototype.getPositionFromMatrix=function(m){console.warn('THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().');return this.setFromMatrixPosition(m);};Vector3.prototype.getScaleFromMatrix=function(m){console.warn('THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().');return this.setFromMatrixScale(m);};Vector3.prototype.getColumnFromMatrix=function(index,matrix){console.warn('THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().');return this.setFromMatrixColumn(matrix,index);};Vector3.prototype.applyProjection=function(m){console.warn('THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.');return this.applyMatrix4(m);};Vector3.prototype.fromAttribute=function(attribute,index,offset){console.warn('THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().');return this.fromBufferAttribute(attribute,index,offset);};Vector3.prototype.distanceToManhattan=function(v){console.warn('THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo().');return this.manhattanDistanceTo(v);};Vector3.prototype.lengthManhattan=function(){console.warn('THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength().');return this.manhattanLength();};//
Vector4.prototype.fromAttribute=function(attribute,index,offset){console.warn('THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().');return this.fromBufferAttribute(attribute,index,offset);};Vector4.prototype.lengthManhattan=function(){console.warn('THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength().');return this.manhattanLength();};//
Object3D.prototype.getChildByName=function(name){console.warn('THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().');return this.getObjectByName(name);};Object3D.prototype.renderDepth=function(){console.warn('THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.');};Object3D.prototype.translate=function(distance,axis){console.warn('THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.');return this.translateOnAxis(axis,distance);};Object3D.prototype.getWorldRotation=function(){console.error('THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.');};Object3D.prototype.applyMatrix=function(matrix){console.warn('THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4().');return this.applyMatrix4(matrix);};Object.defineProperties(Object3D.prototype,{eulerOrder:{get:function get(){console.warn('THREE.Object3D: .eulerOrder is now .rotation.order.');return this.rotation.order;},set:function set(value){console.warn('THREE.Object3D: .eulerOrder is now .rotation.order.');this.rotation.order=value;}},useQuaternion:{get:function get(){console.warn('THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.');},set:function set(){console.warn('THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.');}}});Mesh.prototype.setDrawMode=function(){console.error('THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.');};Object.defineProperties(Mesh.prototype,{drawMode:{get:function get(){console.error('THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode.');return TrianglesDrawMode;},set:function set(){console.error('THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.');}}});SkinnedMesh.prototype.initBones=function(){console.error('THREE.SkinnedMesh: initBones() has been removed.');};//
PerspectiveCamera.prototype.setLens=function(focalLength,filmGauge){console.warn('THREE.PerspectiveCamera.setLens is deprecated. '+'Use .setFocalLength and .filmGauge for a photographic setup.');if(filmGauge!==undefined)this.filmGauge=filmGauge;this.setFocalLength(focalLength);};//
Object.defineProperties(Light.prototype,{onlyShadow:{set:function set(){console.warn('THREE.Light: .onlyShadow has been removed.');}},shadowCameraFov:{set:function set(value){console.warn('THREE.Light: .shadowCameraFov is now .shadow.camera.fov.');this.shadow.camera.fov=value;}},shadowCameraLeft:{set:function set(value){console.warn('THREE.Light: .shadowCameraLeft is now .shadow.camera.left.');this.shadow.camera.left=value;}},shadowCameraRight:{set:function set(value){console.warn('THREE.Light: .shadowCameraRight is now .shadow.camera.right.');this.shadow.camera.right=value;}},shadowCameraTop:{set:function set(value){console.warn('THREE.Light: .shadowCameraTop is now .shadow.camera.top.');this.shadow.camera.top=value;}},shadowCameraBottom:{set:function set(value){console.warn('THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.');this.shadow.camera.bottom=value;}},shadowCameraNear:{set:function set(value){console.warn('THREE.Light: .shadowCameraNear is now .shadow.camera.near.');this.shadow.camera.near=value;}},shadowCameraFar:{set:function set(value){console.warn('THREE.Light: .shadowCameraFar is now .shadow.camera.far.');this.shadow.camera.far=value;}},shadowCameraVisible:{set:function set(){console.warn('THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.');}},shadowBias:{set:function set(value){console.warn('THREE.Light: .shadowBias is now .shadow.bias.');this.shadow.bias=value;}},shadowDarkness:{set:function set(){console.warn('THREE.Light: .shadowDarkness has been removed.');}},shadowMapWidth:{set:function set(value){console.warn('THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.');this.shadow.mapSize.width=value;}},shadowMapHeight:{set:function set(value){console.warn('THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.');this.shadow.mapSize.height=value;}}});//
Object.defineProperties(BufferAttribute.prototype,{length:{get:function get(){console.warn('THREE.BufferAttribute: .length has been deprecated. Use .count instead.');return this.array.length;}},dynamic:{get:function get(){console.warn('THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.');return this.usage===DynamicDrawUsage;},set:function set(/* value */){console.warn('THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.');this.setUsage(DynamicDrawUsage);}}});BufferAttribute.prototype.setDynamic=function(value){console.warn('THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead.');this.setUsage(value===true?DynamicDrawUsage:StaticDrawUsage);return this;};BufferAttribute.prototype.copyIndicesArray=function/* indices */(){console.error('THREE.BufferAttribute: .copyIndicesArray() has been removed.');},BufferAttribute.prototype.setArray=function/* array */(){console.error('THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers');};//
BufferGeometry.prototype.addIndex=function(index){console.warn('THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().');this.setIndex(index);};BufferGeometry.prototype.addAttribute=function(name,attribute){console.warn('THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute().');if(!(attribute&&attribute.isBufferAttribute)&&!(attribute&&attribute.isInterleavedBufferAttribute)){console.warn('THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).');return this.setAttribute(name,new BufferAttribute(arguments[1],arguments[2]));}if(name==='index'){console.warn('THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.');this.setIndex(attribute);return this;}return this.setAttribute(name,attribute);};BufferGeometry.prototype.addDrawCall=function(start,count,indexOffset){if(indexOffset!==undefined){console.warn('THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.');}console.warn('THREE.BufferGeometry: .addDrawCall() is now .addGroup().');this.addGroup(start,count);};BufferGeometry.prototype.clearDrawCalls=function(){console.warn('THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().');this.clearGroups();};BufferGeometry.prototype.computeOffsets=function(){console.warn('THREE.BufferGeometry: .computeOffsets() has been removed.');};BufferGeometry.prototype.removeAttribute=function(name){console.warn('THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute().');return this.deleteAttribute(name);};BufferGeometry.prototype.applyMatrix=function(matrix){console.warn('THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4().');return this.applyMatrix4(matrix);};Object.defineProperties(BufferGeometry.prototype,{drawcalls:{get:function get(){console.error('THREE.BufferGeometry: .drawcalls has been renamed to .groups.');return this.groups;}},offsets:{get:function get(){console.warn('THREE.BufferGeometry: .offsets has been renamed to .groups.');return this.groups;}}});InterleavedBuffer.prototype.setDynamic=function(value){console.warn('THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead.');this.setUsage(value===true?DynamicDrawUsage:StaticDrawUsage);return this;};InterleavedBuffer.prototype.setArray=function/* array */(){console.error('THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers');};//
ExtrudeGeometry.prototype.getArrays=function(){console.error('THREE.ExtrudeGeometry: .getArrays() has been removed.');};ExtrudeGeometry.prototype.addShapeList=function(){console.error('THREE.ExtrudeGeometry: .addShapeList() has been removed.');};ExtrudeGeometry.prototype.addShape=function(){console.error('THREE.ExtrudeGeometry: .addShape() has been removed.');};//
Scene.prototype.dispose=function(){console.error('THREE.Scene: .dispose() has been removed.');};//
Uniform.prototype.onUpdate=function(){console.warn('THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.');return this;};//
Object.defineProperties(Material.prototype,{wrapAround:{get:function get(){console.warn('THREE.Material: .wrapAround has been removed.');},set:function set(){console.warn('THREE.Material: .wrapAround has been removed.');}},overdraw:{get:function get(){console.warn('THREE.Material: .overdraw has been removed.');},set:function set(){console.warn('THREE.Material: .overdraw has been removed.');}},wrapRGB:{get:function get(){console.warn('THREE.Material: .wrapRGB has been removed.');return new Color();}},shading:{get:function get(){console.error('THREE.'+this.type+': .shading has been removed. Use the boolean .flatShading instead.');},set:function set(value){console.warn('THREE.'+this.type+': .shading has been removed. Use the boolean .flatShading instead.');this.flatShading=value===FlatShading;}},stencilMask:{get:function get(){console.warn('THREE.'+this.type+': .stencilMask has been removed. Use .stencilFuncMask instead.');return this.stencilFuncMask;},set:function set(value){console.warn('THREE.'+this.type+': .stencilMask has been removed. Use .stencilFuncMask instead.');this.stencilFuncMask=value;}},vertexTangents:{get:function get(){console.warn('THREE.'+this.type+': .vertexTangents has been removed.');},set:function set(){console.warn('THREE.'+this.type+': .vertexTangents has been removed.');}}});Object.defineProperties(ShaderMaterial.prototype,{derivatives:{get:function get(){console.warn('THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.');return this.extensions.derivatives;},set:function set(value){console.warn('THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.');this.extensions.derivatives=value;}}});//
WebGLRenderer.prototype.clearTarget=function(renderTarget,color,depth,stencil){console.warn('THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead.');this.setRenderTarget(renderTarget);this.clear(color,depth,stencil);};WebGLRenderer.prototype.animate=function(callback){console.warn('THREE.WebGLRenderer: .animate() is now .setAnimationLoop().');this.setAnimationLoop(callback);};WebGLRenderer.prototype.getCurrentRenderTarget=function(){console.warn('THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget().');return this.getRenderTarget();};WebGLRenderer.prototype.getMaxAnisotropy=function(){console.warn('THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy().');return this.capabilities.getMaxAnisotropy();};WebGLRenderer.prototype.getPrecision=function(){console.warn('THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision.');return this.capabilities.precision;};WebGLRenderer.prototype.resetGLState=function(){console.warn('THREE.WebGLRenderer: .resetGLState() is now .state.reset().');return this.state.reset();};WebGLRenderer.prototype.supportsFloatTextures=function(){console.warn('THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( \'OES_texture_float\' ).');return this.extensions.get('OES_texture_float');};WebGLRenderer.prototype.supportsHalfFloatTextures=function(){console.warn('THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( \'OES_texture_half_float\' ).');return this.extensions.get('OES_texture_half_float');};WebGLRenderer.prototype.supportsStandardDerivatives=function(){console.warn('THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( \'OES_standard_derivatives\' ).');return this.extensions.get('OES_standard_derivatives');};WebGLRenderer.prototype.supportsCompressedTextureS3TC=function(){console.warn('THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( \'WEBGL_compressed_texture_s3tc\' ).');return this.extensions.get('WEBGL_compressed_texture_s3tc');};WebGLRenderer.prototype.supportsCompressedTexturePVRTC=function(){console.warn('THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( \'WEBGL_compressed_texture_pvrtc\' ).');return this.extensions.get('WEBGL_compressed_texture_pvrtc');};WebGLRenderer.prototype.supportsBlendMinMax=function(){console.warn('THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( \'EXT_blend_minmax\' ).');return this.extensions.get('EXT_blend_minmax');};WebGLRenderer.prototype.supportsVertexTextures=function(){console.warn('THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.');return this.capabilities.vertexTextures;};WebGLRenderer.prototype.supportsInstancedArrays=function(){console.warn('THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( \'ANGLE_instanced_arrays\' ).');return this.extensions.get('ANGLE_instanced_arrays');};WebGLRenderer.prototype.enableScissorTest=function(boolean){console.warn('THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().');this.setScissorTest(boolean);};WebGLRenderer.prototype.initMaterial=function(){console.warn('THREE.WebGLRenderer: .initMaterial() has been removed.');};WebGLRenderer.prototype.addPrePlugin=function(){console.warn('THREE.WebGLRenderer: .addPrePlugin() has been removed.');};WebGLRenderer.prototype.addPostPlugin=function(){console.warn('THREE.WebGLRenderer: .addPostPlugin() has been removed.');};WebGLRenderer.prototype.updateShadowMap=function(){console.warn('THREE.WebGLRenderer: .updateShadowMap() has been removed.');};WebGLRenderer.prototype.setFaceCulling=function(){console.warn('THREE.WebGLRenderer: .setFaceCulling() has been removed.');};WebGLRenderer.prototype.allocTextureUnit=function(){console.warn('THREE.WebGLRenderer: .allocTextureUnit() has been removed.');};WebGLRenderer.prototype.setTexture=function(){console.warn('THREE.WebGLRenderer: .setTexture() has been removed.');};WebGLRenderer.prototype.setTexture2D=function(){console.warn('THREE.WebGLRenderer: .setTexture2D() has been removed.');};WebGLRenderer.prototype.setTextureCube=function(){console.warn('THREE.WebGLRenderer: .setTextureCube() has been removed.');};WebGLRenderer.prototype.getActiveMipMapLevel=function(){console.warn('THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel().');return this.getActiveMipmapLevel();};Object.defineProperties(WebGLRenderer.prototype,{shadowMapEnabled:{get:function get(){return this.shadowMap.enabled;},set:function set(value){console.warn('THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.');this.shadowMap.enabled=value;}},shadowMapType:{get:function get(){return this.shadowMap.type;},set:function set(value){console.warn('THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.');this.shadowMap.type=value;}},shadowMapCullFace:{get:function get(){console.warn('THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.');return undefined;},set:function set(/* value */){console.warn('THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.');}},context:{get:function get(){console.warn('THREE.WebGLRenderer: .context has been removed. Use .getContext() instead.');return this.getContext();}},vr:{get:function get(){console.warn('THREE.WebGLRenderer: .vr has been renamed to .xr');return this.xr;}},gammaInput:{get:function get(){console.warn('THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.');return false;},set:function set(){console.warn('THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.');}},gammaOutput:{get:function get(){console.warn('THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.');return false;},set:function set(value){console.warn('THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.');this.outputEncoding=value===true?sRGBEncoding:LinearEncoding;}},toneMappingWhitePoint:{get:function get(){console.warn('THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.');return 1.0;},set:function set(){console.warn('THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.');}}});Object.defineProperties(WebGLShadowMap.prototype,{cullFace:{get:function get(){console.warn('THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.');return undefined;},set:function set(/* cullFace */){console.warn('THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.');}},renderReverseSided:{get:function get(){console.warn('THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.');return undefined;},set:function set(){console.warn('THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.');}},renderSingleSided:{get:function get(){console.warn('THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.');return undefined;},set:function set(){console.warn('THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.');}}});function WebGLRenderTargetCube(width,height,options){console.warn('THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options ).');return new WebGLCubeRenderTarget(width,options);}//
Object.defineProperties(WebGLRenderTarget.prototype,{wrapS:{get:function get(){console.warn('THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.');return this.texture.wrapS;},set:function set(value){console.warn('THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.');this.texture.wrapS=value;}},wrapT:{get:function get(){console.warn('THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.');return this.texture.wrapT;},set:function set(value){console.warn('THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.');this.texture.wrapT=value;}},magFilter:{get:function get(){console.warn('THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.');return this.texture.magFilter;},set:function set(value){console.warn('THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.');this.texture.magFilter=value;}},minFilter:{get:function get(){console.warn('THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.');return this.texture.minFilter;},set:function set(value){console.warn('THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.');this.texture.minFilter=value;}},anisotropy:{get:function get(){console.warn('THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.');return this.texture.anisotropy;},set:function set(value){console.warn('THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.');this.texture.anisotropy=value;}},offset:{get:function get(){console.warn('THREE.WebGLRenderTarget: .offset is now .texture.offset.');return this.texture.offset;},set:function set(value){console.warn('THREE.WebGLRenderTarget: .offset is now .texture.offset.');this.texture.offset=value;}},repeat:{get:function get(){console.warn('THREE.WebGLRenderTarget: .repeat is now .texture.repeat.');return this.texture.repeat;},set:function set(value){console.warn('THREE.WebGLRenderTarget: .repeat is now .texture.repeat.');this.texture.repeat=value;}},format:{get:function get(){console.warn('THREE.WebGLRenderTarget: .format is now .texture.format.');return this.texture.format;},set:function set(value){console.warn('THREE.WebGLRenderTarget: .format is now .texture.format.');this.texture.format=value;}},type:{get:function get(){console.warn('THREE.WebGLRenderTarget: .type is now .texture.type.');return this.texture.type;},set:function set(value){console.warn('THREE.WebGLRenderTarget: .type is now .texture.type.');this.texture.type=value;}},generateMipmaps:{get:function get(){console.warn('THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.');return this.texture.generateMipmaps;},set:function set(value){console.warn('THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.');this.texture.generateMipmaps=value;}}});//
Audio.prototype.load=function(file){console.warn('THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.');var scope=this;var audioLoader=new AudioLoader();audioLoader.load(file,function(buffer){scope.setBuffer(buffer);});return this;};AudioAnalyser.prototype.getData=function(){console.warn('THREE.AudioAnalyser: .getData() is now .getFrequencyData().');return this.getFrequencyData();};//
CubeCamera.prototype.updateCubeMap=function(renderer,scene){console.warn('THREE.CubeCamera: .updateCubeMap() is now .update().');return this.update(renderer,scene);};CubeCamera.prototype.clear=function(renderer,color,depth,stencil){console.warn('THREE.CubeCamera: .clear() is now .renderTarget.clear().');return this.renderTarget.clear(renderer,color,depth,stencil);};ImageUtils.crossOrigin=undefined;ImageUtils.loadTexture=function(url,mapping,onLoad,onError){console.warn('THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.');var loader=new TextureLoader();loader.setCrossOrigin(this.crossOrigin);var texture=loader.load(url,onLoad,undefined,onError);if(mapping)texture.mapping=mapping;return texture;};ImageUtils.loadTextureCube=function(urls,mapping,onLoad,onError){console.warn('THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.');var loader=new CubeTextureLoader();loader.setCrossOrigin(this.crossOrigin);var texture=loader.load(urls,onLoad,undefined,onError);if(mapping)texture.mapping=mapping;return texture;};ImageUtils.loadCompressedTexture=function(){console.error('THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.');};ImageUtils.loadCompressedTextureCube=function(){console.error('THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.');};//
function CanvasRenderer(){console.error('THREE.CanvasRenderer has been removed');}//
function JSONLoader(){console.error('THREE.JSONLoader has been removed.');}//
var SceneUtils={createMultiMaterialObject:function createMultiMaterialObject(/* geometry, materials */){console.error('THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js');},detach:function detach(/* child, parent, scene */){console.error('THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js');},attach:function attach(/* child, scene, parent */){console.error('THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js');}};//
exports.SceneUtils=SceneUtils;function LensFlare(){console.error('THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js');}//
function ParametricGeometry(){console.error('THREE.ParametricGeometry has been moved to /examples/jsm/geometries/ParametricGeometry.js');return new BufferGeometry();}function TextGeometry(){console.error('THREE.TextGeometry has been moved to /examples/jsm/geometries/TextGeometry.js');return new BufferGeometry();}function FontLoader(){console.error('THREE.FontLoader has been moved to /examples/jsm/loaders/FontLoader.js');}function Font(){console.error('THREE.Font has been moved to /examples/jsm/loaders/FontLoader.js');}if(typeof __THREE_DEVTOOLS__!=='undefined'){/* eslint-disable no-undef */__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent('register',{detail:{revision:REVISION}}));/* eslint-enable no-undef */}if(typeof $window!=='undefined'){if($window.__THREE__){console.warn('WARNING: Multiple instances of Three.js being imported.');}else{$window.__THREE__=REVISION;}}

/***/ }),

/***/ 2030:
/*!****************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/get.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var superPropBase = __webpack_require__(/*! ./superPropBase.js */ 2031);
function _get() {
  if (typeof Reflect !== "undefined" && Reflect.get) {
    module.exports = _get = Reflect.get.bind(), module.exports.__esModule = true, module.exports["default"] = module.exports;
  } else {
    module.exports = _get = function _get(target, property, receiver) {
      var base = superPropBase(target, property);
      if (!base) return;
      var desc = Object.getOwnPropertyDescriptor(base, property);
      if (desc.get) {
        return desc.get.call(arguments.length < 3 ? target : receiver);
      }
      return desc.value;
    }, module.exports.__esModule = true, module.exports["default"] = module.exports;
  }
  return _get.apply(this, arguments);
}
module.exports = _get, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 2031:
/*!**************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/superPropBase.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var getPrototypeOf = __webpack_require__(/*! ./getPrototypeOf.js */ 2032);
function _superPropBase(object, property) {
  while (!Object.prototype.hasOwnProperty.call(object, property)) {
    object = getPrototypeOf(object);
    if (object === null) break;
  }
  return object;
}
module.exports = _superPropBase, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 2032:
/*!***************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/getPrototypeOf.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function _getPrototypeOf(o) {
  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {
    return o.__proto__ || Object.getPrototypeOf(o);
  }, module.exports.__esModule = true, module.exports["default"] = module.exports;
  return _getPrototypeOf(o);
}
module.exports = _getPrototypeOf, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 2033:
/*!**********************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/assertThisInitialized.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function _assertThisInitialized(self) {
  if (self === void 0) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }
  return self;
}
module.exports = _assertThisInitialized, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 2034:
/*!*********************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/inherits.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var setPrototypeOf = __webpack_require__(/*! ./setPrototypeOf.js */ 16);
function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function");
  }
  subClass.prototype = Object.create(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      writable: true,
      configurable: true
    }
  });
  Object.defineProperty(subClass, "prototype", {
    writable: false
  });
  if (superClass) setPrototypeOf(subClass, superClass);
}
module.exports = _inherits, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 2035:
/*!**************************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var _typeof = __webpack_require__(/*! ./typeof.js */ 13)["default"];
var assertThisInitialized = __webpack_require__(/*! ./assertThisInitialized.js */ 2033);
function _possibleConstructorReturn(self, call) {
  if (call && (_typeof(call) === "object" || typeof call === "function")) {
    return call;
  } else if (call !== void 0) {
    throw new TypeError("Derived constructors may only return object or undefined");
  }
  return assertThisInitialized(self);
}
module.exports = _possibleConstructorReturn, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 2036:
/*!**************************************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/node_modules/three-platformize/src/WechatPlatform/index.js ***!
  \**************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(wx) {

var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
var _typeof = __webpack_require__(/*! @babel/runtime/helpers/typeof */ 13);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.WechatPlatform = void 0;
var _defineProperty2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/defineProperty */ 11));
var _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ 23));
var _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ 24));
var _URL = _interopRequireDefault(__webpack_require__(/*! ../libs/URL */ 2037));
var _Blob = _interopRequireDefault(__webpack_require__(/*! ../libs/Blob */ 2038));
var _atob = _interopRequireDefault(__webpack_require__(/*! ../libs/atob */ 2040));
var _EventTarget = _interopRequireWildcard(__webpack_require__(/*! ../libs/EventTarget */ 2041));
var _XMLHttpRequest = _interopRequireDefault(__webpack_require__(/*! ./XMLHttpRequest */ 2042));
var _copyProperties = _interopRequireDefault(__webpack_require__(/*! ../libs/copyProperties */ 2043));
var _DOMParser = __webpack_require__(/*! ../libs/DOMParser */ 2044);
var _TextDecoder = __webpack_require__(/*! ../libs/TextDecoder */ 2046);
function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }
function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
function OffscreenCanvas() {
  return wx.createOffscreenCanvas();
}
var WechatPlatform = /*#__PURE__*/function () {
  function WechatPlatform(canvas, width, height) {
    var _this = this;
    (0, _classCallCheck2.default)(this, WechatPlatform);
    var systemInfo = wx.getSystemInfoSync();
    var isAndroid = systemInfo.platform === 'android';
    this.canvas = canvas;
    this.canvasW = width === undefined ? canvas.width : width;
    this.canvasH = height === undefined ? canvas.height : height;
    this.document = {
      createElementNS: function createElementNS(_, type) {
        if (type === 'canvas') return canvas;
        if (type === 'img') return canvas.createImage();
      }
    };
    this.window = {
      innerWidth: systemInfo.windowWidth,
      innerHeight: systemInfo.windowHeight,
      devicePixelRatio: systemInfo.pixelRatio,
      URL: new _URL.default(),
      AudioContext: function AudioContext() {},
      requestAnimationFrame: this.canvas.requestAnimationFrame,
      cancelAnimationFrame: this.canvas.cancelAnimationFrame,
      DeviceOrientationEvent: {
        requestPermission: function requestPermission() {
          return Promise.resolve('granted');
        }
      },
      DOMParser: _DOMParser.$DOMParser,
      TextDecoder: _TextDecoder.$TextDecoder
    };
    [this.canvas, this.document, this.window].forEach(function (i) {
      var old = i.__proto__;
      i.__proto__ = {};
      i.__proto__.__proto__ = old;
      (0, _copyProperties.default)(i.__proto__, _EventTarget.default.prototype);
    });
    this.patchCanvas();
    this.onDeviceMotionChange = function (e) {
      e.type = 'deviceorientation';
      if (isAndroid) {
        e.alpha *= -1;
        e.beta *= -1;
        e.gamma *= -1;
      }
      _this.window.dispatchEvent(e);
    };
  }
  (0, _createClass2.default)(WechatPlatform, [{
    key: "patchCanvas",
    value: function patchCanvas() {
      var canvasH = this.canvasH,
        canvasW = this.canvasW;
      Object.defineProperty(this.canvas, 'style', {
        get: function get() {
          return {
            width: this.width + 'px',
            height: this.height + 'px'
          };
        }
      });
      Object.defineProperty(this.canvas, 'clientHeight', {
        get: function get() {
          return canvasH || this.height;
        }
      });
      Object.defineProperty(this.canvas, 'clientWidth', {
        get: function get() {
          return canvasW || this.width;
        }
      });
      this.canvas.ownerDocument = this.document;
    }

    // 某些情况下IOS会不success不触发。。。
  }, {
    key: "patchXHR",
    value: function patchXHR() {
      _XMLHttpRequest.default.useFetchPatch = true;
      return this;
    }
  }, {
    key: "getGlobals",
    value: function getGlobals() {
      return {
        atob: _atob.default,
        Blob: _Blob.default,
        window: this.window,
        document: this.document,
        HTMLCanvasElement: undefined,
        XMLHttpRequest: _XMLHttpRequest.default,
        OffscreenCanvas: OffscreenCanvas,
        createImageBitmap: undefined
      };
    }
  }, {
    key: "enableDeviceOrientation",
    value: function enableDeviceOrientation(interval) {
      var _this2 = this;
      return new Promise(function (resolve, reject) {
        wx.onDeviceMotionChange(_this2.onDeviceMotionChange);
        wx.startDeviceMotionListening({
          interval: interval,
          success: function success(e) {
            resolve(e);
            _this2.enabledDeviceMotion = true;
          },
          fail: reject
        });
      });
    }
  }, {
    key: "disableDeviceOrientation",
    value: function disableDeviceOrientation() {
      var _this3 = this;
      return new Promise(function (resolve, reject) {
        wx.offDeviceMotionChange(_this3.onDeviceMotionChange);
        _this3.enabledDeviceMotion && wx.stopDeviceMotionListening({
          success: function success() {
            resolve();
            _this3.enabledDeviceMotion = false;
          },
          fail: reject
        });
      });
    }
  }, {
    key: "dispatchTouchEvent",
    value: function dispatchTouchEvent() {
      var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
      var target = _objectSpread({}, this);
      var changedTouches = e.changedTouches.map(function (touch) {
        return new _EventTarget.Touch(touch);
      });
      var event = {
        changedTouches: changedTouches,
        touches: e.touches.map(function (touch) {
          return new _EventTarget.Touch(touch);
        }),
        targetTouches: Array.prototype.slice.call(e.touches.map(function (touch) {
          return new _EventTarget.Touch(touch);
        })),
        timeStamp: e.timeStamp,
        target: target,
        currentTarget: target,
        type: e.type,
        cancelBubble: false,
        cancelable: false
      };
      this.canvas.dispatchEvent(event);
      if (changedTouches.length) {
        var touch = changedTouches[0];
        var pointerEvent = {
          pageX: touch.pageX,
          pageY: touch.pageY,
          pointerId: touch.identifier,
          type: {
            touchstart: 'pointerdown',
            touchmove: 'pointermove',
            touchend: 'pointerup'
          }[e.type],
          pointerType: 'touch'
        };
        this.canvas.dispatchEvent(pointerEvent);
      }
    }
  }, {
    key: "dispose",
    value: function dispose() {
      this.disableDeviceOrientation();
      // 缓解ios内存泄漏, 前后进出页面多几次，降低pixelRatio也可行
      this.canvas.width = 0;
      this.canvas.height = 0;
      if (this.canvas) this.canvas.ownerDocument = null;
      this.onDeviceMotionChange = null;
      this.document = null;
      this.window = null;
      this.canvas = null;
    }
  }]);
  return WechatPlatform;
}();
exports.WechatPlatform = WechatPlatform;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/wx.js */ 1)["default"]))

/***/ }),

/***/ 2037:
/*!**************************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/node_modules/three-platformize/src/libs/URL.js ***!
  \**************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ 23));
var _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ 24));
var _Blob = _interopRequireDefault(__webpack_require__(/*! ./Blob */ 2038));
var _base64Arraybuffer = __webpack_require__(/*! ./base64-arraybuffer */ 2039);
var $URL = /*#__PURE__*/function () {
  function $URL() {
    (0, _classCallCheck2.default)(this, $URL);
  }
  (0, _createClass2.default)($URL, [{
    key: "createObjectURL",
    value: function createObjectURL(obj) {
      if (obj instanceof _Blob.default) {
        // TODO: use wasm to improve decode performance
        // 经测试主要耗时在于字符串拼接，使用assemblyscript的字符串拼接比js拼接慢非常多

        // 组长找到更好的方式，使用wx.fileSystemManager写入临时文件来获取url，但是需要手动管理临时文件

        // const t = Date.now();
        var base64 = (0, _base64Arraybuffer.encode)(obj.parts[0]);
        var url = "data:".concat(obj.options.type, ";base64,").concat(base64);
        // console.log('createObjectURL', Date.now() - t);
        return url;
      }
      return '';
    }
  }, {
    key: "revokeObjectURL",
    value: function revokeObjectURL() {}
  }]);
  return $URL;
}();
exports.default = $URL;

/***/ }),

/***/ 2038:
/*!***************************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/node_modules/three-platformize/src/libs/Blob.js ***!
  \***************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ 24));
var _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ 23));
var Blob = /*#__PURE__*/(0, _createClass2.default)(function Blob(parts, options) {
  (0, _classCallCheck2.default)(this, Blob);
  this.parts = parts;
  this.options = options;

  // 目前仅适配如下
  // var blob = new Blob([bufferView], { type: source.mimeType });
  // sourceURI = URL.createObjectURL(blob);

  // var base64 = ArrayBufferToBase64(bufferView);
  // var url = `data:${options.type};base64,${base64}`;
});
exports.default = Blob;

/***/ }),

/***/ 2039:
/*!*****************************************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/node_modules/three-platformize/src/libs/base64-arraybuffer.js ***!
  \*****************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.decode = decode;
exports.encode = encode;
/*
 * base64-arraybuffer
 * https://github.com/niklasvh/base64-arraybuffer
 *
 * Copyright (c) 2012 Niklas von Hertzen
 * Licensed under the MIT license.
 */

var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';

// Use a lookup table to find the index.
var lookup = new Uint8Array(256);
for (var i = 0; i < chars.length; i++) {
  lookup[chars.charCodeAt(i)] = i;
}

// 有点慢
// export function encode(arraybuffer) {
//   var bytes = new Uint8Array(arraybuffer),
//     i,
//     len = bytes.length,
//     base64 = '';

//   for (i = 0; i < len; i += 3) {
//     base64 += chars[bytes[i] >> 2];
//     base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];
//     base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];
//     base64 += chars[bytes[i + 2] & 63];
//   }

//   if (len % 3 === 2) {
//     base64 = base64.substring(0, base64.length - 1) + '=';
//   } else if (len % 3 === 1) {
//     base64 = base64.substring(0, base64.length - 2) + '==';
//   }

//   return base64;
// }

// 快一点
function encode(arrayBuffer) {
  var base64 = '';
  var bytes = new Uint8Array(arrayBuffer);
  var byteLength = bytes.byteLength;
  var byteRemainder = byteLength % 3;
  var mainLength = byteLength - byteRemainder;
  var a, b, c, d;
  var chunk;

  // Main loop deals with bytes in chunks of 3
  for (var i = 0; i < mainLength; i = i + 3) {
    // Combine the three bytes into a single integer
    chunk = bytes[i] << 16 | bytes[i + 1] << 8 | bytes[i + 2];

    // Use bitmasks to extract 6-bit segments from the triplet
    a = (chunk & 16515072) >> 18; // 16515072 = (2^6 - 1) << 18
    b = (chunk & 258048) >> 12; // 258048   = (2^6 - 1) << 12
    c = (chunk & 4032) >> 6; // 4032     = (2^6 - 1) << 6
    d = chunk & 63; // 63       = 2^6 - 1

    // Convert the raw binary segments to the appropriate ASCII encoding
    base64 += chars[a] + chars[b] + chars[c] + chars[d];
  }

  // Deal with the remaining bytes and padding
  if (byteRemainder == 1) {
    chunk = bytes[mainLength];
    a = (chunk & 252) >> 2; // 252 = (2^6 - 1) << 2

    // Set the 4 least significant bits to zero
    b = (chunk & 3) << 4; // 3   = 2^2 - 1

    base64 += chars[a] + chars[b] + '==';
  } else if (byteRemainder == 2) {
    chunk = bytes[mainLength] << 8 | bytes[mainLength + 1];
    a = (chunk & 64512) >> 10; // 64512 = (2^6 - 1) << 10
    b = (chunk & 1008) >> 4; // 1008  = (2^6 - 1) << 4

    // Set the 2 least significant bits to zero
    c = (chunk & 15) << 2; // 15    = 2^4 - 1

    base64 += chars[a] + chars[b] + chars[c] + '=';
  }
  return base64;
}
function decode(base64) {
  var bufferLength = base64.length * 0.75,
    len = base64.length,
    i,
    p = 0,
    encoded1,
    encoded2,
    encoded3,
    encoded4;
  if (base64[base64.length - 1] === '=') {
    bufferLength--;
    if (base64[base64.length - 2] === '=') {
      bufferLength--;
    }
  }
  var arraybuffer = new ArrayBuffer(bufferLength),
    bytes = new Uint8Array(arraybuffer);
  for (i = 0; i < len; i += 4) {
    encoded1 = lookup[base64.charCodeAt(i)];
    encoded2 = lookup[base64.charCodeAt(i + 1)];
    encoded3 = lookup[base64.charCodeAt(i + 2)];
    encoded4 = lookup[base64.charCodeAt(i + 3)];
    bytes[p++] = encoded1 << 2 | encoded2 >> 4;
    bytes[p++] = (encoded2 & 15) << 4 | encoded3 >> 2;
    bytes[p++] = (encoded3 & 3) << 6 | encoded4 & 63;
  }
  return arraybuffer;
}

/***/ }),

/***/ 204:
/*!*******************************************************!*\
  !*** /Users/lisicheng/project/lijian/mixins/order.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(wx, uni) {

var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _regenerator = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/regenerator */ 30));
var _asyncToGenerator2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ 32));
var _order = __webpack_require__(/*! @/api/order */ 175);
var _tools = __webpack_require__(/*! @/utils/tools */ 50);
var _store = _interopRequireDefault(__webpack_require__(/*! @/store */ 40));
// 订单Mixins

var OrderMixin = {
  data: function data() {
    return {
      // 订单按钮组
      ButtonsMap: {
        payment: {
          event: 'payment',
          name: '立即付款',
          style: 'primary'
        },
        succeed: {
          event: 'succeed',
          name: '确认收货',
          style: 'normal'
        },
        evaluate: {
          event: 'evaluate',
          name: '去评价',
          style: 'normal'
        },
        content: {
          event: 'content',
          name: '查看内容',
          style: 'muted'
        },
        express: {
          event: 'express',
          name: '查看物流',
          style: 'muted'
        },
        close: {
          event: 'close',
          name: '取消订单',
          style: 'muted'
        },
        delete: {
          event: 'delete',
          name: '删除订单',
          style: 'muted'
        },
        pickup: {
          event: 'pickup',
          name: '查看提货码',
          style: 'normal'
        }
      }
    };
  },
  methods: {
    // 获取订单状态按钮组
    getOrderStatusButtons: function getOrderStatusButtons(buttonStatus) {
      var buttons = [];

      // 删除
      buttonStatus.delete_btn && buttons.push(this.ButtonsMap['delete']);
      // 取消
      buttonStatus.cancel_btn && buttons.push(this.ButtonsMap['close']);

      // 查看内容
      buttonStatus.content_btn && buttons.push(this.ButtonsMap['content']);
      // 物流
      buttonStatus.delivery_btn && buttons.push(this.ButtonsMap['express']);
      // 评论
      buttonStatus.comment_btn && buttons.push(this.ButtonsMap['evaluate']);
      // 收货
      buttonStatus.confirm_btn && buttons.push(this.ButtonsMap['succeed']);
      // 提货码
      buttonStatus.pickup_btn && buttons.push(this.ButtonsMap['pickup']);
      // 支付
      buttonStatus.pay_btn && buttons.push(this.ButtonsMap['payment']);
      return buttons;
    },
    // 点击订单按钮映射处理方法
    onOrderButtons: function onOrderButtons(event, orderID, pay_way) {
      switch (event) {
        case 'payment':
          return this.handlePayment(orderID);
        case 'succeed':
          return this.handleSucceed(orderID, pay_way);
        case 'evaluate':
          return this.handleEvaluate(orderID);
        case 'express':
          return this.handleExpress(orderID);
        case 'close':
          return this.handleClose(orderID);
        case 'delete':
          return this.handleDelete(orderID);
        case 'pickup':
          return this.handlePickup(orderID);
        case 'content':
          return this.handleContent(orderID);
      }
    },
    // 刷新订单数据
    refreshOrderData: function refreshOrderData() {
      throw new Error('未初始化刷新方法');
    },
    // 处理：支付
    handlePayment: function handlePayment(orderID) {
      this.$Router.push({
        path: "/pages/payment/payment",
        query: {
          from: 'order',
          order_id: orderID
        }
      });
    },
    // 小程序确认收货
    comfirmReceive: function comfirmReceive(transaction_id) {
      return new Promise(function (resolve, reject) {
        wx.openBusinessView({
          businessType: 'weappOrderConfirm',
          extraData: {
            transaction_id: transaction_id
          },
          success: function success(_ref) {
            var extraData = _ref.extraData;
            if (extraData.status == 'success') {
              resolve('确认收货');
            } else {
              resolve('取消收货');
            }
          },
          fail: function fail(err) {
            reject(err);
          }
        });
      });
    },
    //查询是否收货成功
    querycomfirmReceive: function querycomfirmReceive(id) {
      return new Promise(function (resolve, reject) {
        (0, _order.getwechatSyncCheck)({
          id: id
        }).then(function (data) {
          if (data.order.order_state === 4) {
            resolve('已确认收货');
          } else {
            reject('未确认收货');
          }
        }).catch(function (err) {
          reject(err);
        });
      });
    },
    // 处理：确认收货
    handleSucceed: function handleSucceed(orderID, pay_way) {
      var _this = this;
      return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee() {
        var res, _yield$getwxReceiveDe, transaction_id;
        return _regenerator.default.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                console.log(pay_way);
                if (!_store.default.state.app.config.mini_express_send_sync) {
                  _context.next = 30;
                  break;
                }
                res = {};
                if (!(pay_way === 2)) {
                  _context.next = 7;
                  break;
                }
                _context.next = 6;
                return (0, _order.getwechatSyncCheck)({
                  id: orderID
                });
              case 6:
                res = _context.sent;
              case 7:
                if (!((0, _tools.compareWeChatVersion)('2.6.0') === 1 && wx.openBusinessView && pay_way === 2 && res.order.order_state !== 1)) {
                  _context.next = 27;
                  break;
                }
                _context.prev = 8;
                _context.next = 11;
                return (0, _order.getwxReceiveDetail)({
                  order_id: orderID
                });
              case 11:
                _yield$getwxReceiveDe = _context.sent;
                transaction_id = _yield$getwxReceiveDe.transaction_id;
                _context.next = 15;
                return _this.comfirmReceive(transaction_id);
              case 15:
                _context.next = 17;
                return _this.querycomfirmReceive(orderID);
              case 17:
                _context.next = 19;
                return (0, _order.apiOrderConfirm)({
                  id: orderID
                });
              case 19:
                _context.next = 24;
                break;
              case 21:
                _context.prev = 21;
                _context.t0 = _context["catch"](8);
                console.log(_context.t0);
              case 24:
                _this.refreshOrderData();
                _context.next = 28;
                break;
              case 27:
                uni.showModal({
                  title: '温馨提示',
                  content: '是否确认收货?',
                  confirmColor: _this.themeColor,
                  success: function success(_ref2) {
                    var confirm = _ref2.confirm;
                    if (!confirm) return;
                    // uni.showLoading()
                    // 取消订单
                    (0, _order.apiOrderConfirm)({
                      id: orderID
                    }).then(function (data) {
                      _this.$toast({
                        title: '收货成功'
                      });
                      _this.refreshOrderData();
                    }).catch(function (err) {
                      console.log(err);
                    }).finally(function () {
                      // uni.hideLoading()
                    });
                  }
                });
              case 28:
                _context.next = 31;
                break;
              case 30:
                uni.showModal({
                  title: '温馨提示',
                  content: '是否确认收货?',
                  confirmColor: _this.themeColor,
                  success: function success(_ref3) {
                    var confirm = _ref3.confirm;
                    if (!confirm) return;
                    // uni.showLoading()
                    // 取消订单
                    (0, _order.apiOrderConfirm)({
                      id: orderID
                    }).then(function (data) {
                      _this.$toast({
                        title: '收货成功'
                      });
                      _this.refreshOrderData();
                    }).catch(function (err) {
                      console.log(err);
                    }).finally(function () {
                      // uni.hideLoading()
                    });
                  }
                });
              case 31:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, null, [[8, 21]]);
      }))();
    },
    handleContent: function handleContent(orderID) {
      this.$Router.push({
        path: "/pages/order_detail/order_detail",
        query: {
          order_id: orderID
        }
      });
    },
    // 处理：去评价
    handleEvaluate: function handleEvaluate(orderID) {
      this.$Router.push({
        path: '/bundle/pages/goods_comment/goods_comment'
      });
    },
    // 处理：查看物流
    handleExpress: function handleExpress(orderID) {
      this.$Router.push({
        path: '/bundle/pages/order_logistics/order_logistics',
        query: {
          order_id: orderID
        }
      });
    },
    // 处理：关闭订单
    handleClose: function handleClose(orderID) {
      var _this2 = this;
      uni.showModal({
        title: '温馨提示',
        content: '是否取消订单?',
        confirmColor: this.themeColor,
        success: function success(_ref4) {
          var confirm = _ref4.confirm;
          if (!confirm) return;
          // uni.showLoading()
          // 取消订单
          (0, _order.apiOrderClose)({
            id: orderID
          }).then(function (data) {
            _this2.$toast({
              title: '取消成功'
            });
            _this2.refreshOrderData();
          }).catch(function (err) {
            console.log(err);
          }).finally(function () {
            // uni.hideLoading()
          });
        }
      });
    },
    // 处理：删除订单
    handleDelete: function handleDelete(orderID) {
      var _this3 = this;
      uni.showModal({
        title: '温馨提示',
        content: '是否删除订单?',
        confirmColor: this.themeColor,
        success: function success(_ref5) {
          var confirm = _ref5.confirm;
          if (!confirm) return;
          // uni.showLoading()
          // 取消订单
          (0, _order.apiOrderDelete)({
            id: orderID
          }).then(function (data) {
            _this3.$toast({
              title: '删除成功'
            });
            _this3.refreshOrderData();
          }).catch(function (err) {
            console.log(err);
          }).finally(function () {
            // uni.hideLoading()
          });
        }
      });
    },
    // 处理：查看提货码
    handlePickup: function handlePickup(orderID) {
      this.$Router.push({
        path: "/pages/order_detail/order_detail",
        query: {
          order_id: orderID
        }
      });
    }
  }
};
var _default = OrderMixin;
exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/wx.js */ 1)["default"], __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 2)["default"]))

/***/ }),

/***/ 2040:
/*!***************************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/node_modules/three-platformize/src/libs/atob.js ***!
  \***************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = atob;
/**
 * Implementation of atob() according to the HTML and Infra specs, except that
 * instead of throwing INVALID_CHARACTER_ERR we return null.
 */
function atob(data) {
  // Web IDL requires DOMStrings to just be converted using ECMAScript
  // ToString, which in our case amounts to using a template literal.
  data = "".concat(data);
  // "Remove all ASCII whitespace from data."
  data = data.replace(/[ \t\n\f\r]/g, '');
  // "If data's length divides by 4 leaving no remainder, then: if data ends
  // with one or two U+003D (=) code points, then remove them from data."
  if (data.length % 4 === 0) {
    data = data.replace(/==?$/, '');
  }
  // "If data's length divides by 4 leaving a remainder of 1, then return
  // failure."
  //
  // "If data contains a code point that is not one of
  //
  // U+002B (+)
  // U+002F (/)
  // ASCII alphanumeric
  //
  // then return failure."
  if (data.length % 4 === 1 || /[^+/0-9A-Za-z]/.test(data)) {
    return null;
  }
  // "Let output be an empty byte sequence."
  var output = '';
  // "Let buffer be an empty buffer that can have bits appended to it."
  //
  // We append bits via left-shift and or.  accumulatedBits is used to track
  // when we've gotten to 24 bits.
  var buffer = 0;
  var accumulatedBits = 0;
  // "Let position be a position variable for data, initially pointing at the
  // start of data."
  //
  // "While position does not point past the end of data:"
  for (var i = 0; i < data.length; i++) {
    // "Find the code point pointed to by position in the second column of
    // Table 1: The Base 64 Alphabet of RFC 4648. Let n be the number given in
    // the first cell of the same row.
    //
    // "Append to buffer the six bits corresponding to n, most significant bit
    // first."
    //
    // atobLookup() implements the table from RFC 4648.
    buffer <<= 6;
    buffer |= atobLookup(data[i]);
    accumulatedBits += 6;
    // "If buffer has accumulated 24 bits, interpret them as three 8-bit
    // big-endian numbers. Append three bytes with values equal to those
    // numbers to output, in the same order, and then empty buffer."
    if (accumulatedBits === 24) {
      output += String.fromCharCode((buffer & 0xff0000) >> 16);
      output += String.fromCharCode((buffer & 0xff00) >> 8);
      output += String.fromCharCode(buffer & 0xff);
      buffer = accumulatedBits = 0;
    }
    // "Advance position by 1."
  }
  // "If buffer is not empty, it contains either 12 or 18 bits. If it contains
  // 12 bits, then discard the last four and interpret the remaining eight as
  // an 8-bit big-endian number. If it contains 18 bits, then discard the last
  // two and interpret the remaining 16 as two 8-bit big-endian numbers. Append
  // the one or two bytes with values equal to those one or two numbers to
  // output, in the same order."
  if (accumulatedBits === 12) {
    buffer >>= 4;
    output += String.fromCharCode(buffer);
  } else if (accumulatedBits === 18) {
    buffer >>= 2;
    output += String.fromCharCode((buffer & 0xff00) >> 8);
    output += String.fromCharCode(buffer & 0xff);
  }
  // "Return output."
  return output;
}
/**
 * A lookup table for atob(), which converts an ASCII character to the
 * corresponding six-bit number.
 */

var keystr = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';
function atobLookup(chr) {
  var index = keystr.indexOf(chr);
  // Throw exception if character is not in the lookup string; should not be hit in tests
  return index < 0 ? undefined : index;
}

/***/ }),

/***/ 2041:
/*!**********************************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/node_modules/three-platformize/src/libs/EventTarget.js ***!
  \**********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.Touch = void 0;
var _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ 24));
var _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ 23));
var _events = new WeakMap();
var Touch = /*#__PURE__*/(0, _createClass2.default)(function Touch(touch) {
  (0, _classCallCheck2.default)(this, Touch);
  // CanvasTouch{identifier, x, y}
  // Touch{identifier, pageX, pageY, clientX, clientY, force}
  this.identifier = touch.identifier;
  this.force = touch.force === undefined ? 1 : touch.force;
  this.pageX = touch.pageX === undefined ? touch.x : touch.pageX;
  this.pageY = touch.pageY === undefined ? touch.y : touch.pageY;
  this.clientX = touch.clientX === undefined ? touch.x : touch.clientX;
  this.clientY = touch.clientY === undefined ? touch.y : touch.clientY;
  this.screenX = this.pageX;
  this.screenY = this.pageY;
});
exports.Touch = Touch;
var EventTarget = /*#__PURE__*/function () {
  function EventTarget() {
    (0, _classCallCheck2.default)(this, EventTarget);
    _events.set(this, {});
  }
  (0, _createClass2.default)(EventTarget, [{
    key: "addEventListener",
    value: function addEventListener(type, listener) {
      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
      var events = _events.get(this);
      if (!events) {
        events = {};
        _events.set(this, events);
      }
      if (!events[type]) {
        events[type] = [];
      }
      events[type].push(listener);
      if (options.capture) {
        // console.warn('EventTarget.addEventListener: options.capture is not implemented.')
      }
      if (options.once) {
        // console.warn('EventTarget.addEventListener: options.once is not implemented.')
      }
      if (options.passive) {
        // console.warn('EventTarget.addEventListener: options.passive is not implemented.')
      }
    }
  }, {
    key: "removeEventListener",
    value: function removeEventListener(type, listener) {
      var events = _events.get(this);
      if (events) {
        var listeners = events[type];
        if (listeners && listeners.length > 0) {
          for (var i = listeners.length; i--; i > 0) {
            if (listeners[i] === listener) {
              listeners.splice(i, 1);
              break;
            }
          }
        }
      }
    }
  }, {
    key: "dispatchEvent",
    value: function dispatchEvent() {
      var event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
      if (typeof event.preventDefault !== 'function') {
        event.preventDefault = function () {};
      }
      if (typeof event.stopPropagation !== 'function') {
        event.stopPropagation = function () {};
      }
      var events = _events.get(this);
      if (events) {
        var listeners = events[event.type];
        if (listeners) {
          for (var i = 0; i < listeners.length; i++) {
            listeners[i](event);
          }
        }
      }
    }
  }, {
    key: "releasePointerCapture",
    value: function releasePointerCapture() {}
  }, {
    key: "setPointerCapture",
    value: function setPointerCapture() {}
  }]);
  return EventTarget;
}();
exports.default = EventTarget;

/***/ }),

/***/ 2042:
/*!***********************************************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/node_modules/three-platformize/src/WechatPlatform/XMLHttpRequest.js ***!
  \***********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(wx) {

var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ 23));
var _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ 24));
var _assertThisInitialized2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ 2033));
var _inherits2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/inherits */ 2034));
var _possibleConstructorReturn2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ 2035));
var _getPrototypeOf2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ 2032));
var _EventTarget2 = _interopRequireDefault(__webpack_require__(/*! ../libs/EventTarget.js */ 2041));
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
var _requestHeader = new WeakMap();
var _responseHeader = new WeakMap();
var _requestTask = new WeakMap();
function _triggerEvent(type) {
  var event = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  event.target = event.target || this;
  if (typeof this["on".concat(type)] === 'function') {
    this["on".concat(type)].call(this, event);
  }
}
function _changeReadyState(readyState) {
  var event = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  this.readyState = readyState;
  event.readyState = readyState;
  _triggerEvent.call(this, 'readystatechange', event);
}
function _isRelativePath(url) {
  return !/^(http|https|ftp|wxfile):\/\/.*/i.test(url);
}
var _wx$getSystemInfoSync = wx.getSystemInfoSync(),
  platform = _wx$getSystemInfoSync.platform;
var $XMLHttpRequest = /*#__PURE__*/function (_EventTarget) {
  (0, _inherits2.default)($XMLHttpRequest, _EventTarget);
  var _super = _createSuper($XMLHttpRequest);
  function $XMLHttpRequest() {
    var _this;
    (0, _classCallCheck2.default)(this, $XMLHttpRequest);
    _this = _super.call(this);

    /*
     * TODO 这一批事件应该是在 XMLHttpRequestEventTarget.prototype 上面的
     */
    _this.onabort = null;
    _this.onerror = null;
    _this.onload = null;
    _this.onloadstart = null;
    _this.onprogress = null;
    _this.ontimeout = null;
    _this.onloadend = null;
    _this.onreadystatechange = null;
    _this.readyState = 0;
    _this.response = null;
    _this.responseText = null;
    _this.responseType = 'text';
    _this.dataType = 'string';
    _this.responseXML = null;
    _this.status = 0;
    _this.statusText = '';
    _this.upload = {};
    _this.withCredentials = false;
    _requestHeader.set((0, _assertThisInitialized2.default)(_this), {
      'content-type': 'application/x-www-form-urlencoded'
    });
    _responseHeader.set((0, _assertThisInitialized2.default)(_this), {});
    return _this;
  }
  (0, _createClass2.default)($XMLHttpRequest, [{
    key: "abort",
    value: function abort() {
      var myRequestTask = _requestTask.get(this);
      if (myRequestTask) {
        myRequestTask.abort();
      }
    }
  }, {
    key: "getAllResponseHeaders",
    value: function getAllResponseHeaders() {
      var responseHeader = _responseHeader.get(this);
      return Object.keys(responseHeader).map(function (header) {
        return "".concat(header, ": ").concat(responseHeader[header]);
      }).join('\n');
    }
  }, {
    key: "getResponseHeader",
    value: function getResponseHeader(header) {
      return _responseHeader.get(this)[header];
    }
  }, {
    key: "open",
    value: function open(method, url /* async, user, password 这几个参数在小程序内不支持*/) {
      this._method = method;
      this._url = url;
      _changeReadyState.call(this, $XMLHttpRequest.OPENED);
    }
  }, {
    key: "overrideMimeType",
    value: function overrideMimeType() {}
  }, {
    key: "send",
    value: function send() {
      var _this2 = this;
      var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
      if (this.readyState !== $XMLHttpRequest.OPENED) {
        throw new Error("Failed to execute 'send' on 'XMLHttpRequest': The object's state must be OPENED.");
      } else {
        var url = this._url;
        var header = _requestHeader.get(this);
        var responseType = this.responseType;
        var dataType = this.dataType;
        var relative = _isRelativePath(url);
        var encoding;
        if (responseType === 'arraybuffer') {
          // encoding = 'binary'
        } else {
          encoding = 'utf8';
        }
        delete this.response;
        this.response = null;
        var resolved = false;
        var onSuccess = function onSuccess(_ref) {
          var data = _ref.data,
            statusCode = _ref.statusCode,
            header = _ref.header;
          // console.log('onSuccess', url)
          if (resolved) return;
          resolved = true;
          statusCode = statusCode === undefined ? 200 : statusCode;
          if (typeof data !== 'string' && !(data instanceof ArrayBuffer)) {
            try {
              data = JSON.stringify(data);
            } catch (e) {}
          }
          _this2.status = statusCode;
          if (header) {
            _responseHeader.set(_this2, header);
          }
          _triggerEvent.call(_this2, 'loadstart');
          _changeReadyState.call(_this2, $XMLHttpRequest.HEADERS_RECEIVED);
          _changeReadyState.call(_this2, $XMLHttpRequest.LOADING);
          _this2.response = data;
          if (data instanceof ArrayBuffer) {
            Object.defineProperty(_this2, 'responseText', {
              enumerable: true,
              configurable: true,
              get: function get() {
                throw 'InvalidStateError : responseType is ' + this.responseType;
              }
            });
          } else {
            _this2.responseText = data;
          }
          _changeReadyState.call(_this2, $XMLHttpRequest.DONE);
          _triggerEvent.call(_this2, 'load');
          _triggerEvent.call(_this2, 'loadend');
        };
        var onFail = function onFail(_ref2) {
          var errMsg = _ref2.errMsg;
          // TODO 规范错误
          if (resolved) return;
          resolved = true;
          if (errMsg.indexOf('abort') !== -1) {
            _triggerEvent.call(_this2, 'abort');
          } else {
            _triggerEvent.call(_this2, 'error', {
              message: errMsg
            });
          }
          _triggerEvent.call(_this2, 'loadend');
          if (relative) {
            // 用户即使没监听error事件, 也给出相应的警告
            console.warn(errMsg);
          }
        };
        if (relative) {
          var fs = wx.getFileSystemManager();
          var options = {
            filePath: url,
            success: onSuccess,
            fail: onFail
          };
          if (encoding) {
            options['encoding'] = encoding;
          }
          fs.readFile(options);
          return;
        }

        // IOS在某些情况下不会触发onSuccess...
        var usePatch = responseType === 'arraybuffer' && platform === 'ios' && $XMLHttpRequest.useFetchPatch;
        wx.request({
          data: data,
          url: url,
          method: this._method,
          header: header,
          dataType: dataType,
          responseType: responseType,
          enableCache: false,
          success: onSuccess,
          // success: usePatch ? undefined : onSuccess,
          fail: onFail
        });
        if (usePatch) {
          setTimeout(function () {
            wx.request({
              data: data,
              url: url,
              method: this._method,
              header: header,
              dataType: dataType,
              responseType: responseType,
              enableCache: true,
              success: onSuccess,
              fail: onFail
            });
          }, $XMLHttpRequest.fetchPatchDelay);
        }
      }
    }
  }, {
    key: "setRequestHeader",
    value: function setRequestHeader(header, value) {
      var myHeader = _requestHeader.get(this);
      myHeader[header] = value;
      _requestHeader.set(this, myHeader);
    }
  }, {
    key: "addEventListener",
    value: function addEventListener(type, listener) {
      var _this3 = this;
      if (typeof listener !== 'function') {
        return;
      }
      this['on' + type] = function () {
        var event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
        event.target = event.target || _this3;
        listener.call(_this3, event);
      };
    }
  }, {
    key: "removeEventListener",
    value: function removeEventListener(type, listener) {
      if (this['on' + type] === listener) {
        this['on' + type] = null;
      }
    }
  }]);
  return $XMLHttpRequest;
}(_EventTarget2.default); // TODO 没法模拟 HEADERS_RECEIVED 和 LOADING 两个状态
exports.default = $XMLHttpRequest;
$XMLHttpRequest.UNSEND = 0;
$XMLHttpRequest.OPENED = 1;
$XMLHttpRequest.HEADERS_RECEIVED = 2;
$XMLHttpRequest.LOADING = 3;
$XMLHttpRequest.DONE = 4;

// 某些情况下IOS会不success不触发。。。
$XMLHttpRequest.useFetchPatch = false;
$XMLHttpRequest.fetchPatchDelay = 200;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/wx.js */ 1)["default"]))

/***/ }),

/***/ 2043:
/*!*************************************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/node_modules/three-platformize/src/libs/copyProperties.js ***!
  \*************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = copyProperties;
function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }
function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }
function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }
function copyProperties(target, source) {
  var _iterator = _createForOfIteratorHelper(Object.getOwnPropertyNames(source)),
    _step;
  try {
    for (_iterator.s(); !(_step = _iterator.n()).done;) {
      var key = _step.value;
      if (key !== 'constructor' && key !== 'prototype' && key !== 'name') {
        var desc = Object.getOwnPropertyDescriptor(source, key);
        Object.defineProperty(target, key, desc);
      }
    }
  } catch (err) {
    _iterator.e(err);
  } finally {
    _iterator.f();
  }
}

/***/ }),

/***/ 2044:
/*!********************************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/node_modules/three-platformize/src/libs/DOMParser.js ***!
  \********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.$DOMParser = void 0;
var _slicedToArray2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ 5));
var _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ 23));
var _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ 24));
var _xmlParser = _interopRequireDefault(__webpack_require__(/*! ./xml-parser */ 2045));
function walkTree(node, processer) {
  processer(node);
  node.children.forEach(function (i) {
    return walkTree(i, processer);
  });
}
var $DOMParser = /*#__PURE__*/function () {
  function $DOMParser() {
    (0, _classCallCheck2.default)(this, $DOMParser);
  }
  (0, _createClass2.default)($DOMParser, [{
    key: "parseFromString",
    value: function parseFromString(str) {
      var xml = (0, _xmlParser.default)(str);
      var nodeBase = {
        hasAttribute: function hasAttribute(key) {
          return this.attributes[key] !== undefined;
        },
        getAttribute: function getAttribute(key) {
          return this.attributes[key];
        },
        getElementsByTagName: function getElementsByTagName(tag) {
          // 看了dae的文件结构，xml的节点不算庞大，所以还能接受
          var result = [];
          this.childNodes.forEach(function (i) {
            return walkTree(i, function (node) {
              return tag === node.name && result.push(node);
            });
          });
          return result;
        }
      };

      // patch xml
      walkTree(xml.root, function (node) {
        node.nodeType = 1;
        node.nodeName = node.name;
        node.style = new Proxy((node.attributes.style || '').split(';').reduce(function (acc, curr) {
          if (curr) {
            var _curr$split = curr.split(':'),
              _curr$split2 = (0, _slicedToArray2.default)(_curr$split, 2),
              key = _curr$split2[0],
              value = _curr$split2[1];
            acc[key.trim()] = value.trim();
          }
          return acc;
        }, {}), {
          get: function get(target, key) {
            return target[key] || '';
          }
        });
        node.textContent = node.content;
        node.childNodes = node.children;
        node.__proto__ = nodeBase;
      });
      var out = {
        documentElement: xml.root,
        childNodes: [xml.root]
      };
      out.__proto__ = nodeBase;
      return out;
    }
  }]);
  return $DOMParser;
}();
exports.$DOMParser = $DOMParser;

/***/ }),

/***/ 2045:
/*!*********************************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/node_modules/three-platformize/src/libs/xml-parser.js ***!
  \*********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
/**
 * Module dependencies.
 */

/**
 * Expose `parse`.
 */

/**
 * Parse the given string of `xml`.
 *
 * @param {String} xml
 * @return {Object}
 * @api public
 */

function parse(xml) {
  xml = xml.trim();

  // strip comments
  xml = xml.replace(/<!--[\s\S]*?-->/g, '');
  return document();

  /**
   * XML document.
   */

  function document() {
    return {
      declaration: declaration(),
      root: tag()
    };
  }

  /**
   * Declaration.
   */

  function declaration() {
    var m = match(/^<\?xml\s*/);
    if (!m) return;

    // tag
    var node = {
      attributes: {}
    };

    // attributes
    while (!(eos() || is('?>'))) {
      var attr = attribute();
      if (!attr) return node;
      node.attributes[attr.name] = attr.value;
    }
    match(/\?>\s*/);

    // remove DOCTYPE
    // <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" 
    //      "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
    match(/<!DOCTYPE[^>]*>\s/);
    return node;
  }

  /**
   * Tag.
   */

  function tag() {
    var m = match(/^<([\w-:.]+)\s*/);
    if (!m) return;

    // name
    var node = {
      name: m[1],
      attributes: {},
      children: []
    };

    // attributes
    while (!(eos() || is('>') || is('?>') || is('/>'))) {
      var attr = attribute();
      if (!attr) return node;
      node.attributes[attr.name] = attr.value;
    }

    // self closing tag
    if (match(/^\s*\/>\s*/)) {
      return node;
    }
    match(/\??>\s*/);

    // @ts-ignore content
    node.content = content();

    // children
    var child;
    while (child = tag()) {
      node.children.push(child);
    }

    // closing
    match(/^<\/[\w-:.]+>\s*/);
    return node;
  }

  /**
   * Text content.
   */

  function content() {
    var m = match(/^([^<]*)/);
    if (m) return m[1];
    return '';
  }

  /**
   * Attribute.
   */

  function attribute() {
    var m = match(/([\w:-]+)\s*=\s*("[^"]*"|'[^']*'|\w+)\s*/);
    if (!m) return;
    return {
      name: m[1],
      value: strip(m[2])
    };
  }

  /**
   * Strip quotes from `val`.
   */

  function strip(val) {
    return val.replace(/^['"]|['"]$/g, '');
  }

  /**
   * Match `re` and advance the string.
   */

  function match(re) {
    var m = xml.match(re);
    if (!m) return;
    xml = xml.slice(m[0].length);
    return m;
  }

  /**
   * End-of-source.
   */

  function eos() {
    return xml.length == 0;
  }

  /**
   * Check for `prefix`.
   */

  function is(prefix) {
    return xml.indexOf(prefix) == 0;
  }
}
var _default = parse;
exports.default = _default;

/***/ }),

/***/ 2046:
/*!**********************************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/node_modules/three-platformize/src/libs/TextDecoder.js ***!
  \**********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.$TextDecoder = void 0;
var _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ 23));
var _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ 24));
var $TextDecoder = /*#__PURE__*/function () {
  function $TextDecoder() {
    (0, _classCallCheck2.default)(this, $TextDecoder);
  }
  (0, _createClass2.default)($TextDecoder, [{
    key: "decode",
    value:
    /**
     * 不支持 UTF-8 code points 大于 1 字节
     * @see https://stackoverflow.com/questions/17191945/conversion-between-utf-8-arraybuffer-and-string
     * @param {Uint8Array|ArrayBuffer} uint8Array
     */
    function decode(uint8Array) {
      if (uint8Array instanceof ArrayBuffer) uint8Array = new Uint8Array(uint8Array);

      // from LoaderUtils.js
      var s = '';

      // Implicitly assumes little-endian.
      for (var i = 0, il = uint8Array.length; i < il; i++) {
        s += String.fromCharCode(uint8Array[i]);
      }
      try {
        // merges multi-byte utf-8 characters.
        return decodeURIComponent(escape(s));
      } catch (e) {
        // see #16358
        return s;
      }
      // return String.fromCharCode.apply(null, uint8Array);
    }
  }]);
  return $TextDecoder;
}();
exports.$TextDecoder = $TextDecoder;

/***/ }),

/***/ 2047:
/*!*********************************************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/node_modules/three-platformize/examples/jsm/loaders/RGBELoader.js ***!
  \*********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.RGBELoader = void 0;
var _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ 23));
var _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ 24));
var _get2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/get */ 2030));
var _inherits2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/inherits */ 2034));
var _possibleConstructorReturn2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ 2035));
var _getPrototypeOf2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ 2032));
var _threeModule = __webpack_require__(/*! ../../../build/three.module.js */ 2029);
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
// https://github.com/mrdoob/three.js/issues/5552
// http://en.wikipedia.org/wiki/RGBE_image_format
var RGBELoader = /*#__PURE__*/function (_DataTextureLoader) {
  (0, _inherits2.default)(RGBELoader, _DataTextureLoader);
  var _super = _createSuper(RGBELoader);
  function RGBELoader(manager) {
    var _this;
    (0, _classCallCheck2.default)(this, RGBELoader);
    _this = _super.call(this, manager);
    _this.type = _threeModule.HalfFloatType;
    return _this;
  }

  // adapted from http://www.graphics.cornell.edu/~bjw/rgbe.html
  (0, _createClass2.default)(RGBELoader, [{
    key: "parse",
    value: function parse(buffer) {
      var /* return codes for rgbe routines */
        //RGBE_RETURN_SUCCESS = 0,
        RGBE_RETURN_FAILURE = -1,
        /* default error routine.  change this to change error handling */
        rgbe_read_error = 1,
        rgbe_write_error = 2,
        rgbe_format_error = 3,
        rgbe_memory_error = 4,
        rgbe_error = function rgbe_error(rgbe_error_code, msg) {
          switch (rgbe_error_code) {
            case rgbe_read_error:
              console.error('THREE.RGBELoader Read Error: ' + (msg || ''));
              break;
            case rgbe_write_error:
              console.error('THREE.RGBELoader Write Error: ' + (msg || ''));
              break;
            case rgbe_format_error:
              console.error('THREE.RGBELoader Bad File Format: ' + (msg || ''));
              break;
            default:
            case rgbe_memory_error:
              console.error('THREE.RGBELoader: Error: ' + (msg || ''));
          }
          return RGBE_RETURN_FAILURE;
        },
        /* offsets to red, green, and blue components in a data (float) pixel */
        //RGBE_DATA_RED = 0,
        //RGBE_DATA_GREEN = 1,
        //RGBE_DATA_BLUE = 2,

        /* number of floats per pixel, use 4 since stored in rgba image format */
        //RGBE_DATA_SIZE = 4,

        /* flags indicating which fields in an rgbe_header_info are valid */
        RGBE_VALID_PROGRAMTYPE = 1,
        RGBE_VALID_FORMAT = 2,
        RGBE_VALID_DIMENSIONS = 4,
        NEWLINE = '\n',
        fgets = function fgets(buffer, lineLimit, consume) {
          var chunkSize = 128;
          lineLimit = !lineLimit ? 1024 : lineLimit;
          var p = buffer.pos,
            i = -1,
            len = 0,
            s = '',
            chunk = String.fromCharCode.apply(null, new Uint16Array(buffer.subarray(p, p + chunkSize)));
          while (0 > (i = chunk.indexOf(NEWLINE)) && len < lineLimit && p < buffer.byteLength) {
            s += chunk;
            len += chunk.length;
            p += chunkSize;
            chunk += String.fromCharCode.apply(null, new Uint16Array(buffer.subarray(p, p + chunkSize)));
          }
          if (-1 < i) {
            /*for (i=l-1; i>=0; i--) {
            	byteCode = m.charCodeAt(i);
            	if (byteCode > 0x7f && byteCode <= 0x7ff) byteLen++;
            	else if (byteCode > 0x7ff && byteCode <= 0xffff) byteLen += 2;
            	if (byteCode >= 0xDC00 && byteCode <= 0xDFFF) i--; //trail surrogate
            }*/
            if (false !== consume) buffer.pos += len + i + 1;
            return s + chunk.slice(0, i);
          }
          return false;
        },
        /* minimal header reading.  modify if you want to parse more information */
        RGBE_ReadHeader = function RGBE_ReadHeader(buffer) {
          // regexes to parse header info fields
          var magic_token_re = /^#\?(\S+)/,
            gamma_re = /^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,
            exposure_re = /^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,
            format_re = /^\s*FORMAT=(\S+)\s*$/,
            dimensions_re = /^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,
            // RGBE format header struct
            header = {
              valid: 0,
              /* indicate which fields are valid */

              string: '',
              /* the actual header string */

              comments: '',
              /* comments found in header */

              programtype: 'RGBE',
              /* listed at beginning of file to identify it after "#?". defaults to "RGBE" */

              format: '',
              /* RGBE format, default 32-bit_rle_rgbe */

              gamma: 1.0,
              /* image has already been gamma corrected with given gamma. defaults to 1.0 (no correction) */

              exposure: 1.0,
              /* a value of 1.0 in an image corresponds to <exposure> watts/steradian/m^2. defaults to 1.0 */

              width: 0,
              height: 0 /* image dimensions, width/height */
            };

          var line, match;
          if (buffer.pos >= buffer.byteLength || !(line = fgets(buffer))) {
            return rgbe_error(rgbe_read_error, 'no header found');
          }

          /* if you want to require the magic token then uncomment the next line */
          if (!(match = line.match(magic_token_re))) {
            return rgbe_error(rgbe_format_error, 'bad initial token');
          }
          header.valid |= RGBE_VALID_PROGRAMTYPE;
          header.programtype = match[1];
          header.string += line + '\n';
          while (true) {
            line = fgets(buffer);
            if (false === line) break;
            header.string += line + '\n';
            if ('#' === line.charAt(0)) {
              header.comments += line + '\n';
              continue; // comment line
            }

            if (match = line.match(gamma_re)) {
              header.gamma = parseFloat(match[1], 10);
            }
            if (match = line.match(exposure_re)) {
              header.exposure = parseFloat(match[1], 10);
            }
            if (match = line.match(format_re)) {
              header.valid |= RGBE_VALID_FORMAT;
              header.format = match[1]; //'32-bit_rle_rgbe';
            }

            if (match = line.match(dimensions_re)) {
              header.valid |= RGBE_VALID_DIMENSIONS;
              header.height = parseInt(match[1], 10);
              header.width = parseInt(match[2], 10);
            }
            if (header.valid & RGBE_VALID_FORMAT && header.valid & RGBE_VALID_DIMENSIONS) break;
          }
          if (!(header.valid & RGBE_VALID_FORMAT)) {
            return rgbe_error(rgbe_format_error, 'missing format specifier');
          }
          if (!(header.valid & RGBE_VALID_DIMENSIONS)) {
            return rgbe_error(rgbe_format_error, 'missing image size specifier');
          }
          return header;
        },
        RGBE_ReadPixels_RLE = function RGBE_ReadPixels_RLE(buffer, w, h) {
          var scanline_width = w;
          if (
          // run length encoding is not allowed so read flat
          scanline_width < 8 || scanline_width > 0x7fff ||
          // this file is not run length encoded
          2 !== buffer[0] || 2 !== buffer[1] || buffer[2] & 0x80) {
            // return the flat buffer
            return new Uint8Array(buffer);
          }
          if (scanline_width !== (buffer[2] << 8 | buffer[3])) {
            return rgbe_error(rgbe_format_error, 'wrong scanline width');
          }
          var data_rgba = new Uint8Array(4 * w * h);
          if (!data_rgba.length) {
            return rgbe_error(rgbe_memory_error, 'unable to allocate buffer space');
          }
          var offset = 0,
            pos = 0;
          var ptr_end = 4 * scanline_width;
          var rgbeStart = new Uint8Array(4);
          var scanline_buffer = new Uint8Array(ptr_end);
          var num_scanlines = h;

          // read in each successive scanline
          while (num_scanlines > 0 && pos < buffer.byteLength) {
            if (pos + 4 > buffer.byteLength) {
              return rgbe_error(rgbe_read_error);
            }
            rgbeStart[0] = buffer[pos++];
            rgbeStart[1] = buffer[pos++];
            rgbeStart[2] = buffer[pos++];
            rgbeStart[3] = buffer[pos++];
            if (2 != rgbeStart[0] || 2 != rgbeStart[1] || (rgbeStart[2] << 8 | rgbeStart[3]) != scanline_width) {
              return rgbe_error(rgbe_format_error, 'bad rgbe scanline format');
            }

            // read each of the four channels for the scanline into the buffer
            // first red, then green, then blue, then exponent
            var ptr = 0,
              count = void 0;
            while (ptr < ptr_end && pos < buffer.byteLength) {
              count = buffer[pos++];
              var isEncodedRun = count > 128;
              if (isEncodedRun) count -= 128;
              if (0 === count || ptr + count > ptr_end) {
                return rgbe_error(rgbe_format_error, 'bad scanline data');
              }
              if (isEncodedRun) {
                // a (encoded) run of the same value
                var byteValue = buffer[pos++];
                for (var i = 0; i < count; i++) {
                  scanline_buffer[ptr++] = byteValue;
                }
                //ptr += count;
              } else {
                // a literal-run
                scanline_buffer.set(buffer.subarray(pos, pos + count), ptr);
                ptr += count;
                pos += count;
              }
            }

            // now convert data from buffer into rgba
            // first red, then green, then blue, then exponent (alpha)
            var l = scanline_width; //scanline_buffer.byteLength;
            for (var _i = 0; _i < l; _i++) {
              var off = 0;
              data_rgba[offset] = scanline_buffer[_i + off];
              off += scanline_width; //1;
              data_rgba[offset + 1] = scanline_buffer[_i + off];
              off += scanline_width; //1;
              data_rgba[offset + 2] = scanline_buffer[_i + off];
              off += scanline_width; //1;
              data_rgba[offset + 3] = scanline_buffer[_i + off];
              offset += 4;
            }
            num_scanlines--;
          }
          return data_rgba;
        };
      var RGBEByteToRGBFloat = function RGBEByteToRGBFloat(sourceArray, sourceOffset, destArray, destOffset) {
        var e = sourceArray[sourceOffset + 3];
        var scale = Math.pow(2.0, e - 128.0) / 255.0;
        destArray[destOffset + 0] = sourceArray[sourceOffset + 0] * scale;
        destArray[destOffset + 1] = sourceArray[sourceOffset + 1] * scale;
        destArray[destOffset + 2] = sourceArray[sourceOffset + 2] * scale;
      };
      var RGBEByteToRGBHalf = function RGBEByteToRGBHalf(sourceArray, sourceOffset, destArray, destOffset) {
        var e = sourceArray[sourceOffset + 3];
        var scale = Math.pow(2.0, e - 128.0) / 255.0;

        // clamping to 65504, the maximum representable value in float16
        destArray[destOffset + 0] = _threeModule.DataUtils.toHalfFloat(Math.min(sourceArray[sourceOffset + 0] * scale, 65504));
        destArray[destOffset + 1] = _threeModule.DataUtils.toHalfFloat(Math.min(sourceArray[sourceOffset + 1] * scale, 65504));
        destArray[destOffset + 2] = _threeModule.DataUtils.toHalfFloat(Math.min(sourceArray[sourceOffset + 2] * scale, 65504));
      };
      var byteArray = new Uint8Array(buffer);
      byteArray.pos = 0;
      var rgbe_header_info = RGBE_ReadHeader(byteArray);
      if (RGBE_RETURN_FAILURE !== rgbe_header_info) {
        var w = rgbe_header_info.width,
          h = rgbe_header_info.height,
          image_rgba_data = RGBE_ReadPixels_RLE(byteArray.subarray(byteArray.pos), w, h);
        if (RGBE_RETURN_FAILURE !== image_rgba_data) {
          var data, format, type;
          var numElements;
          switch (this.type) {
            case _threeModule.UnsignedByteType:
              data = image_rgba_data;
              format = _threeModule.RGBEFormat; // handled as THREE.RGBAFormat in shaders
              type = _threeModule.UnsignedByteType;
              break;
            case _threeModule.FloatType:
              numElements = image_rgba_data.length / 4;
              var floatArray = new Float32Array(numElements * 3);
              for (var j = 0; j < numElements; j++) {
                RGBEByteToRGBFloat(image_rgba_data, j * 4, floatArray, j * 3);
              }
              data = floatArray;
              format = _threeModule.RGBFormat;
              type = _threeModule.FloatType;
              break;
            case _threeModule.HalfFloatType:
              numElements = image_rgba_data.length / 4;
              var halfArray = new Uint16Array(numElements * 3);
              for (var _j = 0; _j < numElements; _j++) {
                RGBEByteToRGBHalf(image_rgba_data, _j * 4, halfArray, _j * 3);
              }
              data = halfArray;
              format = _threeModule.RGBFormat;
              type = _threeModule.HalfFloatType;
              break;
            default:
              console.error('THREE.RGBELoader: unsupported type: ', this.type);
              break;
          }
          return {
            width: w,
            height: h,
            data: data,
            header: rgbe_header_info.string,
            gamma: rgbe_header_info.gamma,
            exposure: rgbe_header_info.exposure,
            format: format,
            type: type
          };
        }
      }
      return null;
    }
  }, {
    key: "setDataType",
    value: function setDataType(value) {
      this.type = value;
      return this;
    }
  }, {
    key: "load",
    value: function load(url, onLoad, onProgress, onError) {
      function onLoadCallback(texture, texData) {
        switch (texture.type) {
          case _threeModule.UnsignedByteType:
            texture.encoding = _threeModule.RGBEEncoding;
            texture.minFilter = _threeModule.NearestFilter;
            texture.magFilter = _threeModule.NearestFilter;
            texture.generateMipmaps = false;
            texture.flipY = true;
            break;
          case _threeModule.FloatType:
            texture.encoding = _threeModule.LinearEncoding;
            texture.minFilter = _threeModule.LinearFilter;
            texture.magFilter = _threeModule.LinearFilter;
            texture.generateMipmaps = false;
            texture.flipY = true;
            break;
          case _threeModule.HalfFloatType:
            texture.encoding = _threeModule.LinearEncoding;
            texture.minFilter = _threeModule.LinearFilter;
            texture.magFilter = _threeModule.LinearFilter;
            texture.generateMipmaps = false;
            texture.flipY = true;
            break;
        }
        if (onLoad) onLoad(texture, texData);
      }
      return (0, _get2.default)((0, _getPrototypeOf2.default)(RGBELoader.prototype), "load", this).call(this, url, onLoadCallback, onProgress, onError);
    }
  }]);
  return RGBELoader;
}(_threeModule.DataTextureLoader);
exports.RGBELoader = RGBELoader;

/***/ }),

/***/ 2048:
/*!*********************************************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/node_modules/three-platformize/examples/jsm/loaders/GLTFLoader.js ***!
  \*********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.GLTFLoader = void 0;
var _slicedToArray2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ 5));
var _typeof2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/typeof */ 13));
var _assertThisInitialized2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ 2033));
var _get2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/get */ 2030));
var _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ 23));
var _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ 24));
var _inherits2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/inherits */ 2034));
var _possibleConstructorReturn2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ 2035));
var _getPrototypeOf2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ 2032));
var _threeModule = __webpack_require__(/*! ../../../build/three.module.js */ 2029);
function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }
function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }
function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
var GLTFLoader = /*#__PURE__*/function (_Loader) {
  (0, _inherits2.default)(GLTFLoader, _Loader);
  var _super = _createSuper(GLTFLoader);
  function GLTFLoader(manager) {
    var _this;
    (0, _classCallCheck2.default)(this, GLTFLoader);
    _this = _super.call(this, manager);
    _this.dracoLoader = null;
    _this.ktx2Loader = null;
    _this.meshoptDecoder = null;
    _this.pluginCallbacks = [];
    _this.register(function (parser) {
      return new GLTFMaterialsClearcoatExtension(parser);
    });
    _this.register(function (parser) {
      return new GLTFTextureBasisUExtension(parser);
    });
    _this.register(function (parser) {
      return new GLTFTextureWebPExtension(parser);
    });
    _this.register(function (parser) {
      return new GLTFMaterialsTransmissionExtension(parser);
    });
    _this.register(function (parser) {
      return new GLTFMaterialsVolumeExtension(parser);
    });
    _this.register(function (parser) {
      return new GLTFMaterialsIorExtension(parser);
    });
    _this.register(function (parser) {
      return new GLTFMaterialsSpecularExtension(parser);
    });
    _this.register(function (parser) {
      return new GLTFLightsExtension(parser);
    });
    _this.register(function (parser) {
      return new GLTFMeshoptCompression(parser);
    });
    return _this;
  }
  (0, _createClass2.default)(GLTFLoader, [{
    key: "load",
    value: function load(url, onLoad, onProgress, onError) {
      var scope = this;
      var resourcePath;
      if (this.resourcePath !== '') {
        resourcePath = this.resourcePath;
      } else if (this.path !== '') {
        resourcePath = this.path;
      } else {
        resourcePath = _threeModule.LoaderUtils.extractUrlBase(url);
      }

      // Tells the LoadingManager to track an extra item, which resolves after
      // the model is fully loaded. This means the count of items loaded will
      // be incorrect, but ensures manager.onLoad() does not fire early.
      this.manager.itemStart(url);
      var _onError = function _onError(e) {
        if (onError) {
          onError(e);
        } else {
          console.error(e);
        }
        scope.manager.itemError(url);
        scope.manager.itemEnd(url);
      };
      var loader = new _threeModule.FileLoader(this.manager);
      loader.setPath(this.path);
      loader.setResponseType('arraybuffer');
      loader.setRequestHeader(this.requestHeader);
      loader.setWithCredentials(this.withCredentials);
      loader.load(url, function (data) {
        try {
          scope.parse(data, resourcePath, function (gltf) {
            onLoad(gltf);
            scope.manager.itemEnd(url);
          }, _onError);
        } catch (e) {
          _onError(e);
        }
      }, onProgress, _onError);
    }
  }, {
    key: "setDRACOLoader",
    value: function setDRACOLoader(dracoLoader) {
      this.dracoLoader = dracoLoader;
      return this;
    }
  }, {
    key: "setDDSLoader",
    value: function setDDSLoader() {
      throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".');
    }
  }, {
    key: "setKTX2Loader",
    value: function setKTX2Loader(ktx2Loader) {
      this.ktx2Loader = ktx2Loader;
      return this;
    }
  }, {
    key: "setMeshoptDecoder",
    value: function setMeshoptDecoder(meshoptDecoder) {
      this.meshoptDecoder = meshoptDecoder;
      return this;
    }
  }, {
    key: "register",
    value: function register(callback) {
      if (this.pluginCallbacks.indexOf(callback) === -1) {
        this.pluginCallbacks.push(callback);
      }
      return this;
    }
  }, {
    key: "unregister",
    value: function unregister(callback) {
      if (this.pluginCallbacks.indexOf(callback) !== -1) {
        this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(callback), 1);
      }
      return this;
    }
  }, {
    key: "parse",
    value: function parse(data, path, onLoad, onError) {
      var content;
      var extensions = {};
      var plugins = {};
      if (typeof data === 'string') {
        content = data;
      } else {
        var magic = _threeModule.LoaderUtils.decodeText(new Uint8Array(data, 0, 4));
        if (magic === BINARY_EXTENSION_HEADER_MAGIC) {
          try {
            extensions[EXTENSIONS.KHR_BINARY_GLTF] = new GLTFBinaryExtension(data);
          } catch (error) {
            if (onError) onError(error);
            return;
          }
          content = extensions[EXTENSIONS.KHR_BINARY_GLTF].content;
        } else {
          content = _threeModule.LoaderUtils.decodeText(new Uint8Array(data));
        }
      }
      var json = JSON.parse(content);
      if (json.asset === undefined || json.asset.version[0] < 2) {
        if (onError) onError(new Error('THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.'));
        return;
      }
      var parser = new GLTFParser(json, {
        path: path || this.resourcePath || '',
        crossOrigin: this.crossOrigin,
        requestHeader: this.requestHeader,
        manager: this.manager,
        ktx2Loader: this.ktx2Loader,
        meshoptDecoder: this.meshoptDecoder
      });
      parser.fileLoader.setRequestHeader(this.requestHeader);
      for (var i = 0; i < this.pluginCallbacks.length; i++) {
        var plugin = this.pluginCallbacks[i](parser);
        plugins[plugin.name] = plugin;

        // Workaround to avoid determining as unknown extension
        // in addUnknownExtensionsToUserData().
        // Remove this workaround if we move all the existing
        // extension handlers to plugin system
        extensions[plugin.name] = true;
      }
      if (json.extensionsUsed) {
        for (var _i = 0; _i < json.extensionsUsed.length; ++_i) {
          var extensionName = json.extensionsUsed[_i];
          var extensionsRequired = json.extensionsRequired || [];
          switch (extensionName) {
            case EXTENSIONS.KHR_MATERIALS_UNLIT:
              extensions[extensionName] = new GLTFMaterialsUnlitExtension();
              break;
            case EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:
              extensions[extensionName] = new GLTFMaterialsPbrSpecularGlossinessExtension();
              break;
            case EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:
              extensions[extensionName] = new GLTFDracoMeshCompressionExtension(json, this.dracoLoader);
              break;
            case EXTENSIONS.KHR_TEXTURE_TRANSFORM:
              extensions[extensionName] = new GLTFTextureTransformExtension();
              break;
            case EXTENSIONS.KHR_MESH_QUANTIZATION:
              extensions[extensionName] = new GLTFMeshQuantizationExtension();
              break;
            default:
              if (extensionsRequired.indexOf(extensionName) >= 0 && plugins[extensionName] === undefined) {
                console.warn('THREE.GLTFLoader: Unknown extension "' + extensionName + '".');
              }
          }
        }
      }
      parser.setExtensions(extensions);
      parser.setPlugins(plugins);
      parser.parse(onLoad, onError);
    }
  }]);
  return GLTFLoader;
}(_threeModule.Loader);
/* GLTFREGISTRY */
exports.GLTFLoader = GLTFLoader;
function GLTFRegistry() {
  var objects = {};
  return {
    get: function get(key) {
      return objects[key];
    },
    add: function add(key, object) {
      objects[key] = object;
    },
    remove: function remove(key) {
      delete objects[key];
    },
    removeAll: function removeAll() {
      objects = {};
    }
  };
}

/*********************************/
/********** EXTENSIONS ***********/
/*********************************/

var EXTENSIONS = {
  KHR_BINARY_GLTF: 'KHR_binary_glTF',
  KHR_DRACO_MESH_COMPRESSION: 'KHR_draco_mesh_compression',
  KHR_LIGHTS_PUNCTUAL: 'KHR_lights_punctual',
  KHR_MATERIALS_CLEARCOAT: 'KHR_materials_clearcoat',
  KHR_MATERIALS_IOR: 'KHR_materials_ior',
  KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS: 'KHR_materials_pbrSpecularGlossiness',
  KHR_MATERIALS_SPECULAR: 'KHR_materials_specular',
  KHR_MATERIALS_TRANSMISSION: 'KHR_materials_transmission',
  KHR_MATERIALS_UNLIT: 'KHR_materials_unlit',
  KHR_MATERIALS_VOLUME: 'KHR_materials_volume',
  KHR_TEXTURE_BASISU: 'KHR_texture_basisu',
  KHR_TEXTURE_TRANSFORM: 'KHR_texture_transform',
  KHR_MESH_QUANTIZATION: 'KHR_mesh_quantization',
  EXT_TEXTURE_WEBP: 'EXT_texture_webp',
  EXT_MESHOPT_COMPRESSION: 'EXT_meshopt_compression'
};

/**
 * Punctual Lights Extension
 *
 * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_lights_punctual
 */
var GLTFLightsExtension = /*#__PURE__*/function () {
  function GLTFLightsExtension(parser) {
    (0, _classCallCheck2.default)(this, GLTFLightsExtension);
    this.parser = parser;
    this.name = EXTENSIONS.KHR_LIGHTS_PUNCTUAL;

    // Object3D instance caches
    this.cache = {
      refs: {},
      uses: {}
    };
  }
  (0, _createClass2.default)(GLTFLightsExtension, [{
    key: "_markDefs",
    value: function _markDefs() {
      var parser = this.parser;
      var nodeDefs = this.parser.json.nodes || [];
      for (var nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex++) {
        var nodeDef = nodeDefs[nodeIndex];
        if (nodeDef.extensions && nodeDef.extensions[this.name] && nodeDef.extensions[this.name].light !== undefined) {
          parser._addNodeRef(this.cache, nodeDef.extensions[this.name].light);
        }
      }
    }
  }, {
    key: "_loadLight",
    value: function _loadLight(lightIndex) {
      var parser = this.parser;
      var cacheKey = 'light:' + lightIndex;
      var dependency = parser.cache.get(cacheKey);
      if (dependency) return dependency;
      var json = parser.json;
      var extensions = json.extensions && json.extensions[this.name] || {};
      var lightDefs = extensions.lights || [];
      var lightDef = lightDefs[lightIndex];
      var lightNode;
      var color = new _threeModule.Color(0xffffff);
      if (lightDef.color !== undefined) color.fromArray(lightDef.color);
      var range = lightDef.range !== undefined ? lightDef.range : 0;
      switch (lightDef.type) {
        case 'directional':
          lightNode = new _threeModule.DirectionalLight(color);
          lightNode.target.position.set(0, 0, -1);
          lightNode.add(lightNode.target);
          break;
        case 'point':
          lightNode = new _threeModule.PointLight(color);
          lightNode.distance = range;
          break;
        case 'spot':
          lightNode = new _threeModule.SpotLight(color);
          lightNode.distance = range;
          // Handle spotlight properties.
          lightDef.spot = lightDef.spot || {};
          lightDef.spot.innerConeAngle = lightDef.spot.innerConeAngle !== undefined ? lightDef.spot.innerConeAngle : 0;
          lightDef.spot.outerConeAngle = lightDef.spot.outerConeAngle !== undefined ? lightDef.spot.outerConeAngle : Math.PI / 4.0;
          lightNode.angle = lightDef.spot.outerConeAngle;
          lightNode.penumbra = 1.0 - lightDef.spot.innerConeAngle / lightDef.spot.outerConeAngle;
          lightNode.target.position.set(0, 0, -1);
          lightNode.add(lightNode.target);
          break;
        default:
          throw new Error('THREE.GLTFLoader: Unexpected light type: ' + lightDef.type);
      }

      // Some lights (e.g. spot) default to a position other than the origin. Reset the position
      // here, because node-level parsing will only override position if explicitly specified.
      lightNode.position.set(0, 0, 0);
      lightNode.decay = 2;
      if (lightDef.intensity !== undefined) lightNode.intensity = lightDef.intensity;
      lightNode.name = parser.createUniqueName(lightDef.name || 'light_' + lightIndex);
      dependency = Promise.resolve(lightNode);
      parser.cache.add(cacheKey, dependency);
      return dependency;
    }
  }, {
    key: "createNodeAttachment",
    value: function createNodeAttachment(nodeIndex) {
      var self = this;
      var parser = this.parser;
      var json = parser.json;
      var nodeDef = json.nodes[nodeIndex];
      var lightDef = nodeDef.extensions && nodeDef.extensions[this.name] || {};
      var lightIndex = lightDef.light;
      if (lightIndex === undefined) return null;
      return this._loadLight(lightIndex).then(function (light) {
        return parser._getNodeRef(self.cache, lightIndex, light);
      });
    }
  }]);
  return GLTFLightsExtension;
}();
/**
 * Unlit Materials Extension
 *
 * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_unlit
 */
var GLTFMaterialsUnlitExtension = /*#__PURE__*/function () {
  function GLTFMaterialsUnlitExtension() {
    (0, _classCallCheck2.default)(this, GLTFMaterialsUnlitExtension);
    this.name = EXTENSIONS.KHR_MATERIALS_UNLIT;
  }
  (0, _createClass2.default)(GLTFMaterialsUnlitExtension, [{
    key: "getMaterialType",
    value: function getMaterialType() {
      return _threeModule.MeshBasicMaterial;
    }
  }, {
    key: "extendParams",
    value: function extendParams(materialParams, materialDef, parser) {
      var pending = [];
      materialParams.color = new _threeModule.Color(1.0, 1.0, 1.0);
      materialParams.opacity = 1.0;
      var metallicRoughness = materialDef.pbrMetallicRoughness;
      if (metallicRoughness) {
        if (Array.isArray(metallicRoughness.baseColorFactor)) {
          var array = metallicRoughness.baseColorFactor;
          materialParams.color.fromArray(array);
          materialParams.opacity = array[3];
        }
        if (metallicRoughness.baseColorTexture !== undefined) {
          pending.push(parser.assignTexture(materialParams, 'map', metallicRoughness.baseColorTexture));
        }
      }
      return Promise.all(pending);
    }
  }]);
  return GLTFMaterialsUnlitExtension;
}();
/**
 * Clearcoat Materials Extension
 *
 * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_clearcoat
 */
var GLTFMaterialsClearcoatExtension = /*#__PURE__*/function () {
  function GLTFMaterialsClearcoatExtension(parser) {
    (0, _classCallCheck2.default)(this, GLTFMaterialsClearcoatExtension);
    this.parser = parser;
    this.name = EXTENSIONS.KHR_MATERIALS_CLEARCOAT;
  }
  (0, _createClass2.default)(GLTFMaterialsClearcoatExtension, [{
    key: "getMaterialType",
    value: function getMaterialType(materialIndex) {
      var parser = this.parser;
      var materialDef = parser.json.materials[materialIndex];
      if (!materialDef.extensions || !materialDef.extensions[this.name]) return null;
      return _threeModule.MeshPhysicalMaterial;
    }
  }, {
    key: "extendMaterialParams",
    value: function extendMaterialParams(materialIndex, materialParams) {
      var parser = this.parser;
      var materialDef = parser.json.materials[materialIndex];
      if (!materialDef.extensions || !materialDef.extensions[this.name]) {
        return Promise.resolve();
      }
      var pending = [];
      var extension = materialDef.extensions[this.name];
      if (extension.clearcoatFactor !== undefined) {
        materialParams.clearcoat = extension.clearcoatFactor;
      }
      if (extension.clearcoatTexture !== undefined) {
        pending.push(parser.assignTexture(materialParams, 'clearcoatMap', extension.clearcoatTexture));
      }
      if (extension.clearcoatRoughnessFactor !== undefined) {
        materialParams.clearcoatRoughness = extension.clearcoatRoughnessFactor;
      }
      if (extension.clearcoatRoughnessTexture !== undefined) {
        pending.push(parser.assignTexture(materialParams, 'clearcoatRoughnessMap', extension.clearcoatRoughnessTexture));
      }
      if (extension.clearcoatNormalTexture !== undefined) {
        pending.push(parser.assignTexture(materialParams, 'clearcoatNormalMap', extension.clearcoatNormalTexture));
        if (extension.clearcoatNormalTexture.scale !== undefined) {
          var scale = extension.clearcoatNormalTexture.scale;
          materialParams.clearcoatNormalScale = new _threeModule.Vector2(scale, scale);
        }
      }
      return Promise.all(pending);
    }
  }]);
  return GLTFMaterialsClearcoatExtension;
}();
/**
 * Transmission Materials Extension
 *
 * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_transmission
 * Draft: https://github.com/KhronosGroup/glTF/pull/1698
 */
var GLTFMaterialsTransmissionExtension = /*#__PURE__*/function () {
  function GLTFMaterialsTransmissionExtension(parser) {
    (0, _classCallCheck2.default)(this, GLTFMaterialsTransmissionExtension);
    this.parser = parser;
    this.name = EXTENSIONS.KHR_MATERIALS_TRANSMISSION;
  }
  (0, _createClass2.default)(GLTFMaterialsTransmissionExtension, [{
    key: "getMaterialType",
    value: function getMaterialType(materialIndex) {
      var parser = this.parser;
      var materialDef = parser.json.materials[materialIndex];
      if (!materialDef.extensions || !materialDef.extensions[this.name]) return null;
      return _threeModule.MeshPhysicalMaterial;
    }
  }, {
    key: "extendMaterialParams",
    value: function extendMaterialParams(materialIndex, materialParams) {
      var parser = this.parser;
      var materialDef = parser.json.materials[materialIndex];
      if (!materialDef.extensions || !materialDef.extensions[this.name]) {
        return Promise.resolve();
      }
      var pending = [];
      var extension = materialDef.extensions[this.name];
      if (extension.transmissionFactor !== undefined) {
        materialParams.transmission = extension.transmissionFactor;
      }
      if (extension.transmissionTexture !== undefined) {
        pending.push(parser.assignTexture(materialParams, 'transmissionMap', extension.transmissionTexture));
      }
      return Promise.all(pending);
    }
  }]);
  return GLTFMaterialsTransmissionExtension;
}();
/**
 * Materials Volume Extension
 *
 * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_volume
 */
var GLTFMaterialsVolumeExtension = /*#__PURE__*/function () {
  function GLTFMaterialsVolumeExtension(parser) {
    (0, _classCallCheck2.default)(this, GLTFMaterialsVolumeExtension);
    this.parser = parser;
    this.name = EXTENSIONS.KHR_MATERIALS_VOLUME;
  }
  (0, _createClass2.default)(GLTFMaterialsVolumeExtension, [{
    key: "getMaterialType",
    value: function getMaterialType(materialIndex) {
      var parser = this.parser;
      var materialDef = parser.json.materials[materialIndex];
      if (!materialDef.extensions || !materialDef.extensions[this.name]) return null;
      return _threeModule.MeshPhysicalMaterial;
    }
  }, {
    key: "extendMaterialParams",
    value: function extendMaterialParams(materialIndex, materialParams) {
      var parser = this.parser;
      var materialDef = parser.json.materials[materialIndex];
      if (!materialDef.extensions || !materialDef.extensions[this.name]) {
        return Promise.resolve();
      }
      var pending = [];
      var extension = materialDef.extensions[this.name];
      materialParams.thickness = extension.thicknessFactor !== undefined ? extension.thicknessFactor : 0;
      if (extension.thicknessTexture !== undefined) {
        pending.push(parser.assignTexture(materialParams, 'thicknessMap', extension.thicknessTexture));
      }
      materialParams.attenuationDistance = extension.attenuationDistance || 0;
      var colorArray = extension.attenuationColor || [1, 1, 1];
      materialParams.attenuationTint = new _threeModule.Color(colorArray[0], colorArray[1], colorArray[2]);
      return Promise.all(pending);
    }
  }]);
  return GLTFMaterialsVolumeExtension;
}();
/**
 * Materials ior Extension
 *
 * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_ior
 */
var GLTFMaterialsIorExtension = /*#__PURE__*/function () {
  function GLTFMaterialsIorExtension(parser) {
    (0, _classCallCheck2.default)(this, GLTFMaterialsIorExtension);
    this.parser = parser;
    this.name = EXTENSIONS.KHR_MATERIALS_IOR;
  }
  (0, _createClass2.default)(GLTFMaterialsIorExtension, [{
    key: "getMaterialType",
    value: function getMaterialType(materialIndex) {
      var parser = this.parser;
      var materialDef = parser.json.materials[materialIndex];
      if (!materialDef.extensions || !materialDef.extensions[this.name]) return null;
      return _threeModule.MeshPhysicalMaterial;
    }
  }, {
    key: "extendMaterialParams",
    value: function extendMaterialParams(materialIndex, materialParams) {
      var parser = this.parser;
      var materialDef = parser.json.materials[materialIndex];
      if (!materialDef.extensions || !materialDef.extensions[this.name]) {
        return Promise.resolve();
      }
      var extension = materialDef.extensions[this.name];
      materialParams.ior = extension.ior !== undefined ? extension.ior : 1.5;
      return Promise.resolve();
    }
  }]);
  return GLTFMaterialsIorExtension;
}();
/**
 * Materials specular Extension
 *
 * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_specular
 */
var GLTFMaterialsSpecularExtension = /*#__PURE__*/function () {
  function GLTFMaterialsSpecularExtension(parser) {
    (0, _classCallCheck2.default)(this, GLTFMaterialsSpecularExtension);
    this.parser = parser;
    this.name = EXTENSIONS.KHR_MATERIALS_SPECULAR;
  }
  (0, _createClass2.default)(GLTFMaterialsSpecularExtension, [{
    key: "getMaterialType",
    value: function getMaterialType(materialIndex) {
      var parser = this.parser;
      var materialDef = parser.json.materials[materialIndex];
      if (!materialDef.extensions || !materialDef.extensions[this.name]) return null;
      return _threeModule.MeshPhysicalMaterial;
    }
  }, {
    key: "extendMaterialParams",
    value: function extendMaterialParams(materialIndex, materialParams) {
      var parser = this.parser;
      var materialDef = parser.json.materials[materialIndex];
      if (!materialDef.extensions || !materialDef.extensions[this.name]) {
        return Promise.resolve();
      }
      var pending = [];
      var extension = materialDef.extensions[this.name];
      materialParams.specularIntensity = extension.specularFactor !== undefined ? extension.specularFactor : 1.0;
      if (extension.specularTexture !== undefined) {
        pending.push(parser.assignTexture(materialParams, 'specularIntensityMap', extension.specularTexture));
      }
      var colorArray = extension.specularColorFactor || [1, 1, 1];
      materialParams.specularTint = new _threeModule.Color(colorArray[0], colorArray[1], colorArray[2]);
      if (extension.specularColorTexture !== undefined) {
        pending.push(parser.assignTexture(materialParams, 'specularTintMap', extension.specularColorTexture).then(function (texture) {
          texture.encoding = _threeModule.sRGBEncoding;
        }));
      }
      return Promise.all(pending);
    }
  }]);
  return GLTFMaterialsSpecularExtension;
}();
/**
 * BasisU Texture Extension
 *
 * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_basisu
 */
var GLTFTextureBasisUExtension = /*#__PURE__*/function () {
  function GLTFTextureBasisUExtension(parser) {
    (0, _classCallCheck2.default)(this, GLTFTextureBasisUExtension);
    this.parser = parser;
    this.name = EXTENSIONS.KHR_TEXTURE_BASISU;
  }
  (0, _createClass2.default)(GLTFTextureBasisUExtension, [{
    key: "loadTexture",
    value: function loadTexture(textureIndex) {
      var parser = this.parser;
      var json = parser.json;
      var textureDef = json.textures[textureIndex];
      if (!textureDef.extensions || !textureDef.extensions[this.name]) {
        return null;
      }
      var extension = textureDef.extensions[this.name];
      var source = json.images[extension.source];
      var loader = parser.options.ktx2Loader;
      if (!loader) {
        if (json.extensionsRequired && json.extensionsRequired.indexOf(this.name) >= 0) {
          throw new Error('THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures');
        } else {
          // Assumes that the extension is optional and that a fallback texture is present
          return null;
        }
      }
      return parser.loadTextureImage(textureIndex, source, loader);
    }
  }]);
  return GLTFTextureBasisUExtension;
}();
/**
 * WebP Texture Extension
 *
 * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_texture_webp
 */
var GLTFTextureWebPExtension = /*#__PURE__*/function () {
  function GLTFTextureWebPExtension(parser) {
    (0, _classCallCheck2.default)(this, GLTFTextureWebPExtension);
    this.parser = parser;
    this.name = EXTENSIONS.EXT_TEXTURE_WEBP;
    this.isSupported = null;
  }
  (0, _createClass2.default)(GLTFTextureWebPExtension, [{
    key: "loadTexture",
    value: function loadTexture(textureIndex) {
      var name = this.name;
      var parser = this.parser;
      var json = parser.json;
      var textureDef = json.textures[textureIndex];
      if (!textureDef.extensions || !textureDef.extensions[name]) {
        return null;
      }
      var extension = textureDef.extensions[name];
      var source = json.images[extension.source];
      var loader = parser.textureLoader;
      if (source.uri) {
        var handler = parser.options.manager.getHandler(source.uri);
        if (handler !== null) loader = handler;
      }
      return this.detectSupport().then(function (isSupported) {
        if (isSupported) return parser.loadTextureImage(textureIndex, source, loader);
        if (json.extensionsRequired && json.extensionsRequired.indexOf(name) >= 0) {
          throw new Error('THREE.GLTFLoader: WebP required by asset but unsupported.');
        }

        // Fall back to PNG or JPEG.
        return parser.loadTexture(textureIndex);
      });
    }
  }, {
    key: "detectSupport",
    value: function detectSupport() {
      if (!this.isSupported) {
        this.isSupported = new Promise(function (resolve) {
          var image = new Image();

          // Lossy test image. Support for lossy images doesn't guarantee support for all
          // WebP images, unfortunately.
          image.src = 'data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA';
          image.onload = image.onerror = function () {
            resolve(image.height === 1);
          };
        });
      }
      return this.isSupported;
    }
  }]);
  return GLTFTextureWebPExtension;
}();
/**
 * meshopt BufferView Compression Extension
 *
 * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_meshopt_compression
 */
var GLTFMeshoptCompression = /*#__PURE__*/function () {
  function GLTFMeshoptCompression(parser) {
    (0, _classCallCheck2.default)(this, GLTFMeshoptCompression);
    this.name = EXTENSIONS.EXT_MESHOPT_COMPRESSION;
    this.parser = parser;
  }
  (0, _createClass2.default)(GLTFMeshoptCompression, [{
    key: "loadBufferView",
    value: function loadBufferView(index) {
      var json = this.parser.json;
      var bufferView = json.bufferViews[index];
      if (bufferView.extensions && bufferView.extensions[this.name]) {
        var extensionDef = bufferView.extensions[this.name];
        var buffer = this.parser.getDependency('buffer', extensionDef.buffer);
        var decoder = this.parser.options.meshoptDecoder;
        if (!decoder || !decoder.supported) {
          if (json.extensionsRequired && json.extensionsRequired.indexOf(this.name) >= 0) {
            throw new Error('THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files');
          } else {
            // Assumes that the extension is optional and that fallback buffer data is present
            return null;
          }
        }
        return Promise.all([buffer, decoder.ready]).then(function (res) {
          var byteOffset = extensionDef.byteOffset || 0;
          var byteLength = extensionDef.byteLength || 0;
          var count = extensionDef.count;
          var stride = extensionDef.byteStride;
          var result = new ArrayBuffer(count * stride);
          var source = new Uint8Array(res[0], byteOffset, byteLength);
          decoder.decodeGltfBuffer(new Uint8Array(result), count, stride, source, extensionDef.mode, extensionDef.filter);
          return result;
        });
      } else {
        return null;
      }
    }
  }]);
  return GLTFMeshoptCompression;
}();
/* BINARY EXTENSION */
var BINARY_EXTENSION_HEADER_MAGIC = 'glTF';
var BINARY_EXTENSION_HEADER_LENGTH = 12;
var BINARY_EXTENSION_CHUNK_TYPES = {
  JSON: 0x4E4F534A,
  BIN: 0x004E4942
};
var GLTFBinaryExtension = /*#__PURE__*/(0, _createClass2.default)(function GLTFBinaryExtension(data) {
  (0, _classCallCheck2.default)(this, GLTFBinaryExtension);
  this.name = EXTENSIONS.KHR_BINARY_GLTF;
  this.content = null;
  this.body = null;
  var headerView = new DataView(data, 0, BINARY_EXTENSION_HEADER_LENGTH);
  this.header = {
    magic: _threeModule.LoaderUtils.decodeText(new Uint8Array(data.slice(0, 4))),
    version: headerView.getUint32(4, true),
    length: headerView.getUint32(8, true)
  };
  if (this.header.magic !== BINARY_EXTENSION_HEADER_MAGIC) {
    throw new Error('THREE.GLTFLoader: Unsupported glTF-Binary header.');
  } else if (this.header.version < 2.0) {
    throw new Error('THREE.GLTFLoader: Legacy binary file detected.');
  }
  var chunkContentsLength = this.header.length - BINARY_EXTENSION_HEADER_LENGTH;
  var chunkView = new DataView(data, BINARY_EXTENSION_HEADER_LENGTH);
  var chunkIndex = 0;
  while (chunkIndex < chunkContentsLength) {
    var chunkLength = chunkView.getUint32(chunkIndex, true);
    chunkIndex += 4;
    var chunkType = chunkView.getUint32(chunkIndex, true);
    chunkIndex += 4;
    if (chunkType === BINARY_EXTENSION_CHUNK_TYPES.JSON) {
      var contentArray = new Uint8Array(data, BINARY_EXTENSION_HEADER_LENGTH + chunkIndex, chunkLength);
      this.content = _threeModule.LoaderUtils.decodeText(contentArray);
    } else if (chunkType === BINARY_EXTENSION_CHUNK_TYPES.BIN) {
      var byteOffset = BINARY_EXTENSION_HEADER_LENGTH + chunkIndex;
      this.body = data.slice(byteOffset, byteOffset + chunkLength);
    }

    // Clients must ignore chunks with unknown types.

    chunkIndex += chunkLength;
  }
  if (this.content === null) {
    throw new Error('THREE.GLTFLoader: JSON content not found.');
  }
});
/**
 * DRACO Mesh Compression Extension
 *
 * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_draco_mesh_compression
 */
var GLTFDracoMeshCompressionExtension = /*#__PURE__*/function () {
  function GLTFDracoMeshCompressionExtension(json, dracoLoader) {
    (0, _classCallCheck2.default)(this, GLTFDracoMeshCompressionExtension);
    if (!dracoLoader) {
      throw new Error('THREE.GLTFLoader: No DRACOLoader instance provided.');
    }
    this.name = EXTENSIONS.KHR_DRACO_MESH_COMPRESSION;
    this.json = json;
    this.dracoLoader = dracoLoader;
    this.dracoLoader.preload();
  }
  (0, _createClass2.default)(GLTFDracoMeshCompressionExtension, [{
    key: "decodePrimitive",
    value: function decodePrimitive(primitive, parser) {
      var json = this.json;
      var dracoLoader = this.dracoLoader;
      var bufferViewIndex = primitive.extensions[this.name].bufferView;
      var gltfAttributeMap = primitive.extensions[this.name].attributes;
      var threeAttributeMap = {};
      var attributeNormalizedMap = {};
      var attributeTypeMap = {};
      for (var attributeName in gltfAttributeMap) {
        var threeAttributeName = ATTRIBUTES[attributeName] || attributeName.toLowerCase();
        threeAttributeMap[threeAttributeName] = gltfAttributeMap[attributeName];
      }
      for (var _attributeName in primitive.attributes) {
        var _threeAttributeName = ATTRIBUTES[_attributeName] || _attributeName.toLowerCase();
        if (gltfAttributeMap[_attributeName] !== undefined) {
          var accessorDef = json.accessors[primitive.attributes[_attributeName]];
          var componentType = WEBGL_COMPONENT_TYPES[accessorDef.componentType];
          attributeTypeMap[_threeAttributeName] = componentType;
          attributeNormalizedMap[_threeAttributeName] = accessorDef.normalized === true;
        }
      }
      return parser.getDependency('bufferView', bufferViewIndex).then(function (bufferView) {
        return new Promise(function (resolve) {
          dracoLoader.decodeDracoFile(bufferView, function (geometry) {
            for (var _attributeName2 in geometry.attributes) {
              var attribute = geometry.attributes[_attributeName2];
              var normalized = attributeNormalizedMap[_attributeName2];
              if (normalized !== undefined) attribute.normalized = normalized;
            }
            resolve(geometry);
          }, threeAttributeMap, attributeTypeMap);
        });
      });
    }
  }]);
  return GLTFDracoMeshCompressionExtension;
}();
/**
 * Texture Transform Extension
 *
 * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_transform
 */
var GLTFTextureTransformExtension = /*#__PURE__*/function () {
  function GLTFTextureTransformExtension() {
    (0, _classCallCheck2.default)(this, GLTFTextureTransformExtension);
    this.name = EXTENSIONS.KHR_TEXTURE_TRANSFORM;
  }
  (0, _createClass2.default)(GLTFTextureTransformExtension, [{
    key: "extendTexture",
    value: function extendTexture(texture, transform) {
      if (transform.texCoord !== undefined) {
        console.warn('THREE.GLTFLoader: Custom UV sets in "' + this.name + '" extension not yet supported.');
      }
      if (transform.offset === undefined && transform.rotation === undefined && transform.scale === undefined) {
        // See https://github.com/mrdoob/three.js/issues/21819.
        return texture;
      }
      texture = texture.clone();
      if (transform.offset !== undefined) {
        texture.offset.fromArray(transform.offset);
      }
      if (transform.rotation !== undefined) {
        texture.rotation = transform.rotation;
      }
      if (transform.scale !== undefined) {
        texture.repeat.fromArray(transform.scale);
      }
      texture.needsUpdate = true;
      return texture;
    }
  }]);
  return GLTFTextureTransformExtension;
}();
/**
 * Specular-Glossiness Extension
 *
 * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_pbrSpecularGlossiness
 */
/**
 * A sub class of StandardMaterial with some of the functionality
 * changed via the `onBeforeCompile` callback
 * @pailhead
 */
var GLTFMeshStandardSGMaterial = /*#__PURE__*/function (_MeshStandardMaterial) {
  (0, _inherits2.default)(GLTFMeshStandardSGMaterial, _MeshStandardMaterial);
  var _super2 = _createSuper(GLTFMeshStandardSGMaterial);
  function GLTFMeshStandardSGMaterial(params) {
    var _this2;
    (0, _classCallCheck2.default)(this, GLTFMeshStandardSGMaterial);
    _this2 = _super2.call(this);
    _this2.isGLTFSpecularGlossinessMaterial = true;

    //various chunks that need replacing
    var specularMapParsFragmentChunk = ['#ifdef USE_SPECULARMAP', '	uniform sampler2D specularMap;', '#endif'].join('\n');
    var glossinessMapParsFragmentChunk = ['#ifdef USE_GLOSSINESSMAP', '	uniform sampler2D glossinessMap;', '#endif'].join('\n');
    var specularMapFragmentChunk = ['vec3 specularFactor = specular;', '#ifdef USE_SPECULARMAP', '	vec4 texelSpecular = texture2D( specularMap, vUv );', '	texelSpecular = sRGBToLinear( texelSpecular );', '	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture', '	specularFactor *= texelSpecular.rgb;', '#endif'].join('\n');
    var glossinessMapFragmentChunk = ['float glossinessFactor = glossiness;', '#ifdef USE_GLOSSINESSMAP', '	vec4 texelGlossiness = texture2D( glossinessMap, vUv );', '	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture', '	glossinessFactor *= texelGlossiness.a;', '#endif'].join('\n');
    var lightPhysicalFragmentChunk = ['PhysicalMaterial material;', 'material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );', 'vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );', 'float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );', 'material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.', 'material.roughness += geometryRoughness;', 'material.roughness = min( material.roughness, 1.0 );', 'material.specularColor = specularFactor;'].join('\n');
    var uniforms = {
      specular: {
        value: new _threeModule.Color().setHex(0xffffff)
      },
      glossiness: {
        value: 1
      },
      specularMap: {
        value: null
      },
      glossinessMap: {
        value: null
      }
    };
    _this2._extraUniforms = uniforms;
    _this2.onBeforeCompile = function (shader) {
      for (var uniformName in uniforms) {
        shader.uniforms[uniformName] = uniforms[uniformName];
      }
      shader.fragmentShader = shader.fragmentShader.replace('uniform float roughness;', 'uniform vec3 specular;').replace('uniform float metalness;', 'uniform float glossiness;').replace('#include <roughnessmap_pars_fragment>', specularMapParsFragmentChunk).replace('#include <metalnessmap_pars_fragment>', glossinessMapParsFragmentChunk).replace('#include <roughnessmap_fragment>', specularMapFragmentChunk).replace('#include <metalnessmap_fragment>', glossinessMapFragmentChunk).replace('#include <lights_physical_fragment>', lightPhysicalFragmentChunk);
    };
    Object.defineProperties((0, _assertThisInitialized2.default)(_this2), {
      specular: {
        get: function get() {
          return uniforms.specular.value;
        },
        set: function set(v) {
          uniforms.specular.value = v;
        }
      },
      specularMap: {
        get: function get() {
          return uniforms.specularMap.value;
        },
        set: function set(v) {
          uniforms.specularMap.value = v;
          if (v) {
            this.defines.USE_SPECULARMAP = ''; // USE_UV is set by the renderer for specular maps
          } else {
            delete this.defines.USE_SPECULARMAP;
          }
        }
      },
      glossiness: {
        get: function get() {
          return uniforms.glossiness.value;
        },
        set: function set(v) {
          uniforms.glossiness.value = v;
        }
      },
      glossinessMap: {
        get: function get() {
          return uniforms.glossinessMap.value;
        },
        set: function set(v) {
          uniforms.glossinessMap.value = v;
          if (v) {
            this.defines.USE_GLOSSINESSMAP = '';
            this.defines.USE_UV = '';
          } else {
            delete this.defines.USE_GLOSSINESSMAP;
            delete this.defines.USE_UV;
          }
        }
      }
    });
    delete _this2.metalness;
    delete _this2.roughness;
    delete _this2.metalnessMap;
    delete _this2.roughnessMap;
    _this2.setValues(params);
    return _this2;
  }
  (0, _createClass2.default)(GLTFMeshStandardSGMaterial, [{
    key: "copy",
    value: function copy(source) {
      (0, _get2.default)((0, _getPrototypeOf2.default)(GLTFMeshStandardSGMaterial.prototype), "copy", this).call(this, source);
      this.specularMap = source.specularMap;
      this.specular.copy(source.specular);
      this.glossinessMap = source.glossinessMap;
      this.glossiness = source.glossiness;
      delete this.metalness;
      delete this.roughness;
      delete this.metalnessMap;
      delete this.roughnessMap;
      return this;
    }
  }]);
  return GLTFMeshStandardSGMaterial;
}(_threeModule.MeshStandardMaterial);
var GLTFMaterialsPbrSpecularGlossinessExtension = /*#__PURE__*/function () {
  function GLTFMaterialsPbrSpecularGlossinessExtension() {
    (0, _classCallCheck2.default)(this, GLTFMaterialsPbrSpecularGlossinessExtension);
    this.name = EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS;
    this.specularGlossinessParams = ['color', 'map', 'lightMap', 'lightMapIntensity', 'aoMap', 'aoMapIntensity', 'emissive', 'emissiveIntensity', 'emissiveMap', 'bumpMap', 'bumpScale', 'normalMap', 'normalMapType', 'displacementMap', 'displacementScale', 'displacementBias', 'specularMap', 'specular', 'glossinessMap', 'glossiness', 'alphaMap', 'envMap', 'envMapIntensity', 'refractionRatio'];
  }
  (0, _createClass2.default)(GLTFMaterialsPbrSpecularGlossinessExtension, [{
    key: "getMaterialType",
    value: function getMaterialType() {
      return GLTFMeshStandardSGMaterial;
    }
  }, {
    key: "extendParams",
    value: function extendParams(materialParams, materialDef, parser) {
      var pbrSpecularGlossiness = materialDef.extensions[this.name];
      materialParams.color = new _threeModule.Color(1.0, 1.0, 1.0);
      materialParams.opacity = 1.0;
      var pending = [];
      if (Array.isArray(pbrSpecularGlossiness.diffuseFactor)) {
        var array = pbrSpecularGlossiness.diffuseFactor;
        materialParams.color.fromArray(array);
        materialParams.opacity = array[3];
      }
      if (pbrSpecularGlossiness.diffuseTexture !== undefined) {
        pending.push(parser.assignTexture(materialParams, 'map', pbrSpecularGlossiness.diffuseTexture));
      }
      materialParams.emissive = new _threeModule.Color(0.0, 0.0, 0.0);
      materialParams.glossiness = pbrSpecularGlossiness.glossinessFactor !== undefined ? pbrSpecularGlossiness.glossinessFactor : 1.0;
      materialParams.specular = new _threeModule.Color(1.0, 1.0, 1.0);
      if (Array.isArray(pbrSpecularGlossiness.specularFactor)) {
        materialParams.specular.fromArray(pbrSpecularGlossiness.specularFactor);
      }
      if (pbrSpecularGlossiness.specularGlossinessTexture !== undefined) {
        var specGlossMapDef = pbrSpecularGlossiness.specularGlossinessTexture;
        pending.push(parser.assignTexture(materialParams, 'glossinessMap', specGlossMapDef));
        pending.push(parser.assignTexture(materialParams, 'specularMap', specGlossMapDef));
      }
      return Promise.all(pending);
    }
  }, {
    key: "createMaterial",
    value: function createMaterial(materialParams) {
      var material = new GLTFMeshStandardSGMaterial(materialParams);
      material.fog = true;
      material.color = materialParams.color;
      material.map = materialParams.map === undefined ? null : materialParams.map;
      material.lightMap = null;
      material.lightMapIntensity = 1.0;
      material.aoMap = materialParams.aoMap === undefined ? null : materialParams.aoMap;
      material.aoMapIntensity = 1.0;
      material.emissive = materialParams.emissive;
      material.emissiveIntensity = 1.0;
      material.emissiveMap = materialParams.emissiveMap === undefined ? null : materialParams.emissiveMap;
      material.bumpMap = materialParams.bumpMap === undefined ? null : materialParams.bumpMap;
      material.bumpScale = 1;
      material.normalMap = materialParams.normalMap === undefined ? null : materialParams.normalMap;
      material.normalMapType = _threeModule.TangentSpaceNormalMap;
      if (materialParams.normalScale) material.normalScale = materialParams.normalScale;
      material.displacementMap = null;
      material.displacementScale = 1;
      material.displacementBias = 0;
      material.specularMap = materialParams.specularMap === undefined ? null : materialParams.specularMap;
      material.specular = materialParams.specular;
      material.glossinessMap = materialParams.glossinessMap === undefined ? null : materialParams.glossinessMap;
      material.glossiness = materialParams.glossiness;
      material.alphaMap = null;
      material.envMap = materialParams.envMap === undefined ? null : materialParams.envMap;
      material.envMapIntensity = 1.0;
      material.refractionRatio = 0.98;
      return material;
    }
  }]);
  return GLTFMaterialsPbrSpecularGlossinessExtension;
}();
/**
 * Mesh Quantization Extension
 *
 * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization
 */
var GLTFMeshQuantizationExtension = /*#__PURE__*/(0, _createClass2.default)(function GLTFMeshQuantizationExtension() {
  (0, _classCallCheck2.default)(this, GLTFMeshQuantizationExtension);
  this.name = EXTENSIONS.KHR_MESH_QUANTIZATION;
});
/*********************************/
/********** INTERPOLATION ********/
/*********************************/
// Spline Interpolation
// Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#appendix-c-spline-interpolation
var GLTFCubicSplineInterpolant = /*#__PURE__*/function (_Interpolant) {
  (0, _inherits2.default)(GLTFCubicSplineInterpolant, _Interpolant);
  var _super3 = _createSuper(GLTFCubicSplineInterpolant);
  function GLTFCubicSplineInterpolant(parameterPositions, sampleValues, sampleSize, resultBuffer) {
    (0, _classCallCheck2.default)(this, GLTFCubicSplineInterpolant);
    return _super3.call(this, parameterPositions, sampleValues, sampleSize, resultBuffer);
  }
  (0, _createClass2.default)(GLTFCubicSplineInterpolant, [{
    key: "copySampleValue_",
    value: function copySampleValue_(index) {
      // Copies a sample value to the result buffer. See description of glTF
      // CUBICSPLINE values layout in interpolate_() function below.

      var result = this.resultBuffer,
        values = this.sampleValues,
        valueSize = this.valueSize,
        offset = index * valueSize * 3 + valueSize;
      for (var i = 0; i !== valueSize; i++) {
        result[i] = values[offset + i];
      }
      return result;
    }
  }]);
  return GLTFCubicSplineInterpolant;
}(_threeModule.Interpolant);
GLTFCubicSplineInterpolant.prototype.beforeStart_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;
GLTFCubicSplineInterpolant.prototype.afterEnd_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;
GLTFCubicSplineInterpolant.prototype.interpolate_ = function (i1, t0, t, t1) {
  var result = this.resultBuffer;
  var values = this.sampleValues;
  var stride = this.valueSize;
  var stride2 = stride * 2;
  var stride3 = stride * 3;
  var td = t1 - t0;
  var p = (t - t0) / td;
  var pp = p * p;
  var ppp = pp * p;
  var offset1 = i1 * stride3;
  var offset0 = offset1 - stride3;
  var s2 = -2 * ppp + 3 * pp;
  var s3 = ppp - pp;
  var s0 = 1 - s2;
  var s1 = s3 - pp + p;

  // Layout of keyframe output values for CUBICSPLINE animations:
  //   [ inTangent_1, splineVertex_1, outTangent_1, inTangent_2, splineVertex_2, ... ]
  for (var i = 0; i !== stride; i++) {
    var p0 = values[offset0 + i + stride]; // splineVertex_k
    var m0 = values[offset0 + i + stride2] * td; // outTangent_k * (t_k+1 - t_k)
    var p1 = values[offset1 + i + stride]; // splineVertex_k+1
    var m1 = values[offset1 + i] * td; // inTangent_k+1 * (t_k+1 - t_k)

    result[i] = s0 * p0 + s1 * m0 + s2 * p1 + s3 * m1;
  }
  return result;
};
var _q = new _threeModule.Quaternion();
var GLTFCubicSplineQuaternionInterpolant = /*#__PURE__*/function (_GLTFCubicSplineInter) {
  (0, _inherits2.default)(GLTFCubicSplineQuaternionInterpolant, _GLTFCubicSplineInter);
  var _super4 = _createSuper(GLTFCubicSplineQuaternionInterpolant);
  function GLTFCubicSplineQuaternionInterpolant() {
    (0, _classCallCheck2.default)(this, GLTFCubicSplineQuaternionInterpolant);
    return _super4.apply(this, arguments);
  }
  (0, _createClass2.default)(GLTFCubicSplineQuaternionInterpolant, [{
    key: "interpolate_",
    value: function interpolate_(i1, t0, t, t1) {
      var result = (0, _get2.default)((0, _getPrototypeOf2.default)(GLTFCubicSplineQuaternionInterpolant.prototype), "interpolate_", this).call(this, i1, t0, t, t1);
      _q.fromArray(result).normalize().toArray(result);
      return result;
    }
  }]);
  return GLTFCubicSplineQuaternionInterpolant;
}(GLTFCubicSplineInterpolant);
/*********************************/
/********** INTERNALS ************/
/*********************************/
/* CONSTANTS */
var WEBGL_CONSTANTS = {
  FLOAT: 5126,
  //FLOAT_MAT2: 35674,
  FLOAT_MAT3: 35675,
  FLOAT_MAT4: 35676,
  FLOAT_VEC2: 35664,
  FLOAT_VEC3: 35665,
  FLOAT_VEC4: 35666,
  LINEAR: 9729,
  REPEAT: 10497,
  SAMPLER_2D: 35678,
  POINTS: 0,
  LINES: 1,
  LINE_LOOP: 2,
  LINE_STRIP: 3,
  TRIANGLES: 4,
  TRIANGLE_STRIP: 5,
  TRIANGLE_FAN: 6,
  UNSIGNED_BYTE: 5121,
  UNSIGNED_SHORT: 5123
};
var WEBGL_COMPONENT_TYPES = {
  5120: Int8Array,
  5121: Uint8Array,
  5122: Int16Array,
  5123: Uint16Array,
  5125: Uint32Array,
  5126: Float32Array
};
var WEBGL_FILTERS = {
  9728: _threeModule.NearestFilter,
  9729: _threeModule.LinearFilter,
  9984: _threeModule.NearestMipmapNearestFilter,
  9985: _threeModule.LinearMipmapNearestFilter,
  9986: _threeModule.NearestMipmapLinearFilter,
  9987: _threeModule.LinearMipmapLinearFilter
};
var WEBGL_WRAPPINGS = {
  33071: _threeModule.ClampToEdgeWrapping,
  33648: _threeModule.MirroredRepeatWrapping,
  10497: _threeModule.RepeatWrapping
};
var WEBGL_TYPE_SIZES = {
  'SCALAR': 1,
  'VEC2': 2,
  'VEC3': 3,
  'VEC4': 4,
  'MAT2': 4,
  'MAT3': 9,
  'MAT4': 16
};
var ATTRIBUTES = {
  POSITION: 'position',
  NORMAL: 'normal',
  TANGENT: 'tangent',
  TEXCOORD_0: 'uv',
  TEXCOORD_1: 'uv2',
  COLOR_0: 'color',
  WEIGHTS_0: 'skinWeight',
  JOINTS_0: 'skinIndex'
};
var PATH_PROPERTIES = {
  scale: 'scale',
  translation: 'position',
  rotation: 'quaternion',
  weights: 'morphTargetInfluences'
};
var INTERPOLATION = {
  CUBICSPLINE: undefined,
  // We use a custom interpolant (GLTFCubicSplineInterpolation) for CUBICSPLINE tracks. Each
  // keyframe track will be initialized with a default interpolation type, then modified.
  LINEAR: _threeModule.InterpolateLinear,
  STEP: _threeModule.InterpolateDiscrete
};
var ALPHA_MODES = {
  OPAQUE: 'OPAQUE',
  MASK: 'MASK',
  BLEND: 'BLEND'
};

/* UTILITY FUNCTIONS */

function resolveURL(url, path) {
  // Invalid URL
  if (typeof url !== 'string' || url === '') return '';

  // Host Relative URL
  if (/^https?:\/\//i.test(path) && /^\//.test(url)) {
    path = path.replace(/(^https?:\/\/[^\/]+).*/i, '$1');
  }

  // Absolute URL http://,https://,//
  if (/^(https?:)?\/\//i.test(url)) return url;

  // Data URI
  if (/^data:.*,.*$/i.test(url)) return url;

  // Blob URL
  if (/^blob:.*$/i.test(url)) return url;

  // Relative URL
  return path + url;
}

/**
 * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#default-material
 */
function createDefaultMaterial(cache) {
  if (cache['DefaultMaterial'] === undefined) {
    cache['DefaultMaterial'] = new _threeModule.MeshStandardMaterial({
      color: 0xFFFFFF,
      emissive: 0x000000,
      metalness: 1,
      roughness: 1,
      transparent: false,
      depthTest: true,
      side: _threeModule.FrontSide
    });
  }
  return cache['DefaultMaterial'];
}
function addUnknownExtensionsToUserData(knownExtensions, object, objectDef) {
  // Add unknown glTF extensions to an object's userData.

  for (var name in objectDef.extensions) {
    if (knownExtensions[name] === undefined) {
      object.userData.gltfExtensions = object.userData.gltfExtensions || {};
      object.userData.gltfExtensions[name] = objectDef.extensions[name];
    }
  }
}

/**
 * @param {Object3D|Material|BufferGeometry} object
 * @param {GLTF.definition} gltfDef
 */
function assignExtrasToUserData(object, gltfDef) {
  if (gltfDef.extras !== undefined) {
    if ((0, _typeof2.default)(gltfDef.extras) === 'object') {
      Object.assign(object.userData, gltfDef.extras);
    } else {
      console.warn('THREE.GLTFLoader: Ignoring primitive type .extras, ' + gltfDef.extras);
    }
  }
}

/**
 * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#morph-targets
 *
 * @param {BufferGeometry} geometry
 * @param {Array<GLTF.Target>} targets
 * @param {GLTFParser} parser
 * @return {Promise<BufferGeometry>}
 */
function addMorphTargets(geometry, targets, parser) {
  var hasMorphPosition = false;
  var hasMorphNormal = false;
  for (var i = 0, il = targets.length; i < il; i++) {
    var target = targets[i];
    if (target.POSITION !== undefined) hasMorphPosition = true;
    if (target.NORMAL !== undefined) hasMorphNormal = true;
    if (hasMorphPosition && hasMorphNormal) break;
  }
  if (!hasMorphPosition && !hasMorphNormal) return Promise.resolve(geometry);
  var pendingPositionAccessors = [];
  var pendingNormalAccessors = [];
  for (var _i2 = 0, _il = targets.length; _i2 < _il; _i2++) {
    var _target = targets[_i2];
    if (hasMorphPosition) {
      var pendingAccessor = _target.POSITION !== undefined ? parser.getDependency('accessor', _target.POSITION) : geometry.attributes.position;
      pendingPositionAccessors.push(pendingAccessor);
    }
    if (hasMorphNormal) {
      var _pendingAccessor = _target.NORMAL !== undefined ? parser.getDependency('accessor', _target.NORMAL) : geometry.attributes.normal;
      pendingNormalAccessors.push(_pendingAccessor);
    }
  }
  return Promise.all([Promise.all(pendingPositionAccessors), Promise.all(pendingNormalAccessors)]).then(function (accessors) {
    var morphPositions = accessors[0];
    var morphNormals = accessors[1];
    if (hasMorphPosition) geometry.morphAttributes.position = morphPositions;
    if (hasMorphNormal) geometry.morphAttributes.normal = morphNormals;
    geometry.morphTargetsRelative = true;
    return geometry;
  });
}

/**
 * @param {Mesh} mesh
 * @param {GLTF.Mesh} meshDef
 */
function updateMorphTargets(mesh, meshDef) {
  mesh.updateMorphTargets();
  if (meshDef.weights !== undefined) {
    for (var i = 0, il = meshDef.weights.length; i < il; i++) {
      mesh.morphTargetInfluences[i] = meshDef.weights[i];
    }
  }

  // .extras has user-defined data, so check that .extras.targetNames is an array.
  if (meshDef.extras && Array.isArray(meshDef.extras.targetNames)) {
    var targetNames = meshDef.extras.targetNames;
    if (mesh.morphTargetInfluences.length === targetNames.length) {
      mesh.morphTargetDictionary = {};
      for (var _i3 = 0, _il2 = targetNames.length; _i3 < _il2; _i3++) {
        mesh.morphTargetDictionary[targetNames[_i3]] = _i3;
      }
    } else {
      console.warn('THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.');
    }
  }
}
function createPrimitiveKey(primitiveDef) {
  var dracoExtension = primitiveDef.extensions && primitiveDef.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION];
  var geometryKey;
  if (dracoExtension) {
    geometryKey = 'draco:' + dracoExtension.bufferView + ':' + dracoExtension.indices + ':' + createAttributesKey(dracoExtension.attributes);
  } else {
    geometryKey = primitiveDef.indices + ':' + createAttributesKey(primitiveDef.attributes) + ':' + primitiveDef.mode;
  }
  return geometryKey;
}
function createAttributesKey(attributes) {
  var attributesKey = '';
  var keys = Object.keys(attributes).sort();
  for (var i = 0, il = keys.length; i < il; i++) {
    attributesKey += keys[i] + ':' + attributes[keys[i]] + ';';
  }
  return attributesKey;
}
function getNormalizedComponentScale(constructor) {
  // Reference:
  // https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization#encoding-quantized-data

  switch (constructor) {
    case Int8Array:
      return 1 / 127;
    case Uint8Array:
      return 1 / 255;
    case Int16Array:
      return 1 / 32767;
    case Uint16Array:
      return 1 / 65535;
    default:
      throw new Error('THREE.GLTFLoader: Unsupported normalized accessor component type.');
  }
}

/* GLTF PARSER */
var GLTFParser = /*#__PURE__*/function () {
  function GLTFParser() {
    var json = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    (0, _classCallCheck2.default)(this, GLTFParser);
    this.json = json;
    this.extensions = {};
    this.plugins = {};
    this.options = options;

    // loader object cache
    this.cache = new GLTFRegistry();

    // associations between Three.js objects and glTF elements
    this.associations = new Map();

    // BufferGeometry caching
    this.primitiveCache = {};

    // Object3D instance caches
    this.meshCache = {
      refs: {},
      uses: {}
    };
    this.cameraCache = {
      refs: {},
      uses: {}
    };
    this.lightCache = {
      refs: {},
      uses: {}
    };
    this.textureCache = {};

    // Track node names, to ensure no duplicates
    this.nodeNamesUsed = {};

    // Use an ImageBitmapLoader if imageBitmaps are supported. Moves much of the
    // expensive work of uploading a texture to the GPU off the main thread.
    if (typeof _threeModule.$createImageBitmap !== 'undefined' && /Firefox/.test(navigator.userAgent) === false) {
      this.textureLoader = new _threeModule.ImageBitmapLoader(this.options.manager);
    } else {
      this.textureLoader = new _threeModule.TextureLoader(this.options.manager);
    }
    this.textureLoader.setCrossOrigin(this.options.crossOrigin);
    this.textureLoader.setRequestHeader(this.options.requestHeader);
    this.fileLoader = new _threeModule.FileLoader(this.options.manager);
    this.fileLoader.setResponseType('arraybuffer');
    if (this.options.crossOrigin === 'use-credentials') {
      this.fileLoader.setWithCredentials(true);
    }
  }
  (0, _createClass2.default)(GLTFParser, [{
    key: "setExtensions",
    value: function setExtensions(extensions) {
      this.extensions = extensions;
    }
  }, {
    key: "setPlugins",
    value: function setPlugins(plugins) {
      this.plugins = plugins;
    }
  }, {
    key: "parse",
    value: function parse(onLoad, onError) {
      var parser = this;
      var json = this.json;
      var extensions = this.extensions;

      // Clear the loader cache
      this.cache.removeAll();

      // Mark the special nodes/meshes in json for efficient parse
      this._invokeAll(function (ext) {
        return ext._markDefs && ext._markDefs();
      });
      Promise.all(this._invokeAll(function (ext) {
        return ext.beforeRoot && ext.beforeRoot();
      })).then(function () {
        return Promise.all([parser.getDependencies('scene'), parser.getDependencies('animation'), parser.getDependencies('camera')]);
      }).then(function (dependencies) {
        var result = {
          scene: dependencies[0][json.scene || 0],
          scenes: dependencies[0],
          animations: dependencies[1],
          cameras: dependencies[2],
          asset: json.asset,
          parser: parser,
          userData: {}
        };
        addUnknownExtensionsToUserData(extensions, result, json);
        assignExtrasToUserData(result, json);
        Promise.all(parser._invokeAll(function (ext) {
          return ext.afterRoot && ext.afterRoot(result);
        })).then(function () {
          onLoad(result);
        });
      }).catch(onError);
    }

    /**
     * Marks the special nodes/meshes in json for efficient parse.
     */
  }, {
    key: "_markDefs",
    value: function _markDefs() {
      var nodeDefs = this.json.nodes || [];
      var skinDefs = this.json.skins || [];
      var meshDefs = this.json.meshes || [];

      // Nothing in the node definition indicates whether it is a Bone or an
      // Object3D. Use the skins' joint references to mark bones.
      for (var skinIndex = 0, skinLength = skinDefs.length; skinIndex < skinLength; skinIndex++) {
        var joints = skinDefs[skinIndex].joints;
        for (var i = 0, il = joints.length; i < il; i++) {
          nodeDefs[joints[i]].isBone = true;
        }
      }

      // Iterate over all nodes, marking references to shared resources,
      // as well as skeleton joints.
      for (var nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex++) {
        var nodeDef = nodeDefs[nodeIndex];
        if (nodeDef.mesh !== undefined) {
          this._addNodeRef(this.meshCache, nodeDef.mesh);

          // Nothing in the mesh definition indicates whether it is
          // a SkinnedMesh or Mesh. Use the node's mesh reference
          // to mark SkinnedMesh if node has skin.
          if (nodeDef.skin !== undefined) {
            meshDefs[nodeDef.mesh].isSkinnedMesh = true;
          }
        }
        if (nodeDef.camera !== undefined) {
          this._addNodeRef(this.cameraCache, nodeDef.camera);
        }
      }
    }

    /**
     * Counts references to shared node / Object3D resources. These resources
     * can be reused, or "instantiated", at multiple nodes in the scene
     * hierarchy. Mesh, Camera, and Light instances are instantiated and must
     * be marked. Non-scenegraph resources (like Materials, Geometries, and
     * Textures) can be reused directly and are not marked here.
     *
     * Example: CesiumMilkTruck sample model reuses "Wheel" meshes.
     */
  }, {
    key: "_addNodeRef",
    value: function _addNodeRef(cache, index) {
      if (index === undefined) return;
      if (cache.refs[index] === undefined) {
        cache.refs[index] = cache.uses[index] = 0;
      }
      cache.refs[index]++;
    }

    /** Returns a reference to a shared resource, cloning it if necessary. */
  }, {
    key: "_getNodeRef",
    value: function _getNodeRef(cache, index, object) {
      var _this3 = this;
      if (cache.refs[index] <= 1) return object;
      var ref = object.clone();

      // Propagates mappings to the cloned object, prevents mappings on the
      // original object from being lost.
      var updateMappings = function updateMappings(original, clone) {
        var mappings = _this3.associations.get(original);
        if (mappings != null) {
          _this3.associations.set(clone, mappings);
        }
        var _iterator = _createForOfIteratorHelper(original.children.entries()),
          _step;
        try {
          for (_iterator.s(); !(_step = _iterator.n()).done;) {
            var _step$value = (0, _slicedToArray2.default)(_step.value, 2),
              i = _step$value[0],
              child = _step$value[1];
            updateMappings(child, clone.children[i]);
          }
        } catch (err) {
          _iterator.e(err);
        } finally {
          _iterator.f();
        }
      };
      updateMappings(object, ref);
      ref.name += '_instance_' + cache.uses[index]++;
      return ref;
    }
  }, {
    key: "_invokeOne",
    value: function _invokeOne(func) {
      var extensions = Object.values(this.plugins);
      extensions.push(this);
      for (var i = 0; i < extensions.length; i++) {
        var result = func(extensions[i]);
        if (result) return result;
      }
      return null;
    }
  }, {
    key: "_invokeAll",
    value: function _invokeAll(func) {
      var extensions = Object.values(this.plugins);
      extensions.unshift(this);
      var pending = [];
      for (var i = 0; i < extensions.length; i++) {
        var result = func(extensions[i]);
        if (result) pending.push(result);
      }
      return pending;
    }

    /**
     * Requests the specified dependency asynchronously, with caching.
     * @param {string} type
     * @param {number} index
     * @return {Promise<Object3D|Material|THREE.Texture|AnimationClip|ArrayBuffer|Object>}
     */
  }, {
    key: "getDependency",
    value: function getDependency(type, index) {
      var cacheKey = type + ':' + index;
      var dependency = this.cache.get(cacheKey);
      if (!dependency) {
        switch (type) {
          case 'scene':
            dependency = this.loadScene(index);
            break;
          case 'node':
            dependency = this.loadNode(index);
            break;
          case 'mesh':
            dependency = this._invokeOne(function (ext) {
              return ext.loadMesh && ext.loadMesh(index);
            });
            break;
          case 'accessor':
            dependency = this.loadAccessor(index);
            break;
          case 'bufferView':
            dependency = this._invokeOne(function (ext) {
              return ext.loadBufferView && ext.loadBufferView(index);
            });
            break;
          case 'buffer':
            dependency = this.loadBuffer(index);
            break;
          case 'material':
            dependency = this._invokeOne(function (ext) {
              return ext.loadMaterial && ext.loadMaterial(index);
            });
            break;
          case 'texture':
            dependency = this._invokeOne(function (ext) {
              return ext.loadTexture && ext.loadTexture(index);
            });
            break;
          case 'skin':
            dependency = this.loadSkin(index);
            break;
          case 'animation':
            dependency = this.loadAnimation(index);
            break;
          case 'camera':
            dependency = this.loadCamera(index);
            break;
          default:
            throw new Error('Unknown type: ' + type);
        }
        this.cache.add(cacheKey, dependency);
      }
      return dependency;
    }

    /**
     * Requests all dependencies of the specified type asynchronously, with caching.
     * @param {string} type
     * @return {Promise<Array<Object>>}
     */
  }, {
    key: "getDependencies",
    value: function getDependencies(type) {
      var dependencies = this.cache.get(type);
      if (!dependencies) {
        var parser = this;
        var defs = this.json[type + (type === 'mesh' ? 'es' : 's')] || [];
        dependencies = Promise.all(defs.map(function (def, index) {
          return parser.getDependency(type, index);
        }));
        this.cache.add(type, dependencies);
      }
      return dependencies;
    }

    /**
     * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views
     * @param {number} bufferIndex
     * @return {Promise<ArrayBuffer>}
     */
  }, {
    key: "loadBuffer",
    value: function loadBuffer(bufferIndex) {
      var bufferDef = this.json.buffers[bufferIndex];
      var loader = this.fileLoader;
      if (bufferDef.type && bufferDef.type !== 'arraybuffer') {
        throw new Error('THREE.GLTFLoader: ' + bufferDef.type + ' buffer type is not supported.');
      }

      // If present, GLB container is required to be the first buffer.
      if (bufferDef.uri === undefined && bufferIndex === 0) {
        return Promise.resolve(this.extensions[EXTENSIONS.KHR_BINARY_GLTF].body);
      }
      var options = this.options;
      return new Promise(function (resolve, reject) {
        loader.load(resolveURL(bufferDef.uri, options.path), resolve, undefined, function () {
          reject(new Error('THREE.GLTFLoader: Failed to load buffer "' + bufferDef.uri + '".'));
        });
      });
    }

    /**
     * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views
     * @param {number} bufferViewIndex
     * @return {Promise<ArrayBuffer>}
     */
  }, {
    key: "loadBufferView",
    value: function loadBufferView(bufferViewIndex) {
      var bufferViewDef = this.json.bufferViews[bufferViewIndex];
      return this.getDependency('buffer', bufferViewDef.buffer).then(function (buffer) {
        var byteLength = bufferViewDef.byteLength || 0;
        var byteOffset = bufferViewDef.byteOffset || 0;
        return buffer.slice(byteOffset, byteOffset + byteLength);
      });
    }

    /**
     * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#accessors
     * @param {number} accessorIndex
     * @return {Promise<BufferAttribute|InterleavedBufferAttribute>}
     */
  }, {
    key: "loadAccessor",
    value: function loadAccessor(accessorIndex) {
      var parser = this;
      var json = this.json;
      var accessorDef = this.json.accessors[accessorIndex];
      if (accessorDef.bufferView === undefined && accessorDef.sparse === undefined) {
        // Ignore empty accessors, which may be used to declare runtime
        // information about attributes coming from another source (e.g. Draco
        // compression extension).
        return Promise.resolve(null);
      }
      var pendingBufferViews = [];
      if (accessorDef.bufferView !== undefined) {
        pendingBufferViews.push(this.getDependency('bufferView', accessorDef.bufferView));
      } else {
        pendingBufferViews.push(null);
      }
      if (accessorDef.sparse !== undefined) {
        pendingBufferViews.push(this.getDependency('bufferView', accessorDef.sparse.indices.bufferView));
        pendingBufferViews.push(this.getDependency('bufferView', accessorDef.sparse.values.bufferView));
      }
      return Promise.all(pendingBufferViews).then(function (bufferViews) {
        var bufferView = bufferViews[0];
        var itemSize = WEBGL_TYPE_SIZES[accessorDef.type];
        var TypedArray = WEBGL_COMPONENT_TYPES[accessorDef.componentType];

        // For VEC3: itemSize is 3, elementBytes is 4, itemBytes is 12.
        var elementBytes = TypedArray.BYTES_PER_ELEMENT;
        var itemBytes = elementBytes * itemSize;
        var byteOffset = accessorDef.byteOffset || 0;
        var byteStride = accessorDef.bufferView !== undefined ? json.bufferViews[accessorDef.bufferView].byteStride : undefined;
        var normalized = accessorDef.normalized === true;
        var array, bufferAttribute;

        // The buffer is not interleaved if the stride is the item size in bytes.
        if (byteStride && byteStride !== itemBytes) {
          // Each "slice" of the buffer, as defined by 'count' elements of 'byteStride' bytes, gets its own InterleavedBuffer
          // This makes sure that IBA.count reflects accessor.count properly
          var ibSlice = Math.floor(byteOffset / byteStride);
          var ibCacheKey = 'InterleavedBuffer:' + accessorDef.bufferView + ':' + accessorDef.componentType + ':' + ibSlice + ':' + accessorDef.count;
          var ib = parser.cache.get(ibCacheKey);
          if (!ib) {
            array = new TypedArray(bufferView, ibSlice * byteStride, accessorDef.count * byteStride / elementBytes);

            // Integer parameters to IB/IBA are in array elements, not bytes.
            ib = new _threeModule.InterleavedBuffer(array, byteStride / elementBytes);
            parser.cache.add(ibCacheKey, ib);
          }
          bufferAttribute = new _threeModule.InterleavedBufferAttribute(ib, itemSize, byteOffset % byteStride / elementBytes, normalized);
        } else {
          if (bufferView === null) {
            array = new TypedArray(accessorDef.count * itemSize);
          } else {
            array = new TypedArray(bufferView, byteOffset, accessorDef.count * itemSize);
          }
          bufferAttribute = new _threeModule.BufferAttribute(array, itemSize, normalized);
        }

        // https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#sparse-accessors
        if (accessorDef.sparse !== undefined) {
          var itemSizeIndices = WEBGL_TYPE_SIZES.SCALAR;
          var TypedArrayIndices = WEBGL_COMPONENT_TYPES[accessorDef.sparse.indices.componentType];
          var byteOffsetIndices = accessorDef.sparse.indices.byteOffset || 0;
          var byteOffsetValues = accessorDef.sparse.values.byteOffset || 0;
          var sparseIndices = new TypedArrayIndices(bufferViews[1], byteOffsetIndices, accessorDef.sparse.count * itemSizeIndices);
          var sparseValues = new TypedArray(bufferViews[2], byteOffsetValues, accessorDef.sparse.count * itemSize);
          if (bufferView !== null) {
            // Avoid modifying the original ArrayBuffer, if the bufferView wasn't initialized with zeroes.
            bufferAttribute = new _threeModule.BufferAttribute(bufferAttribute.array.slice(), bufferAttribute.itemSize, bufferAttribute.normalized);
          }
          for (var i = 0, il = sparseIndices.length; i < il; i++) {
            var index = sparseIndices[i];
            bufferAttribute.setX(index, sparseValues[i * itemSize]);
            if (itemSize >= 2) bufferAttribute.setY(index, sparseValues[i * itemSize + 1]);
            if (itemSize >= 3) bufferAttribute.setZ(index, sparseValues[i * itemSize + 2]);
            if (itemSize >= 4) bufferAttribute.setW(index, sparseValues[i * itemSize + 3]);
            if (itemSize >= 5) throw new Error('THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.');
          }
        }
        return bufferAttribute;
      });
    }

    /**
     * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#textures
     * @param {number} textureIndex
     * @return {Promise<THREE.Texture>}
     */
  }, {
    key: "loadTexture",
    value: function loadTexture(textureIndex) {
      var json = this.json;
      var options = this.options;
      var textureDef = json.textures[textureIndex];
      var source = json.images[textureDef.source];
      var loader = this.textureLoader;
      if (source.uri) {
        var handler = options.manager.getHandler(source.uri);
        if (handler !== null) loader = handler;
      }
      return this.loadTextureImage(textureIndex, source, loader);
    }
  }, {
    key: "loadTextureImage",
    value: function loadTextureImage(textureIndex, source, loader) {
      var parser = this;
      var json = this.json;
      var options = this.options;
      var textureDef = json.textures[textureIndex];
      var cacheKey = (source.uri || source.bufferView) + ':' + textureDef.sampler;
      if (this.textureCache[cacheKey]) {
        // See https://github.com/mrdoob/three.js/issues/21559.
        return this.textureCache[cacheKey];
      }
      var URL = _threeModule.$URL || self.webkitURL;
      var sourceURI = source.uri || '';
      var isObjectURL = false;
      if (source.bufferView !== undefined) {
        // Load binary image data from bufferView, if provided.

        sourceURI = parser.getDependency('bufferView', source.bufferView).then(function (bufferView) {
          isObjectURL = true;
          var blob = new _threeModule.$Blob([bufferView], {
            type: source.mimeType
          });
          sourceURI = URL.createObjectURL(blob);
          return sourceURI;
        });
      } else if (source.uri === undefined) {
        throw new Error('THREE.GLTFLoader: Image ' + textureIndex + ' is missing URI and bufferView');
      }
      var promise = Promise.resolve(sourceURI).then(function (sourceURI) {
        return new Promise(function (resolve, reject) {
          var onLoad = resolve;
          if (loader.isImageBitmapLoader === true) {
            onLoad = function onLoad(imageBitmap) {
              var texture = new _threeModule.Texture(imageBitmap);
              texture.needsUpdate = true;
              resolve(texture);
            };
          }
          loader.load(resolveURL(sourceURI, options.path), onLoad, undefined, reject);
        });
      }).then(function (texture) {
        // Clean up resources and configure Texture.

        if (isObjectURL === true) {
          URL.revokeObjectURL(sourceURI);
        }
        texture.flipY = false;
        if (textureDef.name) texture.name = textureDef.name;
        var samplers = json.samplers || {};
        var sampler = samplers[textureDef.sampler] || {};
        texture.magFilter = WEBGL_FILTERS[sampler.magFilter] || _threeModule.LinearFilter;
        texture.minFilter = WEBGL_FILTERS[sampler.minFilter] || _threeModule.LinearMipmapLinearFilter;
        texture.wrapS = WEBGL_WRAPPINGS[sampler.wrapS] || _threeModule.RepeatWrapping;
        texture.wrapT = WEBGL_WRAPPINGS[sampler.wrapT] || _threeModule.RepeatWrapping;
        parser.associations.set(texture, {
          textures: textureIndex
        });
        return texture;
      }).catch(function () {
        console.error('THREE.GLTFLoader: Couldn\'t load texture', sourceURI);
        return null;
      });
      this.textureCache[cacheKey] = promise;
      return promise;
    }

    /**
     * Asynchronously assigns a texture to the given material parameters.
     * @param {Object} materialParams
     * @param {string} mapName
     * @param {Object} mapDef
     * @return {Promise<Texture>}
     */
  }, {
    key: "assignTexture",
    value: function assignTexture(materialParams, mapName, mapDef) {
      var parser = this;
      return this.getDependency('texture', mapDef.index).then(function (texture) {
        // Materials sample aoMap from UV set 1 and other maps from UV set 0 - this can't be configured
        // However, we will copy UV set 0 to UV set 1 on demand for aoMap
        if (mapDef.texCoord !== undefined && mapDef.texCoord != 0 && !(mapName === 'aoMap' && mapDef.texCoord == 1)) {
          console.warn('THREE.GLTFLoader: Custom UV set ' + mapDef.texCoord + ' for texture ' + mapName + ' not yet supported.');
        }
        if (parser.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]) {
          var transform = mapDef.extensions !== undefined ? mapDef.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM] : undefined;
          if (transform) {
            var gltfReference = parser.associations.get(texture);
            texture = parser.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM].extendTexture(texture, transform);
            parser.associations.set(texture, gltfReference);
          }
        }
        materialParams[mapName] = texture;
        return texture;
      });
    }

    /**
     * Assigns final material to a Mesh, Line, or Points instance. The instance
     * already has a material (generated from the glTF material options alone)
     * but reuse of the same glTF material may require multiple threejs materials
     * to accommodate different primitive types, defines, etc. New materials will
     * be created if necessary, and reused from a cache.
     * @param  {Object3D} mesh Mesh, Line, or Points instance.
     */
  }, {
    key: "assignFinalMaterial",
    value: function assignFinalMaterial(mesh) {
      var geometry = mesh.geometry;
      var material = mesh.material;
      var useDerivativeTangents = geometry.attributes.tangent === undefined;
      var useVertexColors = geometry.attributes.color !== undefined;
      var useFlatShading = geometry.attributes.normal === undefined;
      if (mesh.isPoints) {
        var cacheKey = 'PointsMaterial:' + material.uuid;
        var pointsMaterial = this.cache.get(cacheKey);
        if (!pointsMaterial) {
          pointsMaterial = new _threeModule.PointsMaterial();
          _threeModule.Material.prototype.copy.call(pointsMaterial, material);
          pointsMaterial.color.copy(material.color);
          pointsMaterial.map = material.map;
          pointsMaterial.sizeAttenuation = false; // glTF spec says points should be 1px

          this.cache.add(cacheKey, pointsMaterial);
        }
        material = pointsMaterial;
      } else if (mesh.isLine) {
        var _cacheKey = 'LineBasicMaterial:' + material.uuid;
        var lineMaterial = this.cache.get(_cacheKey);
        if (!lineMaterial) {
          lineMaterial = new _threeModule.LineBasicMaterial();
          _threeModule.Material.prototype.copy.call(lineMaterial, material);
          lineMaterial.color.copy(material.color);
          this.cache.add(_cacheKey, lineMaterial);
        }
        material = lineMaterial;
      }

      // Clone the material if it will be modified
      if (useDerivativeTangents || useVertexColors || useFlatShading) {
        var _cacheKey2 = 'ClonedMaterial:' + material.uuid + ':';
        if (material.isGLTFSpecularGlossinessMaterial) _cacheKey2 += 'specular-glossiness:';
        if (useDerivativeTangents) _cacheKey2 += 'derivative-tangents:';
        if (useVertexColors) _cacheKey2 += 'vertex-colors:';
        if (useFlatShading) _cacheKey2 += 'flat-shading:';
        var cachedMaterial = this.cache.get(_cacheKey2);
        if (!cachedMaterial) {
          cachedMaterial = material.clone();
          if (useVertexColors) cachedMaterial.vertexColors = true;
          if (useFlatShading) cachedMaterial.flatShading = true;
          if (useDerivativeTangents) {
            // https://github.com/mrdoob/three.js/issues/11438#issuecomment-507003995
            if (cachedMaterial.normalScale) cachedMaterial.normalScale.y *= -1;
            if (cachedMaterial.clearcoatNormalScale) cachedMaterial.clearcoatNormalScale.y *= -1;
          }
          this.cache.add(_cacheKey2, cachedMaterial);
          this.associations.set(cachedMaterial, this.associations.get(material));
        }
        material = cachedMaterial;
      }

      // workarounds for mesh and geometry

      if (material.aoMap && geometry.attributes.uv2 === undefined && geometry.attributes.uv !== undefined) {
        geometry.setAttribute('uv2', geometry.attributes.uv);
      }
      mesh.material = material;
    }
  }, {
    key: "getMaterialType",
    value: function getMaterialType( /* materialIndex */
    ) {
      return _threeModule.MeshStandardMaterial;
    }

    /**
     * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#materials
     * @param {number} materialIndex
     * @return {Promise<Material>}
     */
  }, {
    key: "loadMaterial",
    value: function loadMaterial(materialIndex) {
      var parser = this;
      var json = this.json;
      var extensions = this.extensions;
      var materialDef = json.materials[materialIndex];
      var materialType;
      var materialParams = {};
      var materialExtensions = materialDef.extensions || {};
      var pending = [];
      if (materialExtensions[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]) {
        var sgExtension = extensions[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];
        materialType = sgExtension.getMaterialType();
        pending.push(sgExtension.extendParams(materialParams, materialDef, parser));
      } else if (materialExtensions[EXTENSIONS.KHR_MATERIALS_UNLIT]) {
        var kmuExtension = extensions[EXTENSIONS.KHR_MATERIALS_UNLIT];
        materialType = kmuExtension.getMaterialType();
        pending.push(kmuExtension.extendParams(materialParams, materialDef, parser));
      } else {
        // Specification:
        // https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#metallic-roughness-material

        var metallicRoughness = materialDef.pbrMetallicRoughness || {};
        materialParams.color = new _threeModule.Color(1.0, 1.0, 1.0);
        materialParams.opacity = 1.0;
        if (Array.isArray(metallicRoughness.baseColorFactor)) {
          var array = metallicRoughness.baseColorFactor;
          materialParams.color.fromArray(array);
          materialParams.opacity = array[3];
        }
        if (metallicRoughness.baseColorTexture !== undefined) {
          pending.push(parser.assignTexture(materialParams, 'map', metallicRoughness.baseColorTexture));
        }
        materialParams.metalness = metallicRoughness.metallicFactor !== undefined ? metallicRoughness.metallicFactor : 1.0;
        materialParams.roughness = metallicRoughness.roughnessFactor !== undefined ? metallicRoughness.roughnessFactor : 1.0;
        if (metallicRoughness.metallicRoughnessTexture !== undefined) {
          pending.push(parser.assignTexture(materialParams, 'metalnessMap', metallicRoughness.metallicRoughnessTexture));
          pending.push(parser.assignTexture(materialParams, 'roughnessMap', metallicRoughness.metallicRoughnessTexture));
        }
        materialType = this._invokeOne(function (ext) {
          return ext.getMaterialType && ext.getMaterialType(materialIndex);
        });
        pending.push(Promise.all(this._invokeAll(function (ext) {
          return ext.extendMaterialParams && ext.extendMaterialParams(materialIndex, materialParams);
        })));
      }
      if (materialDef.doubleSided === true) {
        materialParams.side = _threeModule.DoubleSide;
      }
      var alphaMode = materialDef.alphaMode || ALPHA_MODES.OPAQUE;
      if (alphaMode === ALPHA_MODES.BLEND) {
        materialParams.transparent = true;

        // See: https://github.com/mrdoob/three.js/issues/17706
        materialParams.depthWrite = false;
      } else {
        materialParams.format = _threeModule.RGBFormat;
        materialParams.transparent = false;
        if (alphaMode === ALPHA_MODES.MASK) {
          materialParams.alphaTest = materialDef.alphaCutoff !== undefined ? materialDef.alphaCutoff : 0.5;
        }
      }
      if (materialDef.normalTexture !== undefined && materialType !== _threeModule.MeshBasicMaterial) {
        pending.push(parser.assignTexture(materialParams, 'normalMap', materialDef.normalTexture));
        materialParams.normalScale = new _threeModule.Vector2(1, 1);
        if (materialDef.normalTexture.scale !== undefined) {
          var scale = materialDef.normalTexture.scale;
          materialParams.normalScale.set(scale, scale);
        }
      }
      if (materialDef.occlusionTexture !== undefined && materialType !== _threeModule.MeshBasicMaterial) {
        pending.push(parser.assignTexture(materialParams, 'aoMap', materialDef.occlusionTexture));
        if (materialDef.occlusionTexture.strength !== undefined) {
          materialParams.aoMapIntensity = materialDef.occlusionTexture.strength;
        }
      }
      if (materialDef.emissiveFactor !== undefined && materialType !== _threeModule.MeshBasicMaterial) {
        materialParams.emissive = new _threeModule.Color().fromArray(materialDef.emissiveFactor);
      }
      if (materialDef.emissiveTexture !== undefined && materialType !== _threeModule.MeshBasicMaterial) {
        pending.push(parser.assignTexture(materialParams, 'emissiveMap', materialDef.emissiveTexture));
      }
      return Promise.all(pending).then(function () {
        var material;
        if (materialType === GLTFMeshStandardSGMaterial) {
          material = extensions[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(materialParams);
        } else {
          material = new materialType(materialParams);
        }
        if (materialDef.name) material.name = materialDef.name;

        // baseColorTexture, emissiveTexture, and specularGlossinessTexture use sRGB encoding.
        if (material.map) material.map.encoding = _threeModule.sRGBEncoding;
        if (material.emissiveMap) material.emissiveMap.encoding = _threeModule.sRGBEncoding;
        assignExtrasToUserData(material, materialDef);
        parser.associations.set(material, {
          materials: materialIndex
        });
        if (materialDef.extensions) addUnknownExtensionsToUserData(extensions, material, materialDef);
        return material;
      });
    }

    /** When Object3D instances are targeted by animation, they need unique names. */
  }, {
    key: "createUniqueName",
    value: function createUniqueName(originalName) {
      var sanitizedName = _threeModule.PropertyBinding.sanitizeNodeName(originalName || '');
      var name = sanitizedName;
      for (var i = 1; this.nodeNamesUsed[name]; ++i) {
        name = sanitizedName + '_' + i;
      }
      this.nodeNamesUsed[name] = true;
      return name;
    }

    /**
     * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#geometry
     *
     * Creates BufferGeometries from primitives.
     *
     * @param {Array<GLTF.Primitive>} primitives
     * @return {Promise<Array<BufferGeometry>>}
     */
  }, {
    key: "loadGeometries",
    value: function loadGeometries(primitives) {
      var parser = this;
      var extensions = this.extensions;
      var cache = this.primitiveCache;
      function createDracoPrimitive(primitive) {
        return extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(primitive, parser).then(function (geometry) {
          return addPrimitiveAttributes(geometry, primitive, parser);
        });
      }
      var pending = [];
      for (var i = 0, il = primitives.length; i < il; i++) {
        var primitive = primitives[i];
        var cacheKey = createPrimitiveKey(primitive);

        // See if we've already created this geometry
        var cached = cache[cacheKey];
        if (cached) {
          // Use the cached geometry if it exists
          pending.push(cached.promise);
        } else {
          var geometryPromise = void 0;
          if (primitive.extensions && primitive.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION]) {
            // Use DRACO geometry if available
            geometryPromise = createDracoPrimitive(primitive);
          } else {
            // Otherwise create a new geometry
            geometryPromise = addPrimitiveAttributes(new _threeModule.BufferGeometry(), primitive, parser);
          }

          // Cache this geometry
          cache[cacheKey] = {
            primitive: primitive,
            promise: geometryPromise
          };
          pending.push(geometryPromise);
        }
      }
      return Promise.all(pending);
    }

    /**
     * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#meshes
     * @param {number} meshIndex
     * @return {Promise<Group|Mesh|SkinnedMesh>}
     */
  }, {
    key: "loadMesh",
    value: function loadMesh(meshIndex) {
      var parser = this;
      var json = this.json;
      var extensions = this.extensions;
      var meshDef = json.meshes[meshIndex];
      var primitives = meshDef.primitives;
      var pending = [];
      for (var i = 0, il = primitives.length; i < il; i++) {
        var material = primitives[i].material === undefined ? createDefaultMaterial(this.cache) : this.getDependency('material', primitives[i].material);
        pending.push(material);
      }
      pending.push(parser.loadGeometries(primitives));
      return Promise.all(pending).then(function (results) {
        var materials = results.slice(0, results.length - 1);
        var geometries = results[results.length - 1];
        var meshes = [];
        for (var _i4 = 0, _il3 = geometries.length; _i4 < _il3; _i4++) {
          var geometry = geometries[_i4];
          var primitive = primitives[_i4];

          // 1. create Mesh

          var mesh = void 0;
          var _material = materials[_i4];
          if (primitive.mode === WEBGL_CONSTANTS.TRIANGLES || primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP || primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN || primitive.mode === undefined) {
            // .isSkinnedMesh isn't in glTF spec. See ._markDefs()
            mesh = meshDef.isSkinnedMesh === true ? new _threeModule.SkinnedMesh(geometry, _material) : new _threeModule.Mesh(geometry, _material);
            if (mesh.isSkinnedMesh === true && !mesh.geometry.attributes.skinWeight.normalized) {
              // we normalize floating point skin weight array to fix malformed assets (see #15319)
              // it's important to skip this for non-float32 data since normalizeSkinWeights assumes non-normalized inputs
              mesh.normalizeSkinWeights();
            }
            if (primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP) {
              mesh.geometry = toTrianglesDrawMode(mesh.geometry, _threeModule.TriangleStripDrawMode);
            } else if (primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN) {
              mesh.geometry = toTrianglesDrawMode(mesh.geometry, _threeModule.TriangleFanDrawMode);
            }
          } else if (primitive.mode === WEBGL_CONSTANTS.LINES) {
            mesh = new _threeModule.LineSegments(geometry, _material);
          } else if (primitive.mode === WEBGL_CONSTANTS.LINE_STRIP) {
            mesh = new _threeModule.Line(geometry, _material);
          } else if (primitive.mode === WEBGL_CONSTANTS.LINE_LOOP) {
            mesh = new _threeModule.LineLoop(geometry, _material);
          } else if (primitive.mode === WEBGL_CONSTANTS.POINTS) {
            mesh = new _threeModule.Points(geometry, _material);
          } else {
            throw new Error('THREE.GLTFLoader: Primitive mode unsupported: ' + primitive.mode);
          }
          if (Object.keys(mesh.geometry.morphAttributes).length > 0) {
            updateMorphTargets(mesh, meshDef);
          }
          mesh.name = parser.createUniqueName(meshDef.name || 'mesh_' + meshIndex);
          assignExtrasToUserData(mesh, meshDef);
          if (primitive.extensions) addUnknownExtensionsToUserData(extensions, mesh, primitive);
          parser.assignFinalMaterial(mesh);
          meshes.push(mesh);
        }
        for (var _i5 = 0, _il4 = meshes.length; _i5 < _il4; _i5++) {
          parser.associations.set(meshes[_i5], {
            meshes: meshIndex,
            primitives: _i5
          });
        }
        if (meshes.length === 1) {
          return meshes[0];
        }
        var group = new _threeModule.Group();
        parser.associations.set(group, {
          meshes: meshIndex
        });
        for (var _i6 = 0, _il5 = meshes.length; _i6 < _il5; _i6++) {
          group.add(meshes[_i6]);
        }
        return group;
      });
    }

    /**
     * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#cameras
     * @param {number} cameraIndex
     * @return {Promise<THREE.Camera>}
     */
  }, {
    key: "loadCamera",
    value: function loadCamera(cameraIndex) {
      var camera;
      var cameraDef = this.json.cameras[cameraIndex];
      var params = cameraDef[cameraDef.type];
      if (!params) {
        console.warn('THREE.GLTFLoader: Missing camera parameters.');
        return;
      }
      if (cameraDef.type === 'perspective') {
        camera = new _threeModule.PerspectiveCamera(_threeModule.MathUtils.radToDeg(params.yfov), params.aspectRatio || 1, params.znear || 1, params.zfar || 2e6);
      } else if (cameraDef.type === 'orthographic') {
        camera = new _threeModule.OrthographicCamera(-params.xmag, params.xmag, params.ymag, -params.ymag, params.znear, params.zfar);
      }
      if (cameraDef.name) camera.name = this.createUniqueName(cameraDef.name);
      assignExtrasToUserData(camera, cameraDef);
      return Promise.resolve(camera);
    }

    /**
     * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#skins
     * @param {number} skinIndex
     * @return {Promise<Object>}
     */
  }, {
    key: "loadSkin",
    value: function loadSkin(skinIndex) {
      var skinDef = this.json.skins[skinIndex];
      var skinEntry = {
        joints: skinDef.joints
      };
      if (skinDef.inverseBindMatrices === undefined) {
        return Promise.resolve(skinEntry);
      }
      return this.getDependency('accessor', skinDef.inverseBindMatrices).then(function (accessor) {
        skinEntry.inverseBindMatrices = accessor;
        return skinEntry;
      });
    }

    /**
     * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#animations
     * @param {number} animationIndex
     * @return {Promise<AnimationClip>}
     */
  }, {
    key: "loadAnimation",
    value: function loadAnimation(animationIndex) {
      var json = this.json;
      var animationDef = json.animations[animationIndex];
      var pendingNodes = [];
      var pendingInputAccessors = [];
      var pendingOutputAccessors = [];
      var pendingSamplers = [];
      var pendingTargets = [];
      for (var i = 0, il = animationDef.channels.length; i < il; i++) {
        var channel = animationDef.channels[i];
        var sampler = animationDef.samplers[channel.sampler];
        var target = channel.target;
        var name = target.node !== undefined ? target.node : target.id; // NOTE: target.id is deprecated.
        var input = animationDef.parameters !== undefined ? animationDef.parameters[sampler.input] : sampler.input;
        var output = animationDef.parameters !== undefined ? animationDef.parameters[sampler.output] : sampler.output;
        pendingNodes.push(this.getDependency('node', name));
        pendingInputAccessors.push(this.getDependency('accessor', input));
        pendingOutputAccessors.push(this.getDependency('accessor', output));
        pendingSamplers.push(sampler);
        pendingTargets.push(target);
      }
      return Promise.all([Promise.all(pendingNodes), Promise.all(pendingInputAccessors), Promise.all(pendingOutputAccessors), Promise.all(pendingSamplers), Promise.all(pendingTargets)]).then(function (dependencies) {
        var nodes = dependencies[0];
        var inputAccessors = dependencies[1];
        var outputAccessors = dependencies[2];
        var samplers = dependencies[3];
        var targets = dependencies[4];
        var tracks = [];
        var _loop = function _loop(_i7, _il6) {
          var node = nodes[_i7];
          var inputAccessor = inputAccessors[_i7];
          var outputAccessor = outputAccessors[_i7];
          var sampler = samplers[_i7];
          var target = targets[_i7];
          if (node === undefined) return "continue";
          node.updateMatrix();
          node.matrixAutoUpdate = true;
          var TypedKeyframeTrack = void 0;
          switch (PATH_PROPERTIES[target.path]) {
            case PATH_PROPERTIES.weights:
              TypedKeyframeTrack = _threeModule.NumberKeyframeTrack;
              break;
            case PATH_PROPERTIES.rotation:
              TypedKeyframeTrack = _threeModule.QuaternionKeyframeTrack;
              break;
            case PATH_PROPERTIES.position:
            case PATH_PROPERTIES.scale:
            default:
              TypedKeyframeTrack = _threeModule.VectorKeyframeTrack;
              break;
          }
          var targetName = node.name ? node.name : node.uuid;
          var interpolation = sampler.interpolation !== undefined ? INTERPOLATION[sampler.interpolation] : _threeModule.InterpolateLinear;
          var targetNames = [];
          if (PATH_PROPERTIES[target.path] === PATH_PROPERTIES.weights) {
            // Node may be a Group (glTF mesh with several primitives) or a Mesh.
            node.traverse(function (object) {
              if (object.isMesh === true && object.morphTargetInfluences) {
                targetNames.push(object.name ? object.name : object.uuid);
              }
            });
          } else {
            targetNames.push(targetName);
          }
          var outputArray = outputAccessor.array;
          if (outputAccessor.normalized) {
            var scale = getNormalizedComponentScale(outputArray.constructor);
            var scaled = new Float32Array(outputArray.length);
            for (var j = 0, jl = outputArray.length; j < jl; j++) {
              scaled[j] = outputArray[j] * scale;
            }
            outputArray = scaled;
          }
          for (var _j = 0, _jl = targetNames.length; _j < _jl; _j++) {
            var track = new TypedKeyframeTrack(targetNames[_j] + '.' + PATH_PROPERTIES[target.path], inputAccessor.array, outputArray, interpolation);

            // Override interpolation with custom factory method.
            if (sampler.interpolation === 'CUBICSPLINE') {
              track.createInterpolant = function InterpolantFactoryMethodGLTFCubicSpline(result) {
                // A CUBICSPLINE keyframe in glTF has three output values for each input value,
                // representing inTangent, splineVertex, and outTangent. As a result, track.getValueSize()
                // must be divided by three to get the interpolant's sampleSize argument.

                var interpolantType = this instanceof _threeModule.QuaternionKeyframeTrack ? GLTFCubicSplineQuaternionInterpolant : GLTFCubicSplineInterpolant;
                return new interpolantType(this.times, this.values, this.getValueSize() / 3, result);
              };

              // Mark as CUBICSPLINE. `track.getInterpolation()` doesn't support custom interpolants.
              track.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline = true;
            }
            tracks.push(track);
          }
        };
        for (var _i7 = 0, _il6 = nodes.length; _i7 < _il6; _i7++) {
          var _ret = _loop(_i7, _il6);
          if (_ret === "continue") continue;
        }
        var name = animationDef.name ? animationDef.name : 'animation_' + animationIndex;
        return new _threeModule.AnimationClip(name, undefined, tracks);
      });
    }
  }, {
    key: "createNodeMesh",
    value: function createNodeMesh(nodeIndex) {
      var json = this.json;
      var parser = this;
      var nodeDef = json.nodes[nodeIndex];
      if (nodeDef.mesh === undefined) return null;
      return parser.getDependency('mesh', nodeDef.mesh).then(function (mesh) {
        var node = parser._getNodeRef(parser.meshCache, nodeDef.mesh, mesh);

        // if weights are provided on the node, override weights on the mesh.
        if (nodeDef.weights !== undefined) {
          node.traverse(function (o) {
            if (!o.isMesh) return;
            for (var i = 0, il = nodeDef.weights.length; i < il; i++) {
              o.morphTargetInfluences[i] = nodeDef.weights[i];
            }
          });
        }
        return node;
      });
    }

    /**
     * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#nodes-and-hierarchy
     * @param {number} nodeIndex
     * @return {Promise<Object3D>}
     */
  }, {
    key: "loadNode",
    value: function loadNode(nodeIndex) {
      var json = this.json;
      var extensions = this.extensions;
      var parser = this;
      var nodeDef = json.nodes[nodeIndex];

      // reserve node's name before its dependencies, so the root has the intended name.
      var nodeName = nodeDef.name ? parser.createUniqueName(nodeDef.name) : '';
      return function () {
        var pending = [];
        var meshPromise = parser._invokeOne(function (ext) {
          return ext.createNodeMesh && ext.createNodeMesh(nodeIndex);
        });
        if (meshPromise) {
          pending.push(meshPromise);
        }
        if (nodeDef.camera !== undefined) {
          pending.push(parser.getDependency('camera', nodeDef.camera).then(function (camera) {
            return parser._getNodeRef(parser.cameraCache, nodeDef.camera, camera);
          }));
        }
        parser._invokeAll(function (ext) {
          return ext.createNodeAttachment && ext.createNodeAttachment(nodeIndex);
        }).forEach(function (promise) {
          pending.push(promise);
        });
        return Promise.all(pending);
      }().then(function (objects) {
        var node;

        // .isBone isn't in glTF spec. See ._markDefs
        if (nodeDef.isBone === true) {
          node = new _threeModule.Bone();
        } else if (objects.length > 1) {
          node = new _threeModule.Group();
        } else if (objects.length === 1) {
          node = objects[0];
        } else {
          node = new _threeModule.Object3D();
        }
        if (node !== objects[0]) {
          for (var i = 0, il = objects.length; i < il; i++) {
            node.add(objects[i]);
          }
        }
        if (nodeDef.name) {
          node.userData.name = nodeDef.name;
          node.name = nodeName;
        }
        assignExtrasToUserData(node, nodeDef);
        if (nodeDef.extensions) addUnknownExtensionsToUserData(extensions, node, nodeDef);
        if (nodeDef.matrix !== undefined) {
          var matrix = new _threeModule.Matrix4();
          matrix.fromArray(nodeDef.matrix);
          node.applyMatrix4(matrix);
        } else {
          if (nodeDef.translation !== undefined) {
            node.position.fromArray(nodeDef.translation);
          }
          if (nodeDef.rotation !== undefined) {
            node.quaternion.fromArray(nodeDef.rotation);
          }
          if (nodeDef.scale !== undefined) {
            node.scale.fromArray(nodeDef.scale);
          }
        }
        if (!parser.associations.has(node)) {
          parser.associations.set(node, {});
        }
        parser.associations.get(node).nodes = nodeIndex;
        return node;
      });
    }

    /**
     * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#scenes
     * @param {number} sceneIndex
     * @return {Promise<Group>}
     */
  }, {
    key: "loadScene",
    value: function loadScene(sceneIndex) {
      var json = this.json;
      var extensions = this.extensions;
      var sceneDef = this.json.scenes[sceneIndex];
      var parser = this;

      // Loader returns Group, not Scene.
      // See: https://github.com/mrdoob/three.js/issues/18342#issuecomment-578981172
      var scene = new _threeModule.Group();
      if (sceneDef.name) scene.name = parser.createUniqueName(sceneDef.name);
      assignExtrasToUserData(scene, sceneDef);
      if (sceneDef.extensions) addUnknownExtensionsToUserData(extensions, scene, sceneDef);
      var nodeIds = sceneDef.nodes || [];
      var pending = [];
      for (var i = 0, il = nodeIds.length; i < il; i++) {
        pending.push(buildNodeHierarchy(nodeIds[i], scene, json, parser));
      }
      return Promise.all(pending).then(function () {
        // Removes dangling associations, associations that reference a node that
        // didn't make it into the scene.
        var reduceAssociations = function reduceAssociations(node) {
          var reducedAssociations = new Map();
          var _iterator2 = _createForOfIteratorHelper(parser.associations),
            _step2;
          try {
            for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
              var _step2$value = (0, _slicedToArray2.default)(_step2.value, 2),
                key = _step2$value[0],
                value = _step2$value[1];
              if (key instanceof _threeModule.Material || key instanceof _threeModule.Texture) {
                reducedAssociations.set(key, value);
              }
            }
          } catch (err) {
            _iterator2.e(err);
          } finally {
            _iterator2.f();
          }
          node.traverse(function (node) {
            var mappings = parser.associations.get(node);
            if (mappings != null) {
              reducedAssociations.set(node, mappings);
            }
          });
          return reducedAssociations;
        };
        parser.associations = reduceAssociations(scene);
        return scene;
      });
    }
  }]);
  return GLTFParser;
}();
function buildNodeHierarchy(nodeId, parentObject, json, parser) {
  var nodeDef = json.nodes[nodeId];
  return parser.getDependency('node', nodeId).then(function (node) {
    if (nodeDef.skin === undefined) return node;

    // build skeleton here as well

    var skinEntry;
    return parser.getDependency('skin', nodeDef.skin).then(function (skin) {
      skinEntry = skin;
      var pendingJoints = [];
      for (var i = 0, il = skinEntry.joints.length; i < il; i++) {
        pendingJoints.push(parser.getDependency('node', skinEntry.joints[i]));
      }
      return Promise.all(pendingJoints);
    }).then(function (jointNodes) {
      node.traverse(function (mesh) {
        if (!mesh.isMesh) return;
        var bones = [];
        var boneInverses = [];
        for (var j = 0, jl = jointNodes.length; j < jl; j++) {
          var jointNode = jointNodes[j];
          if (jointNode) {
            bones.push(jointNode);
            var mat = new _threeModule.Matrix4();
            if (skinEntry.inverseBindMatrices !== undefined) {
              mat.fromArray(skinEntry.inverseBindMatrices.array, j * 16);
            }
            boneInverses.push(mat);
          } else {
            console.warn('THREE.GLTFLoader: Joint "%s" could not be found.', skinEntry.joints[j]);
          }
        }
        mesh.bind(new _threeModule.Skeleton(bones, boneInverses), mesh.matrixWorld);
      });
      return node;
    });
  }).then(function (node) {
    // build node hierachy

    parentObject.add(node);
    var pending = [];
    if (nodeDef.children) {
      var children = nodeDef.children;
      for (var i = 0, il = children.length; i < il; i++) {
        var child = children[i];
        pending.push(buildNodeHierarchy(child, node, json, parser));
      }
    }
    return Promise.all(pending);
  });
}

/**
 * @param {BufferGeometry} geometry
 * @param {GLTF.Primitive} primitiveDef
 * @param {GLTFParser} parser
 */
function computeBounds(geometry, primitiveDef, parser) {
  var attributes = primitiveDef.attributes;
  var box = new _threeModule.Box3();
  if (attributes.POSITION !== undefined) {
    var accessor = parser.json.accessors[attributes.POSITION];
    var min = accessor.min;
    var max = accessor.max;

    // glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.

    if (min !== undefined && max !== undefined) {
      box.set(new _threeModule.Vector3(min[0], min[1], min[2]), new _threeModule.Vector3(max[0], max[1], max[2]));
      if (accessor.normalized) {
        var boxScale = getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[accessor.componentType]);
        box.min.multiplyScalar(boxScale);
        box.max.multiplyScalar(boxScale);
      }
    } else {
      console.warn('THREE.GLTFLoader: Missing min/max properties for accessor POSITION.');
      return;
    }
  } else {
    return;
  }
  var targets = primitiveDef.targets;
  if (targets !== undefined) {
    var maxDisplacement = new _threeModule.Vector3();
    var vector = new _threeModule.Vector3();
    for (var i = 0, il = targets.length; i < il; i++) {
      var target = targets[i];
      if (target.POSITION !== undefined) {
        var _accessor = parser.json.accessors[target.POSITION];
        var _min = _accessor.min;
        var _max = _accessor.max;

        // glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.

        if (_min !== undefined && _max !== undefined) {
          // we need to get max of absolute components because target weight is [-1,1]
          vector.setX(Math.max(Math.abs(_min[0]), Math.abs(_max[0])));
          vector.setY(Math.max(Math.abs(_min[1]), Math.abs(_max[1])));
          vector.setZ(Math.max(Math.abs(_min[2]), Math.abs(_max[2])));
          if (_accessor.normalized) {
            var _boxScale = getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[_accessor.componentType]);
            vector.multiplyScalar(_boxScale);
          }

          // Note: this assumes that the sum of all weights is at most 1. This isn't quite correct - it's more conservative
          // to assume that each target can have a max weight of 1. However, for some use cases - notably, when morph targets
          // are used to implement key-frame animations and as such only two are active at a time - this results in very large
          // boxes. So for now we make a box that's sometimes a touch too small but is hopefully mostly of reasonable size.
          maxDisplacement.max(vector);
        } else {
          console.warn('THREE.GLTFLoader: Missing min/max properties for accessor POSITION.');
        }
      }
    }

    // As per comment above this box isn't conservative, but has a reasonable size for a very large number of morph targets.
    box.expandByVector(maxDisplacement);
  }
  geometry.boundingBox = box;
  var sphere = new _threeModule.Sphere();
  box.getCenter(sphere.center);
  sphere.radius = box.min.distanceTo(box.max) / 2;
  geometry.boundingSphere = sphere;
}

/**
 * @param {BufferGeometry} geometry
 * @param {GLTF.Primitive} primitiveDef
 * @param {GLTFParser} parser
 * @return {Promise<BufferGeometry>}
 */
function addPrimitiveAttributes(geometry, primitiveDef, parser) {
  var attributes = primitiveDef.attributes;
  var pending = [];
  function assignAttributeAccessor(accessorIndex, attributeName) {
    return parser.getDependency('accessor', accessorIndex).then(function (accessor) {
      geometry.setAttribute(attributeName, accessor);
    });
  }
  for (var gltfAttributeName in attributes) {
    var threeAttributeName = ATTRIBUTES[gltfAttributeName] || gltfAttributeName.toLowerCase();

    // Skip attributes already provided by e.g. Draco extension.
    if (threeAttributeName in geometry.attributes) continue;
    pending.push(assignAttributeAccessor(attributes[gltfAttributeName], threeAttributeName));
  }
  if (primitiveDef.indices !== undefined && !geometry.index) {
    var accessor = parser.getDependency('accessor', primitiveDef.indices).then(function (accessor) {
      geometry.setIndex(accessor);
    });
    pending.push(accessor);
  }
  assignExtrasToUserData(geometry, primitiveDef);
  computeBounds(geometry, primitiveDef, parser);
  return Promise.all(pending).then(function () {
    return primitiveDef.targets !== undefined ? addMorphTargets(geometry, primitiveDef.targets, parser) : geometry;
  });
}

/**
 * @param {BufferGeometry} geometry
 * @param {Number} drawMode
 * @return {BufferGeometry}
 */
function toTrianglesDrawMode(geometry, drawMode) {
  var index = geometry.getIndex();

  // generate index if not present

  if (index === null) {
    var indices = [];
    var position = geometry.getAttribute('position');
    if (position !== undefined) {
      for (var i = 0; i < position.count; i++) {
        indices.push(i);
      }
      geometry.setIndex(indices);
      index = geometry.getIndex();
    } else {
      console.error('THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible.');
      return geometry;
    }
  }

  //

  var numberOfTriangles = index.count - 2;
  var newIndices = [];
  if (drawMode === _threeModule.TriangleFanDrawMode) {
    // gl.TRIANGLE_FAN

    for (var _i8 = 1; _i8 <= numberOfTriangles; _i8++) {
      newIndices.push(index.getX(0));
      newIndices.push(index.getX(_i8));
      newIndices.push(index.getX(_i8 + 1));
    }
  } else {
    // gl.TRIANGLE_STRIP

    for (var _i9 = 0; _i9 < numberOfTriangles; _i9++) {
      if (_i9 % 2 === 0) {
        newIndices.push(index.getX(_i9));
        newIndices.push(index.getX(_i9 + 1));
        newIndices.push(index.getX(_i9 + 2));
      } else {
        newIndices.push(index.getX(_i9 + 2));
        newIndices.push(index.getX(_i9 + 1));
        newIndices.push(index.getX(_i9));
      }
    }
  }
  if (newIndices.length / 3 !== numberOfTriangles) {
    console.error('THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.');
  }

  // build final geometry

  var newGeometry = geometry.clone();
  newGeometry.setIndex(newIndices);
  return newGeometry;
}

/***/ }),

/***/ 2049:
/*!*************************************************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/node_modules/three-platformize/examples/jsm/controls/OrbitControls.js ***!
  \*************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.OrbitControls = exports.MapControls = void 0;
var _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ 24));
var _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ 23));
var _assertThisInitialized2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ 2033));
var _inherits2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/inherits */ 2034));
var _possibleConstructorReturn2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ 2035));
var _getPrototypeOf2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ 2032));
var _threeModule = __webpack_require__(/*! ../../../build/three.module.js */ 2029);
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
// This set of controls performs orbiting, dollying (zooming), and panning.
// Unlike TrackballControls, it maintains the "up" direction object.up (+Y by default).
//
//    Orbit - left mouse / touch: one-finger move
//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish
//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move

var _changeEvent = {
  type: 'change'
};
var _startEvent = {
  type: 'start'
};
var _endEvent = {
  type: 'end'
};
var OrbitControls = /*#__PURE__*/function (_EventDispatcher) {
  (0, _inherits2.default)(OrbitControls, _EventDispatcher);
  var _super = _createSuper(OrbitControls);
  function OrbitControls(object, domElement) {
    var _this;
    (0, _classCallCheck2.default)(this, OrbitControls);
    _this = _super.call(this);
    if (domElement === undefined) console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.');
    if (domElement === _threeModule.$document) console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.');
    _this.object = object;
    _this.domElement = domElement;
    _this.domElement.style.touchAction = 'none'; // disable touch scroll

    // Set to false to disable this control
    _this.enabled = true;

    // "target" sets the location of focus, where the object orbits around
    _this.target = new _threeModule.Vector3();

    // How far you can dolly in and out ( PerspectiveCamera only )
    _this.minDistance = 0;
    _this.maxDistance = Infinity;

    // How far you can zoom in and out ( OrthographicCamera only )
    _this.minZoom = 0;
    _this.maxZoom = Infinity;

    // How far you can orbit vertically, upper and lower limits.
    // Range is 0 to Math.PI radians.
    _this.minPolarAngle = 0; // radians
    _this.maxPolarAngle = Math.PI; // radians

    // How far you can orbit horizontally, upper and lower limits.
    // If set, the interval [ min, max ] must be a sub-interval of [ - 2 PI, 2 PI ], with ( max - min < 2 PI )
    _this.minAzimuthAngle = -Infinity; // radians
    _this.maxAzimuthAngle = Infinity; // radians

    // Set to true to enable damping (inertia)
    // If damping is enabled, you must call controls.update() in your animation loop
    _this.enableDamping = false;
    _this.dampingFactor = 0.05;

    // This option actually enables dollying in and out; left as "zoom" for backwards compatibility.
    // Set to false to disable zooming
    _this.enableZoom = true;
    _this.zoomSpeed = 1.0;

    // Set to false to disable rotating
    _this.enableRotate = true;
    _this.rotateSpeed = 1.0;

    // Set to false to disable panning
    _this.enablePan = true;
    _this.panSpeed = 1.0;
    _this.screenSpacePanning = true; // if false, pan orthogonal to world-space direction camera.up
    _this.keyPanSpeed = 7.0; // pixels moved per arrow key push

    // Set to true to automatically rotate around the target
    // If auto-rotate is enabled, you must call controls.update() in your animation loop
    _this.autoRotate = false;
    _this.autoRotateSpeed = 2.0; // 30 seconds per orbit when fps is 60

    // The four arrow keys
    _this.keys = {
      LEFT: 'ArrowLeft',
      UP: 'ArrowUp',
      RIGHT: 'ArrowRight',
      BOTTOM: 'ArrowDown'
    };

    // Mouse buttons
    _this.mouseButtons = {
      LEFT: _threeModule.MOUSE.ROTATE,
      MIDDLE: _threeModule.MOUSE.DOLLY,
      RIGHT: _threeModule.MOUSE.PAN
    };

    // Touch fingers
    _this.touches = {
      ONE: _threeModule.TOUCH.ROTATE,
      TWO: _threeModule.TOUCH.DOLLY_PAN
    };

    // for reset
    _this.target0 = _this.target.clone();
    _this.position0 = _this.object.position.clone();
    _this.zoom0 = _this.object.zoom;

    // the target DOM element for key events
    _this._domElementKeyEvents = null;

    //
    // public methods
    //

    _this.getPolarAngle = function () {
      return spherical.phi;
    };
    _this.getAzimuthalAngle = function () {
      return spherical.theta;
    };
    _this.getDistance = function () {
      return this.object.position.distanceTo(this.target);
    };
    _this.listenToKeyEvents = function (domElement) {
      domElement.addEventListener('keydown', onKeyDown);
      this._domElementKeyEvents = domElement;
    };
    _this.saveState = function () {
      scope.target0.copy(scope.target);
      scope.position0.copy(scope.object.position);
      scope.zoom0 = scope.object.zoom;
    };
    _this.reset = function () {
      scope.target.copy(scope.target0);
      scope.object.position.copy(scope.position0);
      scope.object.zoom = scope.zoom0;
      scope.object.updateProjectionMatrix();
      scope.dispatchEvent(_changeEvent);
      scope.update();
      state = STATE.NONE;
    };

    // this method is exposed, but perhaps it would be better if we can make it private...
    _this.update = function () {
      var offset = new _threeModule.Vector3();

      // so camera.up is the orbit axis
      var quat = new _threeModule.Quaternion().setFromUnitVectors(object.up, new _threeModule.Vector3(0, 1, 0));
      var quatInverse = quat.clone().invert();
      var lastPosition = new _threeModule.Vector3();
      var lastQuaternion = new _threeModule.Quaternion();
      var twoPI = 2 * Math.PI;
      return function update() {
        var position = scope.object.position;
        offset.copy(position).sub(scope.target);

        // rotate offset to "y-axis-is-up" space
        offset.applyQuaternion(quat);

        // angle from z-axis around y-axis
        spherical.setFromVector3(offset);
        if (scope.autoRotate && state === STATE.NONE) {
          rotateLeft(getAutoRotationAngle());
        }
        if (scope.enableDamping) {
          spherical.theta += sphericalDelta.theta * scope.dampingFactor;
          spherical.phi += sphericalDelta.phi * scope.dampingFactor;
        } else {
          spherical.theta += sphericalDelta.theta;
          spherical.phi += sphericalDelta.phi;
        }

        // restrict theta to be between desired limits

        var min = scope.minAzimuthAngle;
        var max = scope.maxAzimuthAngle;
        if (isFinite(min) && isFinite(max)) {
          if (min < -Math.PI) min += twoPI;else if (min > Math.PI) min -= twoPI;
          if (max < -Math.PI) max += twoPI;else if (max > Math.PI) max -= twoPI;
          if (min <= max) {
            spherical.theta = Math.max(min, Math.min(max, spherical.theta));
          } else {
            spherical.theta = spherical.theta > (min + max) / 2 ? Math.max(min, spherical.theta) : Math.min(max, spherical.theta);
          }
        }

        // restrict phi to be between desired limits
        spherical.phi = Math.max(scope.minPolarAngle, Math.min(scope.maxPolarAngle, spherical.phi));
        spherical.makeSafe();
        spherical.radius *= scale;

        // restrict radius to be between desired limits
        spherical.radius = Math.max(scope.minDistance, Math.min(scope.maxDistance, spherical.radius));

        // move target to panned location

        if (scope.enableDamping === true) {
          scope.target.addScaledVector(panOffset, scope.dampingFactor);
        } else {
          scope.target.add(panOffset);
        }
        offset.setFromSpherical(spherical);

        // rotate offset back to "camera-up-vector-is-up" space
        offset.applyQuaternion(quatInverse);
        position.copy(scope.target).add(offset);
        scope.object.lookAt(scope.target);
        if (scope.enableDamping === true) {
          sphericalDelta.theta *= 1 - scope.dampingFactor;
          sphericalDelta.phi *= 1 - scope.dampingFactor;
          panOffset.multiplyScalar(1 - scope.dampingFactor);
        } else {
          sphericalDelta.set(0, 0, 0);
          panOffset.set(0, 0, 0);
        }
        scale = 1;

        // update condition is:
        // min(camera displacement, camera rotation in radians)^2 > EPS
        // using small-angle approximation cos(x/2) = 1 - x^2 / 8

        if (zoomChanged || lastPosition.distanceToSquared(scope.object.position) > EPS || 8 * (1 - lastQuaternion.dot(scope.object.quaternion)) > EPS) {
          scope.dispatchEvent(_changeEvent);
          lastPosition.copy(scope.object.position);
          lastQuaternion.copy(scope.object.quaternion);
          zoomChanged = false;
          return true;
        }
        return false;
      };
    }();
    _this.dispose = function () {
      scope.domElement.removeEventListener('contextmenu', onContextMenu);
      scope.domElement.removeEventListener('pointerdown', onPointerDown);
      scope.domElement.removeEventListener('pointercancel', onPointerCancel);
      scope.domElement.removeEventListener('wheel', onMouseWheel);
      scope.domElement.removeEventListener('pointermove', onPointerMove);
      scope.domElement.removeEventListener('pointerup', onPointerUp);
      if (scope._domElementKeyEvents !== null) {
        scope._domElementKeyEvents.removeEventListener('keydown', onKeyDown);
      }

      //scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?
    };

    //
    // internals
    //

    var scope = (0, _assertThisInitialized2.default)(_this);
    var STATE = {
      NONE: -1,
      ROTATE: 0,
      DOLLY: 1,
      PAN: 2,
      TOUCH_ROTATE: 3,
      TOUCH_PAN: 4,
      TOUCH_DOLLY_PAN: 5,
      TOUCH_DOLLY_ROTATE: 6
    };
    var state = STATE.NONE;
    var EPS = 0.000001;

    // current position in spherical coordinates
    var spherical = new _threeModule.Spherical();
    var sphericalDelta = new _threeModule.Spherical();
    var scale = 1;
    var panOffset = new _threeModule.Vector3();
    var zoomChanged = false;
    var rotateStart = new _threeModule.Vector2();
    var rotateEnd = new _threeModule.Vector2();
    var rotateDelta = new _threeModule.Vector2();
    var panStart = new _threeModule.Vector2();
    var panEnd = new _threeModule.Vector2();
    var panDelta = new _threeModule.Vector2();
    var dollyStart = new _threeModule.Vector2();
    var dollyEnd = new _threeModule.Vector2();
    var dollyDelta = new _threeModule.Vector2();
    var pointers = [];
    var pointerPositions = {};
    function getAutoRotationAngle() {
      return 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;
    }
    function getZoomScale() {
      return Math.pow(0.95, scope.zoomSpeed);
    }
    function rotateLeft(angle) {
      sphericalDelta.theta -= angle;
    }
    function rotateUp(angle) {
      sphericalDelta.phi -= angle;
    }
    var panLeft = function () {
      var v = new _threeModule.Vector3();
      return function panLeft(distance, objectMatrix) {
        v.setFromMatrixColumn(objectMatrix, 0); // get X column of objectMatrix
        v.multiplyScalar(-distance);
        panOffset.add(v);
      };
    }();
    var panUp = function () {
      var v = new _threeModule.Vector3();
      return function panUp(distance, objectMatrix) {
        if (scope.screenSpacePanning === true) {
          v.setFromMatrixColumn(objectMatrix, 1);
        } else {
          v.setFromMatrixColumn(objectMatrix, 0);
          v.crossVectors(scope.object.up, v);
        }
        v.multiplyScalar(distance);
        panOffset.add(v);
      };
    }();

    // deltaX and deltaY are in pixels; right and down are positive
    var pan = function () {
      var offset = new _threeModule.Vector3();
      return function pan(deltaX, deltaY) {
        var element = scope.domElement;
        if (scope.object.isPerspectiveCamera) {
          // perspective
          var position = scope.object.position;
          offset.copy(position).sub(scope.target);
          var targetDistance = offset.length();

          // half of the fov is center to top of screen
          targetDistance *= Math.tan(scope.object.fov / 2 * Math.PI / 180.0);

          // we use only clientHeight here so aspect ratio does not distort speed
          panLeft(2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix);
          panUp(2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix);
        } else if (scope.object.isOrthographicCamera) {
          // orthographic
          panLeft(deltaX * (scope.object.right - scope.object.left) / scope.object.zoom / element.clientWidth, scope.object.matrix);
          panUp(deltaY * (scope.object.top - scope.object.bottom) / scope.object.zoom / element.clientHeight, scope.object.matrix);
        } else {
          // camera neither orthographic nor perspective
          console.warn('WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.');
          scope.enablePan = false;
        }
      };
    }();
    function dollyOut(dollyScale) {
      if (scope.object.isPerspectiveCamera) {
        scale /= dollyScale;
      } else if (scope.object.isOrthographicCamera) {
        scope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom * dollyScale));
        scope.object.updateProjectionMatrix();
        zoomChanged = true;
      } else {
        console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');
        scope.enableZoom = false;
      }
    }
    function dollyIn(dollyScale) {
      if (scope.object.isPerspectiveCamera) {
        scale *= dollyScale;
      } else if (scope.object.isOrthographicCamera) {
        scope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom / dollyScale));
        scope.object.updateProjectionMatrix();
        zoomChanged = true;
      } else {
        console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');
        scope.enableZoom = false;
      }
    }

    //
    // event callbacks - update the object state
    //

    function handleMouseDownRotate(event) {
      rotateStart.set(event.clientX, event.clientY);
    }
    function handleMouseDownDolly(event) {
      dollyStart.set(event.clientX, event.clientY);
    }
    function handleMouseDownPan(event) {
      panStart.set(event.clientX, event.clientY);
    }
    function handleMouseMoveRotate(event) {
      rotateEnd.set(event.clientX, event.clientY);
      rotateDelta.subVectors(rotateEnd, rotateStart).multiplyScalar(scope.rotateSpeed);
      var element = scope.domElement;
      rotateLeft(2 * Math.PI * rotateDelta.x / element.clientHeight); // yes, height

      rotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight);
      rotateStart.copy(rotateEnd);
      scope.update();
    }
    function handleMouseMoveDolly(event) {
      dollyEnd.set(event.clientX, event.clientY);
      dollyDelta.subVectors(dollyEnd, dollyStart);
      if (dollyDelta.y > 0) {
        dollyOut(getZoomScale());
      } else if (dollyDelta.y < 0) {
        dollyIn(getZoomScale());
      }
      dollyStart.copy(dollyEnd);
      scope.update();
    }
    function handleMouseMovePan(event) {
      panEnd.set(event.clientX, event.clientY);
      panDelta.subVectors(panEnd, panStart).multiplyScalar(scope.panSpeed);
      pan(panDelta.x, panDelta.y);
      panStart.copy(panEnd);
      scope.update();
    }
    function handleMouseWheel(event) {
      if (event.deltaY < 0) {
        dollyIn(getZoomScale());
      } else if (event.deltaY > 0) {
        dollyOut(getZoomScale());
      }
      scope.update();
    }
    function handleKeyDown(event) {
      var needsUpdate = false;
      switch (event.code) {
        case scope.keys.UP:
          pan(0, scope.keyPanSpeed);
          needsUpdate = true;
          break;
        case scope.keys.BOTTOM:
          pan(0, -scope.keyPanSpeed);
          needsUpdate = true;
          break;
        case scope.keys.LEFT:
          pan(scope.keyPanSpeed, 0);
          needsUpdate = true;
          break;
        case scope.keys.RIGHT:
          pan(-scope.keyPanSpeed, 0);
          needsUpdate = true;
          break;
      }
      if (needsUpdate) {
        // prevent the browser from scrolling on cursor keys
        event.preventDefault();
        scope.update();
      }
    }
    function handleTouchStartRotate() {
      if (pointers.length === 1) {
        rotateStart.set(pointers[0].pageX, pointers[0].pageY);
      } else {
        var x = 0.5 * (pointers[0].pageX + pointers[1].pageX);
        var y = 0.5 * (pointers[0].pageY + pointers[1].pageY);
        rotateStart.set(x, y);
      }
    }
    function handleTouchStartPan() {
      if (pointers.length === 1) {
        panStart.set(pointers[0].pageX, pointers[0].pageY);
      } else {
        var x = 0.5 * (pointers[0].pageX + pointers[1].pageX);
        var y = 0.5 * (pointers[0].pageY + pointers[1].pageY);
        panStart.set(x, y);
      }
    }
    function handleTouchStartDolly() {
      var dx = pointers[0].pageX - pointers[1].pageX;
      var dy = pointers[0].pageY - pointers[1].pageY;
      var distance = Math.sqrt(dx * dx + dy * dy);
      dollyStart.set(0, distance);
    }
    function handleTouchStartDollyPan() {
      if (scope.enableZoom) handleTouchStartDolly();
      if (scope.enablePan) handleTouchStartPan();
    }
    function handleTouchStartDollyRotate() {
      if (scope.enableZoom) handleTouchStartDolly();
      if (scope.enableRotate) handleTouchStartRotate();
    }
    function handleTouchMoveRotate(event) {
      if (pointers.length == 1) {
        rotateEnd.set(event.pageX, event.pageY);
      } else {
        var position = getSecondPointerPosition(event);
        var x = 0.5 * (event.pageX + position.x);
        var y = 0.5 * (event.pageY + position.y);
        rotateEnd.set(x, y);
      }
      rotateDelta.subVectors(rotateEnd, rotateStart).multiplyScalar(scope.rotateSpeed);
      var element = scope.domElement;
      rotateLeft(2 * Math.PI * rotateDelta.x / element.clientHeight); // yes, height

      rotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight);
      rotateStart.copy(rotateEnd);
    }
    function handleTouchMovePan(event) {
      if (pointers.length === 1) {
        panEnd.set(event.pageX, event.pageY);
      } else {
        var position = getSecondPointerPosition(event);
        var x = 0.5 * (event.pageX + position.x);
        var y = 0.5 * (event.pageY + position.y);
        panEnd.set(x, y);
      }
      panDelta.subVectors(panEnd, panStart).multiplyScalar(scope.panSpeed);
      pan(panDelta.x, panDelta.y);
      panStart.copy(panEnd);
    }
    function handleTouchMoveDolly(event) {
      var position = getSecondPointerPosition(event);
      var dx = event.pageX - position.x;
      var dy = event.pageY - position.y;
      var distance = Math.sqrt(dx * dx + dy * dy);
      dollyEnd.set(0, distance);
      dollyDelta.set(0, Math.pow(dollyEnd.y / dollyStart.y, scope.zoomSpeed));
      dollyOut(dollyDelta.y);
      dollyStart.copy(dollyEnd);
    }
    function handleTouchMoveDollyPan(event) {
      if (scope.enableZoom) handleTouchMoveDolly(event);
      if (scope.enablePan) handleTouchMovePan(event);
    }
    function handleTouchMoveDollyRotate(event) {
      if (scope.enableZoom) handleTouchMoveDolly(event);
      if (scope.enableRotate) handleTouchMoveRotate(event);
    }

    //
    // event handlers - FSM: listen for events and reset state
    //

    function onPointerDown(event) {
      if (scope.enabled === false) return;
      if (pointers.length === 0) {
        scope.domElement.setPointerCapture(event.pointerId);
        scope.domElement.addEventListener('pointermove', onPointerMove);
        scope.domElement.addEventListener('pointerup', onPointerUp);
      }

      //

      addPointer(event);
      if (event.pointerType === 'touch') {
        onTouchStart(event);
      } else {
        onMouseDown(event);
      }
    }
    function onPointerMove(event) {
      if (scope.enabled === false) return;
      if (event.pointerType === 'touch') {
        onTouchMove(event);
      } else {
        onMouseMove(event);
      }
    }
    function onPointerUp(event) {
      if (scope.enabled === false) return;
      if (event.pointerType === 'touch') {
        onTouchEnd();
      } else {
        onMouseUp();
      }
      removePointer(event);

      //

      if (pointers.length === 0) {
        scope.domElement.releasePointerCapture(event.pointerId);
        scope.domElement.removeEventListener('pointermove', onPointerMove);
        scope.domElement.removeEventListener('pointerup', onPointerUp);
      }
    }
    function onPointerCancel(event) {
      removePointer(event);
    }
    function onMouseDown(event) {
      var mouseAction;
      switch (event.button) {
        case 0:
          mouseAction = scope.mouseButtons.LEFT;
          break;
        case 1:
          mouseAction = scope.mouseButtons.MIDDLE;
          break;
        case 2:
          mouseAction = scope.mouseButtons.RIGHT;
          break;
        default:
          mouseAction = -1;
      }
      switch (mouseAction) {
        case _threeModule.MOUSE.DOLLY:
          if (scope.enableZoom === false) return;
          handleMouseDownDolly(event);
          state = STATE.DOLLY;
          break;
        case _threeModule.MOUSE.ROTATE:
          if (event.ctrlKey || event.metaKey || event.shiftKey) {
            if (scope.enablePan === false) return;
            handleMouseDownPan(event);
            state = STATE.PAN;
          } else {
            if (scope.enableRotate === false) return;
            handleMouseDownRotate(event);
            state = STATE.ROTATE;
          }
          break;
        case _threeModule.MOUSE.PAN:
          if (event.ctrlKey || event.metaKey || event.shiftKey) {
            if (scope.enableRotate === false) return;
            handleMouseDownRotate(event);
            state = STATE.ROTATE;
          } else {
            if (scope.enablePan === false) return;
            handleMouseDownPan(event);
            state = STATE.PAN;
          }
          break;
        default:
          state = STATE.NONE;
      }
      if (state !== STATE.NONE) {
        scope.dispatchEvent(_startEvent);
      }
    }
    function onMouseMove(event) {
      if (scope.enabled === false) return;
      switch (state) {
        case STATE.ROTATE:
          if (scope.enableRotate === false) return;
          handleMouseMoveRotate(event);
          break;
        case STATE.DOLLY:
          if (scope.enableZoom === false) return;
          handleMouseMoveDolly(event);
          break;
        case STATE.PAN:
          if (scope.enablePan === false) return;
          handleMouseMovePan(event);
          break;
      }
    }
    function onMouseUp(event) {
      scope.dispatchEvent(_endEvent);
      state = STATE.NONE;
    }
    function onMouseWheel(event) {
      if (scope.enabled === false || scope.enableZoom === false || state !== STATE.NONE && state !== STATE.ROTATE) return;
      event.preventDefault();
      scope.dispatchEvent(_startEvent);
      handleMouseWheel(event);
      scope.dispatchEvent(_endEvent);
    }
    function onKeyDown(event) {
      if (scope.enabled === false || scope.enablePan === false) return;
      handleKeyDown(event);
    }
    function onTouchStart(event) {
      trackPointer(event);
      switch (pointers.length) {
        case 1:
          switch (scope.touches.ONE) {
            case _threeModule.TOUCH.ROTATE:
              if (scope.enableRotate === false) return;
              handleTouchStartRotate();
              state = STATE.TOUCH_ROTATE;
              break;
            case _threeModule.TOUCH.PAN:
              if (scope.enablePan === false) return;
              handleTouchStartPan();
              state = STATE.TOUCH_PAN;
              break;
            default:
              state = STATE.NONE;
          }
          break;
        case 2:
          switch (scope.touches.TWO) {
            case _threeModule.TOUCH.DOLLY_PAN:
              if (scope.enableZoom === false && scope.enablePan === false) return;
              handleTouchStartDollyPan();
              state = STATE.TOUCH_DOLLY_PAN;
              break;
            case _threeModule.TOUCH.DOLLY_ROTATE:
              if (scope.enableZoom === false && scope.enableRotate === false) return;
              handleTouchStartDollyRotate();
              state = STATE.TOUCH_DOLLY_ROTATE;
              break;
            default:
              state = STATE.NONE;
          }
          break;
        default:
          state = STATE.NONE;
      }
      if (state !== STATE.NONE) {
        scope.dispatchEvent(_startEvent);
      }
    }
    function onTouchMove(event) {
      trackPointer(event);
      switch (state) {
        case STATE.TOUCH_ROTATE:
          if (scope.enableRotate === false) return;
          handleTouchMoveRotate(event);
          scope.update();
          break;
        case STATE.TOUCH_PAN:
          if (scope.enablePan === false) return;
          handleTouchMovePan(event);
          scope.update();
          break;
        case STATE.TOUCH_DOLLY_PAN:
          if (scope.enableZoom === false && scope.enablePan === false) return;
          handleTouchMoveDollyPan(event);
          scope.update();
          break;
        case STATE.TOUCH_DOLLY_ROTATE:
          if (scope.enableZoom === false && scope.enableRotate === false) return;
          handleTouchMoveDollyRotate(event);
          scope.update();
          break;
        default:
          state = STATE.NONE;
      }
    }
    function onTouchEnd(event) {
      scope.dispatchEvent(_endEvent);
      state = STATE.NONE;
    }
    function onContextMenu(event) {
      if (scope.enabled === false) return;
      event.preventDefault();
    }
    function addPointer(event) {
      pointers.push(event);
    }
    function removePointer(event) {
      delete pointerPositions[event.pointerId];
      for (var i = 0; i < pointers.length; i++) {
        if (pointers[i].pointerId == event.pointerId) {
          pointers.splice(i, 1);
          return;
        }
      }
    }
    function trackPointer(event) {
      var position = pointerPositions[event.pointerId];
      if (position === undefined) {
        position = new _threeModule.Vector2();
        pointerPositions[event.pointerId] = position;
      }
      position.set(event.pageX, event.pageY);
    }
    function getSecondPointerPosition(event) {
      var pointer = event.pointerId === pointers[0].pointerId ? pointers[1] : pointers[0];
      return pointerPositions[pointer.pointerId];
    }

    //

    scope.domElement.addEventListener('contextmenu', onContextMenu);
    scope.domElement.addEventListener('pointerdown', onPointerDown);
    scope.domElement.addEventListener('pointercancel', onPointerCancel);
    scope.domElement.addEventListener('wheel', onMouseWheel, {
      passive: false
    });

    // force an update at start

    _this.update();
    return _this;
  }
  return (0, _createClass2.default)(OrbitControls);
}(_threeModule.EventDispatcher); // This set of controls performs orbiting, dollying (zooming), and panning.
// Unlike TrackballControls, it maintains the "up" direction object.up (+Y by default).
// This is very similar to OrbitControls, another set of touch behavior
//
//    Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate
//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish
//    Pan - left mouse, or arrow keys / touch: one-finger move
exports.OrbitControls = OrbitControls;
var MapControls = /*#__PURE__*/function (_OrbitControls) {
  (0, _inherits2.default)(MapControls, _OrbitControls);
  var _super2 = _createSuper(MapControls);
  function MapControls(object, domElement) {
    var _this2;
    (0, _classCallCheck2.default)(this, MapControls);
    _this2 = _super2.call(this, object, domElement);
    _this2.screenSpacePanning = false; // pan orthogonal to world-space direction camera.up

    _this2.mouseButtons.LEFT = _threeModule.MOUSE.PAN;
    _this2.mouseButtons.RIGHT = _threeModule.MOUSE.ROTATE;
    _this2.touches.ONE = _threeModule.TOUCH.PAN;
    _this2.touches.TWO = _threeModule.TOUCH.DOLLY_ROTATE;
    return _this2;
  }
  return (0, _createClass2.default)(MapControls);
}(OrbitControls);
exports.MapControls = MapControls;

/***/ }),

/***/ 2050:
/*!**********************************************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/node_modules/three-platformize/examples/jsm/loaders/DRACOLoader.js ***!
  \**********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.DRACOLoader = void 0;
var _typeof2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/typeof */ 13));
var _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ 23));
var _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ 24));
var _inherits2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/inherits */ 2034));
var _possibleConstructorReturn2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ 2035));
var _getPrototypeOf2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ 2032));
var _threeModule = __webpack_require__(/*! ../../../build/three.module.js */ 2029);
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
var _taskCache = new WeakMap();
var DRACOLoader = /*#__PURE__*/function (_Loader) {
  (0, _inherits2.default)(DRACOLoader, _Loader);
  var _super = _createSuper(DRACOLoader);
  function DRACOLoader(manager) {
    var _this;
    (0, _classCallCheck2.default)(this, DRACOLoader);
    _this = _super.call(this, manager);
    _this.decoderPath = '';
    _this.decoderConfig = {};
    _this.decoderBinary = null;
    _this.decoderPending = null;
    _this.workerLimit = 4;
    _this.workerPool = [];
    _this.workerNextTaskID = 1;
    _this.workerSourceURL = '';
    _this.defaultAttributeIDs = {
      position: 'POSITION',
      normal: 'NORMAL',
      color: 'COLOR',
      uv: 'TEX_COORD'
    };
    _this.defaultAttributeTypes = {
      position: 'Float32Array',
      normal: 'Float32Array',
      color: 'Float32Array',
      uv: 'Float32Array'
    };
    return _this;
  }
  (0, _createClass2.default)(DRACOLoader, [{
    key: "setDecoderPath",
    value: function setDecoderPath(path) {
      this.decoderPath = path;
      return this;
    }
  }, {
    key: "setDecoderConfig",
    value: function setDecoderConfig(config) {
      this.decoderConfig = config;
      return this;
    }
  }, {
    key: "setWorkerLimit",
    value: function setWorkerLimit(workerLimit) {
      this.workerLimit = workerLimit;
      return this;
    }
  }, {
    key: "load",
    value: function load(url, onLoad, onProgress, onError) {
      var _this2 = this;
      var loader = new _threeModule.FileLoader(this.manager);
      loader.setPath(this.path);
      loader.setResponseType('arraybuffer');
      loader.setRequestHeader(this.requestHeader);
      loader.setWithCredentials(this.withCredentials);
      loader.load(url, function (buffer) {
        var taskConfig = {
          attributeIDs: _this2.defaultAttributeIDs,
          attributeTypes: _this2.defaultAttributeTypes,
          useUniqueIDs: false
        };
        _this2.decodeGeometry(buffer, taskConfig).then(onLoad).catch(onError);
      }, onProgress, onError);
    }

    /** @deprecated Kept for backward-compatibility with previous DRACOLoader versions. */
  }, {
    key: "decodeDracoFile",
    value: function decodeDracoFile(buffer, callback, attributeIDs, attributeTypes) {
      var taskConfig = {
        attributeIDs: attributeIDs || this.defaultAttributeIDs,
        attributeTypes: attributeTypes || this.defaultAttributeTypes,
        useUniqueIDs: !!attributeIDs
      };
      this.decodeGeometry(buffer, taskConfig).then(callback);
    }
  }, {
    key: "decodeGeometry",
    value: function decodeGeometry(buffer, taskConfig) {
      var _this3 = this;
      // TODO: For backward-compatibility, support 'attributeTypes' objects containing
      // references (rather than names) to typed array constructors. These must be
      // serialized before sending them to the worker.
      for (var attribute in taskConfig.attributeTypes) {
        var type = taskConfig.attributeTypes[attribute];
        if (type.BYTES_PER_ELEMENT !== undefined) {
          taskConfig.attributeTypes[attribute] = type.name;
        }
      }

      //

      var taskKey = JSON.stringify(taskConfig);

      // Check for an existing task using this buffer. A transferred buffer cannot be transferred
      // again from this thread.
      if (_taskCache.has(buffer)) {
        var cachedTask = _taskCache.get(buffer);
        if (cachedTask.key === taskKey) {
          return cachedTask.promise;
        } else if (buffer.byteLength === 0) {
          // Technically, it would be possible to wait for the previous task to complete,
          // transfer the buffer back, and decode again with the second configuration. That
          // is complex, and I don't know of any reason to decode a Draco buffer twice in
          // different ways, so this is left unimplemented.
          throw new Error('THREE.DRACOLoader: Unable to re-decode a buffer with different ' + 'settings. Buffer has already been transferred.');
        }
      }

      //

      var worker;
      var taskID = this.workerNextTaskID++;
      var taskCost = buffer.byteLength;

      // Obtain a worker and assign a task, and construct a geometry instance
      // when the task completes.
      var geometryPending = this._getWorker(taskID, taskCost).then(function (_worker) {
        worker = _worker;
        return new Promise(function (resolve, reject) {
          worker._callbacks[taskID] = {
            resolve: resolve,
            reject: reject
          };
          worker.postMessage({
            type: 'decode',
            id: taskID,
            taskConfig: taskConfig,
            buffer: buffer
          }, [buffer]);

          // this.debug();
        });
      }).then(function (message) {
        return _this3._createGeometry(message.geometry);
      });

      // Remove task from the task list.
      // Note: replaced '.finally()' with '.catch().then()' block - iOS 11 support (#19416)
      geometryPending.catch(function () {
        return true;
      }).then(function () {
        if (worker && taskID) {
          _this3._releaseTask(worker, taskID);

          // this.debug();
        }
      });

      // Cache the task result.
      _taskCache.set(buffer, {
        key: taskKey,
        promise: geometryPending
      });
      return geometryPending;
    }
  }, {
    key: "_createGeometry",
    value: function _createGeometry(geometryData) {
      var geometry = new _threeModule.BufferGeometry();
      if (geometryData.index) {
        geometry.setIndex(new _threeModule.BufferAttribute(geometryData.index.array, 1));
      }
      for (var i = 0; i < geometryData.attributes.length; i++) {
        var attribute = geometryData.attributes[i];
        var name = attribute.name;
        var array = attribute.array;
        var itemSize = attribute.itemSize;
        geometry.setAttribute(name, new _threeModule.BufferAttribute(array, itemSize));
      }
      return geometry;
    }
  }, {
    key: "_loadLibrary",
    value: function _loadLibrary(url, responseType) {
      var loader = new _threeModule.FileLoader(this.manager);
      loader.setPath(this.decoderPath);
      loader.setResponseType(responseType);
      loader.setWithCredentials(this.withCredentials);
      return new Promise(function (resolve, reject) {
        loader.load(url, resolve, undefined, reject);
      });
    }
  }, {
    key: "preload",
    value: function preload() {
      this._initDecoder();
      return this;
    }
  }, {
    key: "_initDecoder",
    value: function _initDecoder() {
      var _this4 = this;
      if (this.decoderPending) return this.decoderPending;
      var useJS = (typeof WebAssembly === "undefined" ? "undefined" : (0, _typeof2.default)(WebAssembly)) !== 'object' || this.decoderConfig.type === 'js';
      var librariesPending = [];
      if (useJS) {
        librariesPending.push(this._loadLibrary('draco_decoder.js', 'text'));
      } else {
        librariesPending.push(this._loadLibrary('draco_wasm_wrapper.js', 'text'));
        librariesPending.push(this._loadLibrary('draco_decoder.wasm', 'arraybuffer'));
      }
      this.decoderPending = Promise.all(librariesPending).then(function (libraries) {
        var jsContent = libraries[0];
        if (!useJS) {
          _this4.decoderConfig.wasmBinary = libraries[1];
        }
        var fn = DRACOWorker.toString();
        var body = ['/* draco decoder */', jsContent, '', '/* worker */', fn.substring(fn.indexOf('{') + 1, fn.lastIndexOf('}'))].join('\n');
        _this4.workerSourceURL = _threeModule.$URL.createObjectURL(new _threeModule.$Blob([body]));
      });
      return this.decoderPending;
    }
  }, {
    key: "_getWorker",
    value: function _getWorker(taskID, taskCost) {
      var _this5 = this;
      return this._initDecoder().then(function () {
        if (_this5.workerPool.length < _this5.workerLimit) {
          var _worker2 = new Worker(_this5.workerSourceURL);
          _worker2._callbacks = {};
          _worker2._taskCosts = {};
          _worker2._taskLoad = 0;
          _worker2.postMessage({
            type: 'init',
            decoderConfig: _this5.decoderConfig
          });
          _worker2.onmessage = function (e) {
            var message = e.data;
            switch (message.type) {
              case 'decode':
                _worker2._callbacks[message.id].resolve(message);
                break;
              case 'error':
                _worker2._callbacks[message.id].reject(message);
                break;
              default:
                console.error('THREE.DRACOLoader: Unexpected message, "' + message.type + '"');
            }
          };
          _this5.workerPool.push(_worker2);
        } else {
          _this5.workerPool.sort(function (a, b) {
            return a._taskLoad > b._taskLoad ? -1 : 1;
          });
        }
        var worker = _this5.workerPool[_this5.workerPool.length - 1];
        worker._taskCosts[taskID] = taskCost;
        worker._taskLoad += taskCost;
        return worker;
      });
    }
  }, {
    key: "_releaseTask",
    value: function _releaseTask(worker, taskID) {
      worker._taskLoad -= worker._taskCosts[taskID];
      delete worker._callbacks[taskID];
      delete worker._taskCosts[taskID];
    }
  }, {
    key: "debug",
    value: function debug() {
      console.log('Task load: ', this.workerPool.map(function (worker) {
        return worker._taskLoad;
      }));
    }
  }, {
    key: "dispose",
    value: function dispose() {
      for (var i = 0; i < this.workerPool.length; ++i) {
        this.workerPool[i].terminate();
      }
      this.workerPool.length = 0;
      return this;
    }
  }]);
  return DRACOLoader;
}(_threeModule.Loader);
/* WEB WORKER */
exports.DRACOLoader = DRACOLoader;
function DRACOWorker() {
  var decoderConfig;
  var decoderPending;
  onmessage = function onmessage(e) {
    var message = e.data;
    switch (message.type) {
      case 'init':
        decoderConfig = message.decoderConfig;
        decoderPending = new Promise(function (resolve /*, reject*/) {
          decoderConfig.onModuleLoaded = function (draco) {
            // Module is Promise-like. Wrap before resolving to avoid loop.
            resolve({
              draco: draco
            });
          };
          DracoDecoderModule(decoderConfig); // eslint-disable-line no-undef
        });

        break;
      case 'decode':
        var buffer = message.buffer;
        var taskConfig = message.taskConfig;
        decoderPending.then(function (module) {
          var draco = module.draco;
          var decoder = new draco.Decoder();
          var decoderBuffer = new draco.DecoderBuffer();
          decoderBuffer.Init(new Int8Array(buffer), buffer.byteLength);
          try {
            var geometry = decodeGeometry(draco, decoder, decoderBuffer, taskConfig);
            var buffers = geometry.attributes.map(function (attr) {
              return attr.array.buffer;
            });
            if (geometry.index) buffers.push(geometry.index.array.buffer);
            self.postMessage({
              type: 'decode',
              id: message.id,
              geometry: geometry
            }, buffers);
          } catch (error) {
            console.error(error);
            self.postMessage({
              type: 'error',
              id: message.id,
              error: error.message
            });
          } finally {
            draco.destroy(decoderBuffer);
            draco.destroy(decoder);
          }
        });
        break;
    }
  };
  function decodeGeometry(draco, decoder, decoderBuffer, taskConfig) {
    var attributeIDs = taskConfig.attributeIDs;
    var attributeTypes = taskConfig.attributeTypes;
    var dracoGeometry;
    var decodingStatus;
    var geometryType = decoder.GetEncodedGeometryType(decoderBuffer);
    if (geometryType === draco.TRIANGULAR_MESH) {
      dracoGeometry = new draco.Mesh();
      decodingStatus = decoder.DecodeBufferToMesh(decoderBuffer, dracoGeometry);
    } else if (geometryType === draco.POINT_CLOUD) {
      dracoGeometry = new draco.PointCloud();
      decodingStatus = decoder.DecodeBufferToPointCloud(decoderBuffer, dracoGeometry);
    } else {
      throw new Error('THREE.DRACOLoader: Unexpected geometry type.');
    }
    if (!decodingStatus.ok() || dracoGeometry.ptr === 0) {
      throw new Error('THREE.DRACOLoader: Decoding failed: ' + decodingStatus.error_msg());
    }
    var geometry = {
      index: null,
      attributes: []
    };

    // Gather all vertex attributes.
    for (var attributeName in attributeIDs) {
      var attributeType = self[attributeTypes[attributeName]];
      var attribute = void 0;
      var attributeID = void 0;

      // A Draco file may be created with default vertex attributes, whose attribute IDs
      // are mapped 1:1 from their semantic name (POSITION, NORMAL, ...). Alternatively,
      // a Draco file may contain a custom set of attributes, identified by known unique
      // IDs. glTF files always do the latter, and `.drc` files typically do the former.
      if (taskConfig.useUniqueIDs) {
        attributeID = attributeIDs[attributeName];
        attribute = decoder.GetAttributeByUniqueId(dracoGeometry, attributeID);
      } else {
        attributeID = decoder.GetAttributeId(dracoGeometry, draco[attributeIDs[attributeName]]);
        if (attributeID === -1) continue;
        attribute = decoder.GetAttribute(dracoGeometry, attributeID);
      }
      geometry.attributes.push(decodeAttribute(draco, decoder, dracoGeometry, attributeName, attributeType, attribute));
    }

    // Add index.
    if (geometryType === draco.TRIANGULAR_MESH) {
      geometry.index = decodeIndex(draco, decoder, dracoGeometry);
    }
    draco.destroy(dracoGeometry);
    return geometry;
  }
  function decodeIndex(draco, decoder, dracoGeometry) {
    var numFaces = dracoGeometry.num_faces();
    var numIndices = numFaces * 3;
    var byteLength = numIndices * 4;
    var ptr = draco._malloc(byteLength);
    decoder.GetTrianglesUInt32Array(dracoGeometry, byteLength, ptr);
    var index = new Uint32Array(draco.HEAPF32.buffer, ptr, numIndices).slice();
    draco._free(ptr);
    return {
      array: index,
      itemSize: 1
    };
  }
  function decodeAttribute(draco, decoder, dracoGeometry, attributeName, attributeType, attribute) {
    var numComponents = attribute.num_components();
    var numPoints = dracoGeometry.num_points();
    var numValues = numPoints * numComponents;
    var byteLength = numValues * attributeType.BYTES_PER_ELEMENT;
    var dataType = getDracoDataType(draco, attributeType);
    var ptr = draco._malloc(byteLength);
    decoder.GetAttributeDataArrayForAllPoints(dracoGeometry, attribute, dataType, byteLength, ptr);
    var array = new attributeType(draco.HEAPF32.buffer, ptr, numValues).slice();
    draco._free(ptr);
    return {
      name: attributeName,
      array: array,
      itemSize: numComponents
    };
  }
  function getDracoDataType(draco, attributeType) {
    switch (attributeType) {
      case Float32Array:
        return draco.DT_FLOAT32;
      case Int8Array:
        return draco.DT_INT8;
      case Int16Array:
        return draco.DT_INT16;
      case Int32Array:
        return draco.DT_INT32;
      case Uint8Array:
        return draco.DT_UINT8;
      case Uint16Array:
        return draco.DT_UINT16;
      case Uint32Array:
        return draco.DT_UINT32;
    }
  }
}

/***/ }),

/***/ 21:
/*!******************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/nonIterableSpread.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function _nonIterableSpread() {
  throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
module.exports = _nonIterableSpread, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 22:
/*!*************************************************************!*\
  !*** ./node_modules/@dcloudio/uni-i18n/dist/uni-i18n.es.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni, global) {

var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.LOCALE_ZH_HANT = exports.LOCALE_ZH_HANS = exports.LOCALE_FR = exports.LOCALE_ES = exports.LOCALE_EN = exports.I18n = exports.Formatter = void 0;
exports.compileI18nJsonStr = compileI18nJsonStr;
exports.hasI18nJson = hasI18nJson;
exports.initVueI18n = initVueI18n;
exports.isI18nStr = isI18nStr;
exports.isString = void 0;
exports.normalizeLocale = normalizeLocale;
exports.parseI18nJson = parseI18nJson;
exports.resolveLocale = resolveLocale;
var _slicedToArray2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ 5));
var _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ 23));
var _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ 24));
var _typeof2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/typeof */ 13));
var isObject = function isObject(val) {
  return val !== null && (0, _typeof2.default)(val) === 'object';
};
var defaultDelimiters = ['{', '}'];
var BaseFormatter = /*#__PURE__*/function () {
  function BaseFormatter() {
    (0, _classCallCheck2.default)(this, BaseFormatter);
    this._caches = Object.create(null);
  }
  (0, _createClass2.default)(BaseFormatter, [{
    key: "interpolate",
    value: function interpolate(message, values) {
      var delimiters = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultDelimiters;
      if (!values) {
        return [message];
      }
      var tokens = this._caches[message];
      if (!tokens) {
        tokens = parse(message, delimiters);
        this._caches[message] = tokens;
      }
      return compile(tokens, values);
    }
  }]);
  return BaseFormatter;
}();
exports.Formatter = BaseFormatter;
var RE_TOKEN_LIST_VALUE = /^(?:\d)+/;
var RE_TOKEN_NAMED_VALUE = /^(?:\w)+/;
function parse(format, _ref) {
  var _ref2 = (0, _slicedToArray2.default)(_ref, 2),
    startDelimiter = _ref2[0],
    endDelimiter = _ref2[1];
  var tokens = [];
  var position = 0;
  var text = '';
  while (position < format.length) {
    var char = format[position++];
    if (char === startDelimiter) {
      if (text) {
        tokens.push({
          type: 'text',
          value: text
        });
      }
      text = '';
      var sub = '';
      char = format[position++];
      while (char !== undefined && char !== endDelimiter) {
        sub += char;
        char = format[position++];
      }
      var isClosed = char === endDelimiter;
      var type = RE_TOKEN_LIST_VALUE.test(sub) ? 'list' : isClosed && RE_TOKEN_NAMED_VALUE.test(sub) ? 'named' : 'unknown';
      tokens.push({
        value: sub,
        type: type
      });
    }
    //  else if (char === '%') {
    //   // when found rails i18n syntax, skip text capture
    //   if (format[position] !== '{') {
    //     text += char
    //   }
    // }
    else {
      text += char;
    }
  }
  text && tokens.push({
    type: 'text',
    value: text
  });
  return tokens;
}
function compile(tokens, values) {
  var compiled = [];
  var index = 0;
  var mode = Array.isArray(values) ? 'list' : isObject(values) ? 'named' : 'unknown';
  if (mode === 'unknown') {
    return compiled;
  }
  while (index < tokens.length) {
    var token = tokens[index];
    switch (token.type) {
      case 'text':
        compiled.push(token.value);
        break;
      case 'list':
        compiled.push(values[parseInt(token.value, 10)]);
        break;
      case 'named':
        if (mode === 'named') {
          compiled.push(values[token.value]);
        } else {
          if (true) {
            console.warn("Type of token '".concat(token.type, "' and format of value '").concat(mode, "' don't match!"));
          }
        }
        break;
      case 'unknown':
        if (true) {
          console.warn("Detect 'unknown' type of token!");
        }
        break;
    }
    index++;
  }
  return compiled;
}
var LOCALE_ZH_HANS = 'zh-Hans';
exports.LOCALE_ZH_HANS = LOCALE_ZH_HANS;
var LOCALE_ZH_HANT = 'zh-Hant';
exports.LOCALE_ZH_HANT = LOCALE_ZH_HANT;
var LOCALE_EN = 'en';
exports.LOCALE_EN = LOCALE_EN;
var LOCALE_FR = 'fr';
exports.LOCALE_FR = LOCALE_FR;
var LOCALE_ES = 'es';
exports.LOCALE_ES = LOCALE_ES;
var hasOwnProperty = Object.prototype.hasOwnProperty;
var hasOwn = function hasOwn(val, key) {
  return hasOwnProperty.call(val, key);
};
var defaultFormatter = new BaseFormatter();
function include(str, parts) {
  return !!parts.find(function (part) {
    return str.indexOf(part) !== -1;
  });
}
function startsWith(str, parts) {
  return parts.find(function (part) {
    return str.indexOf(part) === 0;
  });
}
function normalizeLocale(locale, messages) {
  if (!locale) {
    return;
  }
  locale = locale.trim().replace(/_/g, '-');
  if (messages && messages[locale]) {
    return locale;
  }
  locale = locale.toLowerCase();
  if (locale === 'chinese') {
    // 支付宝
    return LOCALE_ZH_HANS;
  }
  if (locale.indexOf('zh') === 0) {
    if (locale.indexOf('-hans') > -1) {
      return LOCALE_ZH_HANS;
    }
    if (locale.indexOf('-hant') > -1) {
      return LOCALE_ZH_HANT;
    }
    if (include(locale, ['-tw', '-hk', '-mo', '-cht'])) {
      return LOCALE_ZH_HANT;
    }
    return LOCALE_ZH_HANS;
  }
  var locales = [LOCALE_EN, LOCALE_FR, LOCALE_ES];
  if (messages && Object.keys(messages).length > 0) {
    locales = Object.keys(messages);
  }
  var lang = startsWith(locale, locales);
  if (lang) {
    return lang;
  }
}
var I18n = /*#__PURE__*/function () {
  function I18n(_ref3) {
    var locale = _ref3.locale,
      fallbackLocale = _ref3.fallbackLocale,
      messages = _ref3.messages,
      watcher = _ref3.watcher,
      formater = _ref3.formater;
    (0, _classCallCheck2.default)(this, I18n);
    this.locale = LOCALE_EN;
    this.fallbackLocale = LOCALE_EN;
    this.message = {};
    this.messages = {};
    this.watchers = [];
    if (fallbackLocale) {
      this.fallbackLocale = fallbackLocale;
    }
    this.formater = formater || defaultFormatter;
    this.messages = messages || {};
    this.setLocale(locale || LOCALE_EN);
    if (watcher) {
      this.watchLocale(watcher);
    }
  }
  (0, _createClass2.default)(I18n, [{
    key: "setLocale",
    value: function setLocale(locale) {
      var _this = this;
      var oldLocale = this.locale;
      this.locale = normalizeLocale(locale, this.messages) || this.fallbackLocale;
      if (!this.messages[this.locale]) {
        // 可能初始化时不存在
        this.messages[this.locale] = {};
      }
      this.message = this.messages[this.locale];
      // 仅发生变化时，通知
      if (oldLocale !== this.locale) {
        this.watchers.forEach(function (watcher) {
          watcher(_this.locale, oldLocale);
        });
      }
    }
  }, {
    key: "getLocale",
    value: function getLocale() {
      return this.locale;
    }
  }, {
    key: "watchLocale",
    value: function watchLocale(fn) {
      var _this2 = this;
      var index = this.watchers.push(fn) - 1;
      return function () {
        _this2.watchers.splice(index, 1);
      };
    }
  }, {
    key: "add",
    value: function add(locale, message) {
      var override = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;
      var curMessages = this.messages[locale];
      if (curMessages) {
        if (override) {
          Object.assign(curMessages, message);
        } else {
          Object.keys(message).forEach(function (key) {
            if (!hasOwn(curMessages, key)) {
              curMessages[key] = message[key];
            }
          });
        }
      } else {
        this.messages[locale] = message;
      }
    }
  }, {
    key: "f",
    value: function f(message, values, delimiters) {
      return this.formater.interpolate(message, values, delimiters).join('');
    }
  }, {
    key: "t",
    value: function t(key, locale, values) {
      var message = this.message;
      if (typeof locale === 'string') {
        locale = normalizeLocale(locale, this.messages);
        locale && (message = this.messages[locale]);
      } else {
        values = locale;
      }
      if (!hasOwn(message, key)) {
        console.warn("Cannot translate the value of keypath ".concat(key, ". Use the value of keypath as default."));
        return key;
      }
      return this.formater.interpolate(message[key], values).join('');
    }
  }]);
  return I18n;
}();
exports.I18n = I18n;
function watchAppLocale(appVm, i18n) {
  // 需要保证 watch 的触发在组件渲染之前
  if (appVm.$watchLocale) {
    // vue2
    appVm.$watchLocale(function (newLocale) {
      i18n.setLocale(newLocale);
    });
  } else {
    appVm.$watch(function () {
      return appVm.$locale;
    }, function (newLocale) {
      i18n.setLocale(newLocale);
    });
  }
}
function getDefaultLocale() {
  if (typeof uni !== 'undefined' && uni.getLocale) {
    return uni.getLocale();
  }
  // 小程序平台，uni 和 uni-i18n 互相引用，导致访问不到 uni，故在 global 上挂了 getLocale
  if (typeof global !== 'undefined' && global.getLocale) {
    return global.getLocale();
  }
  return LOCALE_EN;
}
function initVueI18n(locale) {
  var messages = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  var fallbackLocale = arguments.length > 2 ? arguments[2] : undefined;
  var watcher = arguments.length > 3 ? arguments[3] : undefined;
  // 兼容旧版本入参
  if (typeof locale !== 'string') {
    var _ref4 = [messages, locale];
    locale = _ref4[0];
    messages = _ref4[1];
  }
  if (typeof locale !== 'string') {
    // 因为小程序平台，uni-i18n 和 uni 互相引用，导致此时访问 uni 时，为 undefined
    locale = getDefaultLocale();
  }
  if (typeof fallbackLocale !== 'string') {
    fallbackLocale = typeof __uniConfig !== 'undefined' && __uniConfig.fallbackLocale || LOCALE_EN;
  }
  var i18n = new I18n({
    locale: locale,
    fallbackLocale: fallbackLocale,
    messages: messages,
    watcher: watcher
  });
  var _t = function t(key, values) {
    if (typeof getApp !== 'function') {
      // app view
      /* eslint-disable no-func-assign */
      _t = function t(key, values) {
        return i18n.t(key, values);
      };
    } else {
      var isWatchedAppLocale = false;
      _t = function t(key, values) {
        var appVm = getApp().$vm;
        // 可能$vm还不存在，比如在支付宝小程序中，组件定义较早，在props的default里使用了t()函数（如uni-goods-nav），此时app还未初始化
        // options: {
        // 	type: Array,
        // 	default () {
        // 		return [{
        // 			icon: 'shop',
        // 			text: t("uni-goods-nav.options.shop"),
        // 		}, {
        // 			icon: 'cart',
        // 			text: t("uni-goods-nav.options.cart")
        // 		}]
        // 	}
        // },
        if (appVm) {
          // 触发响应式
          appVm.$locale;
          if (!isWatchedAppLocale) {
            isWatchedAppLocale = true;
            watchAppLocale(appVm, i18n);
          }
        }
        return i18n.t(key, values);
      };
    }
    return _t(key, values);
  };
  return {
    i18n: i18n,
    f: function f(message, values, delimiters) {
      return i18n.f(message, values, delimiters);
    },
    t: function t(key, values) {
      return _t(key, values);
    },
    add: function add(locale, message) {
      var override = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;
      return i18n.add(locale, message, override);
    },
    watch: function watch(fn) {
      return i18n.watchLocale(fn);
    },
    getLocale: function getLocale() {
      return i18n.getLocale();
    },
    setLocale: function setLocale(newLocale) {
      return i18n.setLocale(newLocale);
    }
  };
}
var isString = function isString(val) {
  return typeof val === 'string';
};
exports.isString = isString;
var formater;
function hasI18nJson(jsonObj, delimiters) {
  if (!formater) {
    formater = new BaseFormatter();
  }
  return walkJsonObj(jsonObj, function (jsonObj, key) {
    var value = jsonObj[key];
    if (isString(value)) {
      if (isI18nStr(value, delimiters)) {
        return true;
      }
    } else {
      return hasI18nJson(value, delimiters);
    }
  });
}
function parseI18nJson(jsonObj, values, delimiters) {
  if (!formater) {
    formater = new BaseFormatter();
  }
  walkJsonObj(jsonObj, function (jsonObj, key) {
    var value = jsonObj[key];
    if (isString(value)) {
      if (isI18nStr(value, delimiters)) {
        jsonObj[key] = compileStr(value, values, delimiters);
      }
    } else {
      parseI18nJson(value, values, delimiters);
    }
  });
  return jsonObj;
}
function compileI18nJsonStr(jsonStr, _ref5) {
  var locale = _ref5.locale,
    locales = _ref5.locales,
    delimiters = _ref5.delimiters;
  if (!isI18nStr(jsonStr, delimiters)) {
    return jsonStr;
  }
  if (!formater) {
    formater = new BaseFormatter();
  }
  var localeValues = [];
  Object.keys(locales).forEach(function (name) {
    if (name !== locale) {
      localeValues.push({
        locale: name,
        values: locales[name]
      });
    }
  });
  localeValues.unshift({
    locale: locale,
    values: locales[locale]
  });
  try {
    return JSON.stringify(compileJsonObj(JSON.parse(jsonStr), localeValues, delimiters), null, 2);
  } catch (e) {}
  return jsonStr;
}
function isI18nStr(value, delimiters) {
  return value.indexOf(delimiters[0]) > -1;
}
function compileStr(value, values, delimiters) {
  return formater.interpolate(value, values, delimiters).join('');
}
function compileValue(jsonObj, key, localeValues, delimiters) {
  var value = jsonObj[key];
  if (isString(value)) {
    // 存在国际化
    if (isI18nStr(value, delimiters)) {
      jsonObj[key] = compileStr(value, localeValues[0].values, delimiters);
      if (localeValues.length > 1) {
        // 格式化国际化语言
        var valueLocales = jsonObj[key + 'Locales'] = {};
        localeValues.forEach(function (localValue) {
          valueLocales[localValue.locale] = compileStr(value, localValue.values, delimiters);
        });
      }
    }
  } else {
    compileJsonObj(value, localeValues, delimiters);
  }
}
function compileJsonObj(jsonObj, localeValues, delimiters) {
  walkJsonObj(jsonObj, function (jsonObj, key) {
    compileValue(jsonObj, key, localeValues, delimiters);
  });
  return jsonObj;
}
function walkJsonObj(jsonObj, walk) {
  if (Array.isArray(jsonObj)) {
    for (var i = 0; i < jsonObj.length; i++) {
      if (walk(jsonObj, i)) {
        return true;
      }
    }
  } else if (isObject(jsonObj)) {
    for (var key in jsonObj) {
      if (walk(jsonObj, key)) {
        return true;
      }
    }
  }
  return false;
}
function resolveLocale(locales) {
  return function (locale) {
    if (!locale) {
      return locale;
    }
    locale = normalizeLocale(locale) || locale;
    return resolveLocaleChain(locale).find(function (locale) {
      return locales.indexOf(locale) > -1;
    });
  };
}
function resolveLocaleChain(locale) {
  var chain = [];
  var tokens = locale.split('-');
  while (tokens.length) {
    chain.push(tokens.join('-'));
    tokens.pop();
  }
  return chain;
}
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 2)["default"], __webpack_require__(/*! ./../../../webpack/buildin/global.js */ 3)))

/***/ }),

/***/ 229:
/*!*********************************************************!*\
  !*** /Users/lisicheng/project/lijian/mixins/service.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni, wx) {

var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _defineProperty2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/defineProperty */ 11));
var _vuex = __webpack_require__(/*! vuex */ 33);
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
var ServiceMixin = {
  data: function data() {
    return;
  },
  computed: _objectSpread({}, (0, _vuex.mapGetters)(['ServiceConfig'])),
  methods: {
    goService: function goService() {
      console.log(this.ServiceConfig, 'ServiceConfig');
      var _this = this;
      switch (+this.ServiceConfig.way) {
        case 1:
          this.$Router.push({
            path: "/bundle/pages/artificial_service/artificial_service"
          });
          break;
        case 2:
          if (!this.ServiceConfig.phone) {
            return _this.$toast({
              title: '请在后台配置客服电话号码'
            });
          }
          uni.makePhoneCall({
            phoneNumber: this.ServiceConfig.phone,
            success: function success(res) {},
            fail: function fail(err) {}
          });
          break;
        case 3:
          this.$Router.push({
            path: '/bundle/pages/service/service',
            query: {
              goods_id: this.goods_id,
              type: 'normal'
            }
          });
          break;
        case 4:
          wx.openCustomerServiceChat({
            extInfo: {
              url: this.ServiceConfig.kefu_link
            },
            corpId: this.ServiceConfig.enterprise_id,
            success: function success(res) {},
            fail: function fail(err) {
              console.log(err);
              _this.$toast({
                title: '请在后台配置企业微信客服'
              });
            }
          });
          break;
        default:
          break;
      }
    }
  }
};
var _default = ServiceMixin;
exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 2)["default"], __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/wx.js */ 1)["default"]))

/***/ }),

/***/ 23:
/*!***************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/classCallCheck.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}
module.exports = _classCallCheck, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 24:
/*!************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/createClass.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var toPropertyKey = __webpack_require__(/*! ./toPropertyKey.js */ 12);
function _defineProperties(target, props) {
  for (var i = 0; i < props.length; i++) {
    var descriptor = props[i];
    descriptor.enumerable = descriptor.enumerable || false;
    descriptor.configurable = true;
    if ("value" in descriptor) descriptor.writable = true;
    Object.defineProperty(target, toPropertyKey(descriptor.key), descriptor);
  }
}
function _createClass(Constructor, protoProps, staticProps) {
  if (protoProps) _defineProperties(Constructor.prototype, protoProps);
  if (staticProps) _defineProperties(Constructor, staticProps);
  Object.defineProperty(Constructor, "prototype", {
    writable: false
  });
  return Constructor;
}
module.exports = _createClass, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 25:
/*!******************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/mp-vue/dist/mp.runtime.esm.js ***!
  \******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/*!
 * Vue.js v2.6.11
 * (c) 2014-2024 Evan You
 * Released under the MIT License.
 */
/*  */

var emptyObject = Object.freeze({});

// These helpers produce better VM code in JS engines due to their
// explicitness and function inlining.
function isUndef (v) {
  return v === undefined || v === null
}

function isDef (v) {
  return v !== undefined && v !== null
}

function isTrue (v) {
  return v === true
}

function isFalse (v) {
  return v === false
}

/**
 * Check if value is primitive.
 */
function isPrimitive (value) {
  return (
    typeof value === 'string' ||
    typeof value === 'number' ||
    // $flow-disable-line
    typeof value === 'symbol' ||
    typeof value === 'boolean'
  )
}

/**
 * Quick object check - this is primarily used to tell
 * Objects from primitive values when we know the value
 * is a JSON-compliant type.
 */
function isObject (obj) {
  return obj !== null && typeof obj === 'object'
}

/**
 * Get the raw type string of a value, e.g., [object Object].
 */
var _toString = Object.prototype.toString;

function toRawType (value) {
  return _toString.call(value).slice(8, -1)
}

/**
 * Strict object type check. Only returns true
 * for plain JavaScript objects.
 */
function isPlainObject (obj) {
  return _toString.call(obj) === '[object Object]'
}

function isRegExp (v) {
  return _toString.call(v) === '[object RegExp]'
}

/**
 * Check if val is a valid array index.
 */
function isValidArrayIndex (val) {
  var n = parseFloat(String(val));
  return n >= 0 && Math.floor(n) === n && isFinite(val)
}

function isPromise (val) {
  return (
    isDef(val) &&
    typeof val.then === 'function' &&
    typeof val.catch === 'function'
  )
}

/**
 * Convert a value to a string that is actually rendered.
 */
function toString (val) {
  return val == null
    ? ''
    : Array.isArray(val) || (isPlainObject(val) && val.toString === _toString)
      ? JSON.stringify(val, null, 2)
      : String(val)
}

/**
 * Convert an input value to a number for persistence.
 * If the conversion fails, return original string.
 */
function toNumber (val) {
  var n = parseFloat(val);
  return isNaN(n) ? val : n
}

/**
 * Make a map and return a function for checking if a key
 * is in that map.
 */
function makeMap (
  str,
  expectsLowerCase
) {
  var map = Object.create(null);
  var list = str.split(',');
  for (var i = 0; i < list.length; i++) {
    map[list[i]] = true;
  }
  return expectsLowerCase
    ? function (val) { return map[val.toLowerCase()]; }
    : function (val) { return map[val]; }
}

/**
 * Check if a tag is a built-in tag.
 */
var isBuiltInTag = makeMap('slot,component', true);

/**
 * Check if an attribute is a reserved attribute.
 */
var isReservedAttribute = makeMap('key,ref,slot,slot-scope,is');

/**
 * Remove an item from an array.
 */
function remove (arr, item) {
  if (arr.length) {
    var index = arr.indexOf(item);
    if (index > -1) {
      return arr.splice(index, 1)
    }
  }
}

/**
 * Check whether an object has the property.
 */
var hasOwnProperty = Object.prototype.hasOwnProperty;
function hasOwn (obj, key) {
  return hasOwnProperty.call(obj, key)
}

/**
 * Create a cached version of a pure function.
 */
function cached (fn) {
  var cache = Object.create(null);
  return (function cachedFn (str) {
    var hit = cache[str];
    return hit || (cache[str] = fn(str))
  })
}

/**
 * Camelize a hyphen-delimited string.
 */
var camelizeRE = /-(\w)/g;
var camelize = cached(function (str) {
  return str.replace(camelizeRE, function (_, c) { return c ? c.toUpperCase() : ''; })
});

/**
 * Capitalize a string.
 */
var capitalize = cached(function (str) {
  return str.charAt(0).toUpperCase() + str.slice(1)
});

/**
 * Hyphenate a camelCase string.
 */
var hyphenateRE = /\B([A-Z])/g;
var hyphenate = cached(function (str) {
  return str.replace(hyphenateRE, '-$1').toLowerCase()
});

/**
 * Simple bind polyfill for environments that do not support it,
 * e.g., PhantomJS 1.x. Technically, we don't need this anymore
 * since native bind is now performant enough in most browsers.
 * But removing it would mean breaking code that was able to run in
 * PhantomJS 1.x, so this must be kept for backward compatibility.
 */

/* istanbul ignore next */
function polyfillBind (fn, ctx) {
  function boundFn (a) {
    var l = arguments.length;
    return l
      ? l > 1
        ? fn.apply(ctx, arguments)
        : fn.call(ctx, a)
      : fn.call(ctx)
  }

  boundFn._length = fn.length;
  return boundFn
}

function nativeBind (fn, ctx) {
  return fn.bind(ctx)
}

var bind = Function.prototype.bind
  ? nativeBind
  : polyfillBind;

/**
 * Convert an Array-like object to a real Array.
 */
function toArray (list, start) {
  start = start || 0;
  var i = list.length - start;
  var ret = new Array(i);
  while (i--) {
    ret[i] = list[i + start];
  }
  return ret
}

/**
 * Mix properties into target object.
 */
function extend (to, _from) {
  for (var key in _from) {
    to[key] = _from[key];
  }
  return to
}

/**
 * Merge an Array of Objects into a single Object.
 */
function toObject (arr) {
  var res = {};
  for (var i = 0; i < arr.length; i++) {
    if (arr[i]) {
      extend(res, arr[i]);
    }
  }
  return res
}

/* eslint-disable no-unused-vars */

/**
 * Perform no operation.
 * Stubbing args to make Flow happy without leaving useless transpiled code
 * with ...rest (https://flow.org/blog/2017/05/07/Strict-Function-Call-Arity/).
 */
function noop (a, b, c) {}

/**
 * Always return false.
 */
var no = function (a, b, c) { return false; };

/* eslint-enable no-unused-vars */

/**
 * Return the same value.
 */
var identity = function (_) { return _; };

/**
 * Check if two values are loosely equal - that is,
 * if they are plain objects, do they have the same shape?
 */
function looseEqual (a, b) {
  if (a === b) { return true }
  var isObjectA = isObject(a);
  var isObjectB = isObject(b);
  if (isObjectA && isObjectB) {
    try {
      var isArrayA = Array.isArray(a);
      var isArrayB = Array.isArray(b);
      if (isArrayA && isArrayB) {
        return a.length === b.length && a.every(function (e, i) {
          return looseEqual(e, b[i])
        })
      } else if (a instanceof Date && b instanceof Date) {
        return a.getTime() === b.getTime()
      } else if (!isArrayA && !isArrayB) {
        var keysA = Object.keys(a);
        var keysB = Object.keys(b);
        return keysA.length === keysB.length && keysA.every(function (key) {
          return looseEqual(a[key], b[key])
        })
      } else {
        /* istanbul ignore next */
        return false
      }
    } catch (e) {
      /* istanbul ignore next */
      return false
    }
  } else if (!isObjectA && !isObjectB) {
    return String(a) === String(b)
  } else {
    return false
  }
}

/**
 * Return the first index at which a loosely equal value can be
 * found in the array (if value is a plain object, the array must
 * contain an object of the same shape), or -1 if it is not present.
 */
function looseIndexOf (arr, val) {
  for (var i = 0; i < arr.length; i++) {
    if (looseEqual(arr[i], val)) { return i }
  }
  return -1
}

/**
 * Ensure a function is called only once.
 */
function once (fn) {
  var called = false;
  return function () {
    if (!called) {
      called = true;
      fn.apply(this, arguments);
    }
  }
}

var ASSET_TYPES = [
  'component',
  'directive',
  'filter'
];

var LIFECYCLE_HOOKS = [
  'beforeCreate',
  'created',
  'beforeMount',
  'mounted',
  'beforeUpdate',
  'updated',
  'beforeDestroy',
  'destroyed',
  'activated',
  'deactivated',
  'errorCaptured',
  'serverPrefetch'
];

/*  */



var config = ({
  /**
   * Option merge strategies (used in core/util/options)
   */
  // $flow-disable-line
  optionMergeStrategies: Object.create(null),

  /**
   * Whether to suppress warnings.
   */
  silent: false,

  /**
   * Show production mode tip message on boot?
   */
  productionTip: "development" !== 'production',

  /**
   * Whether to enable devtools
   */
  devtools: "development" !== 'production',

  /**
   * Whether to record perf
   */
  performance: false,

  /**
   * Error handler for watcher errors
   */
  errorHandler: null,

  /**
   * Warn handler for watcher warns
   */
  warnHandler: null,

  /**
   * Ignore certain custom elements
   */
  ignoredElements: [],

  /**
   * Custom user key aliases for v-on
   */
  // $flow-disable-line
  keyCodes: Object.create(null),

  /**
   * Check if a tag is reserved so that it cannot be registered as a
   * component. This is platform-dependent and may be overwritten.
   */
  isReservedTag: no,

  /**
   * Check if an attribute is reserved so that it cannot be used as a component
   * prop. This is platform-dependent and may be overwritten.
   */
  isReservedAttr: no,

  /**
   * Check if a tag is an unknown element.
   * Platform-dependent.
   */
  isUnknownElement: no,

  /**
   * Get the namespace of an element
   */
  getTagNamespace: noop,

  /**
   * Parse the real tag name for the specific platform.
   */
  parsePlatformTagName: identity,

  /**
   * Check if an attribute must be bound using property, e.g. value
   * Platform-dependent.
   */
  mustUseProp: no,

  /**
   * Perform updates asynchronously. Intended to be used by Vue Test Utils
   * This will significantly reduce performance if set to false.
   */
  async: true,

  /**
   * Exposed for legacy reasons
   */
  _lifecycleHooks: LIFECYCLE_HOOKS
});

/*  */

/**
 * unicode letters used for parsing html tags, component names and property paths.
 * using https://www.w3.org/TR/html53/semantics-scripting.html#potentialcustomelementname
 * skipping \u10000-\uEFFFF due to it freezing up PhantomJS
 */
var unicodeRegExp = /a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;

/**
 * Check if a string starts with $ or _
 */
function isReserved (str) {
  var c = (str + '').charCodeAt(0);
  return c === 0x24 || c === 0x5F
}

/**
 * Define a property.
 */
function def (obj, key, val, enumerable) {
  Object.defineProperty(obj, key, {
    value: val,
    enumerable: !!enumerable,
    writable: true,
    configurable: true
  });
}

/**
 * Parse simple path.
 */
var bailRE = new RegExp(("[^" + (unicodeRegExp.source) + ".$_\\d]"));
function parsePath (path) {
  if (bailRE.test(path)) {
    return
  }
  var segments = path.split('.');
  return function (obj) {
    for (var i = 0; i < segments.length; i++) {
      if (!obj) { return }
      obj = obj[segments[i]];
    }
    return obj
  }
}

/*  */

// can we use __proto__?
var hasProto = '__proto__' in {};

// Browser environment sniffing
var inBrowser = typeof window !== 'undefined';
var inWeex = typeof WXEnvironment !== 'undefined' && !!WXEnvironment.platform;
var weexPlatform = inWeex && WXEnvironment.platform.toLowerCase();
var UA = inBrowser && window.navigator && window.navigator.userAgent.toLowerCase();
var isIE = UA && /msie|trident/.test(UA);
var isIE9 = UA && UA.indexOf('msie 9.0') > 0;
var isEdge = UA && UA.indexOf('edge/') > 0;
var isAndroid = (UA && UA.indexOf('android') > 0) || (weexPlatform === 'android');
var isIOS = (UA && /iphone|ipad|ipod|ios/.test(UA)) || (weexPlatform === 'ios');
var isChrome = UA && /chrome\/\d+/.test(UA) && !isEdge;
var isPhantomJS = UA && /phantomjs/.test(UA);
var isFF = UA && UA.match(/firefox\/(\d+)/);

// Firefox has a "watch" function on Object.prototype...
var nativeWatch = ({}).watch;
if (inBrowser) {
  try {
    var opts = {};
    Object.defineProperty(opts, 'passive', ({
      get: function get () {
      }
    })); // https://github.com/facebook/flow/issues/285
    window.addEventListener('test-passive', null, opts);
  } catch (e) {}
}

// this needs to be lazy-evaled because vue may be required before
// vue-server-renderer can set VUE_ENV
var _isServer;
var isServerRendering = function () {
  if (_isServer === undefined) {
    /* istanbul ignore if */
    if (!inBrowser && !inWeex && typeof global !== 'undefined') {
      // detect presence of vue-server-renderer and avoid
      // Webpack shimming the process
      _isServer = global['process'] && global['process'].env.VUE_ENV === 'server';
    } else {
      _isServer = false;
    }
  }
  return _isServer
};

// detect devtools
var devtools = inBrowser && window.__VUE_DEVTOOLS_GLOBAL_HOOK__;

/* istanbul ignore next */
function isNative (Ctor) {
  return typeof Ctor === 'function' && /native code/.test(Ctor.toString())
}

var hasSymbol =
  typeof Symbol !== 'undefined' && isNative(Symbol) &&
  typeof Reflect !== 'undefined' && isNative(Reflect.ownKeys);

var _Set;
/* istanbul ignore if */ // $flow-disable-line
if (typeof Set !== 'undefined' && isNative(Set)) {
  // use native Set when available.
  _Set = Set;
} else {
  // a non-standard Set polyfill that only works with primitive keys.
  _Set = /*@__PURE__*/(function () {
    function Set () {
      this.set = Object.create(null);
    }
    Set.prototype.has = function has (key) {
      return this.set[key] === true
    };
    Set.prototype.add = function add (key) {
      this.set[key] = true;
    };
    Set.prototype.clear = function clear () {
      this.set = Object.create(null);
    };

    return Set;
  }());
}

/*  */

var warn = noop;
var tip = noop;
var generateComponentTrace = (noop); // work around flow check
var formatComponentName = (noop);

if (true) {
  var hasConsole = typeof console !== 'undefined';
  var classifyRE = /(?:^|[-_])(\w)/g;
  var classify = function (str) { return str
    .replace(classifyRE, function (c) { return c.toUpperCase(); })
    .replace(/[-_]/g, ''); };

  warn = function (msg, vm) {
    var trace = vm ? generateComponentTrace(vm) : '';

    if (config.warnHandler) {
      config.warnHandler.call(null, msg, vm, trace);
    } else if (hasConsole && (!config.silent)) {
      console.error(("[Vue warn]: " + msg + trace));
    }
  };

  tip = function (msg, vm) {
    if (hasConsole && (!config.silent)) {
      console.warn("[Vue tip]: " + msg + (
        vm ? generateComponentTrace(vm) : ''
      ));
    }
  };

  formatComponentName = function (vm, includeFile) {
    if (vm.$root === vm) {
      if (vm.$options && vm.$options.__file) { // fixed by xxxxxx
        return ('') + vm.$options.__file
      }
      return '<Root>'
    }
    var options = typeof vm === 'function' && vm.cid != null
      ? vm.options
      : vm._isVue
        ? vm.$options || vm.constructor.options
        : vm;
    var name = options.name || options._componentTag;
    var file = options.__file;
    if (!name && file) {
      var match = file.match(/([^/\\]+)\.vue$/);
      name = match && match[1];
    }

    return (
      (name ? ("<" + (classify(name)) + ">") : "<Anonymous>") +
      (file && includeFile !== false ? (" at " + file) : '')
    )
  };

  var repeat = function (str, n) {
    var res = '';
    while (n) {
      if (n % 2 === 1) { res += str; }
      if (n > 1) { str += str; }
      n >>= 1;
    }
    return res
  };

  generateComponentTrace = function (vm) {
    if (vm._isVue && vm.$parent) {
      var tree = [];
      var currentRecursiveSequence = 0;
      while (vm && vm.$options.name !== 'PageBody') {
        if (tree.length > 0) {
          var last = tree[tree.length - 1];
          if (last.constructor === vm.constructor) {
            currentRecursiveSequence++;
            vm = vm.$parent;
            continue
          } else if (currentRecursiveSequence > 0) {
            tree[tree.length - 1] = [last, currentRecursiveSequence];
            currentRecursiveSequence = 0;
          }
        }
        !vm.$options.isReserved && tree.push(vm);
        vm = vm.$parent;
      }
      return '\n\nfound in\n\n' + tree
        .map(function (vm, i) { return ("" + (i === 0 ? '---> ' : repeat(' ', 5 + i * 2)) + (Array.isArray(vm)
            ? ((formatComponentName(vm[0])) + "... (" + (vm[1]) + " recursive calls)")
            : formatComponentName(vm))); })
        .join('\n')
    } else {
      return ("\n\n(found in " + (formatComponentName(vm)) + ")")
    }
  };
}

/*  */

var uid = 0;

/**
 * A dep is an observable that can have multiple
 * directives subscribing to it.
 */
var Dep = function Dep () {
  this.id = uid++;
  this.subs = [];
};

Dep.prototype.addSub = function addSub (sub) {
  this.subs.push(sub);
};

Dep.prototype.removeSub = function removeSub (sub) {
  remove(this.subs, sub);
};

Dep.prototype.depend = function depend () {
  if (Dep.SharedObject.target) {
    Dep.SharedObject.target.addDep(this);
  }
};

Dep.prototype.notify = function notify () {
  // stabilize the subscriber list first
  var subs = this.subs.slice();
  if ( true && !config.async) {
    // subs aren't sorted in scheduler if not running async
    // we need to sort them now to make sure they fire in correct
    // order
    subs.sort(function (a, b) { return a.id - b.id; });
  }
  for (var i = 0, l = subs.length; i < l; i++) {
    subs[i].update();
  }
};

// The current target watcher being evaluated.
// This is globally unique because only one watcher
// can be evaluated at a time.
// fixed by xxxxxx (nvue shared vuex)
/* eslint-disable no-undef */
Dep.SharedObject = {};
Dep.SharedObject.target = null;
Dep.SharedObject.targetStack = [];

function pushTarget (target) {
  Dep.SharedObject.targetStack.push(target);
  Dep.SharedObject.target = target;
  Dep.target = target;
}

function popTarget () {
  Dep.SharedObject.targetStack.pop();
  Dep.SharedObject.target = Dep.SharedObject.targetStack[Dep.SharedObject.targetStack.length - 1];
  Dep.target = Dep.SharedObject.target;
}

/*  */

var VNode = function VNode (
  tag,
  data,
  children,
  text,
  elm,
  context,
  componentOptions,
  asyncFactory
) {
  this.tag = tag;
  this.data = data;
  this.children = children;
  this.text = text;
  this.elm = elm;
  this.ns = undefined;
  this.context = context;
  this.fnContext = undefined;
  this.fnOptions = undefined;
  this.fnScopeId = undefined;
  this.key = data && data.key;
  this.componentOptions = componentOptions;
  this.componentInstance = undefined;
  this.parent = undefined;
  this.raw = false;
  this.isStatic = false;
  this.isRootInsert = true;
  this.isComment = false;
  this.isCloned = false;
  this.isOnce = false;
  this.asyncFactory = asyncFactory;
  this.asyncMeta = undefined;
  this.isAsyncPlaceholder = false;
};

var prototypeAccessors = { child: { configurable: true } };

// DEPRECATED: alias for componentInstance for backwards compat.
/* istanbul ignore next */
prototypeAccessors.child.get = function () {
  return this.componentInstance
};

Object.defineProperties( VNode.prototype, prototypeAccessors );

var createEmptyVNode = function (text) {
  if ( text === void 0 ) text = '';

  var node = new VNode();
  node.text = text;
  node.isComment = true;
  return node
};

function createTextVNode (val) {
  return new VNode(undefined, undefined, undefined, String(val))
}

// optimized shallow clone
// used for static nodes and slot nodes because they may be reused across
// multiple renders, cloning them avoids errors when DOM manipulations rely
// on their elm reference.
function cloneVNode (vnode) {
  var cloned = new VNode(
    vnode.tag,
    vnode.data,
    // #7975
    // clone children array to avoid mutating original in case of cloning
    // a child.
    vnode.children && vnode.children.slice(),
    vnode.text,
    vnode.elm,
    vnode.context,
    vnode.componentOptions,
    vnode.asyncFactory
  );
  cloned.ns = vnode.ns;
  cloned.isStatic = vnode.isStatic;
  cloned.key = vnode.key;
  cloned.isComment = vnode.isComment;
  cloned.fnContext = vnode.fnContext;
  cloned.fnOptions = vnode.fnOptions;
  cloned.fnScopeId = vnode.fnScopeId;
  cloned.asyncMeta = vnode.asyncMeta;
  cloned.isCloned = true;
  return cloned
}

/*
 * not type checking this file because flow doesn't play well with
 * dynamically accessing methods on Array prototype
 */

var arrayProto = Array.prototype;
var arrayMethods = Object.create(arrayProto);

var methodsToPatch = [
  'push',
  'pop',
  'shift',
  'unshift',
  'splice',
  'sort',
  'reverse'
];

/**
 * Intercept mutating methods and emit events
 */
methodsToPatch.forEach(function (method) {
  // cache original method
  var original = arrayProto[method];
  def(arrayMethods, method, function mutator () {
    var args = [], len = arguments.length;
    while ( len-- ) args[ len ] = arguments[ len ];

    var result = original.apply(this, args);
    var ob = this.__ob__;
    var inserted;
    switch (method) {
      case 'push':
      case 'unshift':
        inserted = args;
        break
      case 'splice':
        inserted = args.slice(2);
        break
    }
    if (inserted) { ob.observeArray(inserted); }
    // notify change
    ob.dep.notify();
    return result
  });
});

/*  */

var arrayKeys = Object.getOwnPropertyNames(arrayMethods);

/**
 * In some cases we may want to disable observation inside a component's
 * update computation.
 */
var shouldObserve = true;

function toggleObserving (value) {
  shouldObserve = value;
}

/**
 * Observer class that is attached to each observed
 * object. Once attached, the observer converts the target
 * object's property keys into getter/setters that
 * collect dependencies and dispatch updates.
 */
var Observer = function Observer (value) {
  this.value = value;
  this.dep = new Dep();
  this.vmCount = 0;
  def(value, '__ob__', this);
  if (Array.isArray(value)) {
    if (hasProto) {
      {// fixed by xxxxxx 微信小程序使用 plugins 之后，数组方法被直接挂载到了数组对象上，需要执行 copyAugment 逻辑
        if(value.push !== value.__proto__.push){
          copyAugment(value, arrayMethods, arrayKeys);
        } else {
          protoAugment(value, arrayMethods);
        }
      }
    } else {
      copyAugment(value, arrayMethods, arrayKeys);
    }
    this.observeArray(value);
  } else {
    this.walk(value);
  }
};

/**
 * Walk through all properties and convert them into
 * getter/setters. This method should only be called when
 * value type is Object.
 */
Observer.prototype.walk = function walk (obj) {
  var keys = Object.keys(obj);
  for (var i = 0; i < keys.length; i++) {
    defineReactive$$1(obj, keys[i]);
  }
};

/**
 * Observe a list of Array items.
 */
Observer.prototype.observeArray = function observeArray (items) {
  for (var i = 0, l = items.length; i < l; i++) {
    observe(items[i]);
  }
};

// helpers

/**
 * Augment a target Object or Array by intercepting
 * the prototype chain using __proto__
 */
function protoAugment (target, src) {
  /* eslint-disable no-proto */
  target.__proto__ = src;
  /* eslint-enable no-proto */
}

/**
 * Augment a target Object or Array by defining
 * hidden properties.
 */
/* istanbul ignore next */
function copyAugment (target, src, keys) {
  for (var i = 0, l = keys.length; i < l; i++) {
    var key = keys[i];
    def(target, key, src[key]);
  }
}

/**
 * Attempt to create an observer instance for a value,
 * returns the new observer if successfully observed,
 * or the existing observer if the value already has one.
 */
function observe (value, asRootData) {
  if (!isObject(value) || value instanceof VNode) {
    return
  }
  var ob;
  if (hasOwn(value, '__ob__') && value.__ob__ instanceof Observer) {
    ob = value.__ob__;
  } else if (
    shouldObserve &&
    !isServerRendering() &&
    (Array.isArray(value) || isPlainObject(value)) &&
    Object.isExtensible(value) &&
    !value._isVue &&
    !value.__v_isMPComponent
  ) {
    ob = new Observer(value);
  }
  if (asRootData && ob) {
    ob.vmCount++;
  }
  return ob
}

/**
 * Define a reactive property on an Object.
 */
function defineReactive$$1 (
  obj,
  key,
  val,
  customSetter,
  shallow
) {
  var dep = new Dep();

  var property = Object.getOwnPropertyDescriptor(obj, key);
  if (property && property.configurable === false) {
    return
  }

  // cater for pre-defined getter/setters
  var getter = property && property.get;
  var setter = property && property.set;
  if ((!getter || setter) && arguments.length === 2) {
    val = obj[key];
  }

  var childOb = !shallow && observe(val);
  Object.defineProperty(obj, key, {
    enumerable: true,
    configurable: true,
    get: function reactiveGetter () {
      var value = getter ? getter.call(obj) : val;
      if (Dep.SharedObject.target) { // fixed by xxxxxx
        dep.depend();
        if (childOb) {
          childOb.dep.depend();
          if (Array.isArray(value)) {
            dependArray(value);
          }
        }
      }
      return value
    },
    set: function reactiveSetter (newVal) {
      var value = getter ? getter.call(obj) : val;
      /* eslint-disable no-self-compare */
      if (newVal === value || (newVal !== newVal && value !== value)) {
        return
      }
      /* eslint-enable no-self-compare */
      if ( true && customSetter) {
        customSetter();
      }
      // #7981: for accessor properties without setter
      if (getter && !setter) { return }
      if (setter) {
        setter.call(obj, newVal);
      } else {
        val = newVal;
      }
      childOb = !shallow && observe(newVal);
      dep.notify();
    }
  });
}

/**
 * Set a property on an object. Adds the new property and
 * triggers change notification if the property doesn't
 * already exist.
 */
function set (target, key, val) {
  if ( true &&
    (isUndef(target) || isPrimitive(target))
  ) {
    warn(("Cannot set reactive property on undefined, null, or primitive value: " + ((target))));
  }
  if (Array.isArray(target) && isValidArrayIndex(key)) {
    target.length = Math.max(target.length, key);
    target.splice(key, 1, val);
    return val
  }
  if (key in target && !(key in Object.prototype)) {
    target[key] = val;
    return val
  }
  var ob = (target).__ob__;
  if (target._isVue || (ob && ob.vmCount)) {
     true && warn(
      'Avoid adding reactive properties to a Vue instance or its root $data ' +
      'at runtime - declare it upfront in the data option.'
    );
    return val
  }
  if (!ob) {
    target[key] = val;
    return val
  }
  defineReactive$$1(ob.value, key, val);
  ob.dep.notify();
  return val
}

/**
 * Delete a property and trigger change if necessary.
 */
function del (target, key) {
  if ( true &&
    (isUndef(target) || isPrimitive(target))
  ) {
    warn(("Cannot delete reactive property on undefined, null, or primitive value: " + ((target))));
  }
  if (Array.isArray(target) && isValidArrayIndex(key)) {
    target.splice(key, 1);
    return
  }
  var ob = (target).__ob__;
  if (target._isVue || (ob && ob.vmCount)) {
     true && warn(
      'Avoid deleting properties on a Vue instance or its root $data ' +
      '- just set it to null.'
    );
    return
  }
  if (!hasOwn(target, key)) {
    return
  }
  delete target[key];
  if (!ob) {
    return
  }
  ob.dep.notify();
}

/**
 * Collect dependencies on array elements when the array is touched, since
 * we cannot intercept array element access like property getters.
 */
function dependArray (value) {
  for (var e = (void 0), i = 0, l = value.length; i < l; i++) {
    e = value[i];
    e && e.__ob__ && e.__ob__.dep.depend();
    if (Array.isArray(e)) {
      dependArray(e);
    }
  }
}

/*  */

/**
 * Option overwriting strategies are functions that handle
 * how to merge a parent option value and a child option
 * value into the final value.
 */
var strats = config.optionMergeStrategies;

/**
 * Options with restrictions
 */
if (true) {
  strats.el = strats.propsData = function (parent, child, vm, key) {
    if (!vm) {
      warn(
        "option \"" + key + "\" can only be used during instance " +
        'creation with the `new` keyword.'
      );
    }
    return defaultStrat(parent, child)
  };
}

/**
 * Helper that recursively merges two data objects together.
 */
function mergeData (to, from) {
  if (!from) { return to }
  var key, toVal, fromVal;

  var keys = hasSymbol
    ? Reflect.ownKeys(from)
    : Object.keys(from);

  for (var i = 0; i < keys.length; i++) {
    key = keys[i];
    // in case the object is already observed...
    if (key === '__ob__') { continue }
    toVal = to[key];
    fromVal = from[key];
    if (!hasOwn(to, key)) {
      set(to, key, fromVal);
    } else if (
      toVal !== fromVal &&
      isPlainObject(toVal) &&
      isPlainObject(fromVal)
    ) {
      mergeData(toVal, fromVal);
    }
  }
  return to
}

/**
 * Data
 */
function mergeDataOrFn (
  parentVal,
  childVal,
  vm
) {
  if (!vm) {
    // in a Vue.extend merge, both should be functions
    if (!childVal) {
      return parentVal
    }
    if (!parentVal) {
      return childVal
    }
    // when parentVal & childVal are both present,
    // we need to return a function that returns the
    // merged result of both functions... no need to
    // check if parentVal is a function here because
    // it has to be a function to pass previous merges.
    return function mergedDataFn () {
      return mergeData(
        typeof childVal === 'function' ? childVal.call(this, this) : childVal,
        typeof parentVal === 'function' ? parentVal.call(this, this) : parentVal
      )
    }
  } else {
    return function mergedInstanceDataFn () {
      // instance merge
      var instanceData = typeof childVal === 'function'
        ? childVal.call(vm, vm)
        : childVal;
      var defaultData = typeof parentVal === 'function'
        ? parentVal.call(vm, vm)
        : parentVal;
      if (instanceData) {
        return mergeData(instanceData, defaultData)
      } else {
        return defaultData
      }
    }
  }
}

strats.data = function (
  parentVal,
  childVal,
  vm
) {
  if (!vm) {
    if (childVal && typeof childVal !== 'function') {
       true && warn(
        'The "data" option should be a function ' +
        'that returns a per-instance value in component ' +
        'definitions.',
        vm
      );

      return parentVal
    }
    return mergeDataOrFn(parentVal, childVal)
  }

  return mergeDataOrFn(parentVal, childVal, vm)
};

/**
 * Hooks and props are merged as arrays.
 */
function mergeHook (
  parentVal,
  childVal
) {
  var res = childVal
    ? parentVal
      ? parentVal.concat(childVal)
      : Array.isArray(childVal)
        ? childVal
        : [childVal]
    : parentVal;
  return res
    ? dedupeHooks(res)
    : res
}

function dedupeHooks (hooks) {
  var res = [];
  for (var i = 0; i < hooks.length; i++) {
    if (res.indexOf(hooks[i]) === -1) {
      res.push(hooks[i]);
    }
  }
  return res
}

LIFECYCLE_HOOKS.forEach(function (hook) {
  strats[hook] = mergeHook;
});

/**
 * Assets
 *
 * When a vm is present (instance creation), we need to do
 * a three-way merge between constructor options, instance
 * options and parent options.
 */
function mergeAssets (
  parentVal,
  childVal,
  vm,
  key
) {
  var res = Object.create(parentVal || null);
  if (childVal) {
     true && assertObjectType(key, childVal, vm);
    return extend(res, childVal)
  } else {
    return res
  }
}

ASSET_TYPES.forEach(function (type) {
  strats[type + 's'] = mergeAssets;
});

/**
 * Watchers.
 *
 * Watchers hashes should not overwrite one
 * another, so we merge them as arrays.
 */
strats.watch = function (
  parentVal,
  childVal,
  vm,
  key
) {
  // work around Firefox's Object.prototype.watch...
  if (parentVal === nativeWatch) { parentVal = undefined; }
  if (childVal === nativeWatch) { childVal = undefined; }
  /* istanbul ignore if */
  if (!childVal) { return Object.create(parentVal || null) }
  if (true) {
    assertObjectType(key, childVal, vm);
  }
  if (!parentVal) { return childVal }
  var ret = {};
  extend(ret, parentVal);
  for (var key$1 in childVal) {
    var parent = ret[key$1];
    var child = childVal[key$1];
    if (parent && !Array.isArray(parent)) {
      parent = [parent];
    }
    ret[key$1] = parent
      ? parent.concat(child)
      : Array.isArray(child) ? child : [child];
  }
  return ret
};

/**
 * Other object hashes.
 */
strats.props =
strats.methods =
strats.inject =
strats.computed = function (
  parentVal,
  childVal,
  vm,
  key
) {
  if (childVal && "development" !== 'production') {
    assertObjectType(key, childVal, vm);
  }
  if (!parentVal) { return childVal }
  var ret = Object.create(null);
  extend(ret, parentVal);
  if (childVal) { extend(ret, childVal); }
  return ret
};
strats.provide = mergeDataOrFn;

/**
 * Default strategy.
 */
var defaultStrat = function (parentVal, childVal) {
  return childVal === undefined
    ? parentVal
    : childVal
};

/**
 * Validate component names
 */
function checkComponents (options) {
  for (var key in options.components) {
    validateComponentName(key);
  }
}

function validateComponentName (name) {
  if (!new RegExp(("^[a-zA-Z][\\-\\.0-9_" + (unicodeRegExp.source) + "]*$")).test(name)) {
    warn(
      'Invalid component name: "' + name + '". Component names ' +
      'should conform to valid custom element name in html5 specification.'
    );
  }
  if (isBuiltInTag(name) || config.isReservedTag(name)) {
    warn(
      'Do not use built-in or reserved HTML elements as component ' +
      'id: ' + name
    );
  }
}

/**
 * Ensure all props option syntax are normalized into the
 * Object-based format.
 */
function normalizeProps (options, vm) {
  var props = options.props;
  if (!props) { return }
  var res = {};
  var i, val, name;
  if (Array.isArray(props)) {
    i = props.length;
    while (i--) {
      val = props[i];
      if (typeof val === 'string') {
        name = camelize(val);
        res[name] = { type: null };
      } else if (true) {
        warn('props must be strings when using array syntax.');
      }
    }
  } else if (isPlainObject(props)) {
    for (var key in props) {
      val = props[key];
      name = camelize(key);
      res[name] = isPlainObject(val)
        ? val
        : { type: val };
    }
  } else if (true) {
    warn(
      "Invalid value for option \"props\": expected an Array or an Object, " +
      "but got " + (toRawType(props)) + ".",
      vm
    );
  }
  options.props = res;
}

/**
 * Normalize all injections into Object-based format
 */
function normalizeInject (options, vm) {
  var inject = options.inject;
  if (!inject) { return }
  var normalized = options.inject = {};
  if (Array.isArray(inject)) {
    for (var i = 0; i < inject.length; i++) {
      normalized[inject[i]] = { from: inject[i] };
    }
  } else if (isPlainObject(inject)) {
    for (var key in inject) {
      var val = inject[key];
      normalized[key] = isPlainObject(val)
        ? extend({ from: key }, val)
        : { from: val };
    }
  } else if (true) {
    warn(
      "Invalid value for option \"inject\": expected an Array or an Object, " +
      "but got " + (toRawType(inject)) + ".",
      vm
    );
  }
}

/**
 * Normalize raw function directives into object format.
 */
function normalizeDirectives (options) {
  var dirs = options.directives;
  if (dirs) {
    for (var key in dirs) {
      var def$$1 = dirs[key];
      if (typeof def$$1 === 'function') {
        dirs[key] = { bind: def$$1, update: def$$1 };
      }
    }
  }
}

function assertObjectType (name, value, vm) {
  if (!isPlainObject(value)) {
    warn(
      "Invalid value for option \"" + name + "\": expected an Object, " +
      "but got " + (toRawType(value)) + ".",
      vm
    );
  }
}

/**
 * Merge two option objects into a new one.
 * Core utility used in both instantiation and inheritance.
 */
function mergeOptions (
  parent,
  child,
  vm
) {
  if (true) {
    checkComponents(child);
  }

  if (typeof child === 'function') {
    child = child.options;
  }

  normalizeProps(child, vm);
  normalizeInject(child, vm);
  normalizeDirectives(child);

  // Apply extends and mixins on the child options,
  // but only if it is a raw options object that isn't
  // the result of another mergeOptions call.
  // Only merged options has the _base property.
  if (!child._base) {
    if (child.extends) {
      parent = mergeOptions(parent, child.extends, vm);
    }
    if (child.mixins) {
      for (var i = 0, l = child.mixins.length; i < l; i++) {
        parent = mergeOptions(parent, child.mixins[i], vm);
      }
    }
  }

  var options = {};
  var key;
  for (key in parent) {
    mergeField(key);
  }
  for (key in child) {
    if (!hasOwn(parent, key)) {
      mergeField(key);
    }
  }
  function mergeField (key) {
    var strat = strats[key] || defaultStrat;
    options[key] = strat(parent[key], child[key], vm, key);
  }
  return options
}

/**
 * Resolve an asset.
 * This function is used because child instances need access
 * to assets defined in its ancestor chain.
 */
function resolveAsset (
  options,
  type,
  id,
  warnMissing
) {
  /* istanbul ignore if */
  if (typeof id !== 'string') {
    return
  }
  var assets = options[type];
  // check local registration variations first
  if (hasOwn(assets, id)) { return assets[id] }
  var camelizedId = camelize(id);
  if (hasOwn(assets, camelizedId)) { return assets[camelizedId] }
  var PascalCaseId = capitalize(camelizedId);
  if (hasOwn(assets, PascalCaseId)) { return assets[PascalCaseId] }
  // fallback to prototype chain
  var res = assets[id] || assets[camelizedId] || assets[PascalCaseId];
  if ( true && warnMissing && !res) {
    warn(
      'Failed to resolve ' + type.slice(0, -1) + ': ' + id,
      options
    );
  }
  return res
}

/*  */



function validateProp (
  key,
  propOptions,
  propsData,
  vm
) {
  var prop = propOptions[key];
  var absent = !hasOwn(propsData, key);
  var value = propsData[key];
  // boolean casting
  var booleanIndex = getTypeIndex(Boolean, prop.type);
  if (booleanIndex > -1) {
    if (absent && !hasOwn(prop, 'default')) {
      value = false;
    } else if (value === '' || value === hyphenate(key)) {
      // only cast empty string / same name to boolean if
      // boolean has higher priority
      var stringIndex = getTypeIndex(String, prop.type);
      if (stringIndex < 0 || booleanIndex < stringIndex) {
        value = true;
      }
    }
  }
  // check default value
  if (value === undefined) {
    value = getPropDefaultValue(vm, prop, key);
    // since the default value is a fresh copy,
    // make sure to observe it.
    var prevShouldObserve = shouldObserve;
    toggleObserving(true);
    observe(value);
    toggleObserving(prevShouldObserve);
  }
  if (
    true
  ) {
    assertProp(prop, key, value, vm, absent);
  }
  return value
}

/**
 * Get the default value of a prop.
 */
function getPropDefaultValue (vm, prop, key) {
  // no default, return undefined
  if (!hasOwn(prop, 'default')) {
    return undefined
  }
  var def = prop.default;
  // warn against non-factory defaults for Object & Array
  if ( true && isObject(def)) {
    warn(
      'Invalid default value for prop "' + key + '": ' +
      'Props with type Object/Array must use a factory function ' +
      'to return the default value.',
      vm
    );
  }
  // the raw prop value was also undefined from previous render,
  // return previous default value to avoid unnecessary watcher trigger
  if (vm && vm.$options.propsData &&
    vm.$options.propsData[key] === undefined &&
    vm._props[key] !== undefined
  ) {
    return vm._props[key]
  }
  // call factory function for non-Function types
  // a value is Function if its prototype is function even across different execution context
  return typeof def === 'function' && getType(prop.type) !== 'Function'
    ? def.call(vm)
    : def
}

/**
 * Assert whether a prop is valid.
 */
function assertProp (
  prop,
  name,
  value,
  vm,
  absent
) {
  if (prop.required && absent) {
    warn(
      'Missing required prop: "' + name + '"',
      vm
    );
    return
  }
  if (value == null && !prop.required) {
    return
  }
  var type = prop.type;
  var valid = !type || type === true;
  var expectedTypes = [];
  if (type) {
    if (!Array.isArray(type)) {
      type = [type];
    }
    for (var i = 0; i < type.length && !valid; i++) {
      var assertedType = assertType(value, type[i]);
      expectedTypes.push(assertedType.expectedType || '');
      valid = assertedType.valid;
    }
  }

  if (!valid) {
    warn(
      getInvalidTypeMessage(name, value, expectedTypes),
      vm
    );
    return
  }
  var validator = prop.validator;
  if (validator) {
    if (!validator(value)) {
      warn(
        'Invalid prop: custom validator check failed for prop "' + name + '".',
        vm
      );
    }
  }
}

var simpleCheckRE = /^(String|Number|Boolean|Function|Symbol)$/;

function assertType (value, type) {
  var valid;
  var expectedType = getType(type);
  if (simpleCheckRE.test(expectedType)) {
    var t = typeof value;
    valid = t === expectedType.toLowerCase();
    // for primitive wrapper objects
    if (!valid && t === 'object') {
      valid = value instanceof type;
    }
  } else if (expectedType === 'Object') {
    valid = isPlainObject(value);
  } else if (expectedType === 'Array') {
    valid = Array.isArray(value);
  } else {
    valid = value instanceof type;
  }
  return {
    valid: valid,
    expectedType: expectedType
  }
}

/**
 * Use function string name to check built-in types,
 * because a simple equality check will fail when running
 * across different vms / iframes.
 */
function getType (fn) {
  var match = fn && fn.toString().match(/^\s*function (\w+)/);
  return match ? match[1] : ''
}

function isSameType (a, b) {
  return getType(a) === getType(b)
}

function getTypeIndex (type, expectedTypes) {
  if (!Array.isArray(expectedTypes)) {
    return isSameType(expectedTypes, type) ? 0 : -1
  }
  for (var i = 0, len = expectedTypes.length; i < len; i++) {
    if (isSameType(expectedTypes[i], type)) {
      return i
    }
  }
  return -1
}

function getInvalidTypeMessage (name, value, expectedTypes) {
  var message = "Invalid prop: type check failed for prop \"" + name + "\"." +
    " Expected " + (expectedTypes.map(capitalize).join(', '));
  var expectedType = expectedTypes[0];
  var receivedType = toRawType(value);
  var expectedValue = styleValue(value, expectedType);
  var receivedValue = styleValue(value, receivedType);
  // check if we need to specify expected value
  if (expectedTypes.length === 1 &&
      isExplicable(expectedType) &&
      !isBoolean(expectedType, receivedType)) {
    message += " with value " + expectedValue;
  }
  message += ", got " + receivedType + " ";
  // check if we need to specify received value
  if (isExplicable(receivedType)) {
    message += "with value " + receivedValue + ".";
  }
  return message
}

function styleValue (value, type) {
  if (type === 'String') {
    return ("\"" + value + "\"")
  } else if (type === 'Number') {
    return ("" + (Number(value)))
  } else {
    return ("" + value)
  }
}

function isExplicable (value) {
  var explicitTypes = ['string', 'number', 'boolean'];
  return explicitTypes.some(function (elem) { return value.toLowerCase() === elem; })
}

function isBoolean () {
  var args = [], len = arguments.length;
  while ( len-- ) args[ len ] = arguments[ len ];

  return args.some(function (elem) { return elem.toLowerCase() === 'boolean'; })
}

/*  */

function handleError (err, vm, info) {
  // Deactivate deps tracking while processing error handler to avoid possible infinite rendering.
  // See: https://github.com/vuejs/vuex/issues/1505
  pushTarget();
  try {
    if (vm) {
      var cur = vm;
      while ((cur = cur.$parent)) {
        var hooks = cur.$options.errorCaptured;
        if (hooks) {
          for (var i = 0; i < hooks.length; i++) {
            try {
              var capture = hooks[i].call(cur, err, vm, info) === false;
              if (capture) { return }
            } catch (e) {
              globalHandleError(e, cur, 'errorCaptured hook');
            }
          }
        }
      }
    }
    globalHandleError(err, vm, info);
  } finally {
    popTarget();
  }
}

function invokeWithErrorHandling (
  handler,
  context,
  args,
  vm,
  info
) {
  var res;
  try {
    res = args ? handler.apply(context, args) : handler.call(context);
    if (res && !res._isVue && isPromise(res) && !res._handled) {
      res.catch(function (e) { return handleError(e, vm, info + " (Promise/async)"); });
      // issue #9511
      // avoid catch triggering multiple times when nested calls
      res._handled = true;
    }
  } catch (e) {
    handleError(e, vm, info);
  }
  return res
}

function globalHandleError (err, vm, info) {
  if (config.errorHandler) {
    try {
      return config.errorHandler.call(null, err, vm, info)
    } catch (e) {
      // if the user intentionally throws the original error in the handler,
      // do not log it twice
      if (e !== err) {
        logError(e, null, 'config.errorHandler');
      }
    }
  }
  logError(err, vm, info);
}

function logError (err, vm, info) {
  if (true) {
    warn(("Error in " + info + ": \"" + (err.toString()) + "\""), vm);
  }
  /* istanbul ignore else */
  if ((inBrowser || inWeex) && typeof console !== 'undefined') {
    console.error(err);
  } else {
    throw err
  }
}

/*  */

var callbacks = [];
var pending = false;

function flushCallbacks () {
  pending = false;
  var copies = callbacks.slice(0);
  callbacks.length = 0;
  for (var i = 0; i < copies.length; i++) {
    copies[i]();
  }
}

// Here we have async deferring wrappers using microtasks.
// In 2.5 we used (macro) tasks (in combination with microtasks).
// However, it has subtle problems when state is changed right before repaint
// (e.g. #6813, out-in transitions).
// Also, using (macro) tasks in event handler would cause some weird behaviors
// that cannot be circumvented (e.g. #7109, #7153, #7546, #7834, #8109).
// So we now use microtasks everywhere, again.
// A major drawback of this tradeoff is that there are some scenarios
// where microtasks have too high a priority and fire in between supposedly
// sequential events (e.g. #4521, #6690, which have workarounds)
// or even between bubbling of the same event (#6566).
var timerFunc;

// The nextTick behavior leverages the microtask queue, which can be accessed
// via either native Promise.then or MutationObserver.
// MutationObserver has wider support, however it is seriously bugged in
// UIWebView in iOS >= 9.3.3 when triggered in touch event handlers. It
// completely stops working after triggering a few times... so, if native
// Promise is available, we will use it:
/* istanbul ignore next, $flow-disable-line */
if (typeof Promise !== 'undefined' && isNative(Promise)) {
  var p = Promise.resolve();
  timerFunc = function () {
    p.then(flushCallbacks);
    // In problematic UIWebViews, Promise.then doesn't completely break, but
    // it can get stuck in a weird state where callbacks are pushed into the
    // microtask queue but the queue isn't being flushed, until the browser
    // needs to do some other work, e.g. handle a timer. Therefore we can
    // "force" the microtask queue to be flushed by adding an empty timer.
    if (isIOS) { setTimeout(noop); }
  };
} else if (!isIE && typeof MutationObserver !== 'undefined' && (
  isNative(MutationObserver) ||
  // PhantomJS and iOS 7.x
  MutationObserver.toString() === '[object MutationObserverConstructor]'
)) {
  // Use MutationObserver where native Promise is not available,
  // e.g. PhantomJS, iOS7, Android 4.4
  // (#6466 MutationObserver is unreliable in IE11)
  var counter = 1;
  var observer = new MutationObserver(flushCallbacks);
  var textNode = document.createTextNode(String(counter));
  observer.observe(textNode, {
    characterData: true
  });
  timerFunc = function () {
    counter = (counter + 1) % 2;
    textNode.data = String(counter);
  };
} else if (typeof setImmediate !== 'undefined' && isNative(setImmediate)) {
  // Fallback to setImmediate.
  // Technically it leverages the (macro) task queue,
  // but it is still a better choice than setTimeout.
  timerFunc = function () {
    setImmediate(flushCallbacks);
  };
} else {
  // Fallback to setTimeout.
  timerFunc = function () {
    setTimeout(flushCallbacks, 0);
  };
}

function nextTick (cb, ctx) {
  var _resolve;
  callbacks.push(function () {
    if (cb) {
      try {
        cb.call(ctx);
      } catch (e) {
        handleError(e, ctx, 'nextTick');
      }
    } else if (_resolve) {
      _resolve(ctx);
    }
  });
  if (!pending) {
    pending = true;
    timerFunc();
  }
  // $flow-disable-line
  if (!cb && typeof Promise !== 'undefined') {
    return new Promise(function (resolve) {
      _resolve = resolve;
    })
  }
}

/*  */

/* not type checking this file because flow doesn't play well with Proxy */

var initProxy;

if (true) {
  var allowedGlobals = makeMap(
    'Infinity,undefined,NaN,isFinite,isNaN,' +
    'parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,' +
    'Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,' +
    'require' // for Webpack/Browserify
  );

  var warnNonPresent = function (target, key) {
    warn(
      "Property or method \"" + key + "\" is not defined on the instance but " +
      'referenced during render. Make sure that this property is reactive, ' +
      'either in the data option, or for class-based components, by ' +
      'initializing the property. ' +
      'See: https://vuejs.org/v2/guide/reactivity.html#Declaring-Reactive-Properties.',
      target
    );
  };

  var warnReservedPrefix = function (target, key) {
    warn(
      "Property \"" + key + "\" must be accessed with \"$data." + key + "\" because " +
      'properties starting with "$" or "_" are not proxied in the Vue instance to ' +
      'prevent conflicts with Vue internals. ' +
      'See: https://vuejs.org/v2/api/#data',
      target
    );
  };

  var hasProxy =
    typeof Proxy !== 'undefined' && isNative(Proxy);

  if (hasProxy) {
    var isBuiltInModifier = makeMap('stop,prevent,self,ctrl,shift,alt,meta,exact');
    config.keyCodes = new Proxy(config.keyCodes, {
      set: function set (target, key, value) {
        if (isBuiltInModifier(key)) {
          warn(("Avoid overwriting built-in modifier in config.keyCodes: ." + key));
          return false
        } else {
          target[key] = value;
          return true
        }
      }
    });
  }

  var hasHandler = {
    has: function has (target, key) {
      var has = key in target;
      var isAllowed = allowedGlobals(key) ||
        (typeof key === 'string' && key.charAt(0) === '_' && !(key in target.$data));
      if (!has && !isAllowed) {
        if (key in target.$data) { warnReservedPrefix(target, key); }
        else { warnNonPresent(target, key); }
      }
      return has || !isAllowed
    }
  };

  var getHandler = {
    get: function get (target, key) {
      if (typeof key === 'string' && !(key in target)) {
        if (key in target.$data) { warnReservedPrefix(target, key); }
        else { warnNonPresent(target, key); }
      }
      return target[key]
    }
  };

  initProxy = function initProxy (vm) {
    if (hasProxy) {
      // determine which proxy handler to use
      var options = vm.$options;
      var handlers = options.render && options.render._withStripped
        ? getHandler
        : hasHandler;
      vm._renderProxy = new Proxy(vm, handlers);
    } else {
      vm._renderProxy = vm;
    }
  };
}

/*  */

var seenObjects = new _Set();

/**
 * Recursively traverse an object to evoke all converted
 * getters, so that every nested property inside the object
 * is collected as a "deep" dependency.
 */
function traverse (val) {
  _traverse(val, seenObjects);
  seenObjects.clear();
}

function _traverse (val, seen) {
  var i, keys;
  var isA = Array.isArray(val);
  if ((!isA && !isObject(val)) || Object.isFrozen(val) || val instanceof VNode) {
    return
  }
  if (val.__ob__) {
    var depId = val.__ob__.dep.id;
    if (seen.has(depId)) {
      return
    }
    seen.add(depId);
  }
  if (isA) {
    i = val.length;
    while (i--) { _traverse(val[i], seen); }
  } else {
    keys = Object.keys(val);
    i = keys.length;
    while (i--) { _traverse(val[keys[i]], seen); }
  }
}

var mark;
var measure;

if (true) {
  var perf = inBrowser && window.performance;
  /* istanbul ignore if */
  if (
    perf &&
    perf.mark &&
    perf.measure &&
    perf.clearMarks &&
    perf.clearMeasures
  ) {
    mark = function (tag) { return perf.mark(tag); };
    measure = function (name, startTag, endTag) {
      perf.measure(name, startTag, endTag);
      perf.clearMarks(startTag);
      perf.clearMarks(endTag);
      // perf.clearMeasures(name)
    };
  }
}

/*  */

var normalizeEvent = cached(function (name) {
  var passive = name.charAt(0) === '&';
  name = passive ? name.slice(1) : name;
  var once$$1 = name.charAt(0) === '~'; // Prefixed last, checked first
  name = once$$1 ? name.slice(1) : name;
  var capture = name.charAt(0) === '!';
  name = capture ? name.slice(1) : name;
  return {
    name: name,
    once: once$$1,
    capture: capture,
    passive: passive
  }
});

function createFnInvoker (fns, vm) {
  function invoker () {
    var arguments$1 = arguments;

    var fns = invoker.fns;
    if (Array.isArray(fns)) {
      var cloned = fns.slice();
      for (var i = 0; i < cloned.length; i++) {
        invokeWithErrorHandling(cloned[i], null, arguments$1, vm, "v-on handler");
      }
    } else {
      // return handler return value for single handlers
      return invokeWithErrorHandling(fns, null, arguments, vm, "v-on handler")
    }
  }
  invoker.fns = fns;
  return invoker
}

function updateListeners (
  on,
  oldOn,
  add,
  remove$$1,
  createOnceHandler,
  vm
) {
  var name, def$$1, cur, old, event;
  for (name in on) {
    def$$1 = cur = on[name];
    old = oldOn[name];
    event = normalizeEvent(name);
    if (isUndef(cur)) {
       true && warn(
        "Invalid handler for event \"" + (event.name) + "\": got " + String(cur),
        vm
      );
    } else if (isUndef(old)) {
      if (isUndef(cur.fns)) {
        cur = on[name] = createFnInvoker(cur, vm);
      }
      if (isTrue(event.once)) {
        cur = on[name] = createOnceHandler(event.name, cur, event.capture);
      }
      add(event.name, cur, event.capture, event.passive, event.params);
    } else if (cur !== old) {
      old.fns = cur;
      on[name] = old;
    }
  }
  for (name in oldOn) {
    if (isUndef(on[name])) {
      event = normalizeEvent(name);
      remove$$1(event.name, oldOn[name], event.capture);
    }
  }
}

/*  */

/*  */

// fixed by xxxxxx (mp properties)
function extractPropertiesFromVNodeData(data, Ctor, res, context) {
  var propOptions = Ctor.options.mpOptions && Ctor.options.mpOptions.properties;
  if (isUndef(propOptions)) {
    return res
  }
  var externalClasses = Ctor.options.mpOptions.externalClasses || [];
  var attrs = data.attrs;
  var props = data.props;
  if (isDef(attrs) || isDef(props)) {
    for (var key in propOptions) {
      var altKey = hyphenate(key);
      var result = checkProp(res, props, key, altKey, true) ||
          checkProp(res, attrs, key, altKey, false);
      // externalClass
      if (
        result &&
        res[key] &&
        externalClasses.indexOf(altKey) !== -1 &&
        context[camelize(res[key])]
      ) {
        // 赋值 externalClass 真正的值(模板里 externalClass 的值可能是字符串)
        res[key] = context[camelize(res[key])];
      }
    }
  }
  return res
}

function extractPropsFromVNodeData (
  data,
  Ctor,
  tag,
  context// fixed by xxxxxx
) {
  // we are only extracting raw values here.
  // validation and default values are handled in the child
  // component itself.
  var propOptions = Ctor.options.props;
  if (isUndef(propOptions)) {
    // fixed by xxxxxx
    return extractPropertiesFromVNodeData(data, Ctor, {}, context)
  }
  var res = {};
  var attrs = data.attrs;
  var props = data.props;
  if (isDef(attrs) || isDef(props)) {
    for (var key in propOptions) {
      var altKey = hyphenate(key);
      if (true) {
        var keyInLowerCase = key.toLowerCase();
        if (
          key !== keyInLowerCase &&
          attrs && hasOwn(attrs, keyInLowerCase)
        ) {
          tip(
            "Prop \"" + keyInLowerCase + "\" is passed to component " +
            (formatComponentName(tag || Ctor)) + ", but the declared prop name is" +
            " \"" + key + "\". " +
            "Note that HTML attributes are case-insensitive and camelCased " +
            "props need to use their kebab-case equivalents when using in-DOM " +
            "templates. You should probably use \"" + altKey + "\" instead of \"" + key + "\"."
          );
        }
      }
      checkProp(res, props, key, altKey, true) ||
      checkProp(res, attrs, key, altKey, false);
    }
  }
  // fixed by xxxxxx
  return extractPropertiesFromVNodeData(data, Ctor, res, context)
}

function checkProp (
  res,
  hash,
  key,
  altKey,
  preserve
) {
  if (isDef(hash)) {
    if (hasOwn(hash, key)) {
      res[key] = hash[key];
      if (!preserve) {
        delete hash[key];
      }
      return true
    } else if (hasOwn(hash, altKey)) {
      res[key] = hash[altKey];
      if (!preserve) {
        delete hash[altKey];
      }
      return true
    }
  }
  return false
}

/*  */

// The template compiler attempts to minimize the need for normalization by
// statically analyzing the template at compile time.
//
// For plain HTML markup, normalization can be completely skipped because the
// generated render function is guaranteed to return Array<VNode>. There are
// two cases where extra normalization is needed:

// 1. When the children contains components - because a functional component
// may return an Array instead of a single root. In this case, just a simple
// normalization is needed - if any child is an Array, we flatten the whole
// thing with Array.prototype.concat. It is guaranteed to be only 1-level deep
// because functional components already normalize their own children.
function simpleNormalizeChildren (children) {
  for (var i = 0; i < children.length; i++) {
    if (Array.isArray(children[i])) {
      return Array.prototype.concat.apply([], children)
    }
  }
  return children
}

// 2. When the children contains constructs that always generated nested Arrays,
// e.g. <template>, <slot>, v-for, or when the children is provided by user
// with hand-written render functions / JSX. In such cases a full normalization
// is needed to cater to all possible types of children values.
function normalizeChildren (children) {
  return isPrimitive(children)
    ? [createTextVNode(children)]
    : Array.isArray(children)
      ? normalizeArrayChildren(children)
      : undefined
}

function isTextNode (node) {
  return isDef(node) && isDef(node.text) && isFalse(node.isComment)
}

function normalizeArrayChildren (children, nestedIndex) {
  var res = [];
  var i, c, lastIndex, last;
  for (i = 0; i < children.length; i++) {
    c = children[i];
    if (isUndef(c) || typeof c === 'boolean') { continue }
    lastIndex = res.length - 1;
    last = res[lastIndex];
    //  nested
    if (Array.isArray(c)) {
      if (c.length > 0) {
        c = normalizeArrayChildren(c, ((nestedIndex || '') + "_" + i));
        // merge adjacent text nodes
        if (isTextNode(c[0]) && isTextNode(last)) {
          res[lastIndex] = createTextVNode(last.text + (c[0]).text);
          c.shift();
        }
        res.push.apply(res, c);
      }
    } else if (isPrimitive(c)) {
      if (isTextNode(last)) {
        // merge adjacent text nodes
        // this is necessary for SSR hydration because text nodes are
        // essentially merged when rendered to HTML strings
        res[lastIndex] = createTextVNode(last.text + c);
      } else if (c !== '') {
        // convert primitive to vnode
        res.push(createTextVNode(c));
      }
    } else {
      if (isTextNode(c) && isTextNode(last)) {
        // merge adjacent text nodes
        res[lastIndex] = createTextVNode(last.text + c.text);
      } else {
        // default key for nested array children (likely generated by v-for)
        if (isTrue(children._isVList) &&
          isDef(c.tag) &&
          isUndef(c.key) &&
          isDef(nestedIndex)) {
          c.key = "__vlist" + nestedIndex + "_" + i + "__";
        }
        res.push(c);
      }
    }
  }
  return res
}

/*  */

function initProvide (vm) {
  var provide = vm.$options.provide;
  if (provide) {
    vm._provided = typeof provide === 'function'
      ? provide.call(vm)
      : provide;
  }
}

function initInjections (vm) {
  var result = resolveInject(vm.$options.inject, vm);
  if (result) {
    toggleObserving(false);
    Object.keys(result).forEach(function (key) {
      /* istanbul ignore else */
      if (true) {
        defineReactive$$1(vm, key, result[key], function () {
          warn(
            "Avoid mutating an injected value directly since the changes will be " +
            "overwritten whenever the provided component re-renders. " +
            "injection being mutated: \"" + key + "\"",
            vm
          );
        });
      } else {}
    });
    toggleObserving(true);
  }
}

function resolveInject (inject, vm) {
  if (inject) {
    // inject is :any because flow is not smart enough to figure out cached
    var result = Object.create(null);
    var keys = hasSymbol
      ? Reflect.ownKeys(inject)
      : Object.keys(inject);

    for (var i = 0; i < keys.length; i++) {
      var key = keys[i];
      // #6574 in case the inject object is observed...
      if (key === '__ob__') { continue }
      var provideKey = inject[key].from;
      var source = vm;
      while (source) {
        if (source._provided && hasOwn(source._provided, provideKey)) {
          result[key] = source._provided[provideKey];
          break
        }
        source = source.$parent;
      }
      if (!source) {
        if ('default' in inject[key]) {
          var provideDefault = inject[key].default;
          result[key] = typeof provideDefault === 'function'
            ? provideDefault.call(vm)
            : provideDefault;
        } else if (true) {
          warn(("Injection \"" + key + "\" not found"), vm);
        }
      }
    }
    return result
  }
}

/*  */



/**
 * Runtime helper for resolving raw children VNodes into a slot object.
 */
function resolveSlots (
  children,
  context
) {
  if (!children || !children.length) {
    return {}
  }
  var slots = {};
  for (var i = 0, l = children.length; i < l; i++) {
    var child = children[i];
    var data = child.data;
    // remove slot attribute if the node is resolved as a Vue slot node
    if (data && data.attrs && data.attrs.slot) {
      delete data.attrs.slot;
    }
    // named slots should only be respected if the vnode was rendered in the
    // same context.
    if ((child.context === context || child.fnContext === context) &&
      data && data.slot != null
    ) {
      var name = data.slot;
      var slot = (slots[name] || (slots[name] = []));
      if (child.tag === 'template') {
        slot.push.apply(slot, child.children || []);
      } else {
        slot.push(child);
      }
    } else {
      // fixed by xxxxxx 临时 hack 掉 uni-app 中的异步 name slot page
      if(child.asyncMeta && child.asyncMeta.data && child.asyncMeta.data.slot === 'page'){
        (slots['page'] || (slots['page'] = [])).push(child);
      }else{
        (slots.default || (slots.default = [])).push(child);
      }
    }
  }
  // ignore slots that contains only whitespace
  for (var name$1 in slots) {
    if (slots[name$1].every(isWhitespace)) {
      delete slots[name$1];
    }
  }
  return slots
}

function isWhitespace (node) {
  return (node.isComment && !node.asyncFactory) || node.text === ' '
}

/*  */

function normalizeScopedSlots (
  slots,
  normalSlots,
  prevSlots
) {
  var res;
  var hasNormalSlots = Object.keys(normalSlots).length > 0;
  var isStable = slots ? !!slots.$stable : !hasNormalSlots;
  var key = slots && slots.$key;
  if (!slots) {
    res = {};
  } else if (slots._normalized) {
    // fast path 1: child component re-render only, parent did not change
    return slots._normalized
  } else if (
    isStable &&
    prevSlots &&
    prevSlots !== emptyObject &&
    key === prevSlots.$key &&
    !hasNormalSlots &&
    !prevSlots.$hasNormal
  ) {
    // fast path 2: stable scoped slots w/ no normal slots to proxy,
    // only need to normalize once
    return prevSlots
  } else {
    res = {};
    for (var key$1 in slots) {
      if (slots[key$1] && key$1[0] !== '$') {
        res[key$1] = normalizeScopedSlot(normalSlots, key$1, slots[key$1]);
      }
    }
  }
  // expose normal slots on scopedSlots
  for (var key$2 in normalSlots) {
    if (!(key$2 in res)) {
      res[key$2] = proxyNormalSlot(normalSlots, key$2);
    }
  }
  // avoriaz seems to mock a non-extensible $scopedSlots object
  // and when that is passed down this would cause an error
  if (slots && Object.isExtensible(slots)) {
    (slots)._normalized = res;
  }
  def(res, '$stable', isStable);
  def(res, '$key', key);
  def(res, '$hasNormal', hasNormalSlots);
  return res
}

function normalizeScopedSlot(normalSlots, key, fn) {
  var normalized = function () {
    var res = arguments.length ? fn.apply(null, arguments) : fn({});
    res = res && typeof res === 'object' && !Array.isArray(res)
      ? [res] // single vnode
      : normalizeChildren(res);
    return res && (
      res.length === 0 ||
      (res.length === 1 && res[0].isComment) // #9658
    ) ? undefined
      : res
  };
  // this is a slot using the new v-slot syntax without scope. although it is
  // compiled as a scoped slot, render fn users would expect it to be present
  // on this.$slots because the usage is semantically a normal slot.
  if (fn.proxy) {
    Object.defineProperty(normalSlots, key, {
      get: normalized,
      enumerable: true,
      configurable: true
    });
  }
  return normalized
}

function proxyNormalSlot(slots, key) {
  return function () { return slots[key]; }
}

/*  */

/**
 * Runtime helper for rendering v-for lists.
 */
function renderList (
  val,
  render
) {
  var ret, i, l, keys, key;
  if (Array.isArray(val) || typeof val === 'string') {
    ret = new Array(val.length);
    for (i = 0, l = val.length; i < l; i++) {
      ret[i] = render(val[i], i, i, i); // fixed by xxxxxx
    }
  } else if (typeof val === 'number') {
    ret = new Array(val);
    for (i = 0; i < val; i++) {
      ret[i] = render(i + 1, i, i, i); // fixed by xxxxxx
    }
  } else if (isObject(val)) {
    if (hasSymbol && val[Symbol.iterator]) {
      ret = [];
      var iterator = val[Symbol.iterator]();
      var result = iterator.next();
      while (!result.done) {
        ret.push(render(result.value, ret.length, i, i++)); // fixed by xxxxxx
        result = iterator.next();
      }
    } else {
      keys = Object.keys(val);
      ret = new Array(keys.length);
      for (i = 0, l = keys.length; i < l; i++) {
        key = keys[i];
        ret[i] = render(val[key], key, i, i); // fixed by xxxxxx
      }
    }
  }
  if (!isDef(ret)) {
    ret = [];
  }
  (ret)._isVList = true;
  return ret
}

/*  */

/**
 * Runtime helper for rendering <slot>
 */
function renderSlot (
  name,
  fallback,
  props,
  bindObject
) {
  var scopedSlotFn = this.$scopedSlots[name];
  var nodes;
  if (scopedSlotFn) { // scoped slot
    props = props || {};
    if (bindObject) {
      if ( true && !isObject(bindObject)) {
        warn(
          'slot v-bind without argument expects an Object',
          this
        );
      }
      props = extend(extend({}, bindObject), props);
    }
    // fixed by xxxxxx app-plus scopedSlot
    nodes = scopedSlotFn(props, this, props._i) || fallback;
  } else {
    nodes = this.$slots[name] || fallback;
  }

  var target = props && props.slot;
  if (target) {
    return this.$createElement('template', { slot: target }, nodes)
  } else {
    return nodes
  }
}

/*  */

/**
 * Runtime helper for resolving filters
 */
function resolveFilter (id) {
  return resolveAsset(this.$options, 'filters', id, true) || identity
}

/*  */

function isKeyNotMatch (expect, actual) {
  if (Array.isArray(expect)) {
    return expect.indexOf(actual) === -1
  } else {
    return expect !== actual
  }
}

/**
 * Runtime helper for checking keyCodes from config.
 * exposed as Vue.prototype._k
 * passing in eventKeyName as last argument separately for backwards compat
 */
function checkKeyCodes (
  eventKeyCode,
  key,
  builtInKeyCode,
  eventKeyName,
  builtInKeyName
) {
  var mappedKeyCode = config.keyCodes[key] || builtInKeyCode;
  if (builtInKeyName && eventKeyName && !config.keyCodes[key]) {
    return isKeyNotMatch(builtInKeyName, eventKeyName)
  } else if (mappedKeyCode) {
    return isKeyNotMatch(mappedKeyCode, eventKeyCode)
  } else if (eventKeyName) {
    return hyphenate(eventKeyName) !== key
  }
}

/*  */

/**
 * Runtime helper for merging v-bind="object" into a VNode's data.
 */
function bindObjectProps (
  data,
  tag,
  value,
  asProp,
  isSync
) {
  if (value) {
    if (!isObject(value)) {
       true && warn(
        'v-bind without argument expects an Object or Array value',
        this
      );
    } else {
      if (Array.isArray(value)) {
        value = toObject(value);
      }
      var hash;
      var loop = function ( key ) {
        if (
          key === 'class' ||
          key === 'style' ||
          isReservedAttribute(key)
        ) {
          hash = data;
        } else {
          var type = data.attrs && data.attrs.type;
          hash = asProp || config.mustUseProp(tag, type, key)
            ? data.domProps || (data.domProps = {})
            : data.attrs || (data.attrs = {});
        }
        var camelizedKey = camelize(key);
        var hyphenatedKey = hyphenate(key);
        if (!(camelizedKey in hash) && !(hyphenatedKey in hash)) {
          hash[key] = value[key];

          if (isSync) {
            var on = data.on || (data.on = {});
            on[("update:" + key)] = function ($event) {
              value[key] = $event;
            };
          }
        }
      };

      for (var key in value) loop( key );
    }
  }
  return data
}

/*  */

/**
 * Runtime helper for rendering static trees.
 */
function renderStatic (
  index,
  isInFor
) {
  var cached = this._staticTrees || (this._staticTrees = []);
  var tree = cached[index];
  // if has already-rendered static tree and not inside v-for,
  // we can reuse the same tree.
  if (tree && !isInFor) {
    return tree
  }
  // otherwise, render a fresh tree.
  tree = cached[index] = this.$options.staticRenderFns[index].call(
    this._renderProxy,
    null,
    this // for render fns generated for functional component templates
  );
  markStatic(tree, ("__static__" + index), false);
  return tree
}

/**
 * Runtime helper for v-once.
 * Effectively it means marking the node as static with a unique key.
 */
function markOnce (
  tree,
  index,
  key
) {
  markStatic(tree, ("__once__" + index + (key ? ("_" + key) : "")), true);
  return tree
}

function markStatic (
  tree,
  key,
  isOnce
) {
  if (Array.isArray(tree)) {
    for (var i = 0; i < tree.length; i++) {
      if (tree[i] && typeof tree[i] !== 'string') {
        markStaticNode(tree[i], (key + "_" + i), isOnce);
      }
    }
  } else {
    markStaticNode(tree, key, isOnce);
  }
}

function markStaticNode (node, key, isOnce) {
  node.isStatic = true;
  node.key = key;
  node.isOnce = isOnce;
}

/*  */

function bindObjectListeners (data, value) {
  if (value) {
    if (!isPlainObject(value)) {
       true && warn(
        'v-on without argument expects an Object value',
        this
      );
    } else {
      var on = data.on = data.on ? extend({}, data.on) : {};
      for (var key in value) {
        var existing = on[key];
        var ours = value[key];
        on[key] = existing ? [].concat(existing, ours) : ours;
      }
    }
  }
  return data
}

/*  */

function resolveScopedSlots (
  fns, // see flow/vnode
  res,
  // the following are added in 2.6
  hasDynamicKeys,
  contentHashKey
) {
  res = res || { $stable: !hasDynamicKeys };
  for (var i = 0; i < fns.length; i++) {
    var slot = fns[i];
    if (Array.isArray(slot)) {
      resolveScopedSlots(slot, res, hasDynamicKeys);
    } else if (slot) {
      // marker for reverse proxying v-slot without scope on this.$slots
      if (slot.proxy) {
        slot.fn.proxy = true;
      }
      res[slot.key] = slot.fn;
    }
  }
  if (contentHashKey) {
    (res).$key = contentHashKey;
  }
  return res
}

/*  */

function bindDynamicKeys (baseObj, values) {
  for (var i = 0; i < values.length; i += 2) {
    var key = values[i];
    if (typeof key === 'string' && key) {
      baseObj[values[i]] = values[i + 1];
    } else if ( true && key !== '' && key !== null) {
      // null is a special value for explicitly removing a binding
      warn(
        ("Invalid value for dynamic directive argument (expected string or null): " + key),
        this
      );
    }
  }
  return baseObj
}

// helper to dynamically append modifier runtime markers to event names.
// ensure only append when value is already string, otherwise it will be cast
// to string and cause the type check to miss.
function prependModifier (value, symbol) {
  return typeof value === 'string' ? symbol + value : value
}

/*  */

function installRenderHelpers (target) {
  target._o = markOnce;
  target._n = toNumber;
  target._s = toString;
  target._l = renderList;
  target._t = renderSlot;
  target._q = looseEqual;
  target._i = looseIndexOf;
  target._m = renderStatic;
  target._f = resolveFilter;
  target._k = checkKeyCodes;
  target._b = bindObjectProps;
  target._v = createTextVNode;
  target._e = createEmptyVNode;
  target._u = resolveScopedSlots;
  target._g = bindObjectListeners;
  target._d = bindDynamicKeys;
  target._p = prependModifier;
}

/*  */

function FunctionalRenderContext (
  data,
  props,
  children,
  parent,
  Ctor
) {
  var this$1 = this;

  var options = Ctor.options;
  // ensure the createElement function in functional components
  // gets a unique context - this is necessary for correct named slot check
  var contextVm;
  if (hasOwn(parent, '_uid')) {
    contextVm = Object.create(parent);
    // $flow-disable-line
    contextVm._original = parent;
  } else {
    // the context vm passed in is a functional context as well.
    // in this case we want to make sure we are able to get a hold to the
    // real context instance.
    contextVm = parent;
    // $flow-disable-line
    parent = parent._original;
  }
  var isCompiled = isTrue(options._compiled);
  var needNormalization = !isCompiled;

  this.data = data;
  this.props = props;
  this.children = children;
  this.parent = parent;
  this.listeners = data.on || emptyObject;
  this.injections = resolveInject(options.inject, parent);
  this.slots = function () {
    if (!this$1.$slots) {
      normalizeScopedSlots(
        data.scopedSlots,
        this$1.$slots = resolveSlots(children, parent)
      );
    }
    return this$1.$slots
  };

  Object.defineProperty(this, 'scopedSlots', ({
    enumerable: true,
    get: function get () {
      return normalizeScopedSlots(data.scopedSlots, this.slots())
    }
  }));

  // support for compiled functional template
  if (isCompiled) {
    // exposing $options for renderStatic()
    this.$options = options;
    // pre-resolve slots for renderSlot()
    this.$slots = this.slots();
    this.$scopedSlots = normalizeScopedSlots(data.scopedSlots, this.$slots);
  }

  if (options._scopeId) {
    this._c = function (a, b, c, d) {
      var vnode = createElement(contextVm, a, b, c, d, needNormalization);
      if (vnode && !Array.isArray(vnode)) {
        vnode.fnScopeId = options._scopeId;
        vnode.fnContext = parent;
      }
      return vnode
    };
  } else {
    this._c = function (a, b, c, d) { return createElement(contextVm, a, b, c, d, needNormalization); };
  }
}

installRenderHelpers(FunctionalRenderContext.prototype);

function createFunctionalComponent (
  Ctor,
  propsData,
  data,
  contextVm,
  children
) {
  var options = Ctor.options;
  var props = {};
  var propOptions = options.props;
  if (isDef(propOptions)) {
    for (var key in propOptions) {
      props[key] = validateProp(key, propOptions, propsData || emptyObject);
    }
  } else {
    if (isDef(data.attrs)) { mergeProps(props, data.attrs); }
    if (isDef(data.props)) { mergeProps(props, data.props); }
  }

  var renderContext = new FunctionalRenderContext(
    data,
    props,
    children,
    contextVm,
    Ctor
  );

  var vnode = options.render.call(null, renderContext._c, renderContext);

  if (vnode instanceof VNode) {
    return cloneAndMarkFunctionalResult(vnode, data, renderContext.parent, options, renderContext)
  } else if (Array.isArray(vnode)) {
    var vnodes = normalizeChildren(vnode) || [];
    var res = new Array(vnodes.length);
    for (var i = 0; i < vnodes.length; i++) {
      res[i] = cloneAndMarkFunctionalResult(vnodes[i], data, renderContext.parent, options, renderContext);
    }
    return res
  }
}

function cloneAndMarkFunctionalResult (vnode, data, contextVm, options, renderContext) {
  // #7817 clone node before setting fnContext, otherwise if the node is reused
  // (e.g. it was from a cached normal slot) the fnContext causes named slots
  // that should not be matched to match.
  var clone = cloneVNode(vnode);
  clone.fnContext = contextVm;
  clone.fnOptions = options;
  if (true) {
    (clone.devtoolsMeta = clone.devtoolsMeta || {}).renderContext = renderContext;
  }
  if (data.slot) {
    (clone.data || (clone.data = {})).slot = data.slot;
  }
  return clone
}

function mergeProps (to, from) {
  for (var key in from) {
    to[camelize(key)] = from[key];
  }
}

/*  */

/*  */

/*  */

/*  */

// inline hooks to be invoked on component VNodes during patch
var componentVNodeHooks = {
  init: function init (vnode, hydrating) {
    if (
      vnode.componentInstance &&
      !vnode.componentInstance._isDestroyed &&
      vnode.data.keepAlive
    ) {
      // kept-alive components, treat as a patch
      var mountedNode = vnode; // work around flow
      componentVNodeHooks.prepatch(mountedNode, mountedNode);
    } else {
      var child = vnode.componentInstance = createComponentInstanceForVnode(
        vnode,
        activeInstance
      );
      child.$mount(hydrating ? vnode.elm : undefined, hydrating);
    }
  },

  prepatch: function prepatch (oldVnode, vnode) {
    var options = vnode.componentOptions;
    var child = vnode.componentInstance = oldVnode.componentInstance;
    updateChildComponent(
      child,
      options.propsData, // updated props
      options.listeners, // updated listeners
      vnode, // new parent vnode
      options.children // new children
    );
  },

  insert: function insert (vnode) {
    var context = vnode.context;
    var componentInstance = vnode.componentInstance;
    if (!componentInstance._isMounted) {
      callHook(componentInstance, 'onServiceCreated');
      callHook(componentInstance, 'onServiceAttached');
      componentInstance._isMounted = true;
      callHook(componentInstance, 'mounted');
    }
    if (vnode.data.keepAlive) {
      if (context._isMounted) {
        // vue-router#1212
        // During updates, a kept-alive component's child components may
        // change, so directly walking the tree here may call activated hooks
        // on incorrect children. Instead we push them into a queue which will
        // be processed after the whole patch process ended.
        queueActivatedComponent(componentInstance);
      } else {
        activateChildComponent(componentInstance, true /* direct */);
      }
    }
  },

  destroy: function destroy (vnode) {
    var componentInstance = vnode.componentInstance;
    if (!componentInstance._isDestroyed) {
      if (!vnode.data.keepAlive) {
        componentInstance.$destroy();
      } else {
        deactivateChildComponent(componentInstance, true /* direct */);
      }
    }
  }
};

var hooksToMerge = Object.keys(componentVNodeHooks);

function createComponent (
  Ctor,
  data,
  context,
  children,
  tag
) {
  if (isUndef(Ctor)) {
    return
  }

  var baseCtor = context.$options._base;

  // plain options object: turn it into a constructor
  if (isObject(Ctor)) {
    Ctor = baseCtor.extend(Ctor);
  }

  // if at this stage it's not a constructor or an async component factory,
  // reject.
  if (typeof Ctor !== 'function') {
    if (true) {
      warn(("Invalid Component definition: " + (String(Ctor))), context);
    }
    return
  }

  // async component
  var asyncFactory;
  if (isUndef(Ctor.cid)) {
    asyncFactory = Ctor;
    Ctor = resolveAsyncComponent(asyncFactory, baseCtor);
    if (Ctor === undefined) {
      // return a placeholder node for async component, which is rendered
      // as a comment node but preserves all the raw information for the node.
      // the information will be used for async server-rendering and hydration.
      return createAsyncPlaceholder(
        asyncFactory,
        data,
        context,
        children,
        tag
      )
    }
  }

  data = data || {};

  // resolve constructor options in case global mixins are applied after
  // component constructor creation
  resolveConstructorOptions(Ctor);

  // transform component v-model data into props & events
  if (isDef(data.model)) {
    transformModel(Ctor.options, data);
  }

  // extract props
  var propsData = extractPropsFromVNodeData(data, Ctor, tag, context); // fixed by xxxxxx

  // functional component
  if (isTrue(Ctor.options.functional)) {
    return createFunctionalComponent(Ctor, propsData, data, context, children)
  }

  // extract listeners, since these needs to be treated as
  // child component listeners instead of DOM listeners
  var listeners = data.on;
  // replace with listeners with .native modifier
  // so it gets processed during parent component patch.
  data.on = data.nativeOn;

  if (isTrue(Ctor.options.abstract)) {
    // abstract components do not keep anything
    // other than props & listeners & slot

    // work around flow
    var slot = data.slot;
    data = {};
    if (slot) {
      data.slot = slot;
    }
  }

  // install component management hooks onto the placeholder node
  installComponentHooks(data);

  // return a placeholder vnode
  var name = Ctor.options.name || tag;
  var vnode = new VNode(
    ("vue-component-" + (Ctor.cid) + (name ? ("-" + name) : '')),
    data, undefined, undefined, undefined, context,
    { Ctor: Ctor, propsData: propsData, listeners: listeners, tag: tag, children: children },
    asyncFactory
  );

  return vnode
}

function createComponentInstanceForVnode (
  vnode, // we know it's MountedComponentVNode but flow doesn't
  parent // activeInstance in lifecycle state
) {
  var options = {
    _isComponent: true,
    _parentVnode: vnode,
    parent: parent
  };
  // check inline-template render functions
  var inlineTemplate = vnode.data.inlineTemplate;
  if (isDef(inlineTemplate)) {
    options.render = inlineTemplate.render;
    options.staticRenderFns = inlineTemplate.staticRenderFns;
  }
  return new vnode.componentOptions.Ctor(options)
}

function installComponentHooks (data) {
  var hooks = data.hook || (data.hook = {});
  for (var i = 0; i < hooksToMerge.length; i++) {
    var key = hooksToMerge[i];
    var existing = hooks[key];
    var toMerge = componentVNodeHooks[key];
    if (existing !== toMerge && !(existing && existing._merged)) {
      hooks[key] = existing ? mergeHook$1(toMerge, existing) : toMerge;
    }
  }
}

function mergeHook$1 (f1, f2) {
  var merged = function (a, b) {
    // flow complains about extra args which is why we use any
    f1(a, b);
    f2(a, b);
  };
  merged._merged = true;
  return merged
}

// transform component v-model info (value and callback) into
// prop and event handler respectively.
function transformModel (options, data) {
  var prop = (options.model && options.model.prop) || 'value';
  var event = (options.model && options.model.event) || 'input'
  ;(data.attrs || (data.attrs = {}))[prop] = data.model.value;
  var on = data.on || (data.on = {});
  var existing = on[event];
  var callback = data.model.callback;
  if (isDef(existing)) {
    if (
      Array.isArray(existing)
        ? existing.indexOf(callback) === -1
        : existing !== callback
    ) {
      on[event] = [callback].concat(existing);
    }
  } else {
    on[event] = callback;
  }
}

/*  */

var SIMPLE_NORMALIZE = 1;
var ALWAYS_NORMALIZE = 2;

// wrapper function for providing a more flexible interface
// without getting yelled at by flow
function createElement (
  context,
  tag,
  data,
  children,
  normalizationType,
  alwaysNormalize
) {
  if (Array.isArray(data) || isPrimitive(data)) {
    normalizationType = children;
    children = data;
    data = undefined;
  }
  if (isTrue(alwaysNormalize)) {
    normalizationType = ALWAYS_NORMALIZE;
  }
  return _createElement(context, tag, data, children, normalizationType)
}

function _createElement (
  context,
  tag,
  data,
  children,
  normalizationType
) {
  if (isDef(data) && isDef((data).__ob__)) {
     true && warn(
      "Avoid using observed data object as vnode data: " + (JSON.stringify(data)) + "\n" +
      'Always create fresh vnode data objects in each render!',
      context
    );
    return createEmptyVNode()
  }
  // object syntax in v-bind
  if (isDef(data) && isDef(data.is)) {
    tag = data.is;
  }
  if (!tag) {
    // in case of component :is set to falsy value
    return createEmptyVNode()
  }
  // warn against non-primitive key
  if ( true &&
    isDef(data) && isDef(data.key) && !isPrimitive(data.key)
  ) {
    {
      warn(
        'Avoid using non-primitive value as key, ' +
        'use string/number value instead.',
        context
      );
    }
  }
  // support single function children as default scoped slot
  if (Array.isArray(children) &&
    typeof children[0] === 'function'
  ) {
    data = data || {};
    data.scopedSlots = { default: children[0] };
    children.length = 0;
  }
  if (normalizationType === ALWAYS_NORMALIZE) {
    children = normalizeChildren(children);
  } else if (normalizationType === SIMPLE_NORMALIZE) {
    children = simpleNormalizeChildren(children);
  }
  var vnode, ns;
  if (typeof tag === 'string') {
    var Ctor;
    ns = (context.$vnode && context.$vnode.ns) || config.getTagNamespace(tag);
    if (config.isReservedTag(tag)) {
      // platform built-in elements
      if ( true && isDef(data) && isDef(data.nativeOn)) {
        warn(
          ("The .native modifier for v-on is only valid on components but it was used on <" + tag + ">."),
          context
        );
      }
      vnode = new VNode(
        config.parsePlatformTagName(tag), data, children,
        undefined, undefined, context
      );
    } else if ((!data || !data.pre) && isDef(Ctor = resolveAsset(context.$options, 'components', tag))) {
      // component
      vnode = createComponent(Ctor, data, context, children, tag);
    } else {
      // unknown or unlisted namespaced elements
      // check at runtime because it may get assigned a namespace when its
      // parent normalizes children
      vnode = new VNode(
        tag, data, children,
        undefined, undefined, context
      );
    }
  } else {
    // direct component options / constructor
    vnode = createComponent(tag, data, context, children);
  }
  if (Array.isArray(vnode)) {
    return vnode
  } else if (isDef(vnode)) {
    if (isDef(ns)) { applyNS(vnode, ns); }
    if (isDef(data)) { registerDeepBindings(data); }
    return vnode
  } else {
    return createEmptyVNode()
  }
}

function applyNS (vnode, ns, force) {
  vnode.ns = ns;
  if (vnode.tag === 'foreignObject') {
    // use default namespace inside foreignObject
    ns = undefined;
    force = true;
  }
  if (isDef(vnode.children)) {
    for (var i = 0, l = vnode.children.length; i < l; i++) {
      var child = vnode.children[i];
      if (isDef(child.tag) && (
        isUndef(child.ns) || (isTrue(force) && child.tag !== 'svg'))) {
        applyNS(child, ns, force);
      }
    }
  }
}

// ref #5318
// necessary to ensure parent re-render when deep bindings like :style and
// :class are used on slot nodes
function registerDeepBindings (data) {
  if (isObject(data.style)) {
    traverse(data.style);
  }
  if (isObject(data.class)) {
    traverse(data.class);
  }
}

/*  */

function initRender (vm) {
  vm._vnode = null; // the root of the child tree
  vm._staticTrees = null; // v-once cached trees
  var options = vm.$options;
  var parentVnode = vm.$vnode = options._parentVnode; // the placeholder node in parent tree
  var renderContext = parentVnode && parentVnode.context;
  vm.$slots = resolveSlots(options._renderChildren, renderContext);
  vm.$scopedSlots = emptyObject;
  // bind the createElement fn to this instance
  // so that we get proper render context inside it.
  // args order: tag, data, children, normalizationType, alwaysNormalize
  // internal version is used by render functions compiled from templates
  vm._c = function (a, b, c, d) { return createElement(vm, a, b, c, d, false); };
  // normalization is always applied for the public version, used in
  // user-written render functions.
  vm.$createElement = function (a, b, c, d) { return createElement(vm, a, b, c, d, true); };

  // $attrs & $listeners are exposed for easier HOC creation.
  // they need to be reactive so that HOCs using them are always updated
  var parentData = parentVnode && parentVnode.data;

  /* istanbul ignore else */
  if (true) {
    defineReactive$$1(vm, '$attrs', parentData && parentData.attrs || emptyObject, function () {
      !isUpdatingChildComponent && warn("$attrs is readonly.", vm);
    }, true);
    defineReactive$$1(vm, '$listeners', options._parentListeners || emptyObject, function () {
      !isUpdatingChildComponent && warn("$listeners is readonly.", vm);
    }, true);
  } else {}
}

var currentRenderingInstance = null;

function renderMixin (Vue) {
  // install runtime convenience helpers
  installRenderHelpers(Vue.prototype);

  Vue.prototype.$nextTick = function (fn) {
    return nextTick(fn, this)
  };

  Vue.prototype._render = function () {
    var vm = this;
    var ref = vm.$options;
    var render = ref.render;
    var _parentVnode = ref._parentVnode;

    if (_parentVnode) {
      vm.$scopedSlots = normalizeScopedSlots(
        _parentVnode.data.scopedSlots,
        vm.$slots,
        vm.$scopedSlots
      );
    }

    // set parent vnode. this allows render functions to have access
    // to the data on the placeholder node.
    vm.$vnode = _parentVnode;
    // render self
    var vnode;
    try {
      // There's no need to maintain a stack because all render fns are called
      // separately from one another. Nested component's render fns are called
      // when parent component is patched.
      currentRenderingInstance = vm;
      vnode = render.call(vm._renderProxy, vm.$createElement);
    } catch (e) {
      handleError(e, vm, "render");
      // return error render result,
      // or previous vnode to prevent render error causing blank component
      /* istanbul ignore else */
      if ( true && vm.$options.renderError) {
        try {
          vnode = vm.$options.renderError.call(vm._renderProxy, vm.$createElement, e);
        } catch (e) {
          handleError(e, vm, "renderError");
          vnode = vm._vnode;
        }
      } else {
        vnode = vm._vnode;
      }
    } finally {
      currentRenderingInstance = null;
    }
    // if the returned array contains only a single node, allow it
    if (Array.isArray(vnode) && vnode.length === 1) {
      vnode = vnode[0];
    }
    // return empty vnode in case the render function errored out
    if (!(vnode instanceof VNode)) {
      if ( true && Array.isArray(vnode)) {
        warn(
          'Multiple root nodes returned from render function. Render function ' +
          'should return a single root node.',
          vm
        );
      }
      vnode = createEmptyVNode();
    }
    // set parent
    vnode.parent = _parentVnode;
    return vnode
  };
}

/*  */

function ensureCtor (comp, base) {
  if (
    comp.__esModule ||
    (hasSymbol && comp[Symbol.toStringTag] === 'Module')
  ) {
    comp = comp.default;
  }
  return isObject(comp)
    ? base.extend(comp)
    : comp
}

function createAsyncPlaceholder (
  factory,
  data,
  context,
  children,
  tag
) {
  var node = createEmptyVNode();
  node.asyncFactory = factory;
  node.asyncMeta = { data: data, context: context, children: children, tag: tag };
  return node
}

function resolveAsyncComponent (
  factory,
  baseCtor
) {
  if (isTrue(factory.error) && isDef(factory.errorComp)) {
    return factory.errorComp
  }

  if (isDef(factory.resolved)) {
    return factory.resolved
  }

  var owner = currentRenderingInstance;
  if (owner && isDef(factory.owners) && factory.owners.indexOf(owner) === -1) {
    // already pending
    factory.owners.push(owner);
  }

  if (isTrue(factory.loading) && isDef(factory.loadingComp)) {
    return factory.loadingComp
  }

  if (owner && !isDef(factory.owners)) {
    var owners = factory.owners = [owner];
    var sync = true;
    var timerLoading = null;
    var timerTimeout = null

    ;(owner).$on('hook:destroyed', function () { return remove(owners, owner); });

    var forceRender = function (renderCompleted) {
      for (var i = 0, l = owners.length; i < l; i++) {
        (owners[i]).$forceUpdate();
      }

      if (renderCompleted) {
        owners.length = 0;
        if (timerLoading !== null) {
          clearTimeout(timerLoading);
          timerLoading = null;
        }
        if (timerTimeout !== null) {
          clearTimeout(timerTimeout);
          timerTimeout = null;
        }
      }
    };

    var resolve = once(function (res) {
      // cache resolved
      factory.resolved = ensureCtor(res, baseCtor);
      // invoke callbacks only if this is not a synchronous resolve
      // (async resolves are shimmed as synchronous during SSR)
      if (!sync) {
        forceRender(true);
      } else {
        owners.length = 0;
      }
    });

    var reject = once(function (reason) {
       true && warn(
        "Failed to resolve async component: " + (String(factory)) +
        (reason ? ("\nReason: " + reason) : '')
      );
      if (isDef(factory.errorComp)) {
        factory.error = true;
        forceRender(true);
      }
    });

    var res = factory(resolve, reject);

    if (isObject(res)) {
      if (isPromise(res)) {
        // () => Promise
        if (isUndef(factory.resolved)) {
          res.then(resolve, reject);
        }
      } else if (isPromise(res.component)) {
        res.component.then(resolve, reject);

        if (isDef(res.error)) {
          factory.errorComp = ensureCtor(res.error, baseCtor);
        }

        if (isDef(res.loading)) {
          factory.loadingComp = ensureCtor(res.loading, baseCtor);
          if (res.delay === 0) {
            factory.loading = true;
          } else {
            timerLoading = setTimeout(function () {
              timerLoading = null;
              if (isUndef(factory.resolved) && isUndef(factory.error)) {
                factory.loading = true;
                forceRender(false);
              }
            }, res.delay || 200);
          }
        }

        if (isDef(res.timeout)) {
          timerTimeout = setTimeout(function () {
            timerTimeout = null;
            if (isUndef(factory.resolved)) {
              reject(
                 true
                  ? ("timeout (" + (res.timeout) + "ms)")
                  : undefined
              );
            }
          }, res.timeout);
        }
      }
    }

    sync = false;
    // return in case resolved synchronously
    return factory.loading
      ? factory.loadingComp
      : factory.resolved
  }
}

/*  */

function isAsyncPlaceholder (node) {
  return node.isComment && node.asyncFactory
}

/*  */

function getFirstComponentChild (children) {
  if (Array.isArray(children)) {
    for (var i = 0; i < children.length; i++) {
      var c = children[i];
      if (isDef(c) && (isDef(c.componentOptions) || isAsyncPlaceholder(c))) {
        return c
      }
    }
  }
}

/*  */

/*  */

function initEvents (vm) {
  vm._events = Object.create(null);
  vm._hasHookEvent = false;
  // init parent attached events
  var listeners = vm.$options._parentListeners;
  if (listeners) {
    updateComponentListeners(vm, listeners);
  }
}

var target;

function add (event, fn) {
  target.$on(event, fn);
}

function remove$1 (event, fn) {
  target.$off(event, fn);
}

function createOnceHandler (event, fn) {
  var _target = target;
  return function onceHandler () {
    var res = fn.apply(null, arguments);
    if (res !== null) {
      _target.$off(event, onceHandler);
    }
  }
}

function updateComponentListeners (
  vm,
  listeners,
  oldListeners
) {
  target = vm;
  updateListeners(listeners, oldListeners || {}, add, remove$1, createOnceHandler, vm);
  target = undefined;
}

function eventsMixin (Vue) {
  var hookRE = /^hook:/;
  Vue.prototype.$on = function (event, fn) {
    var vm = this;
    if (Array.isArray(event)) {
      for (var i = 0, l = event.length; i < l; i++) {
        vm.$on(event[i], fn);
      }
    } else {
      (vm._events[event] || (vm._events[event] = [])).push(fn);
      // optimize hook:event cost by using a boolean flag marked at registration
      // instead of a hash lookup
      if (hookRE.test(event)) {
        vm._hasHookEvent = true;
      }
    }
    return vm
  };

  Vue.prototype.$once = function (event, fn) {
    var vm = this;
    function on () {
      vm.$off(event, on);
      fn.apply(vm, arguments);
    }
    on.fn = fn;
    vm.$on(event, on);
    return vm
  };

  Vue.prototype.$off = function (event, fn) {
    var vm = this;
    // all
    if (!arguments.length) {
      vm._events = Object.create(null);
      return vm
    }
    // array of events
    if (Array.isArray(event)) {
      for (var i$1 = 0, l = event.length; i$1 < l; i$1++) {
        vm.$off(event[i$1], fn);
      }
      return vm
    }
    // specific event
    var cbs = vm._events[event];
    if (!cbs) {
      return vm
    }
    if (!fn) {
      vm._events[event] = null;
      return vm
    }
    // specific handler
    var cb;
    var i = cbs.length;
    while (i--) {
      cb = cbs[i];
      if (cb === fn || cb.fn === fn) {
        cbs.splice(i, 1);
        break
      }
    }
    return vm
  };

  Vue.prototype.$emit = function (event) {
    var vm = this;
    if (true) {
      var lowerCaseEvent = event.toLowerCase();
      if (lowerCaseEvent !== event && vm._events[lowerCaseEvent]) {
        tip(
          "Event \"" + lowerCaseEvent + "\" is emitted in component " +
          (formatComponentName(vm)) + " but the handler is registered for \"" + event + "\". " +
          "Note that HTML attributes are case-insensitive and you cannot use " +
          "v-on to listen to camelCase events when using in-DOM templates. " +
          "You should probably use \"" + (hyphenate(event)) + "\" instead of \"" + event + "\"."
        );
      }
    }
    var cbs = vm._events[event];
    if (cbs) {
      cbs = cbs.length > 1 ? toArray(cbs) : cbs;
      var args = toArray(arguments, 1);
      var info = "event handler for \"" + event + "\"";
      for (var i = 0, l = cbs.length; i < l; i++) {
        invokeWithErrorHandling(cbs[i], vm, args, vm, info);
      }
    }
    return vm
  };
}

/*  */

var activeInstance = null;
var isUpdatingChildComponent = false;

function setActiveInstance(vm) {
  var prevActiveInstance = activeInstance;
  activeInstance = vm;
  return function () {
    activeInstance = prevActiveInstance;
  }
}

function initLifecycle (vm) {
  var options = vm.$options;

  // locate first non-abstract parent
  var parent = options.parent;
  if (parent && !options.abstract) {
    while (parent.$options.abstract && parent.$parent) {
      parent = parent.$parent;
    }
    parent.$children.push(vm);
  }

  vm.$parent = parent;
  vm.$root = parent ? parent.$root : vm;

  vm.$children = [];
  vm.$refs = {};

  vm._watcher = null;
  vm._inactive = null;
  vm._directInactive = false;
  vm._isMounted = false;
  vm._isDestroyed = false;
  vm._isBeingDestroyed = false;
}

function lifecycleMixin (Vue) {
  Vue.prototype._update = function (vnode, hydrating) {
    var vm = this;
    var prevEl = vm.$el;
    var prevVnode = vm._vnode;
    var restoreActiveInstance = setActiveInstance(vm);
    vm._vnode = vnode;
    // Vue.prototype.__patch__ is injected in entry points
    // based on the rendering backend used.
    if (!prevVnode) {
      // initial render
      vm.$el = vm.__patch__(vm.$el, vnode, hydrating, false /* removeOnly */);
    } else {
      // updates
      vm.$el = vm.__patch__(prevVnode, vnode);
    }
    restoreActiveInstance();
    // update __vue__ reference
    if (prevEl) {
      prevEl.__vue__ = null;
    }
    if (vm.$el) {
      vm.$el.__vue__ = vm;
    }
    // if parent is an HOC, update its $el as well
    if (vm.$vnode && vm.$parent && vm.$vnode === vm.$parent._vnode) {
      vm.$parent.$el = vm.$el;
    }
    // updated hook is called by the scheduler to ensure that children are
    // updated in a parent's updated hook.
  };

  Vue.prototype.$forceUpdate = function () {
    var vm = this;
    if (vm._watcher) {
      vm._watcher.update();
    }
  };

  Vue.prototype.$destroy = function () {
    var vm = this;
    if (vm._isBeingDestroyed) {
      return
    }
    callHook(vm, 'beforeDestroy');
    vm._isBeingDestroyed = true;
    // remove self from parent
    var parent = vm.$parent;
    if (parent && !parent._isBeingDestroyed && !vm.$options.abstract) {
      remove(parent.$children, vm);
    }
    // teardown watchers
    if (vm._watcher) {
      vm._watcher.teardown();
    }
    var i = vm._watchers.length;
    while (i--) {
      vm._watchers[i].teardown();
    }
    // remove reference from data ob
    // frozen object may not have observer.
    if (vm._data.__ob__) {
      vm._data.__ob__.vmCount--;
    }
    // call the last hook...
    vm._isDestroyed = true;
    // invoke destroy hooks on current rendered tree
    vm.__patch__(vm._vnode, null);
    // fire destroyed hook
    callHook(vm, 'destroyed');
    // turn off all instance listeners.
    vm.$off();
    // remove __vue__ reference
    if (vm.$el) {
      vm.$el.__vue__ = null;
    }
    // release circular reference (#6759)
    if (vm.$vnode) {
      vm.$vnode.parent = null;
    }
  };
}

function updateChildComponent (
  vm,
  propsData,
  listeners,
  parentVnode,
  renderChildren
) {
  if (true) {
    isUpdatingChildComponent = true;
  }

  // determine whether component has slot children
  // we need to do this before overwriting $options._renderChildren.

  // check if there are dynamic scopedSlots (hand-written or compiled but with
  // dynamic slot names). Static scoped slots compiled from template has the
  // "$stable" marker.
  var newScopedSlots = parentVnode.data.scopedSlots;
  var oldScopedSlots = vm.$scopedSlots;
  var hasDynamicScopedSlot = !!(
    (newScopedSlots && !newScopedSlots.$stable) ||
    (oldScopedSlots !== emptyObject && !oldScopedSlots.$stable) ||
    (newScopedSlots && vm.$scopedSlots.$key !== newScopedSlots.$key)
  );

  // Any static slot children from the parent may have changed during parent's
  // update. Dynamic scoped slots may also have changed. In such cases, a forced
  // update is necessary to ensure correctness.
  var needsForceUpdate = !!(
    renderChildren ||               // has new static slots
    vm.$options._renderChildren ||  // has old static slots
    hasDynamicScopedSlot
  );

  vm.$options._parentVnode = parentVnode;
  vm.$vnode = parentVnode; // update vm's placeholder node without re-render

  if (vm._vnode) { // update child tree's parent
    vm._vnode.parent = parentVnode;
  }
  vm.$options._renderChildren = renderChildren;

  // update $attrs and $listeners hash
  // these are also reactive so they may trigger child update if the child
  // used them during render
  vm.$attrs = parentVnode.data.attrs || emptyObject;
  vm.$listeners = listeners || emptyObject;

  // update props
  if (propsData && vm.$options.props) {
    toggleObserving(false);
    var props = vm._props;
    var propKeys = vm.$options._propKeys || [];
    for (var i = 0; i < propKeys.length; i++) {
      var key = propKeys[i];
      var propOptions = vm.$options.props; // wtf flow?
      props[key] = validateProp(key, propOptions, propsData, vm);
    }
    toggleObserving(true);
    // keep a copy of raw propsData
    vm.$options.propsData = propsData;
  }
  
  // fixed by xxxxxx update properties(mp runtime)
  vm._$updateProperties && vm._$updateProperties(vm);
  
  // update listeners
  listeners = listeners || emptyObject;
  var oldListeners = vm.$options._parentListeners;
  vm.$options._parentListeners = listeners;
  updateComponentListeners(vm, listeners, oldListeners);

  // resolve slots + force update if has children
  if (needsForceUpdate) {
    vm.$slots = resolveSlots(renderChildren, parentVnode.context);
    vm.$forceUpdate();
  }

  if (true) {
    isUpdatingChildComponent = false;
  }
}

function isInInactiveTree (vm) {
  while (vm && (vm = vm.$parent)) {
    if (vm._inactive) { return true }
  }
  return false
}

function activateChildComponent (vm, direct) {
  if (direct) {
    vm._directInactive = false;
    if (isInInactiveTree(vm)) {
      return
    }
  } else if (vm._directInactive) {
    return
  }
  if (vm._inactive || vm._inactive === null) {
    vm._inactive = false;
    for (var i = 0; i < vm.$children.length; i++) {
      activateChildComponent(vm.$children[i]);
    }
    callHook(vm, 'activated');
  }
}

function deactivateChildComponent (vm, direct) {
  if (direct) {
    vm._directInactive = true;
    if (isInInactiveTree(vm)) {
      return
    }
  }
  if (!vm._inactive) {
    vm._inactive = true;
    for (var i = 0; i < vm.$children.length; i++) {
      deactivateChildComponent(vm.$children[i]);
    }
    callHook(vm, 'deactivated');
  }
}

function callHook (vm, hook) {
  // #7573 disable dep collection when invoking lifecycle hooks
  pushTarget();
  var handlers = vm.$options[hook];
  var info = hook + " hook";
  if (handlers) {
    for (var i = 0, j = handlers.length; i < j; i++) {
      invokeWithErrorHandling(handlers[i], vm, null, vm, info);
    }
  }
  if (vm._hasHookEvent) {
    vm.$emit('hook:' + hook);
  }
  popTarget();
}

/*  */

var MAX_UPDATE_COUNT = 100;

var queue = [];
var activatedChildren = [];
var has = {};
var circular = {};
var waiting = false;
var flushing = false;
var index = 0;

/**
 * Reset the scheduler's state.
 */
function resetSchedulerState () {
  index = queue.length = activatedChildren.length = 0;
  has = {};
  if (true) {
    circular = {};
  }
  waiting = flushing = false;
}

// Async edge case #6566 requires saving the timestamp when event listeners are
// attached. However, calling performance.now() has a perf overhead especially
// if the page has thousands of event listeners. Instead, we take a timestamp
// every time the scheduler flushes and use that for all event listeners
// attached during that flush.
var currentFlushTimestamp = 0;

// Async edge case fix requires storing an event listener's attach timestamp.
var getNow = Date.now;

// Determine what event timestamp the browser is using. Annoyingly, the
// timestamp can either be hi-res (relative to page load) or low-res
// (relative to UNIX epoch), so in order to compare time we have to use the
// same timestamp type when saving the flush timestamp.
// All IE versions use low-res event timestamps, and have problematic clock
// implementations (#9632)
if (inBrowser && !isIE) {
  var performance = window.performance;
  if (
    performance &&
    typeof performance.now === 'function' &&
    getNow() > document.createEvent('Event').timeStamp
  ) {
    // if the event timestamp, although evaluated AFTER the Date.now(), is
    // smaller than it, it means the event is using a hi-res timestamp,
    // and we need to use the hi-res version for event listener timestamps as
    // well.
    getNow = function () { return performance.now(); };
  }
}

/**
 * Flush both queues and run the watchers.
 */
function flushSchedulerQueue () {
  currentFlushTimestamp = getNow();
  flushing = true;
  var watcher, id;

  // Sort queue before flush.
  // This ensures that:
  // 1. Components are updated from parent to child. (because parent is always
  //    created before the child)
  // 2. A component's user watchers are run before its render watcher (because
  //    user watchers are created before the render watcher)
  // 3. If a component is destroyed during a parent component's watcher run,
  //    its watchers can be skipped.
  queue.sort(function (a, b) { return a.id - b.id; });

  // do not cache length because more watchers might be pushed
  // as we run existing watchers
  for (index = 0; index < queue.length; index++) {
    watcher = queue[index];
    if (watcher.before) {
      watcher.before();
    }
    id = watcher.id;
    has[id] = null;
    watcher.run();
    // in dev build, check and stop circular updates.
    if ( true && has[id] != null) {
      circular[id] = (circular[id] || 0) + 1;
      if (circular[id] > MAX_UPDATE_COUNT) {
        warn(
          'You may have an infinite update loop ' + (
            watcher.user
              ? ("in watcher with expression \"" + (watcher.expression) + "\"")
              : "in a component render function."
          ),
          watcher.vm
        );
        break
      }
    }
  }

  // keep copies of post queues before resetting state
  var activatedQueue = activatedChildren.slice();
  var updatedQueue = queue.slice();

  resetSchedulerState();

  // call component updated and activated hooks
  callActivatedHooks(activatedQueue);
  callUpdatedHooks(updatedQueue);

  // devtool hook
  /* istanbul ignore if */
  if (devtools && config.devtools) {
    devtools.emit('flush');
  }
}

function callUpdatedHooks (queue) {
  var i = queue.length;
  while (i--) {
    var watcher = queue[i];
    var vm = watcher.vm;
    if (vm._watcher === watcher && vm._isMounted && !vm._isDestroyed) {
      callHook(vm, 'updated');
    }
  }
}

/**
 * Queue a kept-alive component that was activated during patch.
 * The queue will be processed after the entire tree has been patched.
 */
function queueActivatedComponent (vm) {
  // setting _inactive to false here so that a render function can
  // rely on checking whether it's in an inactive tree (e.g. router-view)
  vm._inactive = false;
  activatedChildren.push(vm);
}

function callActivatedHooks (queue) {
  for (var i = 0; i < queue.length; i++) {
    queue[i]._inactive = true;
    activateChildComponent(queue[i], true /* true */);
  }
}

/**
 * Push a watcher into the watcher queue.
 * Jobs with duplicate IDs will be skipped unless it's
 * pushed when the queue is being flushed.
 */
function queueWatcher (watcher) {
  var id = watcher.id;
  if (has[id] == null) {
    has[id] = true;
    if (!flushing) {
      queue.push(watcher);
    } else {
      // if already flushing, splice the watcher based on its id
      // if already past its id, it will be run next immediately.
      var i = queue.length - 1;
      while (i > index && queue[i].id > watcher.id) {
        i--;
      }
      queue.splice(i + 1, 0, watcher);
    }
    // queue the flush
    if (!waiting) {
      waiting = true;

      if ( true && !config.async) {
        flushSchedulerQueue();
        return
      }
      nextTick(flushSchedulerQueue);
    }
  }
}

/*  */



var uid$2 = 0;

/**
 * A watcher parses an expression, collects dependencies,
 * and fires callback when the expression value changes.
 * This is used for both the $watch() api and directives.
 */
var Watcher = function Watcher (
  vm,
  expOrFn,
  cb,
  options,
  isRenderWatcher
) {
  this.vm = vm;
  if (isRenderWatcher) {
    vm._watcher = this;
  }
  vm._watchers.push(this);
  // options
  if (options) {
    this.deep = !!options.deep;
    this.user = !!options.user;
    this.lazy = !!options.lazy;
    this.sync = !!options.sync;
    this.before = options.before;
  } else {
    this.deep = this.user = this.lazy = this.sync = false;
  }
  this.cb = cb;
  this.id = ++uid$2; // uid for batching
  this.active = true;
  this.dirty = this.lazy; // for lazy watchers
  this.deps = [];
  this.newDeps = [];
  this.depIds = new _Set();
  this.newDepIds = new _Set();
  this.expression =  true
    ? expOrFn.toString()
    : undefined;
  // parse expression for getter
  if (typeof expOrFn === 'function') {
    this.getter = expOrFn;
  } else {
    this.getter = parsePath(expOrFn);
    if (!this.getter) {
      this.getter = noop;
       true && warn(
        "Failed watching path: \"" + expOrFn + "\" " +
        'Watcher only accepts simple dot-delimited paths. ' +
        'For full control, use a function instead.',
        vm
      );
    }
  }
  this.value = this.lazy
    ? undefined
    : this.get();
};

/**
 * Evaluate the getter, and re-collect dependencies.
 */
Watcher.prototype.get = function get () {
  pushTarget(this);
  var value;
  var vm = this.vm;
  try {
    value = this.getter.call(vm, vm);
  } catch (e) {
    if (this.user) {
      handleError(e, vm, ("getter for watcher \"" + (this.expression) + "\""));
    } else {
      throw e
    }
  } finally {
    // "touch" every property so they are all tracked as
    // dependencies for deep watching
    if (this.deep) {
      traverse(value);
    }
    popTarget();
    this.cleanupDeps();
  }
  return value
};

/**
 * Add a dependency to this directive.
 */
Watcher.prototype.addDep = function addDep (dep) {
  var id = dep.id;
  if (!this.newDepIds.has(id)) {
    this.newDepIds.add(id);
    this.newDeps.push(dep);
    if (!this.depIds.has(id)) {
      dep.addSub(this);
    }
  }
};

/**
 * Clean up for dependency collection.
 */
Watcher.prototype.cleanupDeps = function cleanupDeps () {
  var i = this.deps.length;
  while (i--) {
    var dep = this.deps[i];
    if (!this.newDepIds.has(dep.id)) {
      dep.removeSub(this);
    }
  }
  var tmp = this.depIds;
  this.depIds = this.newDepIds;
  this.newDepIds = tmp;
  this.newDepIds.clear();
  tmp = this.deps;
  this.deps = this.newDeps;
  this.newDeps = tmp;
  this.newDeps.length = 0;
};

/**
 * Subscriber interface.
 * Will be called when a dependency changes.
 */
Watcher.prototype.update = function update () {
  /* istanbul ignore else */
  if (this.lazy) {
    this.dirty = true;
  } else if (this.sync) {
    this.run();
  } else {
    queueWatcher(this);
  }
};

/**
 * Scheduler job interface.
 * Will be called by the scheduler.
 */
Watcher.prototype.run = function run () {
  if (this.active) {
    var value = this.get();
    if (
      value !== this.value ||
      // Deep watchers and watchers on Object/Arrays should fire even
      // when the value is the same, because the value may
      // have mutated.
      isObject(value) ||
      this.deep
    ) {
      // set new value
      var oldValue = this.value;
      this.value = value;
      if (this.user) {
        try {
          this.cb.call(this.vm, value, oldValue);
        } catch (e) {
          handleError(e, this.vm, ("callback for watcher \"" + (this.expression) + "\""));
        }
      } else {
        this.cb.call(this.vm, value, oldValue);
      }
    }
  }
};

/**
 * Evaluate the value of the watcher.
 * This only gets called for lazy watchers.
 */
Watcher.prototype.evaluate = function evaluate () {
  this.value = this.get();
  this.dirty = false;
};

/**
 * Depend on all deps collected by this watcher.
 */
Watcher.prototype.depend = function depend () {
  var i = this.deps.length;
  while (i--) {
    this.deps[i].depend();
  }
};

/**
 * Remove self from all dependencies' subscriber list.
 */
Watcher.prototype.teardown = function teardown () {
  if (this.active) {
    // remove self from vm's watcher list
    // this is a somewhat expensive operation so we skip it
    // if the vm is being destroyed.
    if (!this.vm._isBeingDestroyed) {
      remove(this.vm._watchers, this);
    }
    var i = this.deps.length;
    while (i--) {
      this.deps[i].removeSub(this);
    }
    this.active = false;
  }
};

/*  */

var sharedPropertyDefinition = {
  enumerable: true,
  configurable: true,
  get: noop,
  set: noop
};

function proxy (target, sourceKey, key) {
  sharedPropertyDefinition.get = function proxyGetter () {
    return this[sourceKey][key]
  };
  sharedPropertyDefinition.set = function proxySetter (val) {
    this[sourceKey][key] = val;
  };
  Object.defineProperty(target, key, sharedPropertyDefinition);
}

function initState (vm) {
  vm._watchers = [];
  var opts = vm.$options;
  if (opts.props) { initProps(vm, opts.props); }
  if (opts.methods) { initMethods(vm, opts.methods); }
  if (opts.data) {
    initData(vm);
  } else {
    observe(vm._data = {}, true /* asRootData */);
  }
  if (opts.computed) { initComputed(vm, opts.computed); }
  if (opts.watch && opts.watch !== nativeWatch) {
    initWatch(vm, opts.watch);
  }
}

function initProps (vm, propsOptions) {
  var propsData = vm.$options.propsData || {};
  var props = vm._props = {};
  // cache prop keys so that future props updates can iterate using Array
  // instead of dynamic object key enumeration.
  var keys = vm.$options._propKeys = [];
  var isRoot = !vm.$parent;
  // root instance props should be converted
  if (!isRoot) {
    toggleObserving(false);
  }
  var loop = function ( key ) {
    keys.push(key);
    var value = validateProp(key, propsOptions, propsData, vm);
    /* istanbul ignore else */
    if (true) {
      var hyphenatedKey = hyphenate(key);
      if (isReservedAttribute(hyphenatedKey) ||
          config.isReservedAttr(hyphenatedKey)) {
        warn(
          ("\"" + hyphenatedKey + "\" is a reserved attribute and cannot be used as component prop."),
          vm
        );
      }
      defineReactive$$1(props, key, value, function () {
        if (!isRoot && !isUpdatingChildComponent) {
          {
            if(vm.mpHost === 'mp-baidu' || vm.mpHost === 'mp-kuaishou' || vm.mpHost === 'mp-xhs'){//百度、快手、小红书 observer 在 setData callback 之后触发，直接忽略该 warn
                return
            }
            //fixed by xxxxxx __next_tick_pending,uni://form-field 时不告警
            if(
                key === 'value' && 
                Array.isArray(vm.$options.behaviors) &&
                vm.$options.behaviors.indexOf('uni://form-field') !== -1
              ){
              return
            }
            if(vm._getFormData){
              return
            }
            var $parent = vm.$parent;
            while($parent){
              if($parent.__next_tick_pending){
                return  
              }
              $parent = $parent.$parent;
            }
          }
          warn(
            "Avoid mutating a prop directly since the value will be " +
            "overwritten whenever the parent component re-renders. " +
            "Instead, use a data or computed property based on the prop's " +
            "value. Prop being mutated: \"" + key + "\"",
            vm
          );
        }
      });
    } else {}
    // static props are already proxied on the component's prototype
    // during Vue.extend(). We only need to proxy props defined at
    // instantiation here.
    if (!(key in vm)) {
      proxy(vm, "_props", key);
    }
  };

  for (var key in propsOptions) loop( key );
  toggleObserving(true);
}

function initData (vm) {
  var data = vm.$options.data;
  data = vm._data = typeof data === 'function'
    ? getData(data, vm)
    : data || {};
  if (!isPlainObject(data)) {
    data = {};
     true && warn(
      'data functions should return an object:\n' +
      'https://vuejs.org/v2/guide/components.html#data-Must-Be-a-Function',
      vm
    );
  }
  // proxy data on instance
  var keys = Object.keys(data);
  var props = vm.$options.props;
  var methods = vm.$options.methods;
  var i = keys.length;
  while (i--) {
    var key = keys[i];
    if (true) {
      if (methods && hasOwn(methods, key)) {
        warn(
          ("Method \"" + key + "\" has already been defined as a data property."),
          vm
        );
      }
    }
    if (props && hasOwn(props, key)) {
       true && warn(
        "The data property \"" + key + "\" is already declared as a prop. " +
        "Use prop default value instead.",
        vm
      );
    } else if (!isReserved(key)) {
      proxy(vm, "_data", key);
    }
  }
  // observe data
  observe(data, true /* asRootData */);
}

function getData (data, vm) {
  // #7573 disable dep collection when invoking data getters
  pushTarget();
  try {
    return data.call(vm, vm)
  } catch (e) {
    handleError(e, vm, "data()");
    return {}
  } finally {
    popTarget();
  }
}

var computedWatcherOptions = { lazy: true };

function initComputed (vm, computed) {
  // $flow-disable-line
  var watchers = vm._computedWatchers = Object.create(null);
  // computed properties are just getters during SSR
  var isSSR = isServerRendering();

  for (var key in computed) {
    var userDef = computed[key];
    var getter = typeof userDef === 'function' ? userDef : userDef.get;
    if ( true && getter == null) {
      warn(
        ("Getter is missing for computed property \"" + key + "\"."),
        vm
      );
    }

    if (!isSSR) {
      // create internal watcher for the computed property.
      watchers[key] = new Watcher(
        vm,
        getter || noop,
        noop,
        computedWatcherOptions
      );
    }

    // component-defined computed properties are already defined on the
    // component prototype. We only need to define computed properties defined
    // at instantiation here.
    if (!(key in vm)) {
      defineComputed(vm, key, userDef);
    } else if (true) {
      if (key in vm.$data) {
        warn(("The computed property \"" + key + "\" is already defined in data."), vm);
      } else if (vm.$options.props && key in vm.$options.props) {
        warn(("The computed property \"" + key + "\" is already defined as a prop."), vm);
      }
    }
  }
}

function defineComputed (
  target,
  key,
  userDef
) {
  var shouldCache = !isServerRendering();
  if (typeof userDef === 'function') {
    sharedPropertyDefinition.get = shouldCache
      ? createComputedGetter(key)
      : createGetterInvoker(userDef);
    sharedPropertyDefinition.set = noop;
  } else {
    sharedPropertyDefinition.get = userDef.get
      ? shouldCache && userDef.cache !== false
        ? createComputedGetter(key)
        : createGetterInvoker(userDef.get)
      : noop;
    sharedPropertyDefinition.set = userDef.set || noop;
  }
  if ( true &&
      sharedPropertyDefinition.set === noop) {
    sharedPropertyDefinition.set = function () {
      warn(
        ("Computed property \"" + key + "\" was assigned to but it has no setter."),
        this
      );
    };
  }
  Object.defineProperty(target, key, sharedPropertyDefinition);
}

function createComputedGetter (key) {
  return function computedGetter () {
    var watcher = this._computedWatchers && this._computedWatchers[key];
    if (watcher) {
      if (watcher.dirty) {
        watcher.evaluate();
      }
      if (Dep.SharedObject.target) {// fixed by xxxxxx
        watcher.depend();
      }
      return watcher.value
    }
  }
}

function createGetterInvoker(fn) {
  return function computedGetter () {
    return fn.call(this, this)
  }
}

function initMethods (vm, methods) {
  var props = vm.$options.props;
  for (var key in methods) {
    if (true) {
      if (typeof methods[key] !== 'function') {
        warn(
          "Method \"" + key + "\" has type \"" + (typeof methods[key]) + "\" in the component definition. " +
          "Did you reference the function correctly?",
          vm
        );
      }
      if (props && hasOwn(props, key)) {
        warn(
          ("Method \"" + key + "\" has already been defined as a prop."),
          vm
        );
      }
      if ((key in vm) && isReserved(key)) {
        warn(
          "Method \"" + key + "\" conflicts with an existing Vue instance method. " +
          "Avoid defining component methods that start with _ or $."
        );
      }
    }
    vm[key] = typeof methods[key] !== 'function' ? noop : bind(methods[key], vm);
  }
}

function initWatch (vm, watch) {
  for (var key in watch) {
    var handler = watch[key];
    if (Array.isArray(handler)) {
      for (var i = 0; i < handler.length; i++) {
        createWatcher(vm, key, handler[i]);
      }
    } else {
      createWatcher(vm, key, handler);
    }
  }
}

function createWatcher (
  vm,
  expOrFn,
  handler,
  options
) {
  if (isPlainObject(handler)) {
    options = handler;
    handler = handler.handler;
  }
  if (typeof handler === 'string') {
    handler = vm[handler];
  }
  return vm.$watch(expOrFn, handler, options)
}

function stateMixin (Vue) {
  // flow somehow has problems with directly declared definition object
  // when using Object.defineProperty, so we have to procedurally build up
  // the object here.
  var dataDef = {};
  dataDef.get = function () { return this._data };
  var propsDef = {};
  propsDef.get = function () { return this._props };
  if (true) {
    dataDef.set = function () {
      warn(
        'Avoid replacing instance root $data. ' +
        'Use nested data properties instead.',
        this
      );
    };
    propsDef.set = function () {
      warn("$props is readonly.", this);
    };
  }
  Object.defineProperty(Vue.prototype, '$data', dataDef);
  Object.defineProperty(Vue.prototype, '$props', propsDef);

  Vue.prototype.$set = set;
  Vue.prototype.$delete = del;

  Vue.prototype.$watch = function (
    expOrFn,
    cb,
    options
  ) {
    var vm = this;
    if (isPlainObject(cb)) {
      return createWatcher(vm, expOrFn, cb, options)
    }
    options = options || {};
    options.user = true;
    var watcher = new Watcher(vm, expOrFn, cb, options);
    if (options.immediate) {
      try {
        cb.call(vm, watcher.value);
      } catch (error) {
        handleError(error, vm, ("callback for immediate watcher \"" + (watcher.expression) + "\""));
      }
    }
    return function unwatchFn () {
      watcher.teardown();
    }
  };
}

/*  */

var uid$3 = 0;

function initMixin (Vue) {
  Vue.prototype._init = function (options) {
    var vm = this;
    // a uid
    vm._uid = uid$3++;

    var startTag, endTag;
    /* istanbul ignore if */
    if ( true && config.performance && mark) {
      startTag = "vue-perf-start:" + (vm._uid);
      endTag = "vue-perf-end:" + (vm._uid);
      mark(startTag);
    }

    // a flag to avoid this being observed
    vm._isVue = true;
    // merge options
    if (options && options._isComponent) {
      // optimize internal component instantiation
      // since dynamic options merging is pretty slow, and none of the
      // internal component options needs special treatment.
      initInternalComponent(vm, options);
    } else {
      vm.$options = mergeOptions(
        resolveConstructorOptions(vm.constructor),
        options || {},
        vm
      );
    }
    /* istanbul ignore else */
    if (true) {
      initProxy(vm);
    } else {}
    // expose real self
    vm._self = vm;
    initLifecycle(vm);
    initEvents(vm);
    initRender(vm);
    callHook(vm, 'beforeCreate');
    !vm._$fallback && initInjections(vm); // resolve injections before data/props  
    initState(vm);
    !vm._$fallback && initProvide(vm); // resolve provide after data/props
    !vm._$fallback && callHook(vm, 'created');      

    /* istanbul ignore if */
    if ( true && config.performance && mark) {
      vm._name = formatComponentName(vm, false);
      mark(endTag);
      measure(("vue " + (vm._name) + " init"), startTag, endTag);
    }

    if (vm.$options.el) {
      vm.$mount(vm.$options.el);
    }
  };
}

function initInternalComponent (vm, options) {
  var opts = vm.$options = Object.create(vm.constructor.options);
  // doing this because it's faster than dynamic enumeration.
  var parentVnode = options._parentVnode;
  opts.parent = options.parent;
  opts._parentVnode = parentVnode;

  var vnodeComponentOptions = parentVnode.componentOptions;
  opts.propsData = vnodeComponentOptions.propsData;
  opts._parentListeners = vnodeComponentOptions.listeners;
  opts._renderChildren = vnodeComponentOptions.children;
  opts._componentTag = vnodeComponentOptions.tag;

  if (options.render) {
    opts.render = options.render;
    opts.staticRenderFns = options.staticRenderFns;
  }
}

function resolveConstructorOptions (Ctor) {
  var options = Ctor.options;
  if (Ctor.super) {
    var superOptions = resolveConstructorOptions(Ctor.super);
    var cachedSuperOptions = Ctor.superOptions;
    if (superOptions !== cachedSuperOptions) {
      // super option changed,
      // need to resolve new options.
      Ctor.superOptions = superOptions;
      // check if there are any late-modified/attached options (#4976)
      var modifiedOptions = resolveModifiedOptions(Ctor);
      // update base extend options
      if (modifiedOptions) {
        extend(Ctor.extendOptions, modifiedOptions);
      }
      options = Ctor.options = mergeOptions(superOptions, Ctor.extendOptions);
      if (options.name) {
        options.components[options.name] = Ctor;
      }
    }
  }
  return options
}

function resolveModifiedOptions (Ctor) {
  var modified;
  var latest = Ctor.options;
  var sealed = Ctor.sealedOptions;
  for (var key in latest) {
    if (latest[key] !== sealed[key]) {
      if (!modified) { modified = {}; }
      modified[key] = latest[key];
    }
  }
  return modified
}

function Vue (options) {
  if ( true &&
    !(this instanceof Vue)
  ) {
    warn('Vue is a constructor and should be called with the `new` keyword');
  }
  this._init(options);
}

initMixin(Vue);
stateMixin(Vue);
eventsMixin(Vue);
lifecycleMixin(Vue);
renderMixin(Vue);

/*  */

function initUse (Vue) {
  Vue.use = function (plugin) {
    var installedPlugins = (this._installedPlugins || (this._installedPlugins = []));
    if (installedPlugins.indexOf(plugin) > -1) {
      return this
    }

    // additional parameters
    var args = toArray(arguments, 1);
    args.unshift(this);
    if (typeof plugin.install === 'function') {
      plugin.install.apply(plugin, args);
    } else if (typeof plugin === 'function') {
      plugin.apply(null, args);
    }
    installedPlugins.push(plugin);
    return this
  };
}

/*  */

function initMixin$1 (Vue) {
  Vue.mixin = function (mixin) {
    this.options = mergeOptions(this.options, mixin);
    return this
  };
}

/*  */

function initExtend (Vue) {
  /**
   * Each instance constructor, including Vue, has a unique
   * cid. This enables us to create wrapped "child
   * constructors" for prototypal inheritance and cache them.
   */
  Vue.cid = 0;
  var cid = 1;

  /**
   * Class inheritance
   */
  Vue.extend = function (extendOptions) {
    extendOptions = extendOptions || {};
    var Super = this;
    var SuperId = Super.cid;
    var cachedCtors = extendOptions._Ctor || (extendOptions._Ctor = {});
    if (cachedCtors[SuperId]) {
      return cachedCtors[SuperId]
    }

    var name = extendOptions.name || Super.options.name;
    if ( true && name) {
      validateComponentName(name);
    }

    var Sub = function VueComponent (options) {
      this._init(options);
    };
    Sub.prototype = Object.create(Super.prototype);
    Sub.prototype.constructor = Sub;
    Sub.cid = cid++;
    Sub.options = mergeOptions(
      Super.options,
      extendOptions
    );
    Sub['super'] = Super;

    // For props and computed properties, we define the proxy getters on
    // the Vue instances at extension time, on the extended prototype. This
    // avoids Object.defineProperty calls for each instance created.
    if (Sub.options.props) {
      initProps$1(Sub);
    }
    if (Sub.options.computed) {
      initComputed$1(Sub);
    }

    // allow further extension/mixin/plugin usage
    Sub.extend = Super.extend;
    Sub.mixin = Super.mixin;
    Sub.use = Super.use;

    // create asset registers, so extended classes
    // can have their private assets too.
    ASSET_TYPES.forEach(function (type) {
      Sub[type] = Super[type];
    });
    // enable recursive self-lookup
    if (name) {
      Sub.options.components[name] = Sub;
    }

    // keep a reference to the super options at extension time.
    // later at instantiation we can check if Super's options have
    // been updated.
    Sub.superOptions = Super.options;
    Sub.extendOptions = extendOptions;
    Sub.sealedOptions = extend({}, Sub.options);

    // cache constructor
    cachedCtors[SuperId] = Sub;
    return Sub
  };
}

function initProps$1 (Comp) {
  var props = Comp.options.props;
  for (var key in props) {
    proxy(Comp.prototype, "_props", key);
  }
}

function initComputed$1 (Comp) {
  var computed = Comp.options.computed;
  for (var key in computed) {
    defineComputed(Comp.prototype, key, computed[key]);
  }
}

/*  */

function initAssetRegisters (Vue) {
  /**
   * Create asset registration methods.
   */
  ASSET_TYPES.forEach(function (type) {
    Vue[type] = function (
      id,
      definition
    ) {
      if (!definition) {
        return this.options[type + 's'][id]
      } else {
        /* istanbul ignore if */
        if ( true && type === 'component') {
          validateComponentName(id);
        }
        if (type === 'component' && isPlainObject(definition)) {
          definition.name = definition.name || id;
          definition = this.options._base.extend(definition);
        }
        if (type === 'directive' && typeof definition === 'function') {
          definition = { bind: definition, update: definition };
        }
        this.options[type + 's'][id] = definition;
        return definition
      }
    };
  });
}

/*  */



function getComponentName (opts) {
  return opts && (opts.Ctor.options.name || opts.tag)
}

function matches (pattern, name) {
  if (Array.isArray(pattern)) {
    return pattern.indexOf(name) > -1
  } else if (typeof pattern === 'string') {
    return pattern.split(',').indexOf(name) > -1
  } else if (isRegExp(pattern)) {
    return pattern.test(name)
  }
  /* istanbul ignore next */
  return false
}

function pruneCache (keepAliveInstance, filter) {
  var cache = keepAliveInstance.cache;
  var keys = keepAliveInstance.keys;
  var _vnode = keepAliveInstance._vnode;
  for (var key in cache) {
    var cachedNode = cache[key];
    if (cachedNode) {
      var name = getComponentName(cachedNode.componentOptions);
      if (name && !filter(name)) {
        pruneCacheEntry(cache, key, keys, _vnode);
      }
    }
  }
}

function pruneCacheEntry (
  cache,
  key,
  keys,
  current
) {
  var cached$$1 = cache[key];
  if (cached$$1 && (!current || cached$$1.tag !== current.tag)) {
    cached$$1.componentInstance.$destroy();
  }
  cache[key] = null;
  remove(keys, key);
}

var patternTypes = [String, RegExp, Array];

var KeepAlive = {
  name: 'keep-alive',
  abstract: true,

  props: {
    include: patternTypes,
    exclude: patternTypes,
    max: [String, Number]
  },

  created: function created () {
    this.cache = Object.create(null);
    this.keys = [];
  },

  destroyed: function destroyed () {
    for (var key in this.cache) {
      pruneCacheEntry(this.cache, key, this.keys);
    }
  },

  mounted: function mounted () {
    var this$1 = this;

    this.$watch('include', function (val) {
      pruneCache(this$1, function (name) { return matches(val, name); });
    });
    this.$watch('exclude', function (val) {
      pruneCache(this$1, function (name) { return !matches(val, name); });
    });
  },

  render: function render () {
    var slot = this.$slots.default;
    var vnode = getFirstComponentChild(slot);
    var componentOptions = vnode && vnode.componentOptions;
    if (componentOptions) {
      // check pattern
      var name = getComponentName(componentOptions);
      var ref = this;
      var include = ref.include;
      var exclude = ref.exclude;
      if (
        // not included
        (include && (!name || !matches(include, name))) ||
        // excluded
        (exclude && name && matches(exclude, name))
      ) {
        return vnode
      }

      var ref$1 = this;
      var cache = ref$1.cache;
      var keys = ref$1.keys;
      var key = vnode.key == null
        // same constructor may get registered as different local components
        // so cid alone is not enough (#3269)
        ? componentOptions.Ctor.cid + (componentOptions.tag ? ("::" + (componentOptions.tag)) : '')
        : vnode.key;
      if (cache[key]) {
        vnode.componentInstance = cache[key].componentInstance;
        // make current key freshest
        remove(keys, key);
        keys.push(key);
      } else {
        cache[key] = vnode;
        keys.push(key);
        // prune oldest entry
        if (this.max && keys.length > parseInt(this.max)) {
          pruneCacheEntry(cache, keys[0], keys, this._vnode);
        }
      }

      vnode.data.keepAlive = true;
    }
    return vnode || (slot && slot[0])
  }
};

var builtInComponents = {
  KeepAlive: KeepAlive
};

/*  */

function initGlobalAPI (Vue) {
  // config
  var configDef = {};
  configDef.get = function () { return config; };
  if (true) {
    configDef.set = function () {
      warn(
        'Do not replace the Vue.config object, set individual fields instead.'
      );
    };
  }
  Object.defineProperty(Vue, 'config', configDef);

  // exposed util methods.
  // NOTE: these are not considered part of the public API - avoid relying on
  // them unless you are aware of the risk.
  Vue.util = {
    warn: warn,
    extend: extend,
    mergeOptions: mergeOptions,
    defineReactive: defineReactive$$1
  };

  Vue.set = set;
  Vue.delete = del;
  Vue.nextTick = nextTick;

  // 2.6 explicit observable API
  Vue.observable = function (obj) {
    observe(obj);
    return obj
  };

  Vue.options = Object.create(null);
  ASSET_TYPES.forEach(function (type) {
    Vue.options[type + 's'] = Object.create(null);
  });

  // this is used to identify the "base" constructor to extend all plain-object
  // components with in Weex's multi-instance scenarios.
  Vue.options._base = Vue;

  extend(Vue.options.components, builtInComponents);

  initUse(Vue);
  initMixin$1(Vue);
  initExtend(Vue);
  initAssetRegisters(Vue);
}

initGlobalAPI(Vue);

Object.defineProperty(Vue.prototype, '$isServer', {
  get: isServerRendering
});

Object.defineProperty(Vue.prototype, '$ssrContext', {
  get: function get () {
    /* istanbul ignore next */
    return this.$vnode && this.$vnode.ssrContext
  }
});

// expose FunctionalRenderContext for ssr runtime helper installation
Object.defineProperty(Vue, 'FunctionalRenderContext', {
  value: FunctionalRenderContext
});

Vue.version = '2.6.11';

/**
 * https://raw.githubusercontent.com/Tencent/westore/master/packages/westore/utils/diff.js
 */
var ARRAYTYPE = '[object Array]';
var OBJECTTYPE = '[object Object]';
var NULLTYPE = '[object Null]';
var UNDEFINEDTYPE = '[object Undefined]';
// const FUNCTIONTYPE = '[object Function]'

function diff(current, pre) {
    var result = {};
    syncKeys(current, pre);
    _diff(current, pre, '', result);
    return result
}

function syncKeys(current, pre) {
    if (current === pre) { return }
    var rootCurrentType = type(current);
    var rootPreType = type(pre);
    if (rootCurrentType == OBJECTTYPE && rootPreType == OBJECTTYPE) {
        if(Object.keys(current).length >= Object.keys(pre).length){
            for (var key in pre) {
                var currentValue = current[key];
                if (currentValue === undefined) {
                    current[key] = null;
                } else {
                    syncKeys(currentValue, pre[key]);
                }
            }
        }
    } else if (rootCurrentType == ARRAYTYPE && rootPreType == ARRAYTYPE) {
        if (current.length >= pre.length) {
            pre.forEach(function (item, index) {
                syncKeys(current[index], item);
            });
        }
    }
}

function nullOrUndefined(currentType, preType) {
    if(
        (currentType === NULLTYPE || currentType === UNDEFINEDTYPE) && 
        (preType === NULLTYPE || preType === UNDEFINEDTYPE)
    ) {
        return false
    }
    return true
}

function _diff(current, pre, path, result) {
    if (current === pre) { return }
    var rootCurrentType = type(current);
    var rootPreType = type(pre);
    if (rootCurrentType == OBJECTTYPE) {
        if (rootPreType != OBJECTTYPE || Object.keys(current).length < Object.keys(pre).length) {
            setResult(result, path, current);
        } else {
            var loop = function ( key ) {
                var currentValue = current[key];
                var preValue = pre[key];
                var currentType = type(currentValue);
                var preType = type(preValue);
                if (currentType != ARRAYTYPE && currentType != OBJECTTYPE) {
                    if (currentValue !== pre[key] && nullOrUndefined(currentType, preType)) {
                        setResult(result, (path == '' ? '' : path + ".") + key, currentValue);
                    }
                } else if (currentType == ARRAYTYPE) {
                    if (preType != ARRAYTYPE) {
                        setResult(result, (path == '' ? '' : path + ".") + key, currentValue);
                    } else {
                        if (currentValue.length < preValue.length) {
                            setResult(result, (path == '' ? '' : path + ".") + key, currentValue);
                        } else {
                            currentValue.forEach(function (item, index) {
                                _diff(item, preValue[index], (path == '' ? '' : path + ".") + key + '[' + index + ']', result);
                            });
                        }
                    }
                } else if (currentType == OBJECTTYPE) {
                    if (preType != OBJECTTYPE || Object.keys(currentValue).length < Object.keys(preValue).length) {
                        setResult(result, (path == '' ? '' : path + ".") + key, currentValue);
                    } else {
                        for (var subKey in currentValue) {
                            _diff(currentValue[subKey], preValue[subKey], (path == '' ? '' : path + ".") + key + '.' + subKey, result);
                        }
                    }
                }
            };

            for (var key in current) loop( key );
        }
    } else if (rootCurrentType == ARRAYTYPE) {
        if (rootPreType != ARRAYTYPE) {
            setResult(result, path, current);
        } else {
            if (current.length < pre.length) {
                setResult(result, path, current);
            } else {
                current.forEach(function (item, index) {
                    _diff(item, pre[index], path + '[' + index + ']', result);
                });
            }
        }
    } else {
        setResult(result, path, current);
    }
}

function setResult(result, k, v) {
    // if (type(v) != FUNCTIONTYPE) {
        result[k] = v;
    // }
}

function type(obj) {
    return Object.prototype.toString.call(obj)
}

/*  */

function flushCallbacks$1(vm) {
    if (vm.__next_tick_callbacks && vm.__next_tick_callbacks.length) {
        if (Object({"NODE_ENV":"development","VUE_APP_DARK_MODE":"false","VUE_APP_NAME":"LikeShopPlus","VUE_APP_PLATFORM":"mp-weixin","BASE_URL":"/"}).VUE_APP_DEBUG) {
            var mpInstance = vm.$scope;
            console.log('[' + (+new Date) + '][' + (mpInstance.is || mpInstance.route) + '][' + vm._uid +
                ']:flushCallbacks[' + vm.__next_tick_callbacks.length + ']');
        }
        var copies = vm.__next_tick_callbacks.slice(0);
        vm.__next_tick_callbacks.length = 0;
        for (var i = 0; i < copies.length; i++) {
            copies[i]();
        }
    }
}

function hasRenderWatcher(vm) {
    return queue.find(function (watcher) { return vm._watcher === watcher; })
}

function nextTick$1(vm, cb) {
    //1.nextTick 之前 已 setData 且 setData 还未回调完成
    //2.nextTick 之前存在 render watcher
    if (!vm.__next_tick_pending && !hasRenderWatcher(vm)) {
        if(Object({"NODE_ENV":"development","VUE_APP_DARK_MODE":"false","VUE_APP_NAME":"LikeShopPlus","VUE_APP_PLATFORM":"mp-weixin","BASE_URL":"/"}).VUE_APP_DEBUG){
            var mpInstance = vm.$scope;
            console.log('[' + (+new Date) + '][' + (mpInstance.is || mpInstance.route) + '][' + vm._uid +
                ']:nextVueTick');
        }
        return nextTick(cb, vm)
    }else{
        if(Object({"NODE_ENV":"development","VUE_APP_DARK_MODE":"false","VUE_APP_NAME":"LikeShopPlus","VUE_APP_PLATFORM":"mp-weixin","BASE_URL":"/"}).VUE_APP_DEBUG){
            var mpInstance$1 = vm.$scope;
            console.log('[' + (+new Date) + '][' + (mpInstance$1.is || mpInstance$1.route) + '][' + vm._uid +
                ']:nextMPTick');
        }
    }
    var _resolve;
    if (!vm.__next_tick_callbacks) {
        vm.__next_tick_callbacks = [];
    }
    vm.__next_tick_callbacks.push(function () {
        if (cb) {
            try {
                cb.call(vm);
            } catch (e) {
                handleError(e, vm, 'nextTick');
            }
        } else if (_resolve) {
            _resolve(vm);
        }
    });
    // $flow-disable-line
    if (!cb && typeof Promise !== 'undefined') {
        return new Promise(function (resolve) {
            _resolve = resolve;
        })
    }
}

/*  */

function clearInstance(key, value) {
  // 简易去除 Vue 和小程序组件实例
  if (value) {
    if (value._isVue || value.__v_isMPComponent) {
      return {}
    }
  }
  return value
}

function cloneWithData(vm) {
  // 确保当前 vm 所有数据被同步
  var ret = Object.create(null);
  var dataKeys = [].concat(
    Object.keys(vm._data || {}),
    Object.keys(vm._computedWatchers || {}));

  dataKeys.reduce(function(ret, key) {
    ret[key] = vm[key];
    return ret
  }, ret);

  // vue-composition-api
  var compositionApiState = vm.__composition_api_state__ || vm.__secret_vfa_state__;
  var rawBindings = compositionApiState && compositionApiState.rawBindings;
  if (rawBindings) {
    Object.keys(rawBindings).forEach(function (key) {
      ret[key] = vm[key];
    });
  }

  //TODO 需要把无用数据处理掉，比如 list=>l0 则 list 需要移除，否则多传输一份数据
  Object.assign(ret, vm.$mp.data || {});
  if (
    Array.isArray(vm.$options.behaviors) &&
    vm.$options.behaviors.indexOf('uni://form-field') !== -1
  ) { //form-field
    ret['name'] = vm.name;
    ret['value'] = vm.value;
  }

  return JSON.parse(JSON.stringify(ret, clearInstance))
}

var patch = function(oldVnode, vnode) {
  var this$1 = this;

  if (vnode === null) { //destroy
    return
  }
  if (this.mpType === 'page' || this.mpType === 'component') {
    var mpInstance = this.$scope;
    var data = Object.create(null);
    try {
      data = cloneWithData(this);
    } catch (err) {
      console.error(err);
    }
    data.__webviewId__ = mpInstance.data.__webviewId__;
    var mpData = Object.create(null);
    Object.keys(data).forEach(function (key) { //仅同步 data 中有的数据
      mpData[key] = mpInstance.data[key];
    });
    var diffData = this.$shouldDiffData === false ? data : diff(data, mpData);
    if (Object.keys(diffData).length) {
      if (Object({"NODE_ENV":"development","VUE_APP_DARK_MODE":"false","VUE_APP_NAME":"LikeShopPlus","VUE_APP_PLATFORM":"mp-weixin","BASE_URL":"/"}).VUE_APP_DEBUG) {
        console.log('[' + (+new Date) + '][' + (mpInstance.is || mpInstance.route) + '][' + this._uid +
          ']差量更新',
          JSON.stringify(diffData));
      }
      this.__next_tick_pending = true;
      mpInstance.setData(diffData, function () {
        this$1.__next_tick_pending = false;
        flushCallbacks$1(this$1);
      });
    } else {
      flushCallbacks$1(this);
    }
  }
};

/*  */

function createEmptyRender() {

}

function mountComponent$1(
  vm,
  el,
  hydrating
) {
  if (!vm.mpType) {//main.js 中的 new Vue
    return vm
  }
  if (vm.mpType === 'app') {
    vm.$options.render = createEmptyRender;
  }
  if (!vm.$options.render) {
    vm.$options.render = createEmptyRender;
    if (true) {
      /* istanbul ignore if */
      if ((vm.$options.template && vm.$options.template.charAt(0) !== '#') ||
        vm.$options.el || el) {
        warn(
          'You are using the runtime-only build of Vue where the template ' +
          'compiler is not available. Either pre-compile the templates into ' +
          'render functions, or use the compiler-included build.',
          vm
        );
      } else {
        warn(
          'Failed to mount component: template or render function not defined.',
          vm
        );
      }
    }
  }
  
  !vm._$fallback && callHook(vm, 'beforeMount');

  var updateComponent = function () {
    vm._update(vm._render(), hydrating);
  };

  // we set this to vm._watcher inside the watcher's constructor
  // since the watcher's initial patch may call $forceUpdate (e.g. inside child
  // component's mounted hook), which relies on vm._watcher being already defined
  new Watcher(vm, updateComponent, noop, {
    before: function before() {
      if (vm._isMounted && !vm._isDestroyed) {
        callHook(vm, 'beforeUpdate');
      }
    }
  }, true /* isRenderWatcher */);
  hydrating = false;
  return vm
}

/*  */

function renderClass (
  staticClass,
  dynamicClass
) {
  if (isDef(staticClass) || isDef(dynamicClass)) {
    return concat(staticClass, stringifyClass(dynamicClass))
  }
  /* istanbul ignore next */
  return ''
}

function concat (a, b) {
  return a ? b ? (a + ' ' + b) : a : (b || '')
}

function stringifyClass (value) {
  if (Array.isArray(value)) {
    return stringifyArray(value)
  }
  if (isObject(value)) {
    return stringifyObject(value)
  }
  if (typeof value === 'string') {
    return value
  }
  /* istanbul ignore next */
  return ''
}

function stringifyArray (value) {
  var res = '';
  var stringified;
  for (var i = 0, l = value.length; i < l; i++) {
    if (isDef(stringified = stringifyClass(value[i])) && stringified !== '') {
      if (res) { res += ' '; }
      res += stringified;
    }
  }
  return res
}

function stringifyObject (value) {
  var res = '';
  for (var key in value) {
    if (value[key]) {
      if (res) { res += ' '; }
      res += key;
    }
  }
  return res
}

/*  */

var parseStyleText = cached(function (cssText) {
  var res = {};
  var listDelimiter = /;(?![^(]*\))/g;
  var propertyDelimiter = /:(.+)/;
  cssText.split(listDelimiter).forEach(function (item) {
    if (item) {
      var tmp = item.split(propertyDelimiter);
      tmp.length > 1 && (res[tmp[0].trim()] = tmp[1].trim());
    }
  });
  return res
});

// normalize possible array / string values into Object
function normalizeStyleBinding (bindingStyle) {
  if (Array.isArray(bindingStyle)) {
    return toObject(bindingStyle)
  }
  if (typeof bindingStyle === 'string') {
    return parseStyleText(bindingStyle)
  }
  return bindingStyle
}

/*  */

var MP_METHODS = ['createSelectorQuery', 'createIntersectionObserver', 'selectAllComponents', 'selectComponent'];

function getTarget(obj, path) {
  var parts = path.split('.');
  var key = parts[0];
  if (key.indexOf('__$n') === 0) { //number index
    key = parseInt(key.replace('__$n', ''));
  }
  if (parts.length === 1) {
    return obj[key]
  }
  return getTarget(obj[key], parts.slice(1).join('.'))
}

function internalMixin(Vue) {

  Vue.config.errorHandler = function(err, vm, info) {
    Vue.util.warn(("Error in " + info + ": \"" + (err.toString()) + "\""), vm);
    console.error(err);
    /* eslint-disable no-undef */
    var app = typeof getApp === 'function' && getApp();
    if (app && app.onError) {
      app.onError(err);
    }
  };

  var oldEmit = Vue.prototype.$emit;

  Vue.prototype.$emit = function(event) {
    if (this.$scope && event) {
      var triggerEvent = this.$scope['_triggerEvent'] || this.$scope['triggerEvent'];
      if (triggerEvent) {
        try {
          triggerEvent.call(this.$scope, event, {
            __args__: toArray(arguments, 1)
          });
        } catch (error) {

        }
      }
    }
    return oldEmit.apply(this, arguments)
  };

  Vue.prototype.$nextTick = function(fn) {
    return nextTick$1(this, fn)
  };

  MP_METHODS.forEach(function (method) {
    Vue.prototype[method] = function(args) {
      if (this.$scope && this.$scope[method]) {
        return this.$scope[method](args)
      }
      // mp-alipay
      if (typeof my === 'undefined') {
        return
      }
      if (method === 'createSelectorQuery') {
        /* eslint-disable no-undef */
        return my.createSelectorQuery(args)
      } else if (method === 'createIntersectionObserver') {
        /* eslint-disable no-undef */
        return my.createIntersectionObserver(args)
      }
      // TODO mp-alipay 暂不支持 selectAllComponents,selectComponent
    };
  });

  Vue.prototype.__init_provide = initProvide;

  Vue.prototype.__init_injections = initInjections;

  Vue.prototype.__call_hook = function(hook, args) {
    var vm = this;
    // #7573 disable dep collection when invoking lifecycle hooks
    pushTarget();
    var handlers = vm.$options[hook];
    var info = hook + " hook";
    var ret;
    if (handlers) {
      for (var i = 0, j = handlers.length; i < j; i++) {
        ret = invokeWithErrorHandling(handlers[i], vm, args ? [args] : null, vm, info);
      }
    }
    if (vm._hasHookEvent) {
      vm.$emit('hook:' + hook, args);
    }
    popTarget();
    return ret
  };

  Vue.prototype.__set_model = function(target, key, value, modifiers) {
    if (Array.isArray(modifiers)) {
      if (modifiers.indexOf('trim') !== -1) {
        value = value.trim();
      }
      if (modifiers.indexOf('number') !== -1) {
        value = this._n(value);
      }
    }
    if (!target) {
      target = this;
    }
    // 解决动态属性添加
    Vue.set(target, key, value);
  };

  Vue.prototype.__set_sync = function(target, key, value) {
    if (!target) {
      target = this;
    }
    // 解决动态属性添加
    Vue.set(target, key, value);
  };

  Vue.prototype.__get_orig = function(item) {
    if (isPlainObject(item)) {
      return item['$orig'] || item
    }
    return item
  };

  Vue.prototype.__get_value = function(dataPath, target) {
    return getTarget(target || this, dataPath)
  };


  Vue.prototype.__get_class = function(dynamicClass, staticClass) {
    return renderClass(staticClass, dynamicClass)
  };

  Vue.prototype.__get_style = function(dynamicStyle, staticStyle) {
    if (!dynamicStyle && !staticStyle) {
      return ''
    }
    var dynamicStyleObj = normalizeStyleBinding(dynamicStyle);
    var styleObj = staticStyle ? extend(staticStyle, dynamicStyleObj) : dynamicStyleObj;
    return Object.keys(styleObj).map(function (name) { return ((hyphenate(name)) + ":" + (styleObj[name])); }).join(';')
  };

  Vue.prototype.__map = function(val, iteratee) {
    //TODO 暂不考虑 string
    var ret, i, l, keys, key;
    if (Array.isArray(val)) {
      ret = new Array(val.length);
      for (i = 0, l = val.length; i < l; i++) {
        ret[i] = iteratee(val[i], i);
      }
      return ret
    } else if (isObject(val)) {
      keys = Object.keys(val);
      ret = Object.create(null);
      for (i = 0, l = keys.length; i < l; i++) {
        key = keys[i];
        ret[key] = iteratee(val[key], key, i);
      }
      return ret
    } else if (typeof val === 'number') {
      ret = new Array(val);
      for (i = 0, l = val; i < l; i++) {
        // 第一个参数暂时仍和小程序一致
        ret[i] = iteratee(i, i);
      }
      return ret
    }
    return []
  };

}

/*  */

var LIFECYCLE_HOOKS$1 = [
    //App
    'onLaunch',
    'onShow',
    'onHide',
    'onUniNViewMessage',
    'onPageNotFound',
    'onThemeChange',
    'onError',
    'onUnhandledRejection',
    //Page
    'onInit',
    'onLoad',
    // 'onShow',
    'onReady',
    // 'onHide',
    'onUnload',
    'onPullDownRefresh',
    'onReachBottom',
    'onTabItemTap',
    'onAddToFavorites',
    'onShareTimeline',
    'onShareAppMessage',
    'onResize',
    'onPageScroll',
    'onNavigationBarButtonTap',
    'onBackPress',
    'onNavigationBarSearchInputChanged',
    'onNavigationBarSearchInputConfirmed',
    'onNavigationBarSearchInputClicked',
    'onUploadDouyinVideo',
    'onNFCReadMessage',
    //Component
    // 'onReady', // 兼容旧版本，应该移除该事件
    'onPageShow',
    'onPageHide',
    'onPageResize'
];
function lifecycleMixin$1(Vue) {

    //fixed vue-class-component
    var oldExtend = Vue.extend;
    Vue.extend = function(extendOptions) {
        extendOptions = extendOptions || {};

        var methods = extendOptions.methods;
        if (methods) {
            Object.keys(methods).forEach(function (methodName) {
                if (LIFECYCLE_HOOKS$1.indexOf(methodName)!==-1) {
                    extendOptions[methodName] = methods[methodName];
                    delete methods[methodName];
                }
            });
        }

        return oldExtend.call(this, extendOptions)
    };

    var strategies = Vue.config.optionMergeStrategies;
    var mergeHook = strategies.created;
    LIFECYCLE_HOOKS$1.forEach(function (hook) {
        strategies[hook] = mergeHook;
    });

    Vue.prototype.__lifecycle_hooks__ = LIFECYCLE_HOOKS$1;
}

/*  */

// install platform patch function
Vue.prototype.__patch__ = patch;

// public mount method
Vue.prototype.$mount = function(
    el ,
    hydrating 
) {
    return mountComponent$1(this, el, hydrating)
};

lifecycleMixin$1(Vue);
internalMixin(Vue);

/*  */

/* harmony default export */ __webpack_exports__["default"] = (Vue);

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../../webpack/buildin/global.js */ 3)))

/***/ }),

/***/ 26:
/*!**************************************************!*\
  !*** /Users/lisicheng/project/lijian/pages.json ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports) {



/***/ }),

/***/ 260:
/*!****************************************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/components/uview-ui/components/u-avatar-cropper/weCropper.js ***!
  \****************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(uni, global) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;var _typeof = __webpack_require__(/*! @babel/runtime/helpers/typeof */ 13);
/**
 * we-cropper v1.3.9
 * (c) 2020 dlhandsome
 * @license MIT
 */
(function (global, factory) {
  ( false ? undefined : _typeof(exports)) === 'object' && typeof module !== 'undefined' ? module.exports = factory() :  true ? !(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :
				__WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)) : undefined;
})(this, function () {
  'use strict';

  var device = void 0;
  var TOUCH_STATE = ['touchstarted', 'touchmoved', 'touchended'];
  function firstLetterUpper(str) {
    return str.charAt(0).toUpperCase() + str.slice(1);
  }
  function setTouchState(instance) {
    var arg = [],
      len = arguments.length - 1;
    while (len-- > 0) {
      arg[len] = arguments[len + 1];
    }
    TOUCH_STATE.forEach(function (key, i) {
      if (arg[i] !== undefined) {
        instance[key] = arg[i];
      }
    });
  }
  function validator(instance, o) {
    Object.defineProperties(instance, o);
  }
  function getDevice() {
    if (!device) {
      device = uni.getSystemInfoSync();
    }
    return device;
  }
  var tmp = {};
  var ref = getDevice();
  var pixelRatio = ref.pixelRatio;
  var DEFAULT = {
    id: {
      default: 'cropper',
      get: function get() {
        return tmp.id;
      },
      set: function set(value) {
        if (typeof value !== 'string') {
          console.error("id：" + value + " is invalid");
        }
        tmp.id = value;
      }
    },
    width: {
      default: 750,
      get: function get() {
        return tmp.width;
      },
      set: function set(value) {
        if (typeof value !== 'number') {
          console.error("width：" + value + " is invalid");
        }
        tmp.width = value;
      }
    },
    height: {
      default: 750,
      get: function get() {
        return tmp.height;
      },
      set: function set(value) {
        if (typeof value !== 'number') {
          console.error("height：" + value + " is invalid");
        }
        tmp.height = value;
      }
    },
    pixelRatio: {
      default: pixelRatio,
      get: function get() {
        return tmp.pixelRatio;
      },
      set: function set(value) {
        if (typeof value !== 'number') {
          console.error("pixelRatio：" + value + " is invalid");
        }
        tmp.pixelRatio = value;
      }
    },
    scale: {
      default: 2.5,
      get: function get() {
        return tmp.scale;
      },
      set: function set(value) {
        if (typeof value !== 'number') {
          console.error("scale：" + value + " is invalid");
        }
        tmp.scale = value;
      }
    },
    zoom: {
      default: 5,
      get: function get() {
        return tmp.zoom;
      },
      set: function set(value) {
        if (typeof value !== 'number') {
          console.error("zoom：" + value + " is invalid");
        } else if (value < 0 || value > 10) {
          console.error("zoom should be ranged in 0 ~ 10");
        }
        tmp.zoom = value;
      }
    },
    src: {
      default: '',
      get: function get() {
        return tmp.src;
      },
      set: function set(value) {
        if (typeof value !== 'string') {
          console.error("src：" + value + " is invalid");
        }
        tmp.src = value;
      }
    },
    cut: {
      default: {},
      get: function get() {
        return tmp.cut;
      },
      set: function set(value) {
        if (_typeof(value) !== 'object') {
          console.error("cut：" + value + " is invalid");
        }
        tmp.cut = value;
      }
    },
    boundStyle: {
      default: {},
      get: function get() {
        return tmp.boundStyle;
      },
      set: function set(value) {
        if (_typeof(value) !== 'object') {
          console.error("boundStyle：" + value + " is invalid");
        }
        tmp.boundStyle = value;
      }
    },
    onReady: {
      default: null,
      get: function get() {
        return tmp.ready;
      },
      set: function set(value) {
        tmp.ready = value;
      }
    },
    onBeforeImageLoad: {
      default: null,
      get: function get() {
        return tmp.beforeImageLoad;
      },
      set: function set(value) {
        tmp.beforeImageLoad = value;
      }
    },
    onImageLoad: {
      default: null,
      get: function get() {
        return tmp.imageLoad;
      },
      set: function set(value) {
        tmp.imageLoad = value;
      }
    },
    onBeforeDraw: {
      default: null,
      get: function get() {
        return tmp.beforeDraw;
      },
      set: function set(value) {
        tmp.beforeDraw = value;
      }
    }
  };
  var ref$1 = getDevice();
  var windowWidth = ref$1.windowWidth;
  function prepare() {
    var self = this;

    // v1.4.0 版本中将不再自动绑定we-cropper实例
    self.attachPage = function () {
      var pages = getCurrentPages();
      // 获取到当前page上下文
      var pageContext = pages[pages.length - 1];
      // 把this依附在Page上下文的wecropper属性上，便于在page钩子函数中访问
      Object.defineProperty(pageContext, 'wecropper', {
        get: function get() {
          console.warn('Instance will not be automatically bound to the page after v1.4.0\n\n' + 'Please use a custom instance name instead\n\n' + 'Example: \n' + 'this.mycropper = new WeCropper(options)\n\n' + '// ...\n' + 'this.mycropper.getCropperImage()');
          return self;
        },
        configurable: true
      });
    };
    self.createCtx = function () {
      var id = self.id;
      var targetId = self.targetId;
      if (id) {
        self.ctx = self.ctx || uni.createCanvasContext(id);
        self.targetCtx = self.targetCtx || uni.createCanvasContext(targetId);
      } else {
        console.error("constructor: create canvas context failed, 'id' must be valuable");
      }
    };
    self.deviceRadio = windowWidth / 750;
  }
  var commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};
  function createCommonjsModule(fn, module) {
    return module = {
      exports: {}
    }, fn(module, module.exports), module.exports;
  }
  var tools = createCommonjsModule(function (module, exports) {
    /**
     * String type check
     */
    exports.isStr = function (v) {
      return typeof v === 'string';
    };
    /**
     * Number type check
     */
    exports.isNum = function (v) {
      return typeof v === 'number';
    };
    /**
     * Array type check
     */
    exports.isArr = Array.isArray;
    /**
     * undefined type check
     */
    exports.isUndef = function (v) {
      return v === undefined;
    };
    exports.isTrue = function (v) {
      return v === true;
    };
    exports.isFalse = function (v) {
      return v === false;
    };
    /**
     * Function type check
     */
    exports.isFunc = function (v) {
      return typeof v === 'function';
    };
    /**
     * Quick object check - this is primarily used to tell
     * Objects from primitive values when we know the value
     * is a JSON-compliant type.
     */
    exports.isObj = exports.isObject = function (obj) {
      return obj !== null && _typeof(obj) === 'object';
    };

    /**
     * Strict object type check. Only returns true
     * for plain JavaScript objects.
     */
    var _toString = Object.prototype.toString;
    exports.isPlainObject = function (obj) {
      return _toString.call(obj) === '[object Object]';
    };

    /**
     * Check whether the object has the property.
     */
    var hasOwnProperty = Object.prototype.hasOwnProperty;
    exports.hasOwn = function (obj, key) {
      return hasOwnProperty.call(obj, key);
    };

    /**
     * Perform no operation.
     * Stubbing args to make Flow happy without leaving useless transpiled code
     * with ...rest (https://flow.org/blog/2017/05/07/Strict-Function-Call-Arity/)
     */
    exports.noop = function (a, b, c) {};

    /**
     * Check if val is a valid array index.
     */
    exports.isValidArrayIndex = function (val) {
      var n = parseFloat(String(val));
      return n >= 0 && Math.floor(n) === n && isFinite(val);
    };
  });
  var tools_7 = tools.isFunc;
  var tools_10 = tools.isPlainObject;
  var EVENT_TYPE = ['ready', 'beforeImageLoad', 'beforeDraw', 'imageLoad'];
  function observer() {
    var self = this;
    self.on = function (event, fn) {
      if (EVENT_TYPE.indexOf(event) > -1) {
        if (tools_7(fn)) {
          event === 'ready' ? fn(self) : self["on" + firstLetterUpper(event)] = fn;
        }
      } else {
        console.error("event: " + event + " is invalid");
      }
      return self;
    };
  }
  function wxPromise(fn) {
    return function (obj) {
      var args = [],
        len = arguments.length - 1;
      while (len-- > 0) {
        args[len] = arguments[len + 1];
      }
      if (obj === void 0) obj = {};
      return new Promise(function (resolve, reject) {
        obj.success = function (res) {
          resolve(res);
        };
        obj.fail = function (err) {
          reject(err);
        };
        fn.apply(void 0, [obj].concat(args));
      });
    };
  }
  function draw(ctx, reserve) {
    if (reserve === void 0) reserve = false;
    return new Promise(function (resolve) {
      ctx.draw(reserve, resolve);
    });
  }
  var getImageInfo = wxPromise(uni.getImageInfo);
  var canvasToTempFilePath = wxPromise(uni.canvasToTempFilePath);
  var base64 = createCommonjsModule(function (module, exports) {
    /*! http://mths.be/base64 v0.1.0 by @mathias | MIT license */
    (function (root) {
      // Detect free variables `exports`.
      var freeExports =  true && exports;

      // Detect free variable `module`.
      var freeModule =  true && module && module.exports == freeExports && module;

      // Detect free variable `global`, from Node.js or Browserified code, and use
      // it as `root`.
      var freeGlobal = _typeof(commonjsGlobal) == 'object' && commonjsGlobal;
      if (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {
        root = freeGlobal;
      }

      /*--------------------------------------------------------------------------*/

      var InvalidCharacterError = function InvalidCharacterError(message) {
        this.message = message;
      };
      InvalidCharacterError.prototype = new Error();
      InvalidCharacterError.prototype.name = 'InvalidCharacterError';
      var error = function error(message) {
        // Note: the error messages used throughout this file match those used by
        // the native `atob`/`btoa` implementation in Chromium.
        throw new InvalidCharacterError(message);
      };
      var TABLE = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';
      // http://whatwg.org/html/common-microsyntaxes.html#space-character
      var REGEX_SPACE_CHARACTERS = /[\t\n\f\r ]/g;

      // `decode` is designed to be fully compatible with `atob` as described in the
      // HTML Standard. http://whatwg.org/html/webappapis.html#dom-windowbase64-atob
      // The optimized base64-decoding algorithm used is based on @atk’s excellent
      // implementation. https://gist.github.com/atk/1020396
      var decode = function decode(input) {
        input = String(input).replace(REGEX_SPACE_CHARACTERS, '');
        var length = input.length;
        if (length % 4 == 0) {
          input = input.replace(/==?$/, '');
          length = input.length;
        }
        if (length % 4 == 1 ||
        // http://whatwg.org/C#alphanumeric-ascii-characters
        /[^+a-zA-Z0-9/]/.test(input)) {
          error('Invalid character: the string to be decoded is not correctly encoded.');
        }
        var bitCounter = 0;
        var bitStorage;
        var buffer;
        var output = '';
        var position = -1;
        while (++position < length) {
          buffer = TABLE.indexOf(input.charAt(position));
          bitStorage = bitCounter % 4 ? bitStorage * 64 + buffer : buffer;
          // Unless this is the first of a group of 4 characters…
          if (bitCounter++ % 4) {
            // …convert the first 8 bits to a single ASCII character.
            output += String.fromCharCode(0xFF & bitStorage >> (-2 * bitCounter & 6));
          }
        }
        return output;
      };

      // `encode` is designed to be fully compatible with `btoa` as described in the
      // HTML Standard: http://whatwg.org/html/webappapis.html#dom-windowbase64-btoa
      var encode = function encode(input) {
        input = String(input);
        if (/[^\0-\xFF]/.test(input)) {
          // Note: no need to special-case astral symbols here, as surrogates are
          // matched, and the input is supposed to only contain ASCII anyway.
          error('The string to be encoded contains characters outside of the ' + 'Latin1 range.');
        }
        var padding = input.length % 3;
        var output = '';
        var position = -1;
        var a;
        var b;
        var c;
        var buffer;
        // Make sure any padding is handled outside of the loop.
        var length = input.length - padding;
        while (++position < length) {
          // Read three bytes, i.e. 24 bits.
          a = input.charCodeAt(position) << 16;
          b = input.charCodeAt(++position) << 8;
          c = input.charCodeAt(++position);
          buffer = a + b + c;
          // Turn the 24 bits into four chunks of 6 bits each, and append the
          // matching character for each of them to the output.
          output += TABLE.charAt(buffer >> 18 & 0x3F) + TABLE.charAt(buffer >> 12 & 0x3F) + TABLE.charAt(buffer >> 6 & 0x3F) + TABLE.charAt(buffer & 0x3F);
        }
        if (padding == 2) {
          a = input.charCodeAt(position) << 8;
          b = input.charCodeAt(++position);
          buffer = a + b;
          output += TABLE.charAt(buffer >> 10) + TABLE.charAt(buffer >> 4 & 0x3F) + TABLE.charAt(buffer << 2 & 0x3F) + '=';
        } else if (padding == 1) {
          buffer = input.charCodeAt(position);
          output += TABLE.charAt(buffer >> 2) + TABLE.charAt(buffer << 4 & 0x3F) + '==';
        }
        return output;
      };
      var base64 = {
        'encode': encode,
        'decode': decode,
        'version': '0.1.0'
      };

      // Some AMD build optimizers, like r.js, check for specific condition patterns
      // like the following:
      if (false) {} else if (freeExports && !freeExports.nodeType) {
        if (freeModule) {
          // in Node.js or RingoJS v0.8.0+
          freeModule.exports = base64;
        } else {
          // in Narwhal or RingoJS v0.7.0-
          for (var key in base64) {
            base64.hasOwnProperty(key) && (freeExports[key] = base64[key]);
          }
        }
      } else {
        // in Rhino or a web browser
        root.base64 = base64;
      }
    })(commonjsGlobal);
  });
  function makeURI(strData, type) {
    return 'data:' + type + ';base64,' + strData;
  }
  function fixType(type) {
    type = type.toLowerCase().replace(/jpg/i, 'jpeg');
    var r = type.match(/png|jpeg|bmp|gif/)[0];
    return 'image/' + r;
  }
  function encodeData(data) {
    var str = '';
    if (typeof data === 'string') {
      str = data;
    } else {
      for (var i = 0; i < data.length; i++) {
        str += String.fromCharCode(data[i]);
      }
    }
    return base64.encode(str);
  }

  /**
   * 获取图像区域隐含的像素数据
   * @param canvasId canvas标识
   * @param x 将要被提取的图像数据矩形区域的左上角 x 坐标
   * @param y 将要被提取的图像数据矩形区域的左上角 y 坐标
   * @param width 将要被提取的图像数据矩形区域的宽度
   * @param height 将要被提取的图像数据矩形区域的高度
   * @param done 完成回调
   */
  function getImageData(canvasId, x, y, width, height, done) {
    uni.canvasGetImageData({
      canvasId: canvasId,
      x: x,
      y: y,
      width: width,
      height: height,
      success: function success(res) {
        done(res, null);
      },
      fail: function fail(res) {
        done(null, res);
      }
    });
  }

  /**
   * 生成bmp格式图片
   * 按照规则生成图片响应头和响应体
   * @param oData 用来描述 canvas 区域隐含的像素数据 { data, width, height } = oData
   * @returns {*} base64字符串
   */
  function genBitmapImage(oData) {
    //
    // BITMAPFILEHEADER: http://msdn.microsoft.com/en-us/library/windows/desktop/dd183374(v=vs.85).aspx
    // BITMAPINFOHEADER: http://msdn.microsoft.com/en-us/library/dd183376.aspx
    //
    var biWidth = oData.width;
    var biHeight = oData.height;
    var biSizeImage = biWidth * biHeight * 3;
    var bfSize = biSizeImage + 54; // total header size = 54 bytes

    //
    //  typedef struct tagBITMAPFILEHEADER {
    //  	WORD bfType;
    //  	DWORD bfSize;
    //  	WORD bfReserved1;
    //  	WORD bfReserved2;
    //  	DWORD bfOffBits;
    //  } BITMAPFILEHEADER;
    //
    var BITMAPFILEHEADER = [
    // WORD bfType -- The file type signature; must be "BM"
    0x42, 0x4D,
    // DWORD bfSize -- The size, in bytes, of the bitmap file
    bfSize & 0xff, bfSize >> 8 & 0xff, bfSize >> 16 & 0xff, bfSize >> 24 & 0xff,
    // WORD bfReserved1 -- Reserved; must be zero
    0, 0,
    // WORD bfReserved2 -- Reserved; must be zero
    0, 0,
    // DWORD bfOffBits -- The offset, in bytes, from the beginning of the BITMAPFILEHEADER structure to the bitmap bits.
    54, 0, 0, 0];

    //
    //  typedef struct tagBITMAPINFOHEADER {
    //  	DWORD biSize;
    //  	LONG  biWidth;
    //  	LONG  biHeight;
    //  	WORD  biPlanes;
    //  	WORD  biBitCount;
    //  	DWORD biCompression;
    //  	DWORD biSizeImage;
    //  	LONG  biXPelsPerMeter;
    //  	LONG  biYPelsPerMeter;
    //  	DWORD biClrUsed;
    //  	DWORD biClrImportant;
    //  } BITMAPINFOHEADER, *PBITMAPINFOHEADER;
    //
    var BITMAPINFOHEADER = [
    // DWORD biSize -- The number of bytes required by the structure
    40, 0, 0, 0,
    // LONG biWidth -- The width of the bitmap, in pixels
    biWidth & 0xff, biWidth >> 8 & 0xff, biWidth >> 16 & 0xff, biWidth >> 24 & 0xff,
    // LONG biHeight -- The height of the bitmap, in pixels
    biHeight & 0xff, biHeight >> 8 & 0xff, biHeight >> 16 & 0xff, biHeight >> 24 & 0xff,
    // WORD biPlanes -- The number of planes for the target device. This value must be set to 1
    1, 0,
    // WORD biBitCount -- The number of bits-per-pixel, 24 bits-per-pixel -- the bitmap
    // has a maximum of 2^24 colors (16777216, Truecolor)
    24, 0,
    // DWORD biCompression -- The type of compression, BI_RGB (code 0) -- uncompressed
    0, 0, 0, 0,
    // DWORD biSizeImage -- The size, in bytes, of the image. This may be set to zero for BI_RGB bitmaps
    biSizeImage & 0xff, biSizeImage >> 8 & 0xff, biSizeImage >> 16 & 0xff, biSizeImage >> 24 & 0xff,
    // LONG biXPelsPerMeter, unused
    0, 0, 0, 0,
    // LONG biYPelsPerMeter, unused
    0, 0, 0, 0,
    // DWORD biClrUsed, the number of color indexes of palette, unused
    0, 0, 0, 0,
    // DWORD biClrImportant, unused
    0, 0, 0, 0];
    var iPadding = (4 - biWidth * 3 % 4) % 4;
    var aImgData = oData.data;
    var strPixelData = '';
    var biWidth4 = biWidth << 2;
    var y = biHeight;
    var fromCharCode = String.fromCharCode;
    do {
      var iOffsetY = biWidth4 * (y - 1);
      var strPixelRow = '';
      for (var x = 0; x < biWidth; x++) {
        var iOffsetX = x << 2;
        strPixelRow += fromCharCode(aImgData[iOffsetY + iOffsetX + 2]) + fromCharCode(aImgData[iOffsetY + iOffsetX + 1]) + fromCharCode(aImgData[iOffsetY + iOffsetX]);
      }
      for (var c = 0; c < iPadding; c++) {
        strPixelRow += String.fromCharCode(0);
      }
      strPixelData += strPixelRow;
    } while (--y);
    var strEncoded = encodeData(BITMAPFILEHEADER.concat(BITMAPINFOHEADER)) + encodeData(strPixelData);
    return strEncoded;
  }

  /**
   * 转换为图片base64
   * @param canvasId canvas标识
   * @param x 将要被提取的图像数据矩形区域的左上角 x 坐标
   * @param y 将要被提取的图像数据矩形区域的左上角 y 坐标
   * @param width 将要被提取的图像数据矩形区域的宽度
   * @param height 将要被提取的图像数据矩形区域的高度
   * @param type 转换图片类型
   * @param done 完成回调
   */
  function convertToImage(canvasId, x, y, width, height, type, done) {
    if (done === void 0) done = function done() {};
    if (type === undefined) {
      type = 'png';
    }
    type = fixType(type);
    if (/bmp/.test(type)) {
      getImageData(canvasId, x, y, width, height, function (data, err) {
        var strData = genBitmapImage(data);
        tools_7(done) && done(makeURI(strData, 'image/' + type), err);
      });
    } else {
      console.error('暂不支持生成\'' + type + '\'类型的base64图片');
    }
  }
  var CanvasToBase64 = {
    convertToImage: convertToImage,
    // convertToPNG: function (width, height, done) {
    //   return convertToImage(width, height, 'png', done)
    // },
    // convertToJPEG: function (width, height, done) {
    //   return convertToImage(width, height, 'jpeg', done)
    // },
    // convertToGIF: function (width, height, done) {
    //   return convertToImage(width, height, 'gif', done)
    // },
    convertToBMP: function convertToBMP(ref, done) {
      if (ref === void 0) ref = {};
      var canvasId = ref.canvasId;
      var x = ref.x;
      var y = ref.y;
      var width = ref.width;
      var height = ref.height;
      if (done === void 0) done = function done() {};
      return convertToImage(canvasId, x, y, width, height, 'bmp', done);
    }
  };
  function methods() {
    var self = this;
    var boundWidth = self.width; // 裁剪框默认宽度，即整个画布宽度
    var boundHeight = self.height; // 裁剪框默认高度，即整个画布高度

    var id = self.id;
    var targetId = self.targetId;
    var pixelRatio = self.pixelRatio;
    var ref = self.cut;
    var x = ref.x;
    if (x === void 0) x = 0;
    var y = ref.y;
    if (y === void 0) y = 0;
    var width = ref.width;
    if (width === void 0) width = boundWidth;
    var height = ref.height;
    if (height === void 0) height = boundHeight;
    self.updateCanvas = function (done) {
      if (self.croperTarget) {
        //  画布绘制图片
        self.ctx.drawImage(self.croperTarget, self.imgLeft, self.imgTop, self.scaleWidth, self.scaleHeight);
      }
      tools_7(self.onBeforeDraw) && self.onBeforeDraw(self.ctx, self);
      self.setBoundStyle(self.boundStyle); //	设置边界样式

      self.ctx.draw(false, done);
      return self;
    };
    self.pushOrigin = self.pushOrign = function (src) {
      self.src = src;
      tools_7(self.onBeforeImageLoad) && self.onBeforeImageLoad(self.ctx, self);
      return getImageInfo({
        src: src
      }).then(function (res) {
        var innerAspectRadio = res.width / res.height;
        var customAspectRadio = width / height;
        self.croperTarget = res.path;
        if (innerAspectRadio < customAspectRadio) {
          self.rectX = x;
          self.baseWidth = width;
          self.baseHeight = width / innerAspectRadio;
          self.rectY = y - Math.abs((height - self.baseHeight) / 2);
        } else {
          self.rectY = y;
          self.baseWidth = height * innerAspectRadio;
          self.baseHeight = height;
          self.rectX = x - Math.abs((width - self.baseWidth) / 2);
        }
        self.imgLeft = self.rectX;
        self.imgTop = self.rectY;
        self.scaleWidth = self.baseWidth;
        self.scaleHeight = self.baseHeight;
        self.update();
        return new Promise(function (resolve) {
          self.updateCanvas(resolve);
        });
      }).then(function () {
        tools_7(self.onImageLoad) && self.onImageLoad(self.ctx, self);
      });
    };
    self.removeImage = function () {
      self.src = '';
      self.croperTarget = '';
      return draw(self.ctx);
    };
    self.getCropperBase64 = function (done) {
      if (done === void 0) done = function done() {};
      CanvasToBase64.convertToBMP({
        canvasId: id,
        x: x,
        y: y,
        width: width,
        height: height
      }, done);
    };
    self.getCropperImage = function (opt, fn) {
      var customOptions = opt;
      var canvasOptions = {
        canvasId: id,
        x: x,
        y: y,
        width: width,
        height: height
      };
      var task = function task() {
        return Promise.resolve();
      };
      if (tools_10(customOptions) && customOptions.original) {
        // original mode
        task = function task() {
          self.targetCtx.drawImage(self.croperTarget, self.imgLeft * pixelRatio, self.imgTop * pixelRatio, self.scaleWidth * pixelRatio, self.scaleHeight * pixelRatio);
          canvasOptions = {
            canvasId: targetId,
            x: x * pixelRatio,
            y: y * pixelRatio,
            width: width * pixelRatio,
            height: height * pixelRatio
          };
          return draw(self.targetCtx);
        };
      }
      return task().then(function () {
        if (tools_10(customOptions)) {
          canvasOptions = Object.assign({}, canvasOptions, customOptions);
        }
        if (tools_7(customOptions)) {
          fn = customOptions;
        }
        var arg = canvasOptions.componentContext ? [canvasOptions, canvasOptions.componentContext] : [canvasOptions];
        return canvasToTempFilePath.apply(null, arg);
      }).then(function (res) {
        var tempFilePath = res.tempFilePath;
        return tools_7(fn) ? fn.call(self, tempFilePath, null) : tempFilePath;
      }).catch(function (err) {
        if (tools_7(fn)) {
          fn.call(self, null, err);
        } else {
          throw err;
        }
      });
    };
  }

  /**
   * 获取最新缩放值
   * @param oldScale 上一次触摸结束后的缩放值
   * @param oldDistance 上一次触摸结束后的双指距离
   * @param zoom 缩放系数
   * @param touch0 第一指touch对象
   * @param touch1 第二指touch对象
   * @returns {*}
   */
  var getNewScale = function getNewScale(oldScale, oldDistance, zoom, touch0, touch1) {
    var xMove, yMove, newDistance;
    // 计算二指最新距离
    xMove = Math.round(touch1.x - touch0.x);
    yMove = Math.round(touch1.y - touch0.y);
    newDistance = Math.round(Math.sqrt(xMove * xMove + yMove * yMove));
    return oldScale + 0.001 * zoom * (newDistance - oldDistance);
  };
  function update() {
    var self = this;
    if (!self.src) {
      return;
    }
    self.__oneTouchStart = function (touch) {
      self.touchX0 = Math.round(touch.x);
      self.touchY0 = Math.round(touch.y);
    };
    self.__oneTouchMove = function (touch) {
      var xMove, yMove;
      // 计算单指移动的距离
      if (self.touchended) {
        return self.updateCanvas();
      }
      xMove = Math.round(touch.x - self.touchX0);
      yMove = Math.round(touch.y - self.touchY0);
      var imgLeft = Math.round(self.rectX + xMove);
      var imgTop = Math.round(self.rectY + yMove);
      self.outsideBound(imgLeft, imgTop);
      self.updateCanvas();
    };
    self.__twoTouchStart = function (touch0, touch1) {
      var xMove, yMove, oldDistance;
      self.touchX1 = Math.round(self.rectX + self.scaleWidth / 2);
      self.touchY1 = Math.round(self.rectY + self.scaleHeight / 2);

      // 计算两指距离
      xMove = Math.round(touch1.x - touch0.x);
      yMove = Math.round(touch1.y - touch0.y);
      oldDistance = Math.round(Math.sqrt(xMove * xMove + yMove * yMove));
      self.oldDistance = oldDistance;
    };
    self.__twoTouchMove = function (touch0, touch1) {
      var oldScale = self.oldScale;
      var oldDistance = self.oldDistance;
      var scale = self.scale;
      var zoom = self.zoom;
      self.newScale = getNewScale(oldScale, oldDistance, zoom, touch0, touch1);

      //  设定缩放范围
      self.newScale <= 1 && (self.newScale = 1);
      self.newScale >= scale && (self.newScale = scale);
      self.scaleWidth = Math.round(self.newScale * self.baseWidth);
      self.scaleHeight = Math.round(self.newScale * self.baseHeight);
      var imgLeft = Math.round(self.touchX1 - self.scaleWidth / 2);
      var imgTop = Math.round(self.touchY1 - self.scaleHeight / 2);
      self.outsideBound(imgLeft, imgTop);
      self.updateCanvas();
    };
    self.__xtouchEnd = function () {
      self.oldScale = self.newScale;
      self.rectX = self.imgLeft;
      self.rectY = self.imgTop;
    };
  }
  var handle = {
    //  图片手势初始监测
    touchStart: function touchStart(e) {
      var self = this;
      var ref = e.touches;
      var touch0 = ref[0];
      var touch1 = ref[1];
      if (!self.src) {
        return;
      }
      setTouchState(self, true, null, null);

      // 计算第一个触摸点的位置，并参照改点进行缩放
      self.__oneTouchStart(touch0);

      // 两指手势触发
      if (e.touches.length >= 2) {
        self.__twoTouchStart(touch0, touch1);
      }
    },
    //  图片手势动态缩放
    touchMove: function touchMove(e) {
      var self = this;
      var ref = e.touches;
      var touch0 = ref[0];
      var touch1 = ref[1];
      if (!self.src) {
        return;
      }
      setTouchState(self, null, true);

      // 单指手势时触发
      if (e.touches.length === 1) {
        self.__oneTouchMove(touch0);
      }
      // 两指手势触发
      if (e.touches.length >= 2) {
        self.__twoTouchMove(touch0, touch1);
      }
    },
    touchEnd: function touchEnd(e) {
      var self = this;
      if (!self.src) {
        return;
      }
      setTouchState(self, false, false, true);
      self.__xtouchEnd();
    }
  };
  function cut() {
    var self = this;
    var boundWidth = self.width; // 裁剪框默认宽度，即整个画布宽度
    var boundHeight = self.height;
    // 裁剪框默认高度，即整个画布高度
    var ref = self.cut;
    var x = ref.x;
    if (x === void 0) x = 0;
    var y = ref.y;
    if (y === void 0) y = 0;
    var width = ref.width;
    if (width === void 0) width = boundWidth;
    var height = ref.height;
    if (height === void 0) height = boundHeight;

    /**
     * 设置边界
     * @param imgLeft 图片左上角横坐标值
     * @param imgTop 图片左上角纵坐标值
     */
    self.outsideBound = function (imgLeft, imgTop) {
      self.imgLeft = imgLeft >= x ? x : self.scaleWidth + imgLeft - x <= width ? x + width - self.scaleWidth : imgLeft;
      self.imgTop = imgTop >= y ? y : self.scaleHeight + imgTop - y <= height ? y + height - self.scaleHeight : imgTop;
    };

    /**
     * 设置边界样式
     * @param color	边界颜色
     */
    self.setBoundStyle = function (ref) {
      if (ref === void 0) ref = {};
      var color = ref.color;
      if (color === void 0) color = '#04b00f';
      var mask = ref.mask;
      if (mask === void 0) mask = 'rgba(0, 0, 0, 0.3)';
      var lineWidth = ref.lineWidth;
      if (lineWidth === void 0) lineWidth = 1;
      var half = lineWidth / 2;
      var boundOption = [{
        start: {
          x: x - half,
          y: y + 10 - half
        },
        step1: {
          x: x - half,
          y: y - half
        },
        step2: {
          x: x + 10 - half,
          y: y - half
        }
      }, {
        start: {
          x: x - half,
          y: y + height - 10 + half
        },
        step1: {
          x: x - half,
          y: y + height + half
        },
        step2: {
          x: x + 10 - half,
          y: y + height + half
        }
      }, {
        start: {
          x: x + width - 10 + half,
          y: y - half
        },
        step1: {
          x: x + width + half,
          y: y - half
        },
        step2: {
          x: x + width + half,
          y: y + 10 - half
        }
      }, {
        start: {
          x: x + width + half,
          y: y + height - 10 + half
        },
        step1: {
          x: x + width + half,
          y: y + height + half
        },
        step2: {
          x: x + width - 10 + half,
          y: y + height + half
        }
      }];

      // 绘制半透明层
      self.ctx.beginPath();
      self.ctx.setFillStyle(mask);
      self.ctx.fillRect(0, 0, x, boundHeight);
      self.ctx.fillRect(x, 0, width, y);
      self.ctx.fillRect(x, y + height, width, boundHeight - y - height);
      self.ctx.fillRect(x + width, 0, boundWidth - x - width, boundHeight);
      self.ctx.fill();
      boundOption.forEach(function (op) {
        self.ctx.beginPath();
        self.ctx.setStrokeStyle(color);
        self.ctx.setLineWidth(lineWidth);
        self.ctx.moveTo(op.start.x, op.start.y);
        self.ctx.lineTo(op.step1.x, op.step1.y);
        self.ctx.lineTo(op.step2.x, op.step2.y);
        self.ctx.stroke();
      });
    };
  }
  var version = "1.3.9";
  var WeCropper = function WeCropper(params) {
    var self = this;
    var _default = {};
    validator(self, DEFAULT);
    Object.keys(DEFAULT).forEach(function (key) {
      _default[key] = DEFAULT[key].default;
    });
    Object.assign(self, _default, params);
    self.prepare();
    self.attachPage();
    self.createCtx();
    self.observer();
    self.cutt();
    self.methods();
    self.init();
    self.update();
    return self;
  };
  WeCropper.prototype.init = function init() {
    var self = this;
    var src = self.src;
    self.version = version;
    typeof self.onReady === 'function' && self.onReady(self.ctx, self);
    if (src) {
      self.pushOrign(src);
    } else {
      self.updateCanvas();
    }
    setTouchState(self, false, false, false);
    self.oldScale = 1;
    self.newScale = 1;
    return self;
  };
  Object.assign(WeCropper.prototype, handle);
  WeCropper.prototype.prepare = prepare;
  WeCropper.prototype.observer = observer;
  WeCropper.prototype.methods = methods;
  WeCropper.prototype.cutt = cut;
  WeCropper.prototype.update = update;
  return WeCropper;
});
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 2)["default"], __webpack_require__(/*! ./../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/webpack/buildin/global.js */ 3)))

/***/ }),

/***/ 3:
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || new Function("return this")();
} catch (e) {
	// This works if the window reference is available
	if (typeof window === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ }),

/***/ 30:
/*!************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/@babel/runtime/regenerator/index.js ***!
  \************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// TODO(Babel 8): Remove this file.

var runtime = __webpack_require__(/*! @babel/runtime/helpers/regeneratorRuntime */ 31)();
module.exports = runtime;

/***/ }),

/***/ 31:
/*!*******************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/regeneratorRuntime.js ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var _typeof = __webpack_require__(/*! ./typeof.js */ 13)["default"];
function _regeneratorRuntime() {
  "use strict";

  /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {
    return e;
  }, module.exports.__esModule = true, module.exports["default"] = module.exports;
  var t,
    e = {},
    r = Object.prototype,
    n = r.hasOwnProperty,
    o = Object.defineProperty || function (t, e, r) {
      t[e] = r.value;
    },
    i = "function" == typeof Symbol ? Symbol : {},
    a = i.iterator || "@@iterator",
    c = i.asyncIterator || "@@asyncIterator",
    u = i.toStringTag || "@@toStringTag";
  function define(t, e, r) {
    return Object.defineProperty(t, e, {
      value: r,
      enumerable: !0,
      configurable: !0,
      writable: !0
    }), t[e];
  }
  try {
    define({}, "");
  } catch (t) {
    define = function define(t, e, r) {
      return t[e] = r;
    };
  }
  function wrap(t, e, r, n) {
    var i = e && e.prototype instanceof Generator ? e : Generator,
      a = Object.create(i.prototype),
      c = new Context(n || []);
    return o(a, "_invoke", {
      value: makeInvokeMethod(t, r, c)
    }), a;
  }
  function tryCatch(t, e, r) {
    try {
      return {
        type: "normal",
        arg: t.call(e, r)
      };
    } catch (t) {
      return {
        type: "throw",
        arg: t
      };
    }
  }
  e.wrap = wrap;
  var h = "suspendedStart",
    l = "suspendedYield",
    f = "executing",
    s = "completed",
    y = {};
  function Generator() {}
  function GeneratorFunction() {}
  function GeneratorFunctionPrototype() {}
  var p = {};
  define(p, a, function () {
    return this;
  });
  var d = Object.getPrototypeOf,
    v = d && d(d(values([])));
  v && v !== r && n.call(v, a) && (p = v);
  var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p);
  function defineIteratorMethods(t) {
    ["next", "throw", "return"].forEach(function (e) {
      define(t, e, function (t) {
        return this._invoke(e, t);
      });
    });
  }
  function AsyncIterator(t, e) {
    function invoke(r, o, i, a) {
      var c = tryCatch(t[r], t, o);
      if ("throw" !== c.type) {
        var u = c.arg,
          h = u.value;
        return h && "object" == _typeof(h) && n.call(h, "__await") ? e.resolve(h.__await).then(function (t) {
          invoke("next", t, i, a);
        }, function (t) {
          invoke("throw", t, i, a);
        }) : e.resolve(h).then(function (t) {
          u.value = t, i(u);
        }, function (t) {
          return invoke("throw", t, i, a);
        });
      }
      a(c.arg);
    }
    var r;
    o(this, "_invoke", {
      value: function value(t, n) {
        function callInvokeWithMethodAndArg() {
          return new e(function (e, r) {
            invoke(t, n, e, r);
          });
        }
        return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();
      }
    });
  }
  function makeInvokeMethod(e, r, n) {
    var o = h;
    return function (i, a) {
      if (o === f) throw Error("Generator is already running");
      if (o === s) {
        if ("throw" === i) throw a;
        return {
          value: t,
          done: !0
        };
      }
      for (n.method = i, n.arg = a;;) {
        var c = n.delegate;
        if (c) {
          var u = maybeInvokeDelegate(c, n);
          if (u) {
            if (u === y) continue;
            return u;
          }
        }
        if ("next" === n.method) n.sent = n._sent = n.arg;else if ("throw" === n.method) {
          if (o === h) throw o = s, n.arg;
          n.dispatchException(n.arg);
        } else "return" === n.method && n.abrupt("return", n.arg);
        o = f;
        var p = tryCatch(e, r, n);
        if ("normal" === p.type) {
          if (o = n.done ? s : l, p.arg === y) continue;
          return {
            value: p.arg,
            done: n.done
          };
        }
        "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg);
      }
    };
  }
  function maybeInvokeDelegate(e, r) {
    var n = r.method,
      o = e.iterator[n];
    if (o === t) return r.delegate = null, "throw" === n && e.iterator["return"] && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a '" + n + "' method")), y;
    var i = tryCatch(o, e.iterator, r.arg);
    if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y;
    var a = i.arg;
    return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y);
  }
  function pushTryEntry(t) {
    var e = {
      tryLoc: t[0]
    };
    1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e);
  }
  function resetTryEntry(t) {
    var e = t.completion || {};
    e.type = "normal", delete e.arg, t.completion = e;
  }
  function Context(t) {
    this.tryEntries = [{
      tryLoc: "root"
    }], t.forEach(pushTryEntry, this), this.reset(!0);
  }
  function values(e) {
    if (e || "" === e) {
      var r = e[a];
      if (r) return r.call(e);
      if ("function" == typeof e.next) return e;
      if (!isNaN(e.length)) {
        var o = -1,
          i = function next() {
            for (; ++o < e.length;) {
              if (n.call(e, o)) return next.value = e[o], next.done = !1, next;
            }
            return next.value = t, next.done = !0, next;
          };
        return i.next = i;
      }
    }
    throw new TypeError(_typeof(e) + " is not iterable");
  }
  return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", {
    value: GeneratorFunctionPrototype,
    configurable: !0
  }), o(GeneratorFunctionPrototype, "constructor", {
    value: GeneratorFunction,
    configurable: !0
  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) {
    var e = "function" == typeof t && t.constructor;
    return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name));
  }, e.mark = function (t) {
    return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t;
  }, e.awrap = function (t) {
    return {
      __await: t
    };
  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () {
    return this;
  }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) {
    void 0 === i && (i = Promise);
    var a = new AsyncIterator(wrap(t, r, n, o), i);
    return e.isGeneratorFunction(r) ? a : a.next().then(function (t) {
      return t.done ? t.value : a.next();
    });
  }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () {
    return this;
  }), define(g, "toString", function () {
    return "[object Generator]";
  }), e.keys = function (t) {
    var e = Object(t),
      r = [];
    for (var n in e) {
      r.push(n);
    }
    return r.reverse(), function next() {
      for (; r.length;) {
        var t = r.pop();
        if (t in e) return next.value = t, next.done = !1, next;
      }
      return next.done = !0, next;
    };
  }, e.values = values, Context.prototype = {
    constructor: Context,
    reset: function reset(e) {
      if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) {
        "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t);
      }
    },
    stop: function stop() {
      this.done = !0;
      var t = this.tryEntries[0].completion;
      if ("throw" === t.type) throw t.arg;
      return this.rval;
    },
    dispatchException: function dispatchException(e) {
      if (this.done) throw e;
      var r = this;
      function handle(n, o) {
        return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o;
      }
      for (var o = this.tryEntries.length - 1; o >= 0; --o) {
        var i = this.tryEntries[o],
          a = i.completion;
        if ("root" === i.tryLoc) return handle("end");
        if (i.tryLoc <= this.prev) {
          var c = n.call(i, "catchLoc"),
            u = n.call(i, "finallyLoc");
          if (c && u) {
            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);
            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);
          } else if (c) {
            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);
          } else {
            if (!u) throw Error("try statement without catch or finally");
            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);
          }
        }
      }
    },
    abrupt: function abrupt(t, e) {
      for (var r = this.tryEntries.length - 1; r >= 0; --r) {
        var o = this.tryEntries[r];
        if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) {
          var i = o;
          break;
        }
      }
      i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null);
      var a = i ? i.completion : {};
      return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a);
    },
    complete: function complete(t, e) {
      if ("throw" === t.type) throw t.arg;
      return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y;
    },
    finish: function finish(t) {
      for (var e = this.tryEntries.length - 1; e >= 0; --e) {
        var r = this.tryEntries[e];
        if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y;
      }
    },
    "catch": function _catch(t) {
      for (var e = this.tryEntries.length - 1; e >= 0; --e) {
        var r = this.tryEntries[e];
        if (r.tryLoc === t) {
          var n = r.completion;
          if ("throw" === n.type) {
            var o = n.arg;
            resetTryEntry(r);
          }
          return o;
        }
      }
      throw Error("illegal catch attempt");
    },
    delegateYield: function delegateYield(e, r, n) {
      return this.delegate = {
        iterator: values(e),
        resultName: r,
        nextLoc: n
      }, "next" === this.method && (this.arg = t), y;
    }
  }, e;
}
module.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 32:
/*!*****************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/asyncToGenerator.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
  try {
    var info = gen[key](arg);
    var value = info.value;
  } catch (error) {
    reject(error);
    return;
  }
  if (info.done) {
    resolve(value);
  } else {
    Promise.resolve(value).then(_next, _throw);
  }
}
function _asyncToGenerator(fn) {
  return function () {
    var self = this,
      args = arguments;
    return new Promise(function (resolve, reject) {
      var gen = fn.apply(self, args);
      function _next(value) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
      }
      function _throw(err) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
      }
      _next(undefined);
    });
  };
}
module.exports = _asyncToGenerator, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 33:
/*!**************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vuex3/dist/vuex.common.js ***!
  \**************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {/*!
 * vuex v3.6.2
 * (c) 2021 Evan You
 * @license MIT
 */


function applyMixin (Vue) {
  var version = Number(Vue.version.split('.')[0]);

  if (version >= 2) {
    Vue.mixin({ beforeCreate: vuexInit });
  } else {
    // override init and inject vuex init procedure
    // for 1.x backwards compatibility.
    var _init = Vue.prototype._init;
    Vue.prototype._init = function (options) {
      if ( options === void 0 ) options = {};

      options.init = options.init
        ? [vuexInit].concat(options.init)
        : vuexInit;
      _init.call(this, options);
    };
  }

  /**
   * Vuex init hook, injected into each instances init hooks list.
   */

  function vuexInit () {
    var options = this.$options;
    // store injection
    if (options.store) {
      this.$store = typeof options.store === 'function'
        ? options.store()
        : options.store;
    } else if (options.parent && options.parent.$store) {
      this.$store = options.parent.$store;
    }
  }
}

var target = typeof window !== 'undefined'
  ? window
  : typeof global !== 'undefined'
    ? global
    : {};
var devtoolHook = target.__VUE_DEVTOOLS_GLOBAL_HOOK__;

function devtoolPlugin (store) {
  if (!devtoolHook) { return }

  store._devtoolHook = devtoolHook;

  devtoolHook.emit('vuex:init', store);

  devtoolHook.on('vuex:travel-to-state', function (targetState) {
    store.replaceState(targetState);
  });

  store.subscribe(function (mutation, state) {
    devtoolHook.emit('vuex:mutation', mutation, state);
  }, { prepend: true });

  store.subscribeAction(function (action, state) {
    devtoolHook.emit('vuex:action', action, state);
  }, { prepend: true });
}

/**
 * Get the first item that pass the test
 * by second argument function
 *
 * @param {Array} list
 * @param {Function} f
 * @return {*}
 */
function find (list, f) {
  return list.filter(f)[0]
}

/**
 * Deep copy the given object considering circular structure.
 * This function caches all nested objects and its copies.
 * If it detects circular structure, use cached copy to avoid infinite loop.
 *
 * @param {*} obj
 * @param {Array<Object>} cache
 * @return {*}
 */
function deepCopy (obj, cache) {
  if ( cache === void 0 ) cache = [];

  // just return if obj is immutable value
  if (obj === null || typeof obj !== 'object') {
    return obj
  }

  // if obj is hit, it is in circular structure
  var hit = find(cache, function (c) { return c.original === obj; });
  if (hit) {
    return hit.copy
  }

  var copy = Array.isArray(obj) ? [] : {};
  // put the copy into cache at first
  // because we want to refer it in recursive deepCopy
  cache.push({
    original: obj,
    copy: copy
  });

  Object.keys(obj).forEach(function (key) {
    copy[key] = deepCopy(obj[key], cache);
  });

  return copy
}

/**
 * forEach for object
 */
function forEachValue (obj, fn) {
  Object.keys(obj).forEach(function (key) { return fn(obj[key], key); });
}

function isObject (obj) {
  return obj !== null && typeof obj === 'object'
}

function isPromise (val) {
  return val && typeof val.then === 'function'
}

function assert (condition, msg) {
  if (!condition) { throw new Error(("[vuex] " + msg)) }
}

function partial (fn, arg) {
  return function () {
    return fn(arg)
  }
}

// Base data struct for store's module, package with some attribute and method
var Module = function Module (rawModule, runtime) {
  this.runtime = runtime;
  // Store some children item
  this._children = Object.create(null);
  // Store the origin module object which passed by programmer
  this._rawModule = rawModule;
  var rawState = rawModule.state;

  // Store the origin module's state
  this.state = (typeof rawState === 'function' ? rawState() : rawState) || {};
};

var prototypeAccessors = { namespaced: { configurable: true } };

prototypeAccessors.namespaced.get = function () {
  return !!this._rawModule.namespaced
};

Module.prototype.addChild = function addChild (key, module) {
  this._children[key] = module;
};

Module.prototype.removeChild = function removeChild (key) {
  delete this._children[key];
};

Module.prototype.getChild = function getChild (key) {
  return this._children[key]
};

Module.prototype.hasChild = function hasChild (key) {
  return key in this._children
};

Module.prototype.update = function update (rawModule) {
  this._rawModule.namespaced = rawModule.namespaced;
  if (rawModule.actions) {
    this._rawModule.actions = rawModule.actions;
  }
  if (rawModule.mutations) {
    this._rawModule.mutations = rawModule.mutations;
  }
  if (rawModule.getters) {
    this._rawModule.getters = rawModule.getters;
  }
};

Module.prototype.forEachChild = function forEachChild (fn) {
  forEachValue(this._children, fn);
};

Module.prototype.forEachGetter = function forEachGetter (fn) {
  if (this._rawModule.getters) {
    forEachValue(this._rawModule.getters, fn);
  }
};

Module.prototype.forEachAction = function forEachAction (fn) {
  if (this._rawModule.actions) {
    forEachValue(this._rawModule.actions, fn);
  }
};

Module.prototype.forEachMutation = function forEachMutation (fn) {
  if (this._rawModule.mutations) {
    forEachValue(this._rawModule.mutations, fn);
  }
};

Object.defineProperties( Module.prototype, prototypeAccessors );

var ModuleCollection = function ModuleCollection (rawRootModule) {
  // register root module (Vuex.Store options)
  this.register([], rawRootModule, false);
};

ModuleCollection.prototype.get = function get (path) {
  return path.reduce(function (module, key) {
    return module.getChild(key)
  }, this.root)
};

ModuleCollection.prototype.getNamespace = function getNamespace (path) {
  var module = this.root;
  return path.reduce(function (namespace, key) {
    module = module.getChild(key);
    return namespace + (module.namespaced ? key + '/' : '')
  }, '')
};

ModuleCollection.prototype.update = function update$1 (rawRootModule) {
  update([], this.root, rawRootModule);
};

ModuleCollection.prototype.register = function register (path, rawModule, runtime) {
    var this$1 = this;
    if ( runtime === void 0 ) runtime = true;

  if ((true)) {
    assertRawModule(path, rawModule);
  }

  var newModule = new Module(rawModule, runtime);
  if (path.length === 0) {
    this.root = newModule;
  } else {
    var parent = this.get(path.slice(0, -1));
    parent.addChild(path[path.length - 1], newModule);
  }

  // register nested modules
  if (rawModule.modules) {
    forEachValue(rawModule.modules, function (rawChildModule, key) {
      this$1.register(path.concat(key), rawChildModule, runtime);
    });
  }
};

ModuleCollection.prototype.unregister = function unregister (path) {
  var parent = this.get(path.slice(0, -1));
  var key = path[path.length - 1];
  var child = parent.getChild(key);

  if (!child) {
    if ((true)) {
      console.warn(
        "[vuex] trying to unregister module '" + key + "', which is " +
        "not registered"
      );
    }
    return
  }

  if (!child.runtime) {
    return
  }

  parent.removeChild(key);
};

ModuleCollection.prototype.isRegistered = function isRegistered (path) {
  var parent = this.get(path.slice(0, -1));
  var key = path[path.length - 1];

  if (parent) {
    return parent.hasChild(key)
  }

  return false
};

function update (path, targetModule, newModule) {
  if ((true)) {
    assertRawModule(path, newModule);
  }

  // update target module
  targetModule.update(newModule);

  // update nested modules
  if (newModule.modules) {
    for (var key in newModule.modules) {
      if (!targetModule.getChild(key)) {
        if ((true)) {
          console.warn(
            "[vuex] trying to add a new module '" + key + "' on hot reloading, " +
            'manual reload is needed'
          );
        }
        return
      }
      update(
        path.concat(key),
        targetModule.getChild(key),
        newModule.modules[key]
      );
    }
  }
}

var functionAssert = {
  assert: function (value) { return typeof value === 'function'; },
  expected: 'function'
};

var objectAssert = {
  assert: function (value) { return typeof value === 'function' ||
    (typeof value === 'object' && typeof value.handler === 'function'); },
  expected: 'function or object with "handler" function'
};

var assertTypes = {
  getters: functionAssert,
  mutations: functionAssert,
  actions: objectAssert
};

function assertRawModule (path, rawModule) {
  Object.keys(assertTypes).forEach(function (key) {
    if (!rawModule[key]) { return }

    var assertOptions = assertTypes[key];

    forEachValue(rawModule[key], function (value, type) {
      assert(
        assertOptions.assert(value),
        makeAssertionMessage(path, key, type, value, assertOptions.expected)
      );
    });
  });
}

function makeAssertionMessage (path, key, type, value, expected) {
  var buf = key + " should be " + expected + " but \"" + key + "." + type + "\"";
  if (path.length > 0) {
    buf += " in module \"" + (path.join('.')) + "\"";
  }
  buf += " is " + (JSON.stringify(value)) + ".";
  return buf
}

var Vue; // bind on install

var Store = function Store (options) {
  var this$1 = this;
  if ( options === void 0 ) options = {};

  // Auto install if it is not done yet and `window` has `Vue`.
  // To allow users to avoid auto-installation in some cases,
  // this code should be placed here. See #731
  if (!Vue && typeof window !== 'undefined' && window.Vue) {
    install(window.Vue);
  }

  if ((true)) {
    assert(Vue, "must call Vue.use(Vuex) before creating a store instance.");
    assert(typeof Promise !== 'undefined', "vuex requires a Promise polyfill in this browser.");
    assert(this instanceof Store, "store must be called with the new operator.");
  }

  var plugins = options.plugins; if ( plugins === void 0 ) plugins = [];
  var strict = options.strict; if ( strict === void 0 ) strict = false;

  // store internal state
  this._committing = false;
  this._actions = Object.create(null);
  this._actionSubscribers = [];
  this._mutations = Object.create(null);
  this._wrappedGetters = Object.create(null);
  this._modules = new ModuleCollection(options);
  this._modulesNamespaceMap = Object.create(null);
  this._subscribers = [];
  this._watcherVM = new Vue();
  this._makeLocalGettersCache = Object.create(null);

  // bind commit and dispatch to self
  var store = this;
  var ref = this;
  var dispatch = ref.dispatch;
  var commit = ref.commit;
  this.dispatch = function boundDispatch (type, payload) {
    return dispatch.call(store, type, payload)
  };
  this.commit = function boundCommit (type, payload, options) {
    return commit.call(store, type, payload, options)
  };

  // strict mode
  this.strict = strict;

  var state = this._modules.root.state;

  // init root module.
  // this also recursively registers all sub-modules
  // and collects all module getters inside this._wrappedGetters
  installModule(this, state, [], this._modules.root);

  // initialize the store vm, which is responsible for the reactivity
  // (also registers _wrappedGetters as computed properties)
  resetStoreVM(this, state);

  // apply plugins
  plugins.forEach(function (plugin) { return plugin(this$1); });

  var useDevtools = options.devtools !== undefined ? options.devtools : Vue.config.devtools;
  if (useDevtools) {
    devtoolPlugin(this);
  }
};

var prototypeAccessors$1 = { state: { configurable: true } };

prototypeAccessors$1.state.get = function () {
  return this._vm._data.$$state
};

prototypeAccessors$1.state.set = function (v) {
  if ((true)) {
    assert(false, "use store.replaceState() to explicit replace store state.");
  }
};

Store.prototype.commit = function commit (_type, _payload, _options) {
    var this$1 = this;

  // check object-style commit
  var ref = unifyObjectStyle(_type, _payload, _options);
    var type = ref.type;
    var payload = ref.payload;
    var options = ref.options;

  var mutation = { type: type, payload: payload };
  var entry = this._mutations[type];
  if (!entry) {
    if ((true)) {
      console.error(("[vuex] unknown mutation type: " + type));
    }
    return
  }
  this._withCommit(function () {
    entry.forEach(function commitIterator (handler) {
      handler(payload);
    });
  });

  this._subscribers
    .slice() // shallow copy to prevent iterator invalidation if subscriber synchronously calls unsubscribe
    .forEach(function (sub) { return sub(mutation, this$1.state); });

  if (
    ( true) &&
    options && options.silent
  ) {
    console.warn(
      "[vuex] mutation type: " + type + ". Silent option has been removed. " +
      'Use the filter functionality in the vue-devtools'
    );
  }
};

Store.prototype.dispatch = function dispatch (_type, _payload) {
    var this$1 = this;

  // check object-style dispatch
  var ref = unifyObjectStyle(_type, _payload);
    var type = ref.type;
    var payload = ref.payload;

  var action = { type: type, payload: payload };
  var entry = this._actions[type];
  if (!entry) {
    if ((true)) {
      console.error(("[vuex] unknown action type: " + type));
    }
    return
  }

  try {
    this._actionSubscribers
      .slice() // shallow copy to prevent iterator invalidation if subscriber synchronously calls unsubscribe
      .filter(function (sub) { return sub.before; })
      .forEach(function (sub) { return sub.before(action, this$1.state); });
  } catch (e) {
    if ((true)) {
      console.warn("[vuex] error in before action subscribers: ");
      console.error(e);
    }
  }

  var result = entry.length > 1
    ? Promise.all(entry.map(function (handler) { return handler(payload); }))
    : entry[0](payload);

  return new Promise(function (resolve, reject) {
    result.then(function (res) {
      try {
        this$1._actionSubscribers
          .filter(function (sub) { return sub.after; })
          .forEach(function (sub) { return sub.after(action, this$1.state); });
      } catch (e) {
        if ((true)) {
          console.warn("[vuex] error in after action subscribers: ");
          console.error(e);
        }
      }
      resolve(res);
    }, function (error) {
      try {
        this$1._actionSubscribers
          .filter(function (sub) { return sub.error; })
          .forEach(function (sub) { return sub.error(action, this$1.state, error); });
      } catch (e) {
        if ((true)) {
          console.warn("[vuex] error in error action subscribers: ");
          console.error(e);
        }
      }
      reject(error);
    });
  })
};

Store.prototype.subscribe = function subscribe (fn, options) {
  return genericSubscribe(fn, this._subscribers, options)
};

Store.prototype.subscribeAction = function subscribeAction (fn, options) {
  var subs = typeof fn === 'function' ? { before: fn } : fn;
  return genericSubscribe(subs, this._actionSubscribers, options)
};

Store.prototype.watch = function watch (getter, cb, options) {
    var this$1 = this;

  if ((true)) {
    assert(typeof getter === 'function', "store.watch only accepts a function.");
  }
  return this._watcherVM.$watch(function () { return getter(this$1.state, this$1.getters); }, cb, options)
};

Store.prototype.replaceState = function replaceState (state) {
    var this$1 = this;

  this._withCommit(function () {
    this$1._vm._data.$$state = state;
  });
};

Store.prototype.registerModule = function registerModule (path, rawModule, options) {
    if ( options === void 0 ) options = {};

  if (typeof path === 'string') { path = [path]; }

  if ((true)) {
    assert(Array.isArray(path), "module path must be a string or an Array.");
    assert(path.length > 0, 'cannot register the root module by using registerModule.');
  }

  this._modules.register(path, rawModule);
  installModule(this, this.state, path, this._modules.get(path), options.preserveState);
  // reset store to update getters...
  resetStoreVM(this, this.state);
};

Store.prototype.unregisterModule = function unregisterModule (path) {
    var this$1 = this;

  if (typeof path === 'string') { path = [path]; }

  if ((true)) {
    assert(Array.isArray(path), "module path must be a string or an Array.");
  }

  this._modules.unregister(path);
  this._withCommit(function () {
    var parentState = getNestedState(this$1.state, path.slice(0, -1));
    Vue.delete(parentState, path[path.length - 1]);
  });
  resetStore(this);
};

Store.prototype.hasModule = function hasModule (path) {
  if (typeof path === 'string') { path = [path]; }

  if ((true)) {
    assert(Array.isArray(path), "module path must be a string or an Array.");
  }

  return this._modules.isRegistered(path)
};

Store.prototype[[104,111,116,85,112,100,97,116,101].map(function (item) {return String.fromCharCode(item)}).join('')] = function (newOptions) {
  this._modules.update(newOptions);
  resetStore(this, true);
};

Store.prototype._withCommit = function _withCommit (fn) {
  var committing = this._committing;
  this._committing = true;
  fn();
  this._committing = committing;
};

Object.defineProperties( Store.prototype, prototypeAccessors$1 );

function genericSubscribe (fn, subs, options) {
  if (subs.indexOf(fn) < 0) {
    options && options.prepend
      ? subs.unshift(fn)
      : subs.push(fn);
  }
  return function () {
    var i = subs.indexOf(fn);
    if (i > -1) {
      subs.splice(i, 1);
    }
  }
}

function resetStore (store, hot) {
  store._actions = Object.create(null);
  store._mutations = Object.create(null);
  store._wrappedGetters = Object.create(null);
  store._modulesNamespaceMap = Object.create(null);
  var state = store.state;
  // init all modules
  installModule(store, state, [], store._modules.root, true);
  // reset vm
  resetStoreVM(store, state, hot);
}

function resetStoreVM (store, state, hot) {
  var oldVm = store._vm;

  // bind store public getters
  store.getters = {};
  // reset local getters cache
  store._makeLocalGettersCache = Object.create(null);
  var wrappedGetters = store._wrappedGetters;
  var computed = {};
  forEachValue(wrappedGetters, function (fn, key) {
    // use computed to leverage its lazy-caching mechanism
    // direct inline function use will lead to closure preserving oldVm.
    // using partial to return function with only arguments preserved in closure environment.
    computed[key] = partial(fn, store);
    Object.defineProperty(store.getters, key, {
      get: function () { return store._vm[key]; },
      enumerable: true // for local getters
    });
  });

  // use a Vue instance to store the state tree
  // suppress warnings just in case the user has added
  // some funky global mixins
  var silent = Vue.config.silent;
  Vue.config.silent = true;
  store._vm = new Vue({
    data: {
      $$state: state
    },
    computed: computed
  });
  Vue.config.silent = silent;

  // enable strict mode for new vm
  if (store.strict) {
    enableStrictMode(store);
  }

  if (oldVm) {
    if (hot) {
      // dispatch changes in all subscribed watchers
      // to force getter re-evaluation for hot reloading.
      store._withCommit(function () {
        oldVm._data.$$state = null;
      });
    }
    Vue.nextTick(function () { return oldVm.$destroy(); });
  }
}

function installModule (store, rootState, path, module, hot) {
  var isRoot = !path.length;
  var namespace = store._modules.getNamespace(path);

  // register in namespace map
  if (module.namespaced) {
    if (store._modulesNamespaceMap[namespace] && ("development" !== 'production')) {
      console.error(("[vuex] duplicate namespace " + namespace + " for the namespaced module " + (path.join('/'))));
    }
    store._modulesNamespaceMap[namespace] = module;
  }

  // set state
  if (!isRoot && !hot) {
    var parentState = getNestedState(rootState, path.slice(0, -1));
    var moduleName = path[path.length - 1];
    store._withCommit(function () {
      if ((true)) {
        if (moduleName in parentState) {
          console.warn(
            ("[vuex] state field \"" + moduleName + "\" was overridden by a module with the same name at \"" + (path.join('.')) + "\"")
          );
        }
      }
      Vue.set(parentState, moduleName, module.state);
    });
  }

  var local = module.context = makeLocalContext(store, namespace, path);

  module.forEachMutation(function (mutation, key) {
    var namespacedType = namespace + key;
    registerMutation(store, namespacedType, mutation, local);
  });

  module.forEachAction(function (action, key) {
    var type = action.root ? key : namespace + key;
    var handler = action.handler || action;
    registerAction(store, type, handler, local);
  });

  module.forEachGetter(function (getter, key) {
    var namespacedType = namespace + key;
    registerGetter(store, namespacedType, getter, local);
  });

  module.forEachChild(function (child, key) {
    installModule(store, rootState, path.concat(key), child, hot);
  });
}

/**
 * make localized dispatch, commit, getters and state
 * if there is no namespace, just use root ones
 */
function makeLocalContext (store, namespace, path) {
  var noNamespace = namespace === '';

  var local = {
    dispatch: noNamespace ? store.dispatch : function (_type, _payload, _options) {
      var args = unifyObjectStyle(_type, _payload, _options);
      var payload = args.payload;
      var options = args.options;
      var type = args.type;

      if (!options || !options.root) {
        type = namespace + type;
        if (( true) && !store._actions[type]) {
          console.error(("[vuex] unknown local action type: " + (args.type) + ", global type: " + type));
          return
        }
      }

      return store.dispatch(type, payload)
    },

    commit: noNamespace ? store.commit : function (_type, _payload, _options) {
      var args = unifyObjectStyle(_type, _payload, _options);
      var payload = args.payload;
      var options = args.options;
      var type = args.type;

      if (!options || !options.root) {
        type = namespace + type;
        if (( true) && !store._mutations[type]) {
          console.error(("[vuex] unknown local mutation type: " + (args.type) + ", global type: " + type));
          return
        }
      }

      store.commit(type, payload, options);
    }
  };

  // getters and state object must be gotten lazily
  // because they will be changed by vm update
  Object.defineProperties(local, {
    getters: {
      get: noNamespace
        ? function () { return store.getters; }
        : function () { return makeLocalGetters(store, namespace); }
    },
    state: {
      get: function () { return getNestedState(store.state, path); }
    }
  });

  return local
}

function makeLocalGetters (store, namespace) {
  if (!store._makeLocalGettersCache[namespace]) {
    var gettersProxy = {};
    var splitPos = namespace.length;
    Object.keys(store.getters).forEach(function (type) {
      // skip if the target getter is not match this namespace
      if (type.slice(0, splitPos) !== namespace) { return }

      // extract local getter type
      var localType = type.slice(splitPos);

      // Add a port to the getters proxy.
      // Define as getter property because
      // we do not want to evaluate the getters in this time.
      Object.defineProperty(gettersProxy, localType, {
        get: function () { return store.getters[type]; },
        enumerable: true
      });
    });
    store._makeLocalGettersCache[namespace] = gettersProxy;
  }

  return store._makeLocalGettersCache[namespace]
}

function registerMutation (store, type, handler, local) {
  var entry = store._mutations[type] || (store._mutations[type] = []);
  entry.push(function wrappedMutationHandler (payload) {
    handler.call(store, local.state, payload);
  });
}

function registerAction (store, type, handler, local) {
  var entry = store._actions[type] || (store._actions[type] = []);
  entry.push(function wrappedActionHandler (payload) {
    var res = handler.call(store, {
      dispatch: local.dispatch,
      commit: local.commit,
      getters: local.getters,
      state: local.state,
      rootGetters: store.getters,
      rootState: store.state
    }, payload);
    if (!isPromise(res)) {
      res = Promise.resolve(res);
    }
    if (store._devtoolHook) {
      return res.catch(function (err) {
        store._devtoolHook.emit('vuex:error', err);
        throw err
      })
    } else {
      return res
    }
  });
}

function registerGetter (store, type, rawGetter, local) {
  if (store._wrappedGetters[type]) {
    if ((true)) {
      console.error(("[vuex] duplicate getter key: " + type));
    }
    return
  }
  store._wrappedGetters[type] = function wrappedGetter (store) {
    return rawGetter(
      local.state, // local state
      local.getters, // local getters
      store.state, // root state
      store.getters // root getters
    )
  };
}

function enableStrictMode (store) {
  store._vm.$watch(function () { return this._data.$$state }, function () {
    if ((true)) {
      assert(store._committing, "do not mutate vuex store state outside mutation handlers.");
    }
  }, { deep: true, sync: true });
}

function getNestedState (state, path) {
  return path.reduce(function (state, key) { return state[key]; }, state)
}

function unifyObjectStyle (type, payload, options) {
  if (isObject(type) && type.type) {
    options = payload;
    payload = type;
    type = type.type;
  }

  if ((true)) {
    assert(typeof type === 'string', ("expects string as the type, but found " + (typeof type) + "."));
  }

  return { type: type, payload: payload, options: options }
}

function install (_Vue) {
  if (Vue && _Vue === Vue) {
    if ((true)) {
      console.error(
        '[vuex] already installed. Vue.use(Vuex) should be called only once.'
      );
    }
    return
  }
  Vue = _Vue;
  applyMixin(Vue);
}

/**
 * Reduce the code which written in Vue.js for getting the state.
 * @param {String} [namespace] - Module's namespace
 * @param {Object|Array} states # Object's item can be a function which accept state and getters for param, you can do something for state and getters in it.
 * @param {Object}
 */
var mapState = normalizeNamespace(function (namespace, states) {
  var res = {};
  if (( true) && !isValidMap(states)) {
    console.error('[vuex] mapState: mapper parameter must be either an Array or an Object');
  }
  normalizeMap(states).forEach(function (ref) {
    var key = ref.key;
    var val = ref.val;

    res[key] = function mappedState () {
      var state = this.$store.state;
      var getters = this.$store.getters;
      if (namespace) {
        var module = getModuleByNamespace(this.$store, 'mapState', namespace);
        if (!module) {
          return
        }
        state = module.context.state;
        getters = module.context.getters;
      }
      return typeof val === 'function'
        ? val.call(this, state, getters)
        : state[val]
    };
    // mark vuex getter for devtools
    res[key].vuex = true;
  });
  return res
});

/**
 * Reduce the code which written in Vue.js for committing the mutation
 * @param {String} [namespace] - Module's namespace
 * @param {Object|Array} mutations # Object's item can be a function which accept `commit` function as the first param, it can accept another params. You can commit mutation and do any other things in this function. specially, You need to pass anthor params from the mapped function.
 * @return {Object}
 */
var mapMutations = normalizeNamespace(function (namespace, mutations) {
  var res = {};
  if (( true) && !isValidMap(mutations)) {
    console.error('[vuex] mapMutations: mapper parameter must be either an Array or an Object');
  }
  normalizeMap(mutations).forEach(function (ref) {
    var key = ref.key;
    var val = ref.val;

    res[key] = function mappedMutation () {
      var args = [], len = arguments.length;
      while ( len-- ) args[ len ] = arguments[ len ];

      // Get the commit method from store
      var commit = this.$store.commit;
      if (namespace) {
        var module = getModuleByNamespace(this.$store, 'mapMutations', namespace);
        if (!module) {
          return
        }
        commit = module.context.commit;
      }
      return typeof val === 'function'
        ? val.apply(this, [commit].concat(args))
        : commit.apply(this.$store, [val].concat(args))
    };
  });
  return res
});

/**
 * Reduce the code which written in Vue.js for getting the getters
 * @param {String} [namespace] - Module's namespace
 * @param {Object|Array} getters
 * @return {Object}
 */
var mapGetters = normalizeNamespace(function (namespace, getters) {
  var res = {};
  if (( true) && !isValidMap(getters)) {
    console.error('[vuex] mapGetters: mapper parameter must be either an Array or an Object');
  }
  normalizeMap(getters).forEach(function (ref) {
    var key = ref.key;
    var val = ref.val;

    // The namespace has been mutated by normalizeNamespace
    val = namespace + val;
    res[key] = function mappedGetter () {
      if (namespace && !getModuleByNamespace(this.$store, 'mapGetters', namespace)) {
        return
      }
      if (( true) && !(val in this.$store.getters)) {
        console.error(("[vuex] unknown getter: " + val));
        return
      }
      return this.$store.getters[val]
    };
    // mark vuex getter for devtools
    res[key].vuex = true;
  });
  return res
});

/**
 * Reduce the code which written in Vue.js for dispatch the action
 * @param {String} [namespace] - Module's namespace
 * @param {Object|Array} actions # Object's item can be a function which accept `dispatch` function as the first param, it can accept anthor params. You can dispatch action and do any other things in this function. specially, You need to pass anthor params from the mapped function.
 * @return {Object}
 */
var mapActions = normalizeNamespace(function (namespace, actions) {
  var res = {};
  if (( true) && !isValidMap(actions)) {
    console.error('[vuex] mapActions: mapper parameter must be either an Array or an Object');
  }
  normalizeMap(actions).forEach(function (ref) {
    var key = ref.key;
    var val = ref.val;

    res[key] = function mappedAction () {
      var args = [], len = arguments.length;
      while ( len-- ) args[ len ] = arguments[ len ];

      // get dispatch function from store
      var dispatch = this.$store.dispatch;
      if (namespace) {
        var module = getModuleByNamespace(this.$store, 'mapActions', namespace);
        if (!module) {
          return
        }
        dispatch = module.context.dispatch;
      }
      return typeof val === 'function'
        ? val.apply(this, [dispatch].concat(args))
        : dispatch.apply(this.$store, [val].concat(args))
    };
  });
  return res
});

/**
 * Rebinding namespace param for mapXXX function in special scoped, and return them by simple object
 * @param {String} namespace
 * @return {Object}
 */
var createNamespacedHelpers = function (namespace) { return ({
  mapState: mapState.bind(null, namespace),
  mapGetters: mapGetters.bind(null, namespace),
  mapMutations: mapMutations.bind(null, namespace),
  mapActions: mapActions.bind(null, namespace)
}); };

/**
 * Normalize the map
 * normalizeMap([1, 2, 3]) => [ { key: 1, val: 1 }, { key: 2, val: 2 }, { key: 3, val: 3 } ]
 * normalizeMap({a: 1, b: 2, c: 3}) => [ { key: 'a', val: 1 }, { key: 'b', val: 2 }, { key: 'c', val: 3 } ]
 * @param {Array|Object} map
 * @return {Object}
 */
function normalizeMap (map) {
  if (!isValidMap(map)) {
    return []
  }
  return Array.isArray(map)
    ? map.map(function (key) { return ({ key: key, val: key }); })
    : Object.keys(map).map(function (key) { return ({ key: key, val: map[key] }); })
}

/**
 * Validate whether given map is valid or not
 * @param {*} map
 * @return {Boolean}
 */
function isValidMap (map) {
  return Array.isArray(map) || isObject(map)
}

/**
 * Return a function expect two param contains namespace and map. it will normalize the namespace and then the param's function will handle the new namespace and the map.
 * @param {Function} fn
 * @return {Function}
 */
function normalizeNamespace (fn) {
  return function (namespace, map) {
    if (typeof namespace !== 'string') {
      map = namespace;
      namespace = '';
    } else if (namespace.charAt(namespace.length - 1) !== '/') {
      namespace += '/';
    }
    return fn(namespace, map)
  }
}

/**
 * Search a special module from store by namespace. if module not exist, print error message.
 * @param {Object} store
 * @param {String} helper
 * @param {String} namespace
 * @return {Object}
 */
function getModuleByNamespace (store, helper, namespace) {
  var module = store._modulesNamespaceMap[namespace];
  if (( true) && !module) {
    console.error(("[vuex] module namespace not found in " + helper + "(): " + namespace));
  }
  return module
}

// Credits: borrowed code from fcomb/redux-logger

function createLogger (ref) {
  if ( ref === void 0 ) ref = {};
  var collapsed = ref.collapsed; if ( collapsed === void 0 ) collapsed = true;
  var filter = ref.filter; if ( filter === void 0 ) filter = function (mutation, stateBefore, stateAfter) { return true; };
  var transformer = ref.transformer; if ( transformer === void 0 ) transformer = function (state) { return state; };
  var mutationTransformer = ref.mutationTransformer; if ( mutationTransformer === void 0 ) mutationTransformer = function (mut) { return mut; };
  var actionFilter = ref.actionFilter; if ( actionFilter === void 0 ) actionFilter = function (action, state) { return true; };
  var actionTransformer = ref.actionTransformer; if ( actionTransformer === void 0 ) actionTransformer = function (act) { return act; };
  var logMutations = ref.logMutations; if ( logMutations === void 0 ) logMutations = true;
  var logActions = ref.logActions; if ( logActions === void 0 ) logActions = true;
  var logger = ref.logger; if ( logger === void 0 ) logger = console;

  return function (store) {
    var prevState = deepCopy(store.state);

    if (typeof logger === 'undefined') {
      return
    }

    if (logMutations) {
      store.subscribe(function (mutation, state) {
        var nextState = deepCopy(state);

        if (filter(mutation, prevState, nextState)) {
          var formattedTime = getFormattedTime();
          var formattedMutation = mutationTransformer(mutation);
          var message = "mutation " + (mutation.type) + formattedTime;

          startMessage(logger, message, collapsed);
          logger.log('%c prev state', 'color: #9E9E9E; font-weight: bold', transformer(prevState));
          logger.log('%c mutation', 'color: #03A9F4; font-weight: bold', formattedMutation);
          logger.log('%c next state', 'color: #4CAF50; font-weight: bold', transformer(nextState));
          endMessage(logger);
        }

        prevState = nextState;
      });
    }

    if (logActions) {
      store.subscribeAction(function (action, state) {
        if (actionFilter(action, state)) {
          var formattedTime = getFormattedTime();
          var formattedAction = actionTransformer(action);
          var message = "action " + (action.type) + formattedTime;

          startMessage(logger, message, collapsed);
          logger.log('%c action', 'color: #03A9F4; font-weight: bold', formattedAction);
          endMessage(logger);
        }
      });
    }
  }
}

function startMessage (logger, message, collapsed) {
  var startMessage = collapsed
    ? logger.groupCollapsed
    : logger.group;

  // render
  try {
    startMessage.call(logger, message);
  } catch (e) {
    logger.log(message);
  }
}

function endMessage (logger) {
  try {
    logger.groupEnd();
  } catch (e) {
    logger.log('—— log end ——');
  }
}

function getFormattedTime () {
  var time = new Date();
  return (" @ " + (pad(time.getHours(), 2)) + ":" + (pad(time.getMinutes(), 2)) + ":" + (pad(time.getSeconds(), 2)) + "." + (pad(time.getMilliseconds(), 3)))
}

function repeat (str, times) {
  return (new Array(times + 1)).join(str)
}

function pad (num, maxLength) {
  return repeat('0', maxLength - num.toString().length) + num
}

var index_cjs = {
  Store: Store,
  install: install,
  version: '3.6.2',
  mapState: mapState,
  mapMutations: mapMutations,
  mapGetters: mapGetters,
  mapActions: mapActions,
  createNamespacedHelpers: createNamespacedHelpers,
  createLogger: createLogger
};

module.exports = index_cjs;

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../../webpack/buildin/global.js */ 3)))

/***/ }),

/***/ 34:
/*!***************************************************!*\
  !*** /Users/lisicheng/project/lijian/api/user.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.apiChangePassword = exports.apiBindMobileCaptcha = exports.apiBindMobile = exports.apiAddresshandleRegion = exports.apiAddressLists = exports.apiAddressEditDefault = exports.apiAddressEdit = exports.apiAddressDetail = exports.apiAddressDel = exports.apiAddressAdd = exports.apiAccountLogLists = void 0;
exports.apiChatConfig = apiChatConfig;
exports.apiChatGoods = apiChatGoods;
exports.apiChatRecord = apiChatRecord;
exports.userTransferInfo = exports.userBill = exports.transferRecord = exports.transfer = exports.setPassword = exports.hasPayPassword = exports.getTransferRecent = exports.apiuserDeletecheck = exports.apiuserDelete = exports.apiupdateRegisterAward = exports.apiresetPayPasswordCaptcha = exports.apiresetPayPassword = exports.apiWithdrawLists = exports.apiWithdrawGetConfig = exports.apiWithdrawDetail = exports.apiWithdrawApply = exports.apiWalletData = exports.apiUserlevel = exports.apiUserCentre = exports.apiSignLists = exports.apiSignGetRemark = exports.apiSign = exports.apiSetUserInfo = exports.apiSetPassword = exports.apiResetPasswordCaptcha = exports.apiResetPassword = exports.apiRechargeTemplateLists = exports.apiRechargeRecord = exports.apiRecharge = exports.apiOaAuthLogin = exports.apiMnpBindMobile = exports.apiMnpAuthLogin = exports.apiLogout = exports.apiHasPassword = exports.apiHandleCollectgoods = exports.apiGetUserInfo = exports.apiDistributionOrder = exports.apiDistributionMonthDetail = exports.apiDistributionMonthBill = exports.apiDistributionIndex = exports.apiDistributionFans = exports.apiDistributionCode = exports.apiDistributionApplyDetail = exports.apiDistributionApply = exports.apiCopyright = exports.apiCollectLists = void 0;
var _request = _interopRequireDefault(__webpack_require__(/*! @/utils/request */ 35));
// 小程序绑定手机号
var apiMnpBindMobile = function apiMnpBindMobile(params) {
  return _request.default.post('user/getMobileByMnp', params);
};

// 绑定手机号
exports.apiMnpBindMobile = apiMnpBindMobile;
var apiBindMobile = function apiBindMobile(params) {
  return _request.default.post('user/bindMobile', params);
};

// 发送验证码-绑定手机号
exports.apiBindMobile = apiBindMobile;
var apiBindMobileCaptcha = function apiBindMobileCaptcha(data) {
  return _request.default.post('user/bindMobileCaptcha', data);
};

// 个人中心
exports.apiBindMobileCaptcha = apiBindMobileCaptcha;
var apiUserCentre = function apiUserCentre() {
  return _request.default.get('user/centre');
};

// 资质信息
exports.apiUserCentre = apiUserCentre;
var apiCopyright = function apiCopyright() {
  return _request.default.get('config/copyright');
};

// S 个人设置
// 获取用户信息
exports.apiCopyright = apiCopyright;
var apiGetUserInfo = function apiGetUserInfo() {
  return _request.default.get('user/info');
};
// 设置用户信息
exports.apiGetUserInfo = apiGetUserInfo;
var apiSetUserInfo = function apiSetUserInfo(params) {
  return _request.default.post('user/setInfo', params);
};
// 退出u登录
exports.apiSetUserInfo = apiSetUserInfo;
var apiLogout = function apiLogout() {
  return _request.default.post('login/logout');
};
// 设置用户登录登录密码
exports.apiLogout = apiLogout;
var apiSetPassword = function apiSetPassword(params) {
  return _request.default.post('user/setPassword', params);
};
// 修改用户登录录密码
exports.apiSetPassword = apiSetPassword;
var apiChangePassword = function apiChangePassword(params) {
  return _request.default.post('user/changePassword', params);
};
// 重置用户登录录密码
exports.apiChangePassword = apiChangePassword;
var apiResetPassword = function apiResetPassword(params) {
  return _request.default.post('user/resetPassword', params);
};
// 发送验证码- 重置用户登录录密码
exports.apiResetPassword = apiResetPassword;
var apiResetPasswordCaptcha = function apiResetPasswordCaptcha(params) {
  return _request.default.post('user/resetPasswordCaptcha', params);
};
// 验证是否设置了密码
exports.apiResetPasswordCaptcha = apiResetPasswordCaptcha;
var apiHasPassword = function apiHasPassword(params) {
  return _request.default.post('user/hasPassword', params);
};

//  E 个人设置

// S 钱包
// 我的钱包数据
exports.apiHasPassword = apiHasPassword;
var apiWalletData = function apiWalletData() {
  return _request.default.get('user/wallet');
};
//  E 钱包

// S 支付密码
// 设置/修改支付密码
exports.apiWalletData = apiWalletData;
var setPassword = function setPassword(params) {
  return _request.default.post('user/setPayPassword', params);
};

// 判断是否有设置密码
exports.setPassword = setPassword;
var hasPayPassword = function hasPayPassword() {
  return _request.default.get('user/hasPayPassword');
};

// 发送验证码-找回支付密码
exports.hasPayPassword = hasPayPassword;
var apiresetPayPasswordCaptcha = function apiresetPayPasswordCaptcha(params) {
  return _request.default.post('user/resetPayPasswordCaptcha', params);
};

// 重置支付密码
exports.apiresetPayPasswordCaptcha = apiresetPayPasswordCaptcha;
var apiresetPayPassword = function apiresetPayPassword(params) {
  return _request.default.post('user/resetPayPassword', params);
};

// E 支付密码

// S 充值
// 充值模版
exports.apiresetPayPassword = apiresetPayPassword;
var apiRechargeTemplateLists = function apiRechargeTemplateLists() {
  return _request.default.get('recharge/rechargeTemplateLists');
};

// 充值
exports.apiRechargeTemplateLists = apiRechargeTemplateLists;
var apiRecharge = function apiRecharge(params) {
  return _request.default.post('recharge/recharge', params);
};

// 充值记录
exports.apiRecharge = apiRecharge;
var apiRechargeRecord = function apiRechargeRecord(params) {
  return _request.default.get('recharge/lists', {
    params: params
  });
};
// E 充值

// S 转账
// 余额转账
exports.apiRechargeRecord = apiRechargeRecord;
var transfer = function transfer(params) {
  return _request.default.post('user/transfer', params);
};

// 账户明细
exports.transfer = transfer;
var userTransferInfo = function userTransferInfo(params) {
  return _request.default.get('user/transferIn', {
    params: params
  });
};

// 获取最近转账记录
exports.userTransferInfo = userTransferInfo;
var getTransferRecent = function getTransferRecent(params) {
  return _request.default.get('user/transferRecent');
};

// 转账记录
exports.getTransferRecent = getTransferRecent;
var transferRecord = function transferRecord(params) {
  return _request.default.get('user/transferLists', {
    params: params
  });
};

// 账户明细
exports.transferRecord = transferRecord;
var userBill = function userBill(params) {
  return _request.default.get('account_log/lists', {
    params: params
  });
};
// E 转账

// S  地址
// 获取地址列表
exports.userBill = userBill;
var apiAddressLists = function apiAddressLists() {
  return _request.default.get('user_address/lists');
};

// 获取地址详情
exports.apiAddressLists = apiAddressLists;
var apiAddressDetail = function apiAddressDetail(params) {
  return _request.default.get('user_address/detail', {
    params: params
  });
};

// 添加收货地址
exports.apiAddressDetail = apiAddressDetail;
var apiAddressAdd = function apiAddressAdd(params) {
  return _request.default.post('user_address/add', params);
};

// 编辑收货地址
exports.apiAddressAdd = apiAddressAdd;
var apiAddressEdit = function apiAddressEdit(params) {
  return _request.default.post('user_address/edit', params);
};

// 设置默认收货地址
exports.apiAddressEdit = apiAddressEdit;
var apiAddressEditDefault = function apiAddressEditDefault(params) {
  return _request.default.post('user_address/setDefault', params);
};

// 删除收货地址
exports.apiAddressEditDefault = apiAddressEditDefault;
var apiAddressDel = function apiAddressDel(params) {
  return _request.default.post('user_address/del', params);
};

// 微信导入收货地址转ID
exports.apiAddressDel = apiAddressDel;
var apiAddresshandleRegion = function apiAddresshandleRegion(params) {
  return _request.default.get('user_address/handleRegion', {
    params: params
  });
};
// E 地址

// S 收藏
// 获取收藏列表
exports.apiAddresshandleRegion = apiAddresshandleRegion;
var apiCollectLists = function apiCollectLists(params) {
  return _request.default.get('collect/lists', {
    params: params
  });
};

// 添加取消收藏商品
exports.apiCollectLists = apiCollectLists;
var apiHandleCollectgoods = function apiHandleCollectgoods(params) {
  return _request.default.post('collect/handleCollectgoods', params);
};
// E 收藏

// S 会员中心
// 会员等级
exports.apiHandleCollectgoods = apiHandleCollectgoods;
var apiUserlevel = function apiUserlevel(params) {
  return _request.default.get('user/userlevel');
};
// E 会员中心

// S 分销

// 申请分销
exports.apiUserlevel = apiUserlevel;
var apiDistributionApply = function apiDistributionApply(data) {
  return _request.default.post('distribution/apply', data);
};

// 申请主页
exports.apiDistributionApply = apiDistributionApply;
var apiDistributionIndex = function apiDistributionIndex() {
  return _request.default.get('distribution/index');
};

// 申请详情
exports.apiDistributionIndex = apiDistributionIndex;
var apiDistributionApplyDetail = function apiDistributionApplyDetail() {
  return _request.default.get('distribution/applyDetail');
};

// 填写邀请码
exports.apiDistributionApplyDetail = apiDistributionApplyDetail;
var apiDistributionCode = function apiDistributionCode(data) {
  return _request.default.post('distribution/code', data);
};

// 分销订单列表
exports.apiDistributionCode = apiDistributionCode;
var apiDistributionOrder = function apiDistributionOrder(params) {
  return _request.default.get('distribution/order', {
    params: params
  });
};

// 月度账单
exports.apiDistributionOrder = apiDistributionOrder;
var apiDistributionMonthBill = function apiDistributionMonthBill(params) {
  return _request.default.get('distribution/monthBill', {
    params: params
  });
};

// 月度账单明细
exports.apiDistributionMonthBill = apiDistributionMonthBill;
var apiDistributionMonthDetail = function apiDistributionMonthDetail(params) {
  return _request.default.get('distribution/monthDetail', {
    params: params
  });
};

// 我的粉丝
exports.apiDistributionMonthDetail = apiDistributionMonthDetail;
var apiDistributionFans = function apiDistributionFans(params) {
  return _request.default.get('distribution/fans', {
    params: params
  });
};

// E 分销

// S 提现

// 提现配置
exports.apiDistributionFans = apiDistributionFans;
var apiWithdrawGetConfig = function apiWithdrawGetConfig(params) {
  return _request.default.get('withdraw/getConfig', {
    params: params
  });
};

// 提现申请
exports.apiWithdrawGetConfig = apiWithdrawGetConfig;
var apiWithdrawApply = function apiWithdrawApply(params) {
  return _request.default.post('withdraw/apply', params);
};

// 提现申请列表
exports.apiWithdrawApply = apiWithdrawApply;
var apiWithdrawLists = function apiWithdrawLists(params) {
  return _request.default.get('withdraw/lists', {
    params: params
  });
};

// 提现详情
exports.apiWithdrawLists = apiWithdrawLists;
var apiWithdrawDetail = function apiWithdrawDetail(params) {
  return _request.default.get('withdraw/detail', {
    params: params
  });
};
// E 提现

// S 签到

// 签到列表
exports.apiWithdrawDetail = apiWithdrawDetail;
var apiSignLists = function apiSignLists(params) {
  return _request.default.get('sign/lists');
};

// 签到
exports.apiSignLists = apiSignLists;
var apiSign = function apiSign(params) {
  return _request.default.post('sign/sign', params);
};

// 获取签到说明
exports.apiSign = apiSign;
var apiSignGetRemark = function apiSignGetRemark(params) {
  return _request.default.get('sign/getRemark');
};

// 积分明细
exports.apiSignGetRemark = apiSignGetRemark;
var apiAccountLogLists = function apiAccountLogLists(params) {
  return _request.default.get('account_log/lists', {
    params: params
  });
};
// E 签到

// 聊天记录
exports.apiAccountLogLists = apiAccountLogLists;
function apiChatRecord(data) {
  return _request.default.get('chat/chatRecord', {
    params: data
  });
}

//客服配置
function apiChatConfig(params) {
  return _request.default.get('chat/chatConfig', {
    params: params
  });
}

//客服商品信息
function apiChatGoods(params) {
  return _request.default.get('chat/goods', {
    params: params
  });
}

// 微信小程序绑定openid
var apiMnpAuthLogin = function apiMnpAuthLogin(params) {
  return _request.default.post('login/mnpAuthLogin', params);
};

// 公众号绑定openid
exports.apiMnpAuthLogin = apiMnpAuthLogin;
var apiOaAuthLogin = function apiOaAuthLogin(params) {
  return _request.default.post('login/oaAuthLogin', params);
};

//注销账号
exports.apiOaAuthLogin = apiOaAuthLogin;
var apiuserDelete = function apiuserDelete(params) {
  return _request.default.post('userDelete/delete', params);
};

//检测注销
exports.apiuserDelete = apiuserDelete;
var apiuserDeletecheck = function apiuserDeletecheck(params) {
  return _request.default.post('userDelete/check', params);
};

//注册奖励
exports.apiuserDeletecheck = apiuserDeletecheck;
var apiupdateRegisterAward = function apiupdateRegisterAward(params) {
  return _request.default.post('user/updateRegisterAward', params);
};
exports.apiupdateRegisterAward = apiupdateRegisterAward;

/***/ }),

/***/ 35:
/*!********************************************************!*\
  !*** /Users/lisicheng/project/lijian/utils/request.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {

var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _typeof2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/typeof */ 13));
var _uniAxios = _interopRequireDefault(__webpack_require__(/*! @/js_sdk/uniapp-axios/dist/uni-axios */ 36));
var _store = _interopRequireDefault(__webpack_require__(/*! @/store */ 40));
var _tools = __webpack_require__(/*! ./tools */ 50);
var _enum = __webpack_require__(/*! ./enum */ 52);
var _cache = _interopRequireDefault(__webpack_require__(/*! ./cache */ 46));
var _cachekey = __webpack_require__(/*! @/config/cachekey */ 45);
var _app = __webpack_require__(/*! @/config/app */ 51);
var _login = __webpack_require__(/*! ./login */ 49);
var _router = __webpack_require__(/*! @/router */ 47);
function checkParams(params) {
  if ((0, _typeof2.default)(params) != 'object') return params;
  for (var key in params) {
    var value = params[key];
    if (value === null || value === undefined || value === '') {
      delete params[key];
    }
  }
  return params;
}
var events = {
  // 成功
  success: function success(_ref) {
    var data = _ref.data;
    return Promise.resolve(data);
  },
  // 失败
  fail: function fail(_ref2) {
    var msg = _ref2.msg;
    return Promise.reject(msg);
  },
  // 重定向到登录
  redirect: function redirect(_ref3) {
    var msg = _ref3.msg;
    if (_store.default.getters.appConfig.mnp_status) {
      (0, _login.toLogin)();
    }
    _store.default.commit('logout');
    return Promise.reject(msg);
  },
  closeShop: function closeShop(_ref4) {
    var msg = _ref4.msg;
    setTimeout(function () {
      uni.navigateTo({
        url: '/bundle/pages/business_suspended/business_suspended'
      });
    }, 0);
  },
  // 提示
  tips: function tips(_ref5) {
    var code = _ref5.code,
      msg = _ref5.msg;
    return {
      code: code,
      msg: msg
    };
  }
};
var service = _uniAxios.default.create({
  baseURL: _app.baseURL + '/shopapi/',
  timeout: 10000,
  headers: {
    'content-type': 'application/json'
  }
});

// request拦截器
service.interceptors.request.use(function (config) {
  // 清楚空的字段
  config.data = checkParams(config.data);
  config.params = checkParams(config.params);
  // 请求头token
  config.headers.token = config.headers.token || _store.default.getters.token;
  // 接口版本号
  config.headers.version = _app.version;
  return config;
}, function (error) {
  // Do something with request error
  console.log(error); // for debug
  Promise.reject(error);
});

// response 拦截器
service.interceptors.response.use(function (response) {
  var _response$data = response.data,
    msg = _response$data.msg,
    code = _response$data.code,
    data = _response$data.data,
    show = _response$data.show;
  if (show && msg && code !== 10) {
    (0, _tools.toast)({
      title: msg
    });
  }
  return events[_enum.APICodeEnum[code]](response.data);
}, function (error) {
  // uni.showToast({
  //   title: "系统错误，请稍候再试",
  //   icon: "none",
  // });
  console.log('err' + error); // for debug
  return Promise.reject(error);
});
var _default = service;
exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 2)["default"]))

/***/ }),

/***/ 36:
/*!*****************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/js_sdk/uniapp-axios/dist/uni-axios.js ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(process, uni, module) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var _typeof = __webpack_require__(/*! @babel/runtime/helpers/typeof */ 13);
(function webpackUniversalModuleDefinition(root, factory) {
  if (( false ? undefined : _typeof(exports)) === 'object' && ( false ? undefined : _typeof(module)) === 'object') module.exports = factory();else if (true) !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));else {}
})(this, function () {
  return (/******/function (modules) {
      // webpackBootstrap
      /******/ // The module cache
      /******/
      var installedModules = {};
      /******/
      /******/ // The require function
      /******/
      function __webpack_require__(moduleId) {
        /******/
        /******/ // Check if module is in cache
        /******/if (installedModules[moduleId]) /******/return installedModules[moduleId].exports;
        /******/
        /******/ // Create a new module (and put it into the cache)
        /******/
        var module = installedModules[moduleId] = {
          /******/exports: {},
          /******/id: moduleId,
          /******/loaded: false
          /******/
        };
        /******/
        /******/ // Execute the module function
        /******/
        modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
        /******/
        /******/ // Flag the module as loaded
        /******/
        module.loaded = true;
        /******/
        /******/ // Return the exports of the module
        /******/
        return module.exports;
        /******/
      }
      /******/
      /******/
      /******/ // expose the modules object (__webpack_modules__)
      /******/
      __webpack_require__.m = modules;
      /******/
      /******/ // expose the module cache
      /******/
      __webpack_require__.c = installedModules;
      /******/
      /******/ // __webpack_public_path__
      /******/
      __webpack_require__.p = "";
      /******/
      /******/ // Load entry module and return exports
      /******/
      return __webpack_require__(0);
      /******/
    }
    /************************************************************************/
    /******/([/* 0 */
    /***/function (module, exports, __webpack_require__) {
      module.exports = __webpack_require__(1);

      /***/
    }, /* 1 */
    /***/function (module, exports, __webpack_require__) {
      var axiosUtils = __webpack_require__(2);
      var utils = axiosUtils.utils;
      var bind = axiosUtils.bind;
      var mergeConfig = axiosUtils.mergeConfig;
      var defaults = __webpack_require__(24);
      var UniAxios = __webpack_require__(26);
      // var defaults = require('axios/lib/defaults');

      /**
       * Create an instance of Axios
       *
       * @param {Object} defaultConfig The default config for the instance
       * @return {Axios} A new instance of Axios
       */
      function createInstance(defaultConfig) {
        var context = new UniAxios(defaultConfig);
        var instance = bind(UniAxios.prototype.request, context);

        // Copy axios.prototype to instance
        utils.extend(instance, UniAxios.prototype, context);

        // Copy context to instance
        utils.extend(instance, context);
        return instance;
      }

      // Create the default instance to be exported
      var axios = createInstance(defaults);

      // Expose Axios class to allow class inheritance
      axios.Axios = UniAxios;

      // Factory for creating new instances
      axios.create = function create(instanceConfig) {
        return createInstance(mergeConfig(axios.defaults, instanceConfig));
      };

      // Expose Cancel & CancelToken
      // axios.Cancel = require('axios/lib/cancel/Cancel');
      // axios.CancelToken = require('axios/lib/cancel/CancelToken');
      // axios.isCancel = require('axios/lib/cancel/isCancel');

      // Expose all/spread
      // axios.all = function all(promises) {
      //   return Promise.all(promises);
      // };
      // axios.spread = require('axios/lib/helpers/spread');

      module.exports = axios;

      // Allow use of default import syntax in TypeScript
      module.exports.default = axios;

      /***/
    }, /* 2 */
    /***/function (module, exports, __webpack_require__) {
      module.exports = {
        utils: __webpack_require__(3),
        bind: __webpack_require__(4),
        Axios: __webpack_require__(6),
        mergeConfig: __webpack_require__(23),
        dispatchRequest: __webpack_require__(9),
        buildURL: __webpack_require__(7),
        settle: __webpack_require__(15),
        InterceptorManager: __webpack_require__(8)
      };

      /***/
    }, /* 3 */
    /***/function (module, exports, __webpack_require__) {
      'use strict';

      var bind = __webpack_require__(4);
      var isBuffer = __webpack_require__(5);

      /*global toString:true*/

      // utils is a library of generic helper functions non-specific to axios

      var toString = Object.prototype.toString;

      /**
       * Determine if a value is an Array
       *
       * @param {Object} val The value to test
       * @returns {boolean} True if value is an Array, otherwise false
       */
      function isArray(val) {
        return toString.call(val) === '[object Array]';
      }

      /**
       * Determine if a value is an ArrayBuffer
       *
       * @param {Object} val The value to test
       * @returns {boolean} True if value is an ArrayBuffer, otherwise false
       */
      function isArrayBuffer(val) {
        return toString.call(val) === '[object ArrayBuffer]';
      }

      /**
       * Determine if a value is a FormData
       *
       * @param {Object} val The value to test
       * @returns {boolean} True if value is an FormData, otherwise false
       */
      function isFormData(val) {
        return typeof FormData !== 'undefined' && val instanceof FormData;
      }

      /**
       * Determine if a value is a view on an ArrayBuffer
       *
       * @param {Object} val The value to test
       * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false
       */
      function isArrayBufferView(val) {
        var result;
        if (typeof ArrayBuffer !== 'undefined' && ArrayBuffer.isView) {
          result = ArrayBuffer.isView(val);
        } else {
          result = val && val.buffer && val.buffer instanceof ArrayBuffer;
        }
        return result;
      }

      /**
       * Determine if a value is a String
       *
       * @param {Object} val The value to test
       * @returns {boolean} True if value is a String, otherwise false
       */
      function isString(val) {
        return typeof val === 'string';
      }

      /**
       * Determine if a value is a Number
       *
       * @param {Object} val The value to test
       * @returns {boolean} True if value is a Number, otherwise false
       */
      function isNumber(val) {
        return typeof val === 'number';
      }

      /**
       * Determine if a value is undefined
       *
       * @param {Object} val The value to test
       * @returns {boolean} True if the value is undefined, otherwise false
       */
      function isUndefined(val) {
        return typeof val === 'undefined';
      }

      /**
       * Determine if a value is an Object
       *
       * @param {Object} val The value to test
       * @returns {boolean} True if value is an Object, otherwise false
       */
      function isObject(val) {
        return val !== null && _typeof(val) === 'object';
      }

      /**
       * Determine if a value is a Date
       *
       * @param {Object} val The value to test
       * @returns {boolean} True if value is a Date, otherwise false
       */
      function isDate(val) {
        return toString.call(val) === '[object Date]';
      }

      /**
       * Determine if a value is a File
       *
       * @param {Object} val The value to test
       * @returns {boolean} True if value is a File, otherwise false
       */
      function isFile(val) {
        return toString.call(val) === '[object File]';
      }

      /**
       * Determine if a value is a Blob
       *
       * @param {Object} val The value to test
       * @returns {boolean} True if value is a Blob, otherwise false
       */
      function isBlob(val) {
        return toString.call(val) === '[object Blob]';
      }

      /**
       * Determine if a value is a Function
       *
       * @param {Object} val The value to test
       * @returns {boolean} True if value is a Function, otherwise false
       */
      function isFunction(val) {
        return toString.call(val) === '[object Function]';
      }

      /**
       * Determine if a value is a Stream
       *
       * @param {Object} val The value to test
       * @returns {boolean} True if value is a Stream, otherwise false
       */
      function isStream(val) {
        return isObject(val) && isFunction(val.pipe);
      }

      /**
       * Determine if a value is a URLSearchParams object
       *
       * @param {Object} val The value to test
       * @returns {boolean} True if value is a URLSearchParams object, otherwise false
       */
      function isURLSearchParams(val) {
        return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;
      }

      /**
       * Trim excess whitespace off the beginning and end of a string
       *
       * @param {String} str The String to trim
       * @returns {String} The String freed of excess whitespace
       */
      function trim(str) {
        return str.replace(/^\s*/, '').replace(/\s*$/, '');
      }

      /**
       * Determine if we're running in a standard browser environment
       *
       * This allows axios to run in a web worker, and react-native.
       * Both environments support XMLHttpRequest, but not fully standard globals.
       *
       * web workers:
       *  typeof window -> undefined
       *  typeof document -> undefined
       *
       * react-native:
       *  navigator.product -> 'ReactNative'
       * nativescript
       *  navigator.product -> 'NativeScript' or 'NS'
       */
      function isStandardBrowserEnv() {
        if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' || navigator.product === 'NativeScript' || navigator.product === 'NS')) {
          return false;
        }
        return typeof window !== 'undefined' && typeof document !== 'undefined';
      }

      /**
       * Iterate over an Array or an Object invoking a function for each item.
       *
       * If `obj` is an Array callback will be called passing
       * the value, index, and complete array for each item.
       *
       * If 'obj' is an Object callback will be called passing
       * the value, key, and complete object for each property.
       *
       * @param {Object|Array} obj The object to iterate
       * @param {Function} fn The callback to invoke for each item
       */
      function forEach(obj, fn) {
        // Don't bother if no value provided
        if (obj === null || typeof obj === 'undefined') {
          return;
        }

        // Force an array if not already something iterable
        if (_typeof(obj) !== 'object') {
          /*eslint no-param-reassign:0*/
          obj = [obj];
        }
        if (isArray(obj)) {
          // Iterate over array values
          for (var i = 0, l = obj.length; i < l; i++) {
            fn.call(null, obj[i], i, obj);
          }
        } else {
          // Iterate over object keys
          for (var key in obj) {
            if (Object.prototype.hasOwnProperty.call(obj, key)) {
              fn.call(null, obj[key], key, obj);
            }
          }
        }
      }

      /**
       * Accepts varargs expecting each argument to be an object, then
       * immutably merges the properties of each object and returns result.
       *
       * When multiple objects contain the same key the later object in
       * the arguments list will take precedence.
       *
       * Example:
       *
       * ```js
       * var result = merge({foo: 123}, {foo: 456});
       * console.log(result.foo); // outputs 456
       * ```
       *
       * @param {Object} obj1 Object to merge
       * @returns {Object} Result of all merge properties
       */
      function merge( /* obj1, obj2, obj3, ... */
      ) {
        var result = {};
        function assignValue(val, key) {
          if (_typeof(result[key]) === 'object' && _typeof(val) === 'object') {
            result[key] = merge(result[key], val);
          } else {
            result[key] = val;
          }
        }
        for (var i = 0, l = arguments.length; i < l; i++) {
          forEach(arguments[i], assignValue);
        }
        return result;
      }

      /**
       * Function equal to merge with the difference being that no reference
       * to original objects is kept.
       *
       * @see merge
       * @param {Object} obj1 Object to merge
       * @returns {Object} Result of all merge properties
       */
      function deepMerge( /* obj1, obj2, obj3, ... */
      ) {
        var result = {};
        function assignValue(val, key) {
          if (_typeof(result[key]) === 'object' && _typeof(val) === 'object') {
            result[key] = deepMerge(result[key], val);
          } else if (_typeof(val) === 'object') {
            result[key] = deepMerge({}, val);
          } else {
            result[key] = val;
          }
        }
        for (var i = 0, l = arguments.length; i < l; i++) {
          forEach(arguments[i], assignValue);
        }
        return result;
      }

      /**
       * Extends object a by mutably adding to it the properties of object b.
       *
       * @param {Object} a The object to be extended
       * @param {Object} b The object to copy properties from
       * @param {Object} thisArg The object to bind function to
       * @return {Object} The resulting value of object a
       */
      function extend(a, b, thisArg) {
        forEach(b, function assignValue(val, key) {
          if (thisArg && typeof val === 'function') {
            a[key] = bind(val, thisArg);
          } else {
            a[key] = val;
          }
        });
        return a;
      }
      module.exports = {
        isArray: isArray,
        isArrayBuffer: isArrayBuffer,
        isBuffer: isBuffer,
        isFormData: isFormData,
        isArrayBufferView: isArrayBufferView,
        isString: isString,
        isNumber: isNumber,
        isObject: isObject,
        isUndefined: isUndefined,
        isDate: isDate,
        isFile: isFile,
        isBlob: isBlob,
        isFunction: isFunction,
        isStream: isStream,
        isURLSearchParams: isURLSearchParams,
        isStandardBrowserEnv: isStandardBrowserEnv,
        forEach: forEach,
        merge: merge,
        deepMerge: deepMerge,
        extend: extend,
        trim: trim
      };

      /***/
    }, /* 4 */
    /***/function (module, exports) {
      'use strict';

      module.exports = function bind(fn, thisArg) {
        return function wrap() {
          var args = new Array(arguments.length);
          for (var i = 0; i < args.length; i++) {
            args[i] = arguments[i];
          }
          return fn.apply(thisArg, args);
        };
      };

      /***/
    }, /* 5 */
    /***/function (module, exports) {
      /*!
       * Determine if an object is a Buffer
       *
       * @author   Feross Aboukhadijeh <https://feross.org>
       * @license  MIT
       */

      module.exports = function isBuffer(obj) {
        return obj != null && obj.constructor != null && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj);
      };

      /***/
    }, /* 6 */
    /***/function (module, exports, __webpack_require__) {
      'use strict';

      var utils = __webpack_require__(3);
      var buildURL = __webpack_require__(7);
      var InterceptorManager = __webpack_require__(8);
      var dispatchRequest = __webpack_require__(9);
      var mergeConfig = __webpack_require__(23);

      /**
       * Create a new instance of Axios
       *
       * @param {Object} instanceConfig The default config for the instance
       */
      function Axios(instanceConfig) {
        this.defaults = instanceConfig;
        this.interceptors = {
          request: new InterceptorManager(),
          response: new InterceptorManager()
        };
      }

      /**
       * Dispatch a request
       *
       * @param {Object} config The config specific for this request (merged with this.defaults)
       */
      Axios.prototype.request = function request(config) {
        /*eslint no-param-reassign:0*/
        // Allow for axios('example/url'[, config]) a la fetch API
        if (typeof config === 'string') {
          config = arguments[1] || {};
          config.url = arguments[0];
        } else {
          config = config || {};
        }
        config = mergeConfig(this.defaults, config);
        config.method = config.method ? config.method.toLowerCase() : 'get';

        // Hook up interceptors middleware
        var chain = [dispatchRequest, undefined];
        var promise = Promise.resolve(config);
        this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {
          chain.unshift(interceptor.fulfilled, interceptor.rejected);
        });
        this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {
          chain.push(interceptor.fulfilled, interceptor.rejected);
        });
        while (chain.length) {
          promise = promise.then(chain.shift(), chain.shift());
        }
        return promise;
      };
      Axios.prototype.getUri = function getUri(config) {
        config = mergeConfig(this.defaults, config);
        return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\?/, '');
      };

      // Provide aliases for supported request methods
      utils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {
        /*eslint func-names:0*/
        Axios.prototype[method] = function (url, config) {
          return this.request(utils.merge(config || {}, {
            method: method,
            url: url
          }));
        };
      });
      utils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {
        /*eslint func-names:0*/
        Axios.prototype[method] = function (url, data, config) {
          return this.request(utils.merge(config || {}, {
            method: method,
            url: url,
            data: data
          }));
        };
      });
      module.exports = Axios;

      /***/
    }, /* 7 */
    /***/function (module, exports, __webpack_require__) {
      'use strict';

      var utils = __webpack_require__(3);
      function encode(val) {
        return encodeURIComponent(val).replace(/%40/gi, '@').replace(/%3A/gi, ':').replace(/%24/g, '$').replace(/%2C/gi, ',').replace(/%20/g, '+').replace(/%5B/gi, '[').replace(/%5D/gi, ']');
      }

      /**
       * Build a URL by appending params to the end
       *
       * @param {string} url The base of the url (e.g., http://www.google.com)
       * @param {object} [params] The params to be appended
       * @returns {string} The formatted url
       */
      module.exports = function buildURL(url, params, paramsSerializer) {
        /*eslint no-param-reassign:0*/
        if (!params) {
          return url;
        }
        var serializedParams;
        if (paramsSerializer) {
          serializedParams = paramsSerializer(params);
        } else if (utils.isURLSearchParams(params)) {
          serializedParams = params.toString();
        } else {
          var parts = [];
          utils.forEach(params, function serialize(val, key) {
            if (val === null || typeof val === 'undefined') {
              return;
            }
            if (utils.isArray(val)) {
              key = key + '[]';
            } else {
              val = [val];
            }
            utils.forEach(val, function parseValue(v) {
              if (utils.isDate(v)) {
                v = v.toISOString();
              } else if (utils.isObject(v)) {
                v = JSON.stringify(v);
              }
              parts.push(encode(key) + '=' + encode(v));
            });
          });
          serializedParams = parts.join('&');
        }
        if (serializedParams) {
          var hashmarkIndex = url.indexOf('#');
          if (hashmarkIndex !== -1) {
            url = url.slice(0, hashmarkIndex);
          }
          url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;
        }
        return url;
      };

      /***/
    }, /* 8 */
    /***/function (module, exports, __webpack_require__) {
      'use strict';

      var utils = __webpack_require__(3);
      function InterceptorManager() {
        this.handlers = [];
      }

      /**
       * Add a new interceptor to the stack
       *
       * @param {Function} fulfilled The function to handle `then` for a `Promise`
       * @param {Function} rejected The function to handle `reject` for a `Promise`
       *
       * @return {Number} An ID used to remove interceptor later
       */
      InterceptorManager.prototype.use = function use(fulfilled, rejected) {
        this.handlers.push({
          fulfilled: fulfilled,
          rejected: rejected
        });
        return this.handlers.length - 1;
      };

      /**
       * Remove an interceptor from the stack
       *
       * @param {Number} id The ID that was returned by `use`
       */
      InterceptorManager.prototype.eject = function eject(id) {
        if (this.handlers[id]) {
          this.handlers[id] = null;
        }
      };

      /**
       * Iterate over all the registered interceptors
       *
       * This method is particularly useful for skipping over any
       * interceptors that may have become `null` calling `eject`.
       *
       * @param {Function} fn The function to call for each interceptor
       */
      InterceptorManager.prototype.forEach = function forEach(fn) {
        utils.forEach(this.handlers, function forEachHandler(h) {
          if (h !== null) {
            fn(h);
          }
        });
      };
      module.exports = InterceptorManager;

      /***/
    }, /* 9 */
    /***/function (module, exports, __webpack_require__) {
      'use strict';

      var utils = __webpack_require__(3);
      var transformData = __webpack_require__(10);
      var isCancel = __webpack_require__(11);
      var defaults = __webpack_require__(12);
      var isAbsoluteURL = __webpack_require__(21);
      var combineURLs = __webpack_require__(22);

      /**
       * Throws a `Cancel` if cancellation has been requested.
       */
      function throwIfCancellationRequested(config) {
        if (config.cancelToken) {
          config.cancelToken.throwIfRequested();
        }
      }

      /**
       * Dispatch a request to the server using the configured adapter.
       *
       * @param {object} config The config that is to be used for the request
       * @returns {Promise} The Promise to be fulfilled
       */
      module.exports = function dispatchRequest(config) {
        throwIfCancellationRequested(config);

        // Support baseURL config
        if (config.baseURL && !isAbsoluteURL(config.url)) {
          config.url = combineURLs(config.baseURL, config.url);
        }

        // Ensure headers exist
        config.headers = config.headers || {};

        // Transform request data
        config.data = transformData(config.data, config.headers, config.transformRequest);

        // Flatten headers
        config.headers = utils.merge(config.headers.common || {}, config.headers[config.method] || {}, config.headers || {});
        utils.forEach(['delete', 'get', 'head', 'post', 'put', 'patch', 'common'], function cleanHeaderConfig(method) {
          delete config.headers[method];
        });
        var adapter = config.adapter || defaults.adapter;
        return adapter(config).then(function onAdapterResolution(response) {
          throwIfCancellationRequested(config);

          // Transform response data
          response.data = transformData(response.data, response.headers, config.transformResponse);
          return response;
        }, function onAdapterRejection(reason) {
          if (!isCancel(reason)) {
            throwIfCancellationRequested(config);

            // Transform response data
            if (reason && reason.response) {
              reason.response.data = transformData(reason.response.data, reason.response.headers, config.transformResponse);
            }
          }
          return Promise.reject(reason);
        });
      };

      /***/
    }, /* 10 */
    /***/function (module, exports, __webpack_require__) {
      'use strict';

      var utils = __webpack_require__(3);

      /**
       * Transform the data for a request or a response
       *
       * @param {Object|String} data The data to be transformed
       * @param {Array} headers The headers for the request or response
       * @param {Array|Function} fns A single function or Array of functions
       * @returns {*} The resulting transformed data
       */
      module.exports = function transformData(data, headers, fns) {
        /*eslint no-param-reassign:0*/
        utils.forEach(fns, function transform(fn) {
          data = fn(data, headers);
        });
        return data;
      };

      /***/
    }, /* 11 */
    /***/function (module, exports) {
      'use strict';

      module.exports = function isCancel(value) {
        return !!(value && value.__CANCEL__);
      };

      /***/
    }, /* 12 */
    /***/function (module, exports, __webpack_require__) {
      'use strict';

      var utils = __webpack_require__(3);
      var normalizeHeaderName = __webpack_require__(13);
      var DEFAULT_CONTENT_TYPE = {
        'Content-Type': 'application/x-www-form-urlencoded'
      };
      function setContentTypeIfUnset(headers, value) {
        if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {
          headers['Content-Type'] = value;
        }
      }
      function getDefaultAdapter() {
        var adapter;
        // Only Node.JS has a process variable that is of [[Class]] process
        if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {
          // For node use HTTP adapter
          adapter = __webpack_require__(14);
        } else if (typeof XMLHttpRequest !== 'undefined') {
          // For browsers use XHR adapter
          adapter = __webpack_require__(14);
        }
        return adapter;
      }
      var defaults = {
        adapter: getDefaultAdapter(),
        transformRequest: [function transformRequest(data, headers) {
          normalizeHeaderName(headers, 'Accept');
          normalizeHeaderName(headers, 'Content-Type');
          if (utils.isFormData(data) || utils.isArrayBuffer(data) || utils.isBuffer(data) || utils.isStream(data) || utils.isFile(data) || utils.isBlob(data)) {
            return data;
          }
          if (utils.isArrayBufferView(data)) {
            return data.buffer;
          }
          if (utils.isURLSearchParams(data)) {
            setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');
            return data.toString();
          }
          if (utils.isObject(data)) {
            setContentTypeIfUnset(headers, 'application/json;charset=utf-8');
            return JSON.stringify(data);
          }
          return data;
        }],
        transformResponse: [function transformResponse(data) {
          /*eslint no-param-reassign:0*/
          if (typeof data === 'string') {
            try {
              data = JSON.parse(data);
            } catch (e) {/* Ignore */}
          }
          return data;
        }],
        /**
         * A timeout in milliseconds to abort a request. If set to 0 (default) a
         * timeout is not created.
         */
        timeout: 0,
        xsrfCookieName: 'XSRF-TOKEN',
        xsrfHeaderName: 'X-XSRF-TOKEN',
        maxContentLength: -1,
        validateStatus: function validateStatus(status) {
          return status >= 200 && status < 300;
        }
      };
      defaults.headers = {
        common: {
          'Accept': 'application/json, text/plain, */*'
        }
      };
      utils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {
        defaults.headers[method] = {};
      });
      utils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {
        defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);
      });
      module.exports = defaults;

      /***/
    }, /* 13 */
    /***/function (module, exports, __webpack_require__) {
      'use strict';

      var utils = __webpack_require__(3);
      module.exports = function normalizeHeaderName(headers, normalizedName) {
        utils.forEach(headers, function processHeader(value, name) {
          if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {
            headers[normalizedName] = value;
            delete headers[name];
          }
        });
      };

      /***/
    }, /* 14 */
    /***/function (module, exports, __webpack_require__) {
      'use strict';

      var utils = __webpack_require__(3);
      var settle = __webpack_require__(15);
      var buildURL = __webpack_require__(7);
      var parseHeaders = __webpack_require__(18);
      var isURLSameOrigin = __webpack_require__(19);
      var createError = __webpack_require__(16);
      module.exports = function xhrAdapter(config) {
        return new Promise(function dispatchXhrRequest(resolve, reject) {
          var requestData = config.data;
          var requestHeaders = config.headers;
          if (utils.isFormData(requestData)) {
            delete requestHeaders['Content-Type']; // Let the browser set it
          }

          var request = new XMLHttpRequest();

          // HTTP basic authentication
          if (config.auth) {
            var username = config.auth.username || '';
            var password = config.auth.password || '';
            requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);
          }
          request.open(config.method.toUpperCase(), buildURL(config.url, config.params, config.paramsSerializer), true);

          // Set the request timeout in MS
          request.timeout = config.timeout;

          // Listen for ready state
          request.onreadystatechange = function handleLoad() {
            if (!request || request.readyState !== 4) {
              return;
            }

            // The request errored out and we didn't get a response, this will be
            // handled by onerror instead
            // With one exception: request that using file: protocol, most browsers
            // will return status as 0 even though it's a successful request
            if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {
              return;
            }

            // Prepare the response
            var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;
            var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;
            var response = {
              data: responseData,
              status: request.status,
              statusText: request.statusText,
              headers: responseHeaders,
              config: config,
              request: request
            };
            settle(resolve, reject, response);

            // Clean up request
            request = null;
          };

          // Handle browser request cancellation (as opposed to a manual cancellation)
          request.onabort = function handleAbort() {
            if (!request) {
              return;
            }
            reject(createError('Request aborted', config, 'ECONNABORTED', request));

            // Clean up request
            request = null;
          };

          // Handle low level network errors
          request.onerror = function handleError() {
            // Real errors are hidden from us by the browser
            // onerror should only fire if it's a network error
            reject(createError('Network Error', config, null, request));

            // Clean up request
            request = null;
          };

          // Handle timeout
          request.ontimeout = function handleTimeout() {
            reject(createError('timeout of ' + config.timeout + 'ms exceeded', config, 'ECONNABORTED', request));

            // Clean up request
            request = null;
          };

          // Add xsrf header
          // This is only done if running in a standard browser environment.
          // Specifically not if we're in a web worker, or react-native.
          if (utils.isStandardBrowserEnv()) {
            var cookies = __webpack_require__(20);

            // Add xsrf header
            var xsrfValue = (config.withCredentials || isURLSameOrigin(config.url)) && config.xsrfCookieName ? cookies.read(config.xsrfCookieName) : undefined;
            if (xsrfValue) {
              requestHeaders[config.xsrfHeaderName] = xsrfValue;
            }
          }

          // Add headers to the request
          if ('setRequestHeader' in request) {
            utils.forEach(requestHeaders, function setRequestHeader(val, key) {
              if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {
                // Remove Content-Type if data is undefined
                delete requestHeaders[key];
              } else {
                // Otherwise add header to the request
                request.setRequestHeader(key, val);
              }
            });
          }

          // Add withCredentials to request if needed
          if (config.withCredentials) {
            request.withCredentials = true;
          }

          // Add responseType to request if needed
          if (config.responseType) {
            try {
              request.responseType = config.responseType;
            } catch (e) {
              // Expected DOMException thrown by browsers not compatible XMLHttpRequest Level 2.
              // But, this can be suppressed for 'json' type as it can be parsed by default 'transformResponse' function.
              if (config.responseType !== 'json') {
                throw e;
              }
            }
          }

          // Handle progress if needed
          if (typeof config.onDownloadProgress === 'function') {
            request.addEventListener('progress', config.onDownloadProgress);
          }

          // Not all browsers support upload events
          if (typeof config.onUploadProgress === 'function' && request.upload) {
            request.upload.addEventListener('progress', config.onUploadProgress);
          }
          if (config.cancelToken) {
            // Handle cancellation
            config.cancelToken.promise.then(function onCanceled(cancel) {
              if (!request) {
                return;
              }
              request.abort();
              reject(cancel);
              // Clean up request
              request = null;
            });
          }
          if (requestData === undefined) {
            requestData = null;
          }

          // Send the request
          request.send(requestData);
        });
      };

      /***/
    }, /* 15 */
    /***/function (module, exports, __webpack_require__) {
      'use strict';

      var createError = __webpack_require__(16);

      /**
       * Resolve or reject a Promise based on response status.
       *
       * @param {Function} resolve A function that resolves the promise.
       * @param {Function} reject A function that rejects the promise.
       * @param {object} response The response.
       */
      module.exports = function settle(resolve, reject, response) {
        var validateStatus = response.config.validateStatus;
        if (!validateStatus || validateStatus(response.status)) {
          resolve(response);
        } else {
          reject(createError('Request failed with status code ' + response.status, response.config, null, response.request, response));
        }
      };

      /***/
    }, /* 16 */
    /***/function (module, exports, __webpack_require__) {
      'use strict';

      var enhanceError = __webpack_require__(17);

      /**
       * Create an Error with the specified message, config, error code, request and response.
       *
       * @param {string} message The error message.
       * @param {Object} config The config.
       * @param {string} [code] The error code (for example, 'ECONNABORTED').
       * @param {Object} [request] The request.
       * @param {Object} [response] The response.
       * @returns {Error} The created error.
       */
      module.exports = function createError(message, config, code, request, response) {
        var error = new Error(message);
        return enhanceError(error, config, code, request, response);
      };

      /***/
    }, /* 17 */
    /***/function (module, exports) {
      'use strict';

      /**
       * Update an Error with the specified config, error code, and response.
       *
       * @param {Error} error The error to update.
       * @param {Object} config The config.
       * @param {string} [code] The error code (for example, 'ECONNABORTED').
       * @param {Object} [request] The request.
       * @param {Object} [response] The response.
       * @returns {Error} The error.
       */
      module.exports = function enhanceError(error, config, code, request, response) {
        error.config = config;
        if (code) {
          error.code = code;
        }
        error.request = request;
        error.response = response;
        error.isAxiosError = true;
        error.toJSON = function () {
          return {
            // Standard
            message: this.message,
            name: this.name,
            // Microsoft
            description: this.description,
            number: this.number,
            // Mozilla
            fileName: this.fileName,
            lineNumber: this.lineNumber,
            columnNumber: this.columnNumber,
            stack: this.stack,
            // Axios
            config: this.config,
            code: this.code
          };
        };
        return error;
      };

      /***/
    }, /* 18 */
    /***/function (module, exports, __webpack_require__) {
      'use strict';

      var utils = __webpack_require__(3);

      // Headers whose duplicates are ignored by node
      // c.f. https://nodejs.org/api/http.html#http_message_headers
      var ignoreDuplicateOf = ['age', 'authorization', 'content-length', 'content-type', 'etag', 'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since', 'last-modified', 'location', 'max-forwards', 'proxy-authorization', 'referer', 'retry-after', 'user-agent'];

      /**
       * Parse headers into an object
       *
       * ```
       * Date: Wed, 27 Aug 2014 08:58:49 GMT
       * Content-Type: application/json
       * Connection: keep-alive
       * Transfer-Encoding: chunked
       * ```
       *
       * @param {String} headers Headers needing to be parsed
       * @returns {Object} Headers parsed into an object
       */
      module.exports = function parseHeaders(headers) {
        var parsed = {};
        var key;
        var val;
        var i;
        if (!headers) {
          return parsed;
        }
        utils.forEach(headers.split('\n'), function parser(line) {
          i = line.indexOf(':');
          key = utils.trim(line.substr(0, i)).toLowerCase();
          val = utils.trim(line.substr(i + 1));
          if (key) {
            if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {
              return;
            }
            if (key === 'set-cookie') {
              parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);
            } else {
              parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;
            }
          }
        });
        return parsed;
      };

      /***/
    }, /* 19 */
    /***/function (module, exports, __webpack_require__) {
      'use strict';

      var utils = __webpack_require__(3);
      module.exports = utils.isStandardBrowserEnv() ?
      // Standard browser envs have full support of the APIs needed to test
      // whether the request URL is of the same origin as current location.
      function standardBrowserEnv() {
        var msie = /(msie|trident)/i.test(navigator.userAgent);
        var urlParsingNode = document.createElement('a');
        var originURL;

        /**
        * Parse a URL to discover it's components
        *
        * @param {String} url The URL to be parsed
        * @returns {Object}
        */
        function resolveURL(url) {
          var href = url;
          if (msie) {
            // IE needs attribute set twice to normalize properties
            urlParsingNode.setAttribute('href', href);
            href = urlParsingNode.href;
          }
          urlParsingNode.setAttribute('href', href);

          // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils
          return {
            href: urlParsingNode.href,
            protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',
            host: urlParsingNode.host,
            search: urlParsingNode.search ? urlParsingNode.search.replace(/^\?/, '') : '',
            hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',
            hostname: urlParsingNode.hostname,
            port: urlParsingNode.port,
            pathname: urlParsingNode.pathname.charAt(0) === '/' ? urlParsingNode.pathname : '/' + urlParsingNode.pathname
          };
        }
        originURL = resolveURL(window.location.href);

        /**
        * Determine if a URL shares the same origin as the current location
        *
        * @param {String} requestURL The URL to test
        * @returns {boolean} True if URL shares the same origin, otherwise false
        */
        return function isURLSameOrigin(requestURL) {
          var parsed = utils.isString(requestURL) ? resolveURL(requestURL) : requestURL;
          return parsed.protocol === originURL.protocol && parsed.host === originURL.host;
        };
      }() :
      // Non standard browser envs (web workers, react-native) lack needed support.
      function nonStandardBrowserEnv() {
        return function isURLSameOrigin() {
          return true;
        };
      }();

      /***/
    }, /* 20 */
    /***/function (module, exports, __webpack_require__) {
      'use strict';

      var utils = __webpack_require__(3);
      module.exports = utils.isStandardBrowserEnv() ?
      // Standard browser envs support document.cookie
      function standardBrowserEnv() {
        return {
          write: function write(name, value, expires, path, domain, secure) {
            var cookie = [];
            cookie.push(name + '=' + encodeURIComponent(value));
            if (utils.isNumber(expires)) {
              cookie.push('expires=' + new Date(expires).toGMTString());
            }
            if (utils.isString(path)) {
              cookie.push('path=' + path);
            }
            if (utils.isString(domain)) {
              cookie.push('domain=' + domain);
            }
            if (secure === true) {
              cookie.push('secure');
            }
            document.cookie = cookie.join('; ');
          },
          read: function read(name) {
            var match = document.cookie.match(new RegExp('(^|;\\s*)(' + name + ')=([^;]*)'));
            return match ? decodeURIComponent(match[3]) : null;
          },
          remove: function remove(name) {
            this.write(name, '', Date.now() - 86400000);
          }
        };
      }() :
      // Non standard browser env (web workers, react-native) lack needed support.
      function nonStandardBrowserEnv() {
        return {
          write: function write() {},
          read: function read() {
            return null;
          },
          remove: function remove() {}
        };
      }();

      /***/
    }, /* 21 */
    /***/function (module, exports) {
      'use strict';

      /**
       * Determines whether the specified URL is absolute
       *
       * @param {string} url The URL to test
       * @returns {boolean} True if the specified URL is absolute, otherwise false
       */
      module.exports = function isAbsoluteURL(url) {
        // A URL is considered absolute if it begins with "<scheme>://" or "//" (protocol-relative URL).
        // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed
        // by any combination of letters, digits, plus, period, or hyphen.
        return /^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(url);
      };

      /***/
    }, /* 22 */
    /***/function (module, exports) {
      'use strict';

      /**
       * Creates a new URL by combining the specified URLs
       *
       * @param {string} baseURL The base URL
       * @param {string} relativeURL The relative URL
       * @returns {string} The combined URL
       */
      module.exports = function combineURLs(baseURL, relativeURL) {
        return relativeURL ? baseURL.replace(/\/+$/, '') + '/' + relativeURL.replace(/^\/+/, '') : baseURL;
      };

      /***/
    }, /* 23 */
    /***/function (module, exports, __webpack_require__) {
      'use strict';

      var utils = __webpack_require__(3);

      /**
       * Config-specific merge-function which creates a new config-object
       * by merging two configuration objects together.
       *
       * @param {Object} config1
       * @param {Object} config2
       * @returns {Object} New object resulting from merging config2 to config1
       */
      module.exports = function mergeConfig(config1, config2) {
        // eslint-disable-next-line no-param-reassign
        config2 = config2 || {};
        var config = {};
        utils.forEach(['url', 'method', 'params', 'data'], function valueFromConfig2(prop) {
          if (typeof config2[prop] !== 'undefined') {
            config[prop] = config2[prop];
          }
        });
        utils.forEach(['headers', 'auth', 'proxy'], function mergeDeepProperties(prop) {
          if (utils.isObject(config2[prop])) {
            config[prop] = utils.deepMerge(config1[prop], config2[prop]);
          } else if (typeof config2[prop] !== 'undefined') {
            config[prop] = config2[prop];
          } else if (utils.isObject(config1[prop])) {
            config[prop] = utils.deepMerge(config1[prop]);
          } else if (typeof config1[prop] !== 'undefined') {
            config[prop] = config1[prop];
          }
        });
        utils.forEach(['baseURL', 'transformRequest', 'transformResponse', 'paramsSerializer', 'timeout', 'withCredentials', 'adapter', 'responseType', 'xsrfCookieName', 'xsrfHeaderName', 'onUploadProgress', 'onDownloadProgress', 'maxContentLength', 'validateStatus', 'maxRedirects', 'httpAgent', 'httpsAgent', 'cancelToken', 'socketPath'], function defaultToConfig2(prop) {
          if (typeof config2[prop] !== 'undefined') {
            config[prop] = config2[prop];
          } else if (typeof config1[prop] !== 'undefined') {
            config[prop] = config1[prop];
          }
        });
        return config;
      };

      /***/
    }, /* 24 */
    /***/function (module, exports, __webpack_require__) {
      var defaults = {
        adapter: __webpack_require__(25),
        validateStatus: function validateStatus(status) {
          return status >= 200 && status < 300;
        },
        dataType: 'json',
        responseType: 'text',
        sslVerify: true
      };
      module.exports = defaults;

      /***/
    }, /* 25 */
    /***/function (module, exports, __webpack_require__) {
      var axiosUtils = __webpack_require__(2);
      var buildURL = axiosUtils.buildURL;
      var settle = axiosUtils.settle;
      module.exports = function uniAdapter(config) {
        return new Promise(function adapterUniRequest(resolve, reject) {
          uni.request({
            method: config.method.toUpperCase(),
            url: buildURL(config.url, config.params, config.paramsSerializer),
            header: config.headers,
            data: config.data,
            dataType: config.dataType,
            responseType: config.responseType,
            sslVerify: config.sslVerify,
            complete: function complete(response) {
              response = {
                data: response.data,
                status: response.statusCode,
                errMsg: response.errMsg,
                header: response.header,
                config: config
              };
              settle(resolve, reject, response);
            }
          });
        });
      };

      /***/
    }, /* 26 */
    /***/function (module, exports, __webpack_require__) {
      var axiosUtils = __webpack_require__(2);
      var Axios = axiosUtils.Axios;
      var utils = axiosUtils.utils;
      var InterceptorManager = axiosUtils.InterceptorManager;
      function UniAxios(defaultConfig) {
        Axios.call(this, defaultConfig);
        this.interceptors.first = new InterceptorManager();
        this.interceptors.last = new InterceptorManager();
      }
      UniAxios.prototype.request = function request(config) {
        if (typeof config === 'string') {
          config = arguments[1] || {};
          config.url = arguments[0];
        } else {
          config = config || {};
        }
        var promise = Promise.resolve(config);
        this.interceptors.first.forEach(function firstInterceptors(interceptor) {
          promise = promise.then(interceptor.fulfilled, interceptor.rejected);
        });
        var that = this;
        var promise = promise.then(function axiosRequest(config) {
          return Axios.prototype.request.call(that, config);
        });
        this.interceptors.last.forEach(function lastInterceptors(interceptor) {
          promise = promise.then(function lastResolve(response) {
            interceptor.fulfilled(config);
            return response;
          }, function lastReject(err) {
            interceptor.fulfilled(config);
            return Promise.reject(err);
          });
        });
        return promise;
      };
      utils.forEach(['get', 'delete', 'connect', 'head', 'options', 'trace'], function forEachMethodNoData(method) {
        UniAxios.prototype[method] = function (url, config) {
          return this.request(utils.merge(config || {}, {
            method: method,
            url: url
          }));
        };
      });
      utils.forEach(['post', 'put'], function forEachMethodWithData(method) {
        UniAxios.prototype[method] = function (url, data, config) {
          return this.request(utils.merge(config || {}, {
            method: method,
            url: url,
            data: data
          }));
        };
      });
      module.exports = UniAxios;

      /***/
    }
    /******/])
  );
});

;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/node-libs-browser/mock/process.js */ 37), __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 2)["default"], __webpack_require__(/*! ./../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/webpack/buildin/module.js */ 39)(module)))

/***/ }),

/***/ 37:
/*!********************************************************!*\
  !*** ./node_modules/node-libs-browser/mock/process.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports.nextTick = function nextTick(fn) {
    var args = Array.prototype.slice.call(arguments);
    args.shift();
    setTimeout(function () {
        fn.apply(null, args);
    }, 0);
};

exports.platform = exports.arch = 
exports.execPath = exports.title = 'browser';
exports.pid = 1;
exports.browser = true;
exports.env = {};
exports.argv = [];

exports.binding = function (name) {
	throw new Error('No such module. (Possibly not yet loaded)')
};

(function () {
    var cwd = '/';
    var path;
    exports.cwd = function () { return cwd };
    exports.chdir = function (dir) {
        if (!path) path = __webpack_require__(/*! path */ 38);
        cwd = path.resolve(dir, cwd);
    };
})();

exports.exit = exports.kill = 
exports.umask = exports.dlopen = 
exports.uptime = exports.memoryUsage = 
exports.uvCounters = function() {};
exports.features = {};


/***/ }),

/***/ 38:
/*!***********************************************!*\
  !*** ./node_modules/path-browserify/index.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(process) {// .dirname, .basename, and .extname methods are extracted from Node.js v8.11.1,
// backported and transplited with Babel, with backwards-compat fixes

// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

// resolves . and .. elements in a path array with directory names there
// must be no slashes, empty elements, or device names (c:\) in the array
// (so also no leading and trailing slashes - it does not distinguish
// relative and absolute paths)
function normalizeArray(parts, allowAboveRoot) {
  // if the path tries to go above the root, `up` ends up > 0
  var up = 0;
  for (var i = parts.length - 1; i >= 0; i--) {
    var last = parts[i];
    if (last === '.') {
      parts.splice(i, 1);
    } else if (last === '..') {
      parts.splice(i, 1);
      up++;
    } else if (up) {
      parts.splice(i, 1);
      up--;
    }
  }

  // if the path is allowed to go above the root, restore leading ..s
  if (allowAboveRoot) {
    for (; up--; up) {
      parts.unshift('..');
    }
  }

  return parts;
}

// path.resolve([from ...], to)
// posix version
exports.resolve = function() {
  var resolvedPath = '',
      resolvedAbsolute = false;

  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {
    var path = (i >= 0) ? arguments[i] : process.cwd();

    // Skip empty and invalid entries
    if (typeof path !== 'string') {
      throw new TypeError('Arguments to path.resolve must be strings');
    } else if (!path) {
      continue;
    }

    resolvedPath = path + '/' + resolvedPath;
    resolvedAbsolute = path.charAt(0) === '/';
  }

  // At this point the path should be resolved to a full absolute path, but
  // handle relative paths to be safe (might happen when process.cwd() fails)

  // Normalize the path
  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {
    return !!p;
  }), !resolvedAbsolute).join('/');

  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';
};

// path.normalize(path)
// posix version
exports.normalize = function(path) {
  var isAbsolute = exports.isAbsolute(path),
      trailingSlash = substr(path, -1) === '/';

  // Normalize the path
  path = normalizeArray(filter(path.split('/'), function(p) {
    return !!p;
  }), !isAbsolute).join('/');

  if (!path && !isAbsolute) {
    path = '.';
  }
  if (path && trailingSlash) {
    path += '/';
  }

  return (isAbsolute ? '/' : '') + path;
};

// posix version
exports.isAbsolute = function(path) {
  return path.charAt(0) === '/';
};

// posix version
exports.join = function() {
  var paths = Array.prototype.slice.call(arguments, 0);
  return exports.normalize(filter(paths, function(p, index) {
    if (typeof p !== 'string') {
      throw new TypeError('Arguments to path.join must be strings');
    }
    return p;
  }).join('/'));
};


// path.relative(from, to)
// posix version
exports.relative = function(from, to) {
  from = exports.resolve(from).substr(1);
  to = exports.resolve(to).substr(1);

  function trim(arr) {
    var start = 0;
    for (; start < arr.length; start++) {
      if (arr[start] !== '') break;
    }

    var end = arr.length - 1;
    for (; end >= 0; end--) {
      if (arr[end] !== '') break;
    }

    if (start > end) return [];
    return arr.slice(start, end - start + 1);
  }

  var fromParts = trim(from.split('/'));
  var toParts = trim(to.split('/'));

  var length = Math.min(fromParts.length, toParts.length);
  var samePartsLength = length;
  for (var i = 0; i < length; i++) {
    if (fromParts[i] !== toParts[i]) {
      samePartsLength = i;
      break;
    }
  }

  var outputParts = [];
  for (var i = samePartsLength; i < fromParts.length; i++) {
    outputParts.push('..');
  }

  outputParts = outputParts.concat(toParts.slice(samePartsLength));

  return outputParts.join('/');
};

exports.sep = '/';
exports.delimiter = ':';

exports.dirname = function (path) {
  if (typeof path !== 'string') path = path + '';
  if (path.length === 0) return '.';
  var code = path.charCodeAt(0);
  var hasRoot = code === 47 /*/*/;
  var end = -1;
  var matchedSlash = true;
  for (var i = path.length - 1; i >= 1; --i) {
    code = path.charCodeAt(i);
    if (code === 47 /*/*/) {
        if (!matchedSlash) {
          end = i;
          break;
        }
      } else {
      // We saw the first non-path separator
      matchedSlash = false;
    }
  }

  if (end === -1) return hasRoot ? '/' : '.';
  if (hasRoot && end === 1) {
    // return '//';
    // Backwards-compat fix:
    return '/';
  }
  return path.slice(0, end);
};

function basename(path) {
  if (typeof path !== 'string') path = path + '';

  var start = 0;
  var end = -1;
  var matchedSlash = true;
  var i;

  for (i = path.length - 1; i >= 0; --i) {
    if (path.charCodeAt(i) === 47 /*/*/) {
        // If we reached a path separator that was not part of a set of path
        // separators at the end of the string, stop now
        if (!matchedSlash) {
          start = i + 1;
          break;
        }
      } else if (end === -1) {
      // We saw the first non-path separator, mark this as the end of our
      // path component
      matchedSlash = false;
      end = i + 1;
    }
  }

  if (end === -1) return '';
  return path.slice(start, end);
}

// Uses a mixed approach for backwards-compatibility, as ext behavior changed
// in new Node.js versions, so only basename() above is backported here
exports.basename = function (path, ext) {
  var f = basename(path);
  if (ext && f.substr(-1 * ext.length) === ext) {
    f = f.substr(0, f.length - ext.length);
  }
  return f;
};

exports.extname = function (path) {
  if (typeof path !== 'string') path = path + '';
  var startDot = -1;
  var startPart = 0;
  var end = -1;
  var matchedSlash = true;
  // Track the state of characters (if any) we see before our first dot and
  // after any path separator we find
  var preDotState = 0;
  for (var i = path.length - 1; i >= 0; --i) {
    var code = path.charCodeAt(i);
    if (code === 47 /*/*/) {
        // If we reached a path separator that was not part of a set of path
        // separators at the end of the string, stop now
        if (!matchedSlash) {
          startPart = i + 1;
          break;
        }
        continue;
      }
    if (end === -1) {
      // We saw the first non-path separator, mark this as the end of our
      // extension
      matchedSlash = false;
      end = i + 1;
    }
    if (code === 46 /*.*/) {
        // If this is our first dot, mark it as the start of our extension
        if (startDot === -1)
          startDot = i;
        else if (preDotState !== 1)
          preDotState = 1;
    } else if (startDot !== -1) {
      // We saw a non-dot and non-path separator before our dot, so we should
      // have a good chance at having a non-empty extension
      preDotState = -1;
    }
  }

  if (startDot === -1 || end === -1 ||
      // We saw a non-dot character immediately before the dot
      preDotState === 0 ||
      // The (right-most) trimmed path component is exactly '..'
      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {
    return '';
  }
  return path.slice(startDot, end);
};

function filter (xs, f) {
    if (xs.filter) return xs.filter(f);
    var res = [];
    for (var i = 0; i < xs.length; i++) {
        if (f(xs[i], i, xs)) res.push(xs[i]);
    }
    return res;
}

// String.prototype.substr - negative index don't work in IE8
var substr = 'ab'.substr(-1) === 'b'
    ? function (str, start, len) { return str.substr(start, len) }
    : function (str, start, len) {
        if (start < 0) start = str.length + start;
        return str.substr(start, len);
    }
;

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../node-libs-browser/mock/process.js */ 37)))

/***/ }),

/***/ 39:
/*!***********************************!*\
  !*** (webpack)/buildin/module.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = function(module) {
	if (!module.webpackPolyfill) {
		module.deprecate = function() {};
		module.paths = [];
		// module.parent = undefined by default
		if (!module.children) module.children = [];
		Object.defineProperty(module, "loaded", {
			enumerable: true,
			get: function() {
				return module.l;
			}
		});
		Object.defineProperty(module, "id", {
			enumerable: true,
			get: function() {
				return module.i;
			}
		});
		module.webpackPolyfill = 1;
	}
	return module;
};


/***/ }),

/***/ 4:
/*!**********************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/interopRequireDefault.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    "default": obj
  };
}
module.exports = _interopRequireDefault, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 40:
/*!******************************************************!*\
  !*** /Users/lisicheng/project/lijian/store/index.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _vue = _interopRequireDefault(__webpack_require__(/*! vue */ 25));
var _vuex = _interopRequireDefault(__webpack_require__(/*! vuex */ 33));
var _modules = _interopRequireDefault(__webpack_require__(/*! ./modules */ 41));
var _getters = _interopRequireDefault(__webpack_require__(/*! ./getters */ 58));
_vue.default.use(_vuex.default);
var debug = "development" !== "production";
var _default = new _vuex.default.Store({
  modules: _modules.default,
  getters: _getters.default,
  strict: debug
});
exports.default = _default;

/***/ }),

/***/ 41:
/*!**************************************************************!*\
  !*** /Users/lisicheng/project/lijian/store/modules/index.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _app = _interopRequireDefault(__webpack_require__(/*! ./app */ 42));
var _decorate = _interopRequireDefault(__webpack_require__(/*! ./decorate */ 54));
var _cart = _interopRequireDefault(__webpack_require__(/*! ./cart */ 57));
var _default = {
  app: _app.default,
  decorate: _decorate.default,
  cart: _cart.default
};
exports.default = _default;

/***/ }),

/***/ 42:
/*!************************************************************!*\
  !*** /Users/lisicheng/project/lijian/store/modules/app.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _app = __webpack_require__(/*! @/api/app */ 43);
var _user = __webpack_require__(/*! @/api/user */ 34);
var _cachekey = __webpack_require__(/*! @/config/cachekey */ 45);
var _wechath = _interopRequireDefault(__webpack_require__(/*! @/utils/wechath5 */ 44));
var _cache = _interopRequireDefault(__webpack_require__(/*! @/utils/cache */ 46));
var _router = __webpack_require__(/*! @/router */ 47);
var _tools = __webpack_require__(/*! @/utils/tools */ 50);
var state = {
  config: _cache.default.get(_cachekey.CONFIG) || {
    app_pop_agreement: 1
  },
  userInfo: {},
  token: _cache.default.get(_cachekey.TOKEN) || null,
  client: (0, _tools.getClient)() || null,
  serviceConfig: {},
  shareConfig: []
};
var mutations = {
  setshareConfig: function setshareConfig(state, data) {
    state.shareConfig = data;
  },
  setserviceConfig: function setserviceConfig(state, data) {
    state.serviceConfig = data;
  },
  setConfig: function setConfig(state, data) {
    state.config = data;
    _cache.default.set(_cachekey.CONFIG, data);
  },
  login: function login(state, data) {
    state.token = data.token;
    _cache.default.set(_cachekey.TOKEN, data.token);
    // 登录完成绑定邀请码
    var code = _cache.default.get(_cachekey.INVITE_CODE);
    if (code) {
      (0, _user.apiDistributionCode)({
        code: code,
        hide: 1
      }).finally(function () {
        _cache.default.remove(_cachekey.INVITE_CODE);
      });
    }
  },
  logout: function logout(state) {
    state.token = '';
    state.userInfo = {};
    _cache.default.remove(_cachekey.TOKEN);
  },
  setUserInfo: function setUserInfo(state, data) {
    state.userInfo = data;
  }
};
var actions = {
  getsetshareConfig: function getsetshareConfig(_ref) {
    var state = _ref.state,
      commit = _ref.commit;
    return (0, _app.apishareConfig)().then(function (res) {
      commit('setshareConfig', res);
      return Promise.resolve(res);
    }).catch(function () {
      return Promise.reject();
    });
  },
  getsetserviceConfig: function getsetserviceConfig(_ref2) {
    var state = _ref2.state,
      commit = _ref2.commit;
    return (0, _app.apiserviceConfig)().then(function (res) {
      commit('setserviceConfig', res);
      return Promise.resolve(res);
    }).catch(function () {
      return Promise.reject();
    });
  },
  getConfig: function getConfig(_ref3) {
    var state = _ref3.state,
      commit = _ref3.commit;
    return (0, _app.apiConfig)().then(function (res) {
      commit('setConfig', res);
      return Promise.resolve(res);
    }).catch(function () {
      return Promise.reject();
    });
  },
  getUser: function getUser(_ref4) {
    var state = _ref4.state,
      commit = _ref4.commit;
    return new Promise(function (resolve, reject) {
      (0, _user.apiUserCentre)().then(function (res) {
        commit('setUserInfo', res);
        resolve(res);
      }).catch(function () {
        reject();
      });
    });
  },
  setWxShare: function setWxShare(_ref5, opt) {
    var state = _ref5.state;
  }
};
var _default = {
  state: state,
  mutations: mutations,
  actions: actions
};
exports.default = _default;

/***/ }),

/***/ 43:
/*!**************************************************!*\
  !*** /Users/lisicheng/project/lijian/api/app.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.apiInvitePosterConfig = exports.apiGoodsPosterConfig = exports.apiConfig = exports.apiCodeUrlGet = exports.apiCheckMobile = exports.apiAuthLogin = exports.apiAppWxLogin = exports.apiAccountRegister = exports.apiAccountLogin = void 0;
exports.apiJsConfig = apiJsConfig;
exports.apishareConfig = exports.apiserviceConfig = exports.apiVisit = exports.apiUpdateUser = exports.apiTtQrCode = exports.apiToutiaoSilentLogin = exports.apiToutiaoAuthLogin = exports.apiSubscribe = exports.apiSilentLogin = exports.apiResetPasswordCaptcha = exports.apiResetPassword = exports.apiRegisterCaptcha = exports.apiPrepay = exports.apiPolicyAgreement = exports.apiPayway = exports.apiPayStatus = exports.apiPayResult = exports.apiOALogin = exports.apiMnpQrCode = exports.apiLoginCaptcha = void 0;
var _defineProperty2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/defineProperty */ 11));
var _request = _interopRequireDefault(__webpack_require__(/*! @/utils/request */ 35));
var _wechath = _interopRequireDefault(__webpack_require__(/*! @/utils/wechath5 */ 44));
var _store = _interopRequireDefault(__webpack_require__(/*! store */ 40));
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
// 账号登录
var apiAccountLogin = function apiAccountLogin(data) {
  return _request.default.post('login/account', _objectSpread(_objectSpread({}, data), {}, {
    terminal: _store.default.getters.client
  }));
};

// 登录发送验证码
exports.apiAccountLogin = apiAccountLogin;
var apiLoginCaptcha = function apiLoginCaptcha(data) {
  return _request.default.post('login/captcha', data);
};

// 手机号注册
exports.apiLoginCaptcha = apiLoginCaptcha;
var apiAccountRegister = function apiAccountRegister(data) {
  return _request.default.post('register/register ', _objectSpread(_objectSpread({}, data), {}, {
    register_source: _store.default.getters.client
  }));
};

// 注册发送验证码
exports.apiAccountRegister = apiAccountRegister;
var apiRegisterCaptcha = function apiRegisterCaptcha(data) {
  return _request.default.post('register/captcha', data);
};

// 重置登录密码
exports.apiRegisterCaptcha = apiRegisterCaptcha;
var apiResetPassword = function apiResetPassword(data) {
  return _request.default.post('user/resetPassword', data);
};

// 发送验证码 - 重置登录密码
exports.apiResetPassword = apiResetPassword;
var apiResetPasswordCaptcha = function apiResetPasswordCaptcha(data) {
  return _request.default.post('user/resetPasswordCaptcha', data);
};

// 微信小程授权登录
exports.apiResetPasswordCaptcha = apiResetPasswordCaptcha;
var apiAuthLogin = function apiAuthLogin(params) {
  return _request.default.post('login/authLogin', params);
};

// 微信小程序静默登录
exports.apiAuthLogin = apiAuthLogin;
var apiSilentLogin = function apiSilentLogin(params) {
  return _request.default.post('login/silentLogin', params);
};

//更新小程序头像昵称
exports.apiSilentLogin = apiSilentLogin;
var apiUpdateUser = function apiUpdateUser(params, token) {
  return _request.default.post('login/updateUser', params, {
    headers: {
      token: token
    }
  });
};

// 头条小程序授权登录
exports.apiUpdateUser = apiUpdateUser;
var apiToutiaoAuthLogin = function apiToutiaoAuthLogin(params) {
  return _request.default.post('login/toutiaoAuthLogin', params);
};

// 头条小程序静默登录
exports.apiToutiaoAuthLogin = apiToutiaoAuthLogin;
var apiToutiaoSilentLogin = function apiToutiaoSilentLogin(params) {
  return _request.default.post('login/toutiaoSilentLogin', params);
};

// 公众号登录
exports.apiToutiaoSilentLogin = apiToutiaoSilentLogin;
var apiOALogin = function apiOALogin(params) {
  return _request.default.post('login/oaLogin', params);
};

// app登录
exports.apiOALogin = apiOALogin;
var apiAppWxLogin = function apiAppWxLogin(params) {
  return _request.default.post('login/uninAppLogin', _objectSpread(_objectSpread({}, params), {}, {
    terminal: _store.default.getters.client
  }));
};

// 向微信请求code的链接
exports.apiAppWxLogin = apiAppWxLogin;
var apiCodeUrlGet = function apiCodeUrlGet() {
  return _request.default.get('login/codeUrl', {
    params: {
      url: location.href
    },
    headers: {
      1: 1
    }
  });
};

//微信sdk配置
exports.apiCodeUrlGet = apiCodeUrlGet;
function apiJsConfig() {
  return _request.default.get('wechat/jsConfig', {
    params: {
      url: _wechath.default.signLink()
    }
  });
}

// 公共配置
var apiConfig = function apiConfig(params) {
  return _request.default.get('config/getconfig', {
    params: params
  });
};

// 支付方式
exports.apiConfig = apiConfig;
var apiPayway = function apiPayway(params) {
  return _request.default.get('pay/payway', {
    params: _objectSpread(_objectSpread({}, params), {}, {
      scene: _store.default.getters.client
    })
  });
};

// 预支付
exports.apiPayway = apiPayway;
var apiPrepay = function apiPrepay(params, token) {
  return _request.default.post('pay/prepay', _objectSpread(_objectSpread({}, params), {}, {
    order_source: _store.default.getters.client
  }), {
    headers: {
      token: token
    }
  });
};

// 支付结果查询
exports.apiPrepay = apiPrepay;
var apiPayStatus = function apiPayStatus(params) {
  return _request.default.get('pay/payStatus', {
    params: params
  });
};

// 微信消息订阅
exports.apiPayStatus = apiPayStatus;
var apiSubscribe = function apiSubscribe() {
  return _request.default.get('subscribe/lists');
};

// 访客记录
exports.apiSubscribe = apiSubscribe;
var apiVisit = function apiVisit() {
  return _request.default.post('index/visit', {
    terminal: _store.default.getters.client
  });
};

// 获取服务协议
exports.apiVisit = apiVisit;
var apiPolicyAgreement = function apiPolicyAgreement(params) {
  return _request.default.get('config/getPolicyAgreement', {
    params: params
  });
};

// 获取微信小程序码
exports.apiPolicyAgreement = apiPolicyAgreement;
var apiMnpQrCode = function apiMnpQrCode(params) {
  return _request.default.get('share/getMnpQrCode', {
    params: params
  });
};

// 获取头条小程序码
exports.apiMnpQrCode = apiMnpQrCode;
var apiTtQrCode = function apiTtQrCode(params) {
  return _request.default.get('share/getTouTiaoQrcode', {
    params: params
  });
};

// 支付结果
exports.apiTtQrCode = apiTtQrCode;
var apiPayResult = function apiPayResult(params) {
  return _request.default.get('pay/payResult', {
    params: params
  });
};
exports.apiPayResult = apiPayResult;
var apiGoodsPosterConfig = function apiGoodsPosterConfig(params) {
  return _request.default.get('/poster/getGoodsConfig', {
    params: params
  });
};

// 分销海报
exports.apiGoodsPosterConfig = apiGoodsPosterConfig;
var apiInvitePosterConfig = function apiInvitePosterConfig(params) {
  return _request.default.get('poster/getDistributionConfig', {
    params: params
  });
};
//检测手机号
exports.apiInvitePosterConfig = apiInvitePosterConfig;
var apiCheckMobile = function apiCheckMobile(data) {
  return _request.default.post('login/check_mobile_user', data);
};
exports.apiCheckMobile = apiCheckMobile;
var apiserviceConfig = function apiserviceConfig(data) {
  return _request.default.post('config/getKefuConfig', data);
};
exports.apiserviceConfig = apiserviceConfig;
var apishareConfig = function apishareConfig(data) {
  return _request.default.post('config/getShareConfig', data);
};
exports.apishareConfig = apishareConfig;

/***/ }),

/***/ 44:
/*!*********************************************************!*\
  !*** /Users/lisicheng/project/lijian/utils/wechath5.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {



/***/ }),

/***/ 45:
/*!**********************************************************!*\
  !*** /Users/lisicheng/project/lijian/config/cachekey.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = {
  USER_INFO: 'user_info',
  // 用户信息
  TOKEN: 'token',
  // Token
  BACK_URL: 'back_url',
  // Back URL
  CONFIG: 'config',
  // 配置
  INVITE_CODE: 'invite_code',
  // Invite Code
  THEME_CONFIG: 'theme_config'
};

/***/ }),

/***/ 46:
/*!******************************************************!*\
  !*** /Users/lisicheng/project/lijian/utils/cache.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {

var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _typeof2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/typeof */ 13));
var Cache = {
  keyPrev: 'store_',
  //设置缓存(expire为缓存时效)
  set: function set(key, value, expire) {
    var data = {
      expire: expire ? this.time() + expire : "",
      value: value
    };
    if ((0, _typeof2.default)(data) === 'object') data = JSON.stringify(data);
    try {
      uni.setStorageSync(this.getKey(key), data);
    } catch (e) {
      return false;
    }
  },
  get: function get(key) {
    try {
      var data = uni.getStorageSync(this.getKey(key));
      var _JSON$parse = JSON.parse(data),
        value = _JSON$parse.value,
        expire = _JSON$parse.expire;
      if (expire && expire < this.time()) {
        uni.removeStorageSync(this.getKey(key));
        return false;
      } else {
        return value;
      }
    } catch (e) {
      return false;
    }
  },
  //获取当前时间
  time: function time() {
    return Math.round(new Date() / 1000);
  },
  remove: function remove(key) {
    if (key) uni.removeStorageSync(this.getKey(key));
  },
  getKey: function getKey(key) {
    return this.keyPrev + key;
  }
};
var _default = Cache;
exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 2)["default"]))

/***/ }),

/***/ 47:
/*!*************************************************!*\
  !*** /Users/lisicheng/project/lijian/router.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
Object.defineProperty(exports, "RouterMount", {
  enumerable: true,
  get: function get() {
    return _uniSimpleRouter.RouterMount;
  }
});
exports.router = void 0;
var _toConsumableArray2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ 18));
var _uniSimpleRouter = __webpack_require__(/*! ./js_sdk/hhyang-uni-simple-router/uni-simple-router */ 48);
var _cachekey = __webpack_require__(/*! ./config/cachekey */ 45);
var _store = _interopRequireDefault(__webpack_require__(/*! ./store */ 40));
var _login = __webpack_require__(/*! ./utils/login */ 49);
var _cache = _interopRequireDefault(__webpack_require__(/*! ./utils/cache */ 46));
var _wechath = _interopRequireDefault(__webpack_require__(/*! ./utils/wechath5 */ 44));
var _tools = __webpack_require__(/*! ./utils/tools */ 50);
var scrollInfo = {};
var whiteList = ['register', 'login', 'forget_pwd'];
var router = (0, _uniSimpleRouter.createRouter)({
  platform: "mp-weixin",
  APP: {
    animation: {}
  },
  routerErrorEach: function routerErrorEach(_ref) {
    var type = _ref.type,
      msg = _ref.msg;
    router.$lockStatus = false;
  },
  debugger: false,
  routes: [].concat((0, _toConsumableArray2.default)([{"path":"/pages/index/index","aliasPath":"/","meta":{"auth":false}},{"path":"/pages/page/page","meta":{"auth":false}},{"path":"/pages/category/category","meta":{"auth":false}},{"path":"/pages/shop_cart/shop_cart","meta":{"auth":false}},{"path":"/pages/user/user","meta":{"auth":false}},{"path":"/pages/login/login","meta":{"auth":false}},{"path":"/pages/register/register","meta":{"auth":false}},{"path":"/pages/forget_pwd/forget_pwd","meta":{"auth":false}},{"path":"/pages/bind_mobile/bind_mobile","meta":{"auth":false}},{"path":"/pages/goods_search/goods_search","meta":{"auth":false}},{"path":"/pages/goods_detail/goods_detail","meta":{"auth":false}},{"path":"/pages/goods_order/goods_order","meta":{"auth":true}},{"path":"/pages/model_goods_order/model_goods_order","meta":{"auth":true}},{"path":"/pages/payment/payment","meta":{"auth":true}},{"path":"/pages/payment_result/payment_result","meta":{"auth":true}},{"path":"/pages/order_detail/order_detail","meta":{"auth":true}},{"path":"/pages/model_detail/model_detail","meta":{"auth":true}},{"path":"/pages/model_preview/model_preview","meta":{"auth":true}},{"path":"/pages/model_goods_detail/model_goods_detail","meta":{"auth":true}},{"path":"/pages/address/address","meta":{"auth":true}},{"path":"/pages/address_edit/address_edit","meta":{"auth":true}},{"path":"/pages/webview/webview","meta":{"auth":false}},{"path":"/components/uview-ui/components/u-avatar-cropper/u-avatar-cropper"},{"path":"/pages/scan/scan","meta":{"auth":true}},{"path":"/pages/camera/camera","meta":{"auth":true}},{"path":"/pages/photo/photo","meta":{"auth":true}},{"path":"/pages/home/home","meta":{"auth":false}},{"path":"/bundle/pages/user_order/user_order","meta":{"auth":false}},{"path":"/bundle/pages/model_list/model_list","meta":{"auth":true}},{"path":"/bundle/pages/luck_draw_good/luck_draw_good","meta":{"auth":false}},{"path":"/bundle/pages/goods_seckill/goods_seckill","meta":{"auth":false}},{"path":"/bundle/pages/goods_presell/goods_presell","meta":{"auth":false}},{"path":"/bundle/pages/toAlipay/toAlipay","meta":{"auth":false}},{"path":"/bundle/pages/user_set/user_set","meta":{"auth":true}},{"path":"/bundle/pages/seckill_detail/seckill_detail","meta":{"auth":false}},{"path":"/bundle/pages/presell_detail/presell_detail","meta":{"auth":false}},{"path":"/bundle/pages/user_profile/user_profile","meta":{"auth":true}},{"path":"/bundle/pages/user_vip/user_vip","meta":{"auth":true}},{"path":"/bundle/pages/goods_comment/goods_comment","meta":{"auth":true}},{"path":"/bundle/pages/goods_comment_he/goods_comment_he","meta":{"auth":true}},{"path":"/bundle/pages/post_comment/post_comment","meta":{"auth":true}},{"path":"/bundle/pages/after_sale/after_sale","meta":{"auth":true}},{"path":"/bundle/pages/after_sale_detail/after_sale_detail","meta":{"auth":true}},{"path":"/bundle/pages/post_after_sale/post_after_sale","meta":{"auth":true}},{"path":"/bundle/pages/input_express_info/input_express_info","meta":{"auth":true}},{"path":"/bundle/pages/coupon/coupon","meta":{"auth":true}},{"path":"/bundle/pages/coupon_get/coupon_get","meta":{"auth":false}},{"path":"/bundle/pages/user_wallet/user_wallet","meta":{"auth":true}},{"path":"/bundle/pages/user_recharge/user_recharge","meta":{"auth":true}},{"path":"/bundle/pages/balance_transfer/balance_transfer","meta":{"auth":true}},{"path":"/bundle/pages/user_bill/user_bill","meta":{"auth":true}},{"path":"/bundle/pages/transfer_record/transfer_record","meta":{"auth":true}},{"path":"/bundle/pages/user_recharge_record/user_recharge_record","meta":{"auth":true}},{"path":"/bundle/pages/message_center/message_center","meta":{"auth":true}},{"path":"/bundle/pages/notice/notice","meta":{"auth":true}},{"path":"/bundle/pages/server_explan/server_explan","meta":{"auth":false}},{"path":"/bundle/pages/pay_pwd/pay_pwd","meta":{"auth":false}},{"path":"/bundle/pages/store_list/store_list","meta":{"auth":true}},{"path":"/bundle/pages/order_logistics/order_logistics","meta":{"auth":true}},{"path":"/bundle/pages/goods_collects/goods_collects","meta":{"auth":true}},{"path":"/bundle/pages/store_notice/store_notice","meta":{"auth":false}},{"path":"/bundle/pages/store_notice_detail/store_notice_detail","meta":{"auth":false}},{"path":"/bundle/pages/user_spread/user_spread","meta":{"auth":true}},{"path":"/bundle/pages/invite_poster/invite_poster","meta":{"auth":true}},{"path":"/bundle/pages/user_spread_order/user_spread_order","meta":{"auth":true}},{"path":"/bundle/pages/user_fans/user_fans","meta":{"auth":true}},{"path":"/bundle/pages/monthly_bill/monthly_bill","meta":{"auth":true}},{"path":"/bundle/pages/monthly_bill_detail/monthly_bill_detail","meta":{"auth":true}},{"path":"/bundle/pages/commission_details/commission_details","meta":{"auth":true}},{"path":"/bundle/pages/user_withdraw/user_withdraw","meta":{"auth":true}},{"path":"/bundle/pages/withdraw_success/withdraw_success","meta":{"auth":true}},{"path":"/bundle/pages/withdraw_record/withdraw_record","meta":{"auth":true}},{"path":"/bundle/pages/service/service","meta":{"auth":true}},{"path":"/bundle/pages/artificial_service/artificial_service","meta":{"auth":true}},{"path":"/bundle/pages/user_sign/user_sign","meta":{"auth":true}},{"path":"/bundle/pages/sign_rule/sign_rule","meta":{"auth":true}},{"path":"/bundle/pages/sign_detail/sign_detail","meta":{"auth":true}},{"path":"/bundle/pages/verification_detail/verification_detail","meta":{"auth":true}},{"path":"/bundle/pages/verification_list/verification_list","meta":{"auth":true}},{"path":"/bundle/pages/goods_bargain/goods_bargain","meta":{"auth":false}},{"path":"/bundle/pages/bargain_progress/bargain_progress","meta":{"auth":true}},{"path":"/bundle/pages/bargain_code/bargain_code","meta":{"auth":true}},{"path":"/bundle/pages/goods_team/goods_team","meta":{"auth":false}},{"path":"/bundle/pages/goods_team_detail/goods_team_detail","meta":{"auth":false}},{"path":"/bundle/pages/goods_team_history/goods_team_history","meta":{"auth":true}},{"path":"/bundle/pages/h5_pay_query/h5_pay_query"},{"path":"/bundle/pages/live_broadcast/live_broadcast"},{"path":"/bundle/pages/luck_draw/luck_draw"},{"path":"/bundle/pages/luck_draw_code/luck_draw_code","meta":{"auth":true}},{"path":"/bundle/pages/win_prize_code/win_prize_code","meta":{"auth":true}},{"path":"/bundle/pages/business_suspended/business_suspended","meta":{"auth":true}},{"path":"/bundle/pages/license/license","meta":{"auth":true}},{"path":"/bundle/pages/article_lists/article_lists","meta":{"auth":true}},{"path":"/bundle/pages/integral_mall/integral_mall","meta":{"auth":true}},{"path":"/bundle/pages/integral_goods_details/integral_goods_details","meta":{"auth":true}},{"path":"/bundle/pages/integral_settlement/integral_settlement","meta":{"auth":true}},{"path":"/bundle/pages/exchange_order/exchange_order","meta":{"auth":true}},{"path":"/bundle/pages/exchange_order_details/exchange_order_details","meta":{"auth":true}},{"path":"/bundle/pages/cancel/cancel","meta":{"auth":true}},{"path":"/bundle/pages/cancel_result/cancel_result","meta":{"auth":false}}]), [{
    path: '*',
    redirect: function redirect(to) {
      return {
        name: '404'
      };
    }
  }])
});
exports.router = router;
router.beforeEach(function (to, from, next) {
  var index = whiteList.findIndex(function (item) {
    return from.path.includes(item);
  });
  if (index == -1 && !_store.default.getters.token) {
    //保存登录前的路径
    _cache.default.set(_cachekey.BACK_URL, from.fullPath);
  }
  if (to.meta.auth && !_store.default.getters.token && to.path !== '/bundle/pages/business_suspended/business_suspended') {
    next('/pages/login/login');
    return;
  } else {
    next();
  }
});
router.afterEach(function (to, from, next) {});

/***/ }),

/***/ 48:
/*!********************************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/js_sdk/hhyang-uni-simple-router/uni-simple-router.js ***!
  \********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(uni, module) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var _typeof = __webpack_require__(/*! @babel/runtime/helpers/typeof */ 13);
!function (e, t) {
  "object" == ( false ? undefined : _typeof(exports)) && "object" == ( false ? undefined : _typeof(module)) ? module.exports = t() :  true ? !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (t),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)) : undefined;
}(self, function () {
  return e = {
    779: function _(e, t, r) {
      var o = r(173);
      e.exports = function e(t, r, n) {
        return o(r) || (n = r || n, r = []), n = n || {}, t instanceof RegExp ? function (e, t) {
          var r = e.source.match(/\((?!\?)/g);
          if (r) for (var o = 0; o < r.length; o++) {
            t.push({
              name: o,
              prefix: null,
              delimiter: null,
              optional: !1,
              repeat: !1,
              partial: !1,
              asterisk: !1,
              pattern: null
            });
          }
          return c(e, t);
        }(t, r) : o(t) ? function (t, r, o) {
          for (var n = [], a = 0; a < t.length; a++) {
            n.push(e(t[a], r, o).source);
          }
          return c(new RegExp("(?:" + n.join("|") + ")", s(o)), r);
        }(t, r, n) : function (e, t, r) {
          return f(a(e, r), t, r);
        }(t, r, n);
      }, e.exports.parse = a, e.exports.compile = function (e, t) {
        return u(a(e, t), t);
      }, e.exports.tokensToFunction = u, e.exports.tokensToRegExp = f;
      var n = new RegExp(["(\\\\.)", "([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"), "g");
      function a(e, t) {
        for (var r, o = [], a = 0, i = 0, u = "", c = t && t.delimiter || "/"; null != (r = n.exec(e));) {
          var s = r[0],
            f = r[1],
            h = r.index;
          if (u += e.slice(i, h), i = h + s.length, f) u += f[1];else {
            var v = e[i],
              y = r[2],
              g = r[3],
              d = r[4],
              m = r[5],
              b = r[6],
              O = r[7];
            u && (o.push(u), u = "");
            var P = null != y && null != v && v !== y,
              k = "+" === b || "*" === b,
              j = "?" === b || "*" === b,
              w = r[2] || c,
              R = d || m;
            o.push({
              name: g || a++,
              prefix: y || "",
              delimiter: w,
              optional: j,
              repeat: k,
              partial: P,
              asterisk: !!O,
              pattern: R ? p(R) : O ? ".*" : "[^" + l(w) + "]+?"
            });
          }
        }
        return i < e.length && (u += e.substr(i)), u && o.push(u), o;
      }
      function i(e) {
        return encodeURI(e).replace(/[\/?#]/g, function (e) {
          return "%" + e.charCodeAt(0).toString(16).toUpperCase();
        });
      }
      function u(e, t) {
        for (var r = new Array(e.length), n = 0; n < e.length; n++) {
          "object" == _typeof(e[n]) && (r[n] = new RegExp("^(?:" + e[n].pattern + ")$", s(t)));
        }
        return function (t, n) {
          for (var a = "", u = t || {}, l = (n || {}).pretty ? i : encodeURIComponent, p = 0; p < e.length; p++) {
            var c = e[p];
            if ("string" != typeof c) {
              var s,
                f = u[c.name];
              if (null == f) {
                if (c.optional) {
                  c.partial && (a += c.prefix);
                  continue;
                }
                throw new TypeError('Expected "' + c.name + '" to be defined');
              }
              if (o(f)) {
                if (!c.repeat) throw new TypeError('Expected "' + c.name + '" to not repeat, but received `' + JSON.stringify(f) + "`");
                if (0 === f.length) {
                  if (c.optional) continue;
                  throw new TypeError('Expected "' + c.name + '" to not be empty');
                }
                for (var h = 0; h < f.length; h++) {
                  if (s = l(f[h]), !r[p].test(s)) throw new TypeError('Expected all "' + c.name + '" to match "' + c.pattern + '", but received `' + JSON.stringify(s) + "`");
                  a += (0 === h ? c.prefix : c.delimiter) + s;
                }
              } else {
                if (s = c.asterisk ? encodeURI(f).replace(/[?#]/g, function (e) {
                  return "%" + e.charCodeAt(0).toString(16).toUpperCase();
                }) : l(f), !r[p].test(s)) throw new TypeError('Expected "' + c.name + '" to match "' + c.pattern + '", but received "' + s + '"');
                a += c.prefix + s;
              }
            } else a += c;
          }
          return a;
        };
      }
      function l(e) {
        return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g, "\\$1");
      }
      function p(e) {
        return e.replace(/([=!:$\/()])/g, "\\$1");
      }
      function c(e, t) {
        return e.keys = t, e;
      }
      function s(e) {
        return e && e.sensitive ? "" : "i";
      }
      function f(e, t, r) {
        o(t) || (r = t || r, t = []);
        for (var n = (r = r || {}).strict, a = !1 !== r.end, i = "", u = 0; u < e.length; u++) {
          var p = e[u];
          if ("string" == typeof p) i += l(p);else {
            var f = l(p.prefix),
              h = "(?:" + p.pattern + ")";
            t.push(p), p.repeat && (h += "(?:" + f + h + ")*"), i += h = p.optional ? p.partial ? f + "(" + h + ")?" : "(?:" + f + "(" + h + "))?" : f + "(" + h + ")";
          }
        }
        var v = l(r.delimiter || "/"),
          y = i.slice(-v.length) === v;
        return n || (i = (y ? i.slice(0, -v.length) : i) + "(?:" + v + "(?=$))?"), i += a ? "$" : n && y ? "" : "(?=" + v + "|$)", c(new RegExp("^" + i, s(r)), t);
      }
    },
    173: function _(e) {
      e.exports = Array.isArray || function (e) {
        return "[object Array]" == Object.prototype.toString.call(e);
      };
    },
    844: function _(e, t, r) {
      "use strict";

      var o = this && this.__assign || function () {
        return (o = Object.assign || function (e) {
          for (var t, r = 1, o = arguments.length; r < o; r++) {
            for (var n in t = arguments[r]) {
              Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);
            }
          }
          return e;
        }).apply(this, arguments);
      };
      Object.defineProperty(t, "__esModule", {
        value: !0
      }), t.buildVueRouter = t.buildVueRoutes = void 0;
      var n = r(366),
        a = r(883),
        i = r(789),
        u = r(169);
      t.buildVueRoutes = function (e, t) {
        for (var r = e.routesMap, o = r.pathMap, l = r.finallyPathList, p = Object.keys(t), c = 0; c < p.length; c++) {
          var s = p[c],
            f = o[s],
            h = t[s];
          if (f) {
            var v = i.getRoutePath(f, e).finallyPath;
            if (v instanceof Array) throw new Error("非 vueRouterDev 模式下，alias、aliasPath、path 无法提供数组类型！ " + JSON.stringify(f));
            null != f.name && (h.name = f.name);
            var y = h.path,
              g = h.alias;
            delete h.alias, h.path = v, "/" === y && null != g && (h.alias = g, h.path = y), f.beforeEnter && (h.beforeEnter = function (t, r, o) {
              u.onTriggerEachHook(t, r, e, n.hookToggle.enterHooks, o);
            });
          } else a.warn(s + " 路由地址在路由表中未找到，确定是否传递漏啦", e, !0);
        }
        return l.includes("*") && (t["*"] = o["*"]), t;
      }, t.buildVueRouter = function (e, t, r) {
        var n;
        n = "[object Array]" === i.getDataType(r) ? r : Object.values(r);
        var a = e.options.h5,
          u = a.scrollBehavior,
          l = a.fallback,
          p = t.options.scrollBehavior;
        t.options.scrollBehavior = function (e, t, r) {
          return p && p(e, t, r), u(e, t, r);
        }, t.fallback = l;
        var c = new t.constructor(o(o({}, e.options.h5), {
          base: t.options.base,
          mode: t.options.mode,
          routes: n
        }));
        t.matcher = c.matcher;
      };
    },
    147: function _(e, t) {
      "use strict";

      var _r,
        o = this && this.__extends || (_r = function r(e, t) {
          return (_r = Object.setPrototypeOf || {
            __proto__: []
          } instanceof Array && function (e, t) {
            e.__proto__ = t;
          } || function (e, t) {
            for (var r in t) {
              Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
            }
          })(e, t);
        }, function (e, t) {
          function o() {
            this.constructor = e;
          }
          _r(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
        });
      Object.defineProperty(t, "__esModule", {
        value: !0
      }), t.proxyH5Mount = t.proxyEachHook = t.MyArray = void 0;
      var n = function (e) {
        function t(r, o, n, a) {
          var i = e.call(this) || this;
          return i.router = r, i.vueEachArray = o, i.myEachHook = n, i.hookName = a, Object.setPrototypeOf(i, t.prototype), i;
        }
        return o(t, e), t.prototype.push = function (e) {
          var t = this;
          this.vueEachArray.push(e);
          var r = this.length;
          this[this.length] = function (e, o, n) {
            r > 0 ? t.vueEachArray[r](e, o, function () {
              n && n();
            }) : t.myEachHook(e, o, function (a) {
              !1 === a ? n(!1) : t.vueEachArray[r](e, o, function (e) {
                n(a);
              });
            }, t.router, !0);
          };
        }, t;
      }(Array);
      t.MyArray = n, t.proxyEachHook = function (e, t) {
        for (var r = ["beforeHooks", "afterHooks"], o = 0; o < r.length; o++) {
          var a = r[o],
            i = e.lifeCycle[a][0];
          if (i) {
            var u = t[a];
            t[a] = new n(e, u, i, a);
          }
        }
      }, t.proxyH5Mount = function (e) {
        var t;
        if (0 === e.mount.length) {
          if (null === (t = e.options.h5) || void 0 === t ? void 0 : t.vueRouterDev) return;
          navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/) && setTimeout(function () {
            if (document.getElementsByTagName("uni-page").length > 0) return !1;
            window.location.reload();
          }, 0);
        } else e.mount[0].app.$mount(), e.mount = [];
      };
    },
    814: function _(e, t) {
      "use strict";

      var r = this && this.__assign || function () {
        return (r = Object.assign || function (e) {
          for (var t, r = 1, o = arguments.length; r < o; r++) {
            for (var n in t = arguments[r]) {
              Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);
            }
          }
          return e;
        }).apply(this, arguments);
      };
      Object.defineProperty(t, "__esModule", {
        value: !0
      }), t.runtimeQuit = t.registerLoddingPage = void 0;
      var o = null;
      t.registerLoddingPage = function (e) {
        if (e.options.registerLoadingPage) {
          var t = e.options.APP,
            o = t.loadingPageHook,
            n = t.loadingPageStyle;
          o(new plus.nativeObj.View("router-loadding", r({
            top: "0px",
            left: "0px",
            height: "100%",
            width: "100%"
          }, n())));
        }
      }, t.runtimeQuit = function (e) {
        void 0 === e && (e = "再按一次退出应用");
        var t = +new Date();
        o ? t - o < 1e3 && plus.runtime.quit() : (o = t, uni.showToast({
          title: e,
          icon: "none",
          position: "bottom",
          duration: 1e3
        }), setTimeout(function () {
          o = null;
        }, 1e3));
      };
    },
    334: function _(e, t) {
      "use strict";

      Object.defineProperty(t, "__esModule", {
        value: !0
      }), t.getEnterPath = void 0, t.getEnterPath = function (e, t) {
        switch (t.options.platform) {
          case "mp-alipay":
          case "mp-weixin":
          case "mp-toutiao":
          case "mp-qq":
            return e.$options.mpInstance.route;
          case "mp-baidu":
            return e.$options.mpInstance.is || e.$options.mpInstance.pageinstance.route;
        }
        return e.$options.mpInstance.route;
      };
    },
    282: function _(e, t, r) {
      "use strict";

      var o = this && this.__assign || function () {
          return (o = Object.assign || function (e) {
            for (var t, r = 1, o = arguments.length; r < o; r++) {
              for (var n in t = arguments[r]) {
                Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);
              }
            }
            return e;
          }).apply(this, arguments);
        },
        n = this && this.__rest || function (e, t) {
          var r = {};
          for (var o in e) {
            Object.prototype.hasOwnProperty.call(e, o) && t.indexOf(o) < 0 && (r[o] = e[o]);
          }
          if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
            var n = 0;
            for (o = Object.getOwnPropertySymbols(e); n < o.length; n++) {
              t.indexOf(o[n]) < 0 && Object.prototype.propertyIsEnumerable.call(e, o[n]) && (r[o[n]] = e[o[n]]);
            }
          }
          return r;
        };
      Object.defineProperty(t, "__esModule", {
        value: !0
      }), t.notCallProxyHook = t.proxyVueSortHookName = t.indexProxyHook = t.appProxyHook = t.lifeCycle = t.baseConfig = t.mpPlatformReg = t.keyword = void 0;
      var a = r(883),
        i = r(789);
      t.keyword = ["query"], t.mpPlatformReg = "(^mp-weixin$)|(^mp-baidu$)|(^mp-alipay$)|(^mp-toutiao$)|(^mp-qq$)|(^mp-360$)", t.baseConfig = {
        h5: {
          paramsToQuery: !1,
          vueRouterDev: !1,
          vueNext: !1,
          mode: "hash",
          base: "/",
          linkActiveClass: "router-link-active",
          linkExactActiveClass: "router-link-exact-active",
          scrollBehavior: function scrollBehavior(e, t, r) {
            return {
              x: 0,
              y: 0
            };
          },
          fallback: !0
        },
        APP: {
          registerLoadingPage: !0,
          loadingPageStyle: function loadingPageStyle() {
            return JSON.parse('{"backgroundColor":"#FFF"}');
          },
          loadingPageHook: function loadingPageHook(e) {
            e.show();
          },
          launchedHook: function launchedHook() {
            plus.navigator.closeSplashscreen();
          },
          animation: {}
        },
        applet: {
          animationDuration: 300
        },
        platform: "h5",
        keepUniOriginNav: !1,
        debugger: !1,
        routerBeforeEach: function routerBeforeEach(e, t, r) {
          r();
        },
        routerAfterEach: function routerAfterEach(e, t) {},
        routerErrorEach: function routerErrorEach(e, t) {
          t.$lockStatus = !1, a.err(e, t, !0);
        },
        detectBeforeLock: function detectBeforeLock(e, t, r) {},
        routes: [{
          path: "/choose-location"
        }, {
          path: "/open-location"
        }, {
          path: "/preview-image"
        }]
      }, t.lifeCycle = {
        beforeHooks: [],
        afterHooks: [],
        routerBeforeHooks: [],
        routerAfterHooks: [],
        routerErrorHooks: []
      }, t.appProxyHook = {
        app: {
          created: [],
          beforeMount: [],
          mounted: [],
          onLaunch: [],
          onShow: [],
          onHide: [],
          beforeDestroy: [],
          destroyed: []
        }
      }, t.indexProxyHook = {
        app: t.appProxyHook.app,
        page: function (e) {
          e.onLaunch;
          var t = n(e, ["onLaunch"]);
          return o(o({}, t), {
            onLoad: [],
            onReady: [],
            onUnload: [],
            onResize: []
          });
        }(i.copyData(t.appProxyHook.app)),
        component: []
      }, t.proxyVueSortHookName = {
        app: ["created", "beforeMount", "mounted", "onLaunch", "onShow", "onHide", "beforeDestroy", "destroyed"],
        page: ["created", "beforeMount", "mounted", "onLoad", "onReady", "onShow", "onResize", "onHide", "beforeDestroy", "destroyed", "onUnload"],
        component: ["created", "beforeMount", "mounted", "beforeDestroy", "destroyed"]
      }, t.notCallProxyHook = ["onHide", "beforeDestroy", "destroyed", "destroyed", "onUnload", "onResize"];
    },
    801: function _(e, t, r) {
      "use strict";

      Object.defineProperty(t, "__esModule", {
        value: !0
      }), t.createRouteMap = void 0;
      var o = r(883),
        n = r(789);
      t.createRouteMap = function (e, t) {
        var r = {
          finallyPathList: [],
          finallyPathMap: Object.create(null),
          aliasPathMap: Object.create(null),
          pathMap: Object.create(null),
          vueRouteMap: Object.create(null),
          nameMap: Object.create(null)
        };
        return t.forEach(function (t) {
          var a = n.getRoutePath(t, e),
            i = a.finallyPath,
            u = a.aliasPath,
            l = a.path;
          if (null == l) throw new Error("请提供一个完整的路由对象，包括以绝对路径开始的 ‘path’ 字符串 " + JSON.stringify(t));
          if (i instanceof Array && !e.options.h5.vueRouterDev && "h5" === e.options.platform) throw new Error("非 vueRouterDev 模式下，route.alias 目前无法提供数组类型！ " + JSON.stringify(t));
          var p = i,
            c = u;
          "h5" !== e.options.platform && 0 !== p.indexOf("/") && "*" !== l && o.warn("当前路由对象下，route：" + JSON.stringify(t) + " 是否缺少了前缀 ‘/’", e, !0), r.finallyPathMap[p] || (r.finallyPathMap[p] = t, r.aliasPathMap[c] = t, r.pathMap[l] = t, r.finallyPathList.push(p), null != t.name && (r.nameMap[t.name] = t));
        }), r;
      };
    },
    662: function _(e, t, r) {
      "use strict";

      Object.defineProperty(t, "__esModule", {
        value: !0
      }), t.registerEachHooks = t.registerRouterHooks = t.registerHook = void 0;
      var o = r(366),
        n = r(169);
      function a(e, t) {
        e[0] = t;
      }
      t.registerHook = a, t.registerRouterHooks = function (e, t) {
        return a(e.routerBeforeHooks, function (e, r, o) {
          t.routerBeforeEach(e, r, o);
        }), a(e.routerAfterHooks, function (e, r) {
          t.routerAfterEach(e, r);
        }), a(e.routerErrorHooks, function (e, r) {
          t.routerErrorEach(e, r);
        }), e;
      }, t.registerEachHooks = function (e, t, r) {
        a(e.lifeCycle[t], function (e, a, i, u, l) {
          l ? n.onTriggerEachHook(e, a, u, o.hookToggle[t], i) : r(e, a, i);
        });
      };
    },
    460: function _(e, t, r) {
      "use strict";

      var o = this && this.__assign || function () {
        return (o = Object.assign || function (e) {
          for (var t, r = 1, o = arguments.length; r < o; r++) {
            for (var n in t = arguments[r]) {
              Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);
            }
          }
          return e;
        }).apply(this, arguments);
      };
      Object.defineProperty(t, "__esModule", {
        value: !0
      }), t.initMixins = t.getMixins = void 0;
      var n = r(801),
        a = r(844),
        i = r(147),
        u = r(814),
        l = r(845),
        p = r(890),
        c = r(789),
        s = r(334),
        f = r(282),
        h = !1,
        v = !1,
        y = {
          app: !1,
          page: ""
        };
      function g(e, t) {
        var r = t.options.platform;
        return new RegExp(f.mpPlatformReg, "g").test(r) && (r = "app-lets"), {
          h5: {
            beforeCreate: function beforeCreate() {
              var e;
              if (this.$options.router) {
                t.$route = this.$options.router;
                var r = [];
                (null === (e = t.options.h5) || void 0 === e ? void 0 : e.vueRouterDev) ? r = t.options.routes : (r = n.createRouteMap(t, this.$options.router.options.routes).finallyPathMap, t.routesMap.vueRouteMap = r, a.buildVueRoutes(t, r)), a.buildVueRouter(t, this.$options.router, r), i.proxyEachHook(t, this.$options.router);
              }
            }
          },
          "app-plus": {
            beforeCreate: function beforeCreate() {
              h || (h = !0, l.proxyPageHook(this, t, "appProxyHook", "app"), u.registerLoddingPage(t));
            }
          },
          "app-lets": {
            beforeCreate: function beforeCreate() {
              var e = this.$options.mpType;
              "component" !== e || v ? "component" !== e && (y[e] || ("page" === e ? (y[e] = s.getEnterPath(this, t), t.enterPath = y[e]) : y[e] = !0, l.proxyPageHook(this, t, "appletsProxyHook", e))) : c.assertParentChild(y.page, this) && l.proxyPageHook(this, t, "appletsProxyHook", e);
            },
            onLoad: function onLoad() {
              !v && c.assertParentChild(y.page, this) && (v = !0, p.forceGuardEach(t));
            }
          }
        }[r];
      }
      t.getMixins = g, t.initMixins = function (e, t) {
        var r = n.createRouteMap(t, t.options.routes);
        t.routesMap = r, e.mixin(o({}, g(0, t)));
      };
    },
    789: function _(e, t, r) {
      "use strict";

      var o = this && this.__assign || function () {
          return (o = Object.assign || function (e) {
            for (var t, r = 1, o = arguments.length; r < o; r++) {
              for (var n in t = arguments[r]) {
                Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);
              }
            }
            return e;
          }).apply(this, arguments);
        },
        n = this && this.__rest || function (e, t) {
          var r = {};
          for (var o in e) {
            Object.prototype.hasOwnProperty.call(e, o) && t.indexOf(o) < 0 && (r[o] = e[o]);
          }
          if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
            var n = 0;
            for (o = Object.getOwnPropertySymbols(e); n < o.length; n++) {
              t.indexOf(o[n]) < 0 && Object.prototype.propertyIsEnumerable.call(e, o[n]) && (r[o[n]] = e[o[n]]);
            }
          }
          return r;
        },
        a = this && this.__spreadArrays || function () {
          for (var e = 0, t = 0, r = arguments.length; t < r; t++) {
            e += arguments[t].length;
          }
          var o = Array(e),
            n = 0;
          for (t = 0; t < r; t++) {
            for (var a = arguments[t], i = 0, u = a.length; i < u; i++, n++) {
              o[n] = a[i];
            }
          }
          return o;
        };
      Object.defineProperty(t, "__esModule", {
        value: !0
      }), t.resolveAbsolutePath = t.assertParentChild = t.reservedWord = t.resetPageHook = t.callHook = t.replaceHook = t.lockDetectWarn = t.deepClone = t.baseClone = t.assertDeepObject = t.paramsToQuery = t.forMatNextToFrom = t.urlToJson = t.getUniCachePage = t.copyData = t.getDataType = t.routesForMapRoute = t.notRouteTo404 = t.getWildcardRule = t.assertNewOptions = t.getRoutePath = t.notDeepClearNull = t.mergeConfig = t.timeOut = t.def = t.voidFun = void 0;
      var i = r(282),
        u = r(169),
        l = r(883),
        p = r(890),
        c = r(779);
      function s(e, t) {
        for (var r = Object.create(null), n = Object.keys(e).concat(["resolveQuery", "parseQuery"]), i = 0; i < n.length; i += 1) {
          var u = n[i];
          null != t[u] ? t[u].constructor === Object ? r[u] = o(o({}, e[u]), t[u]) : r[u] = "routes" === u ? a(e[u], t[u]) : t[u] : r[u] = e[u];
        }
        return r;
      }
      function f(e, t) {
        var r = e.aliasPath || e.alias || e.path;
        return "h5" !== t.options.platform && (r = e.path), {
          finallyPath: r,
          aliasPath: e.aliasPath || e.path,
          path: e.path,
          alias: e.alias
        };
      }
      function h(e, t) {
        var r = e.routesMap.finallyPathMap["*"];
        if (r) return r;
        throw t && u.ERRORHOOK[0](t, e), new Error("当前路由表匹配规则已全部匹配完成，未找到满足的匹配规则。你可以使用 '*' 通配符捕捉最后的异常");
      }
      function v(e) {
        return Object.prototype.toString.call(e);
      }
      function y(e) {
        return JSON.parse(JSON.stringify(e));
      }
      function g(e, t) {
        for (var r = 0, o = Object.keys(e); r < o.length; r++) {
          var n = o[r],
            a = n;
          e[n] !== e && ("object" == _typeof(e[n]) ? (t[a] = "[object Array]" === v(e[n]) ? [] : {}, g(e[n], t[a])) : t[a] = e[n]);
        }
      }
      function d(e) {
        var t = "[object Array]" === v(e) ? [] : {};
        return g(e, t), t;
      }
      function m(e, t) {
        for (var r = [], o = 0, n = Object.entries(e); o < n.length; o++) {
          var a = n[o][1][0];
          a && a.hook && r.push(a.hook(t));
        }
        return r;
      }
      t.voidFun = function () {}, t.def = function (e, t, r) {
        Object.defineProperty(e, t, {
          get: function get() {
            return r();
          }
        });
      }, t.timeOut = function (e) {
        return new Promise(function (t) {
          setTimeout(function () {
            t();
          }, e);
        });
      }, t.mergeConfig = s, t.notDeepClearNull = function (e) {
        for (var t in e) {
          null == e[t] && delete e[t];
        }
        return e;
      }, t.getRoutePath = f, t.assertNewOptions = function (e) {
        var t,
          r = e.platform,
          o = e.routes;
        if (null == r) throw new Error("你在实例化路由时必须传递 'platform'");
        if (null == o || 0 === o.length) throw new Error("你在实例化路由时必须传递 routes 为空，这是无意义的。");
        return "h5" === e.platform && (null === (t = e.h5) || void 0 === t ? void 0 : t.vueRouterDev) && (i.baseConfig.routes = []), s(i.baseConfig, e);
      }, t.getWildcardRule = h, t.notRouteTo404 = function (e, t, r, o) {
        if ("*" !== t.path) return t;
        var n = t.redirect;
        if (void 0 === n) throw new Error(" *  通配符必须配合 redirect 使用。redirect: string | Location | Function");
        var a = n;
        return "function" == typeof a && (a = a(r)), p.navjump(a, e, o, void 0, void 0, void 0, !1);
      }, t.routesForMapRoute = function (e, t, r) {
        var o;
        if (null === (o = e.options.h5) || void 0 === o ? void 0 : o.vueRouterDev) return {
          path: t
        };
        for (var n = t.split("?")[0], a = "", i = e.routesMap, u = 0; u < r.length; u++) {
          for (var l = i[r[u]], p = 0, s = Object.entries(l); p < s.length; p++) {
            var f = s[p],
              y = f[0],
              g = f[1];
            if ("*" !== y) {
              var d = g,
                m = y;
              if ("[object Array]" === v(l) && (m = d), null != c(m).exec(n)) return "[object String]" === v(d) ? i.finallyPathMap[d] : d;
            } else "" === a && (a = "*");
          }
        }
        if ("" !== a) return h(e);
        throw new Error(t + " 路径无法在路由表中找到！检查跳转路径及路由表");
      }, t.getDataType = v, t.copyData = y, t.getUniCachePage = function (e) {
        var t = getCurrentPages();
        if (null == e) return t;
        if (0 === t.length) return t;
        var r = t.reverse()[e];
        return null == r ? [] : r;
      }, t.urlToJson = function (e) {
        var t = {},
          r = e.split("?"),
          o = r[0],
          n = r[1];
        if (null != n) for (var a = 0, i = n.split("&"); a < i.length; a++) {
          var u = i[a].split("=");
          t[u[0]] = u[1];
        }
        return {
          path: o,
          query: t
        };
      }, t.forMatNextToFrom = function (e, t, r) {
        var o = [t, r],
          n = o[0],
          a = o[1];
        if ("h5" === e.options.platform) {
          var i = e.options.h5,
            u = i.vueNext,
            l = i.vueRouterDev;
          u || l || (n = p.createRoute(e, void 0, n), a = p.createRoute(e, void 0, a));
        } else n = p.createRoute(e, void 0, d(n)), a = p.createRoute(e, void 0, d(a));
        return {
          matTo: n,
          matFrom: a
        };
      }, t.paramsToQuery = function (e, t) {
        var r;
        if ("h5" === e.options.platform && !(null === (r = e.options.h5) || void 0 === r ? void 0 : r.paramsToQuery)) return t;
        if ("[object Object]" === v(t)) {
          var a = t,
            i = a.name,
            l = a.params,
            p = n(a, ["name", "params"]),
            c = l;
          if ("h5" !== e.options.platform && null == c && (c = {}), null != i && null != c) {
            var s = e.routesMap.nameMap[i];
            null == s && (s = h(e, {
              type: 2,
              msg: "命名路由为：" + i + " 的路由，无法在路由表中找到！",
              toRule: t
            }));
            var y = f(s, e).finallyPath;
            if (!y.includes(":")) return o(o({}, p), {
              path: y,
              query: c
            });
            u.ERRORHOOK[0]({
              type: 2,
              msg: "动态路由：" + y + " 无法使用 paramsToQuery！",
              toRule: t
            }, e);
          }
        }
        return t;
      }, t.assertDeepObject = function (e) {
        var t = null;
        try {
          t = JSON.stringify(e).match(/\{|\[|\}|\]/g);
        } catch (e) {
          l.warnLock("传递的参数解析对象失败。" + e);
        }
        return null != t && t.length > 3;
      }, t.baseClone = g, t.deepClone = d, t.lockDetectWarn = function (e, t, r, o, n) {
        if ("afterHooks" === n) o();else {
          var a = e.options.detectBeforeLock;
          a && a(e, t, r), e.$lockStatus ? e.options.routerErrorEach({
            type: 2,
            msg: "当前页面正在处于跳转状态，请稍后再进行跳转...."
          }, e) : o();
        }
      }, t.replaceHook = function (e, t, r, o) {
        var n = t.$options,
          a = e[r][o],
          u = {};
        if ("[object Array]" === v(a) && (u = {
          beforeCreate: [],
          created: [],
          beforeMount: [],
          mounted: [],
          beforeDestroy: [],
          destroyed: []
        }), null != a) {
          for (var l = i.proxyVueSortHookName[o], p = function p(r) {
              var p = l[r],
                c = n[p];
              if ("[object Array]" === v(c)) {
                var s = {
                    options: [],
                    hook: Function
                  },
                  f = c.splice(c.length - 1, 1, function () {
                    for (var e = [], t = 0; t < arguments.length; t++) {
                      e[t] = arguments[t];
                    }
                    return s.options = e;
                  })[0];
                s.hook = function (r) {
                  return e.enterPath.replace(/^\//, "") !== r.replace(/^\//, "") && "app" !== o ? function () {} : (i.notCallProxyHook.includes(p) || f.apply(t, s.options), function () {
                    c.splice(c.length - 1, 1, f);
                  });
                }, Object.keys(u).length > 0 ? u[p] = [s] : a[p] = [s];
              }
            }, c = 0; c < l.length; c++) {
            p(c);
          }
          Object.keys(u).length > 0 && a.push(u);
        }
      }, t.callHook = m, t.resetPageHook = function (e, t) {
        var r = t.trim().match(/^(\/?[^\?\s]+)(\?[\s\S]*$)?$/);
        if (null == r) throw new Error("还原hook失败。请检查 【" + t + "】 路径是否正确。");
        t = r[1];
        var o = "appletsProxyHook";
        "app-plus" === e.options.platform && (o = "appProxyHook");
        for (var n = [], a = 0, i = Object.entries(e[o]); a < i.length; a++) {
          var u = i[a][1];
          if ("[object Array]" === v(u)) for (var l = 0; l < u.length; l++) {
            n = n.concat(m(u[l], t));
          } else n = n.concat(m(u, t));
        }
        setTimeout(function () {
          for (var e = 0; e < n.length; e++) {
            n[e]();
          }
        }, 500);
      }, t.reservedWord = function (e) {
        if ("string" == typeof e) return e;
        for (var t = o(o({}, y(e.params || {})), y(e.query || {})), r = 0; r < i.keyword.length; r++) {
          var n = i.keyword[r];
          Reflect.has(t, n) && ("[object Object]" === v(e.query) && delete e.query[n], "[object Object]" === v(e.params) && delete e.params[n], l.warnLock(JSON.stringify(i.keyword) + " 作为插件的保留字，在参数传递中不允许使用。已自动被过滤掉！换个参数名试试吧！ "));
        }
        return e;
      }, t.assertParentChild = function (e, t) {
        for (; null != t.$parent;) {
          var r = t.$parent.$mp;
          if (r.page && r.page.is === e) return !0;
          t = t.$parent;
        }
        try {
          if (t.$mp.page.is === e || t.$mp.page.route === e) return !0;
        } catch (e) {
          return !1;
        }
        return !1;
      }, t.resolveAbsolutePath = function (e, t) {
        var r = /^\/?([^\?\s]+)(\?.+)?$/,
          o = e.trim();
        if (!r.test(o)) throw new Error("【" + e + "】 路径错误，请提供完整的路径(10001)。");
        var n = o.match(r);
        if (null == n) throw new Error("【" + e + "】 路径错误，请提供完整的路径(10002)。");
        var a = n[2] || "";
        if (/^\.\/[^\.]+/.test(o)) return (t.currentRoute.path + e).replace(/[^\/]+\.\//, "");
        var i = n[1].replace(/\//g, "\\/").replace(/\.\./g, "[^\\/]+").replace(/\./g, "\\."),
          u = new RegExp("^\\/" + i + "$"),
          l = t.options.routes.filter(function (e) {
            return u.test(e.path);
          });
        if (1 !== l.length) throw new Error("【" + e + "】 路径错误，尝试转成绝对路径失败，请手动转成绝对路径(10003)。");
        return l[0].path + a;
      };
    },
    883: function _(e, t) {
      "use strict";

      function r(e, t, r, o) {
        if (void 0 === o && (o = !1), !o) {
          var n = "[object Object]" === t.toString();
          if (!1 === t) return !1;
          if (n && !1 === t[e]) return !1;
        }
        return console[e](r), !0;
      }
      Object.defineProperty(t, "__esModule", {
        value: !0
      }), t.warnLock = t.log = t.warn = t.err = t.isLog = void 0, t.isLog = r, t.err = function (e, t, o) {
        r("error", t.options.debugger, e, o);
      }, t.warn = function (e, t, o) {
        r("warn", t.options.debugger, e, o);
      }, t.log = function (e, t, o) {
        r("log", t.options.debugger, e, o);
      }, t.warnLock = function (e) {
        console.warn(e);
      };
    },
    607: function _(e, t, r) {
      "use strict";

      var o = this && this.__createBinding || (Object.create ? function (e, t, r, o) {
          void 0 === o && (o = r), Object.defineProperty(e, o, {
            enumerable: !0,
            get: function get() {
              return t[r];
            }
          });
        } : function (e, t, r, o) {
          void 0 === o && (o = r), e[o] = t[r];
        }),
        n = this && this.__exportStar || function (e, t) {
          for (var r in e) {
            "default" === r || Object.prototype.hasOwnProperty.call(t, r) || o(t, e, r);
          }
        };
      Object.defineProperty(t, "__esModule", {
        value: !0
      }), t.createRouter = t.RouterMount = t.runtimeQuit = void 0, n(r(366), t), n(r(309), t);
      var a = r(814);
      Object.defineProperty(t, "runtimeQuit", {
        enumerable: !0,
        get: function get() {
          return a.runtimeQuit;
        }
      });
      var i = r(963);
      Object.defineProperty(t, "RouterMount", {
        enumerable: !0,
        get: function get() {
          return i.RouterMount;
        }
      }), Object.defineProperty(t, "createRouter", {
        enumerable: !0,
        get: function get() {
          return i.createRouter;
        }
      });
    },
    366: function _(e, t) {
      "use strict";

      var r, o, n;
      Object.defineProperty(t, "__esModule", {
        value: !0
      }), t.rewriteMethodToggle = t.navtypeToggle = t.hookToggle = void 0, (n = t.hookToggle || (t.hookToggle = {})).beforeHooks = "beforeEach", n.afterHooks = "afterEach", n.enterHooks = "beforeEnter", (o = t.navtypeToggle || (t.navtypeToggle = {})).push = "navigateTo", o.replace = "redirectTo", o.replaceAll = "reLaunch", o.pushTab = "switchTab", o.back = "navigateBack", (r = t.rewriteMethodToggle || (t.rewriteMethodToggle = {})).navigateTo = "push", r.navigate = "push", r.redirectTo = "replace", r.reLaunch = "replaceAll", r.switchTab = "pushTab", r.navigateBack = "back";
    },
    309: function _(e, t) {
      "use strict";

      Object.defineProperty(t, "__esModule", {
        value: !0
      });
    },
    169: function _(e, t, r) {
      "use strict";

      var o = this && this.__rest || function (e, t) {
        var r = {};
        for (var o in e) {
          Object.prototype.hasOwnProperty.call(e, o) && t.indexOf(o) < 0 && (r[o] = e[o]);
        }
        if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
          var n = 0;
          for (o = Object.getOwnPropertySymbols(e); n < o.length; n++) {
            t.indexOf(o[n]) < 0 && Object.prototype.propertyIsEnumerable.call(e, o[n]) && (r[o[n]] = e[o[n]]);
          }
        }
        return r;
      };
      Object.defineProperty(t, "__esModule", {
        value: !0
      }), t.loopCallHook = t.transitionTo = t.onTriggerEachHook = t.callHook = t.callBeforeRouteLeave = t.HOOKLIST = t.ERRORHOOK = void 0;
      var n = r(789),
        a = r(890),
        i = r(147);
      function u(e, t, r, o) {
        var a,
          i = n.getUniCachePage(0);
        if (Object.keys(i).length > 0) {
          var u = void 0;
          switch ("h5" === e.options.platform ? u = i.$options.beforeRouteLeave : null != i.$vm && (u = i.$vm.$options.beforeRouteLeave), n.getDataType(u)) {
            case "[object Array]":
              a = (a = u[0]).bind(i);
              break;
            case "[object Function]":
              a = u.bind(i.$vm);
          }
        }
        return l(a, t, r, e, o);
      }
      function l(e, t, r, o, n, a) {
        void 0 === a && (a = !0), null != e && e instanceof Function ? !0 === a ? e(t, r, n, o, !1) : (e(t, r, function () {}, o, !1), n()) : n();
      }
      function p(e, t, r, o, a, i) {
        var u = n.forMatNextToFrom(e, t, r),
          l = u.matTo,
          p = u.matFrom;
        "h5" === e.options.platform ? c(a, 0, i, e, l, p, o) : c(a.slice(0, 4), 0, function () {
          i(function () {
            c(a.slice(4), 0, n.voidFun, e, l, p, o);
          });
        }, e, l, p, o);
      }
      function c(e, r, i, u, l, p, s) {
        var f = n.routesForMapRoute(u, l.path, ["finallyPathMap", "pathMap"]);
        if (e.length - 1 < r) return i();
        var h = e[r],
          v = t.ERRORHOOK[0];
        h(u, l, p, f, function (t) {
          if (!1 === t) "h5" === u.options.platform && i(!1), v({
            type: 0,
            msg: "管道函数传递 false 导航被终止!",
            matTo: l,
            matFrom: p,
            nextTo: t
          }, u);else if ("string" == typeof t || "object" == _typeof(t)) {
            var n = s,
              f = t;
            if ("object" == _typeof(t)) {
              var h = t.NAVTYPE;
              f = o(t, ["NAVTYPE"]), null != h && (n = h);
            }
            a.navjump(f, u, n, {
              from: p,
              next: i
            });
          } else null == t ? (r++, c(e, r, i, u, l, p, s)) : v({
            type: 1,
            msg: "管道函数传递未知类型，无法被识别。导航被终止！",
            matTo: l,
            matFrom: p,
            nextTo: t
          }, u);
        });
      }
      t.ERRORHOOK = [function (e, t) {
        return t.lifeCycle.routerErrorHooks[0](e, t);
      }], t.HOOKLIST = [function (e, t, r, o, n) {
        return l(e.lifeCycle.routerBeforeHooks[0], t, r, e, n);
      }, function (e, t, r, o, n) {
        return u(e, t, r, n);
      }, function (e, t, r, o, n) {
        return l(e.lifeCycle.beforeHooks[0], t, r, e, n);
      }, function (e, t, r, o, n) {
        return l(o.beforeEnter, t, r, e, n);
      }, function (e, t, r, o, n) {
        return l(e.lifeCycle.afterHooks[0], t, r, e, n, !1);
      }, function (e, t, r, o, n) {
        return e.$lockStatus = !1, "h5" === e.options.platform && i.proxyH5Mount(e), l(e.lifeCycle.routerAfterHooks[0], t, r, e, n, !1);
      }], t.callBeforeRouteLeave = u, t.callHook = l, t.onTriggerEachHook = function (e, r, o, n, a) {
        var i = [];
        switch (n) {
          case "beforeEach":
            i = t.HOOKLIST.slice(0, 3);
            break;
          case "afterEach":
            i = t.HOOKLIST.slice(4);
            break;
          case "beforeEnter":
            i = t.HOOKLIST.slice(3, 4);
        }
        p(o, e, r, "push", i, a);
      }, t.transitionTo = p, t.loopCallHook = c;
    },
    890: function _(e, t, r) {
      "use strict";

      var o = this && this.__assign || function () {
        return (o = Object.assign || function (e) {
          for (var t, r = 1, o = arguments.length; r < o; r++) {
            for (var n in t = arguments[r]) {
              Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);
            }
          }
          return e;
        }).apply(this, arguments);
      };
      Object.defineProperty(t, "__esModule", {
        value: !0
      }), t.createRoute = t.forceGuardEach = t.backOptionsBuild = t.navjump = t.lockNavjump = void 0;
      var n = r(366),
        a = r(99),
        i = r(789),
        u = r(169),
        l = r(845),
        p = r(169);
      function c(e, t, r, o, n) {
        i.lockDetectWarn(t, e, r, function () {
          "h5" !== t.options.platform && (t.$lockStatus = !0), s(e, t, r, void 0, o, n);
        });
      }
      function s(e, t, r, c, s, h, v) {
        if (void 0 === v && (v = !0), "back" === r) {
          var y;
          if (y = "string" == typeof e ? +e : e.delta || 1, "h5" === t.options.platform) {
            t.$route.go(-y);
            var g = (h || {
                success: i.voidFun
              }).success || i.voidFun,
              d = (h || {
                complete: i.voidFun
              }).complete || i.voidFun;
            return g({
              errMsg: "navigateBack:ok"
            }), void d({
              errMsg: "navigateBack:ok"
            });
          }
          e = f(t, y, h);
        }
        e = i.reservedWord(e);
        var m = a.queryPageToMap(e, t).rule;
        m.type = n.navtypeToggle[r];
        var b = i.paramsToQuery(t, m),
          O = a.resolveQuery(b, t);
        if ("h5" === t.options.platform) {
          if ("push" !== r && (r = "replace"), null != c) c.next(o({
            replace: "push" !== r
          }, O));else if ("push" === r && Reflect.has(O, "events")) {
            if (Reflect.has(O, "name")) throw new Error("在h5端上使用 'push'、'navigateTo' 跳转时，如果包含 events 不允许使用 name 跳转，因为 name 实现了动态路由。请更换为 path 或者 url 跳转！");
            uni.navigateTo(O, !0, i.voidFun, s);
          } else t.$route[r](O, O.success || i.voidFun, O.fail || i.voidFun);
        } else {
          var P = {
            path: ""
          };
          if (null == c) {
            var k = i.routesForMapRoute(t, O.path, ["finallyPathMap", "pathMap"]);
            k = i.notRouteTo404(t, k, O, r), O = o(o(o(o({}, k), {
              params: {}
            }), O), {
              path: k.path
            }), P = l.createToFrom(O, t);
          } else P = c.from;
          if (l.createFullPath(O, P), !1 === v) return O;
          u.transitionTo(t, O, P, r, p.HOOKLIST, function (e) {
            uni[n.navtypeToggle[r]](O, !0, e, s);
          });
        }
      }
      function f(e, t, r) {
        var n = h(e, t),
          a = o(o({}, r || {}), {
            path: n.path,
            query: n.query,
            delta: t
          });
        if ("[object Object]" === i.getDataType(r)) {
          var u = r,
            l = u.animationDuration,
            p = u.animationType;
          null != l && (a.animationDuration = l), null != p && (a.animationType = p);
          var c = r.from;
          null != c && (a.BACKTYPE = c);
        }
        return a;
      }
      function h(e, t, r) {
        void 0 === t && (t = 0);
        var u = {
          name: "",
          meta: {},
          path: "",
          fullPath: "",
          NAVTYPE: "",
          query: {},
          params: {},
          BACKTYPE: (r || {
            BACKTYPE: ""
          }).BACKTYPE || ""
        };
        if (19970806 === t) return u;
        if ("h5" === e.options.platform) {
          var l = {
            path: ""
          };
          l = null != r ? r : e.$route.currentRoute;
          var p = i.copyData(l.params);
          delete p.__id__;
          var c = a.parseQuery(o(o({}, p), i.copyData(l.query)), e);
          l = o(o({}, l), {
            query: c
          }), u.path = l.path, u.fullPath = l.fullPath || "", u.query = l.query || {}, u.NAVTYPE = n.rewriteMethodToggle[l.type || "reLaunch"];
        } else {
          var s = {};
          if (null != r) s = o(o({}, r), {
            openType: r.type
          });else {
            var f = i.getUniCachePage(t);
            if (0 === Object.keys(f).length) throw e.options.routerErrorEach({
              type: 3,
              msg: "不存在的页面栈，请确保有足够的页面可用，当前 level:" + t
            }, e), new Error("不存在的页面栈，请确保有足够的页面可用，当前 level:" + t);
            var h = f.options || {},
              v = h.query;
            null != v && 1 === Object.keys(h).length && (h = JSON.parse(decodeURIComponent(v)));
            var y = JSON.parse(decodeURIComponent(JSON.stringify(h)));
            s = o(o({}, f.$page || {}), {
              query: y,
              fullPath: decodeURIComponent((f.$page || {}).fullPath || "/" + f.route)
            }), "app-plus" !== e.options.platform && (s.path = "/" + f.route);
          }
          var g = s.openType;
          u.query = s.query, u.path = s.path, u.fullPath = s.fullPath, u.NAVTYPE = n.rewriteMethodToggle[g || "reLaunch"];
        }
        var d = i.routesForMapRoute(e, u.path, ["finallyPathMap", "pathMap"]),
          m = o(o({}, u), d);
        return m.query = a.parseQuery(m.query, e), m;
      }
      t.lockNavjump = c, t.navjump = s, t.backOptionsBuild = f, t.forceGuardEach = function (e, t, r) {
        if (void 0 === t && (t = "replaceAll"), void 0 === r && (r = !1), "h5" === e.options.platform) throw new Error("在h5端上使用：forceGuardEach 是无意义的，目前 forceGuardEach 仅支持在非h5端上使用");
        var o = i.getUniCachePage(0);
        0 === Object.keys(o).length && e.options.routerErrorEach({
          type: 3,
          msg: "不存在的页面栈，请确保有足够的页面可用，当前 level:0"
        }, e);
        var n = o;
        c({
          path: "/" + n.route,
          query: n.options
        }, e, t, r);
      }, t.createRoute = h;
    },
    845: function _(e, t, r) {
      "use strict";

      Object.defineProperty(t, "__esModule", {
        value: !0
      }), t.proxyPageHook = t.createFullPath = t.createToFrom = void 0;
      var o = r(789),
        n = r(890),
        a = r(99);
      t.createToFrom = function (e, t) {
        var r = o.getUniCachePage(0);
        return "[object Array]" === o.getDataType(r) ? o.deepClone(e) : n.createRoute(t);
      }, t.createFullPath = function (e, t) {
        if (null == e.fullPath) {
          var r = a.stringifyQuery(e.query);
          e.fullPath = e.path + r;
        }
        null == t.fullPath && (r = a.stringifyQuery(t.query), t.fullPath = t.path + r);
      }, t.proxyPageHook = function (e, t, r, n) {
        o.replaceHook(t, e, r, n);
      };
    },
    99: function _(e, t, r) {
      "use strict";

      var o = this && this.__assign || function () {
        return (o = Object.assign || function (e) {
          for (var t, r = 1, o = arguments.length; r < o; r++) {
            for (var n in t = arguments[r]) {
              Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);
            }
          }
          return e;
        }).apply(this, arguments);
      };
      Object.defineProperty(t, "__esModule", {
        value: !0
      }), t.stringifyQuery = t.parseQuery = t.resolveQuery = t.queryPageToMap = void 0;
      var n = r(789),
        a = r(169),
        i = r(883),
        u = /[!'()*]/g,
        l = function l(e) {
          return "%" + e.charCodeAt(0).toString(16);
        },
        p = /%2C/g,
        c = function c(e) {
          return encodeURIComponent(e).replace(u, l).replace(p, ",");
        };
      t.queryPageToMap = function (e, t) {
        var r = {},
          i = "",
          u = e.success,
          l = e.fail;
        if ("[object Object]" === n.getDataType(e)) {
          var p = e;
          if (null != p.path) {
            var c = n.urlToJson(p.path),
              s = c.path,
              f = c.query;
            i = n.routesForMapRoute(t, s, ["finallyPathList", "pathMap"]), r = o(o({}, f), e.query || {}), p.path = s, p.query = r, delete e.params;
          } else null != p.name ? null == (i = t.routesMap.nameMap[p.name]) ? i = n.getWildcardRule(t, {
            type: 2,
            msg: "命名路由为：" + p.name + " 的路由，无法在路由表中找到！",
            toRule: e
          }) : (r = e.params || {}, delete e.query) : i = n.getWildcardRule(t, {
            type: 2,
            msg: e + " 解析失败，请检测当前路由表下是否有包含。",
            toRule: e
          });
        } else e = n.urlToJson(e), i = n.routesForMapRoute(t, e.path, ["finallyPathList", "pathMap"]), r = e.query;
        if ("h5" === t.options.platform) {
          n.getRoutePath(i, t).finallyPath.includes(":") && null == e.name && a.ERRORHOOK[0]({
            type: 2,
            msg: "当有设置 alias或者aliasPath 为动态路由时，不允许使用 path 跳转。请使用 name 跳转！",
            route: i
          }, t);
          var h = e.complete,
            v = e.success,
            y = e.fail;
          if ("[object Function]" === n.getDataType(h)) {
            var g = function g(e, t) {
              "[object Function]" === n.getDataType(t) && t.apply(this, e), h.apply(this, e);
            };
            u = function u() {
              for (var e = [], t = 0; t < arguments.length; t++) {
                e[t] = arguments[t];
              }
              g.call(this, e, v);
            }, l = function l() {
              for (var e = [], t = 0; t < arguments.length; t++) {
                e[t] = arguments[t];
              }
              g.call(this, e, y);
            };
          }
        }
        var d = e;
        return "[object Function]" === n.getDataType(d.success) && (d.success = u), "[object Function]" === n.getDataType(d.fail) && (d.fail = l), {
          rule: d,
          route: i,
          query: r
        };
      }, t.resolveQuery = function (e, t) {
        var r = "query";
        null != e.params && (r = "params"), null != e.query && (r = "query");
        var o = n.copyData(e[r] || {}),
          a = t.options.resolveQuery;
        if (a) {
          var u = a(o);
          "[object Object]" !== n.getDataType(u) ? i.warn("请按格式返回参数： resolveQuery?:(jsonQuery:{[propName: string]: any;})=>{[propName: string]: any;}", t) : e[r] = u;
        } else {
          if (!n.assertDeepObject(o)) return e;
          var l = JSON.stringify(o);
          e[r] = {
            query: l
          };
        }
        return e;
      }, t.parseQuery = function (e, t) {
        var r = t.options.parseQuery;
        if (r) e = r(n.copyData(e)), "[object Object]" !== n.getDataType(e) && i.warn("请按格式返回参数： parseQuery?:(jsonQuery:{[propName: string]: any;})=>{[propName: string]: any;}", t);else if (Reflect.get(e, "query")) {
          var o = Reflect.get(e, "query"),
            a = {
              query: decodeURIComponent(o)
            };
          try {
            if ("object" == _typeof(a = JSON.parse(a.query))) return a;
          } catch (e) {
            i.warn("尝试解析深度对象失败，按原样输出。" + e, t);
          }
        }
        return e;
      }, t.stringifyQuery = function (e) {
        var t = e ? Object.keys(e).map(function (t) {
          var r = e[t];
          if (void 0 === r) return "";
          if (null === r) return c(t);
          if (Array.isArray(r)) {
            var o = [];
            return r.forEach(function (e) {
              void 0 !== e && (null === e ? o.push(c(t)) : o.push(c(t) + "=" + c(e)));
            }), o.join("&");
          }
          return c(t) + "=" + c(r);
        }).filter(function (e) {
          return e.length > 0;
        }).join("&") : null;
        return t ? "?" + t : "";
      };
    },
    314: function _(e, t, r) {
      "use strict";

      Object.defineProperty(t, "__esModule", {
        value: !0
      }), t.rewriteMethod = void 0;
      var o = r(366),
        n = r(789),
        a = r(883),
        i = r(809),
        u = ["navigateTo", "redirectTo", "reLaunch", "switchTab", "navigateBack"];
      t.rewriteMethod = function (e) {
        !1 === e.options.keepUniOriginNav && u.forEach(function (t) {
          var r = uni[t];
          uni[t] = function (u, l, p, c) {
            void 0 === l && (l = !1), l ? i.uniOriginJump(e, r, t, u, p, c) : ("app-plus" === e.options.platform && 0 === Object.keys(e.appMain).length && (e.appMain = {
              NAVTYPE: t,
              path: u.url
            }), function (e, t, r) {
              if ("app-plus" === r.options.platform) {
                var i = null;
                e && (i = e.openType), null != i && "appLaunch" === i && (t = "reLaunch");
              }
              if ("reLaunch" === t && '{"url":"/"}' === JSON.stringify(e) && (a.warn("uni-app 原生方法：reLaunch({url:'/'}) 默认被重写啦！你可以使用 this.$Router.replaceAll() 或者 uni.reLaunch({url:'/?xxx=xxx'})", r, !0), t = "navigateBack", e = {
                from: "backbutton"
              }), "navigateBack" === t) {
                var u = 1;
                null == e && (e = {
                  delta: 1
                }), "[object Number]" === n.getDataType(e.delta) && (u = e.delta), r.back(u, e);
              } else {
                var l = o.rewriteMethodToggle[t],
                  p = e.url;
                if (!p.startsWith("/")) {
                  var c = n.resolveAbsolutePath(p, r);
                  p = c, e.url = c;
                }
                if ("switchTab" === t) {
                  var s = n.routesForMapRoute(r, p, ["pathMap", "finallyPathList"]),
                    f = n.getRoutePath(s, r).finallyPath;
                  if ("[object Array]" === n.getDataType(f) && a.warn("uni-app 原生方法跳转路径为：" + p + "。此路为是tab页面时，不允许设置 alias 为数组的情况，并且不能为动态路由！当然你可以通过通配符*解决！", r, !0), "*" === f && a.warn("uni-app 原生方法跳转路径为：" + p + "。在路由表中找不到相关路由表！当然你可以通过通配符*解决！", r, !0), "h5" === r.options.platform) {
                    var h = e.success;
                    e.success = function () {
                      for (var t = [], r = 0; r < arguments.length; r++) {
                        t[r] = arguments[r];
                      }
                      null == h || h.apply(null, t), n.timeOut(150).then(function () {
                        var t = e.detail || {};
                        if (Object.keys(t).length > 0 && Reflect.has(t, "index")) {
                          var r = n.getUniCachePage(0);
                          if (0 === Object.keys(r).length) return !1;
                          var o = r,
                            a = o.$options.onTabItemTap;
                          if (a) for (var i = 0; i < a.length; i++) {
                            a[i].call(o, t);
                          }
                        }
                      });
                    };
                  }
                  p = f;
                }
                var v = e,
                  y = v.events,
                  g = v.success,
                  d = v.fail,
                  m = v.complete,
                  b = v.animationType,
                  O = {
                    path: p,
                    events: y,
                    success: g,
                    fail: d,
                    complete: m,
                    animationDuration: v.animationDuration,
                    animationType: b
                  };
                r[l](n.notDeepClearNull(O));
              }
            }(u, t, e));
          };
        });
      };
    },
    963: function _(e, t, r) {
      "use strict";

      var o = this && this.__assign || function () {
        return (o = Object.assign || function (e) {
          for (var t, r = 1, o = arguments.length; r < o; r++) {
            for (var n in t = arguments[r]) {
              Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);
            }
          }
          return e;
        }).apply(this, arguments);
      };
      Object.defineProperty(t, "__esModule", {
        value: !0
      }), t.createRouter = t.RouterMount = void 0;
      var n = r(282),
        a = r(789),
        i = r(662),
        u = r(460),
        l = r(890),
        p = r(314),
        c = function c() {},
        s = new Promise(function (e) {
          return c = e;
        });
      t.createRouter = function (e) {
        var t = a.assertNewOptions(e),
          r = {
            options: t,
            mount: [],
            Vue: null,
            appProxyHook: n.appProxyHook,
            appletsProxyHook: n.indexProxyHook,
            appMain: {},
            enterPath: "",
            $route: null,
            $lockStatus: !1,
            routesMap: {},
            lifeCycle: i.registerRouterHooks(n.lifeCycle, t),
            push: function push(e) {
              l.lockNavjump(e, r, "push");
            },
            replace: function replace(e) {
              l.lockNavjump(e, r, "replace");
            },
            replaceAll: function replaceAll(e) {
              l.lockNavjump(e, r, "replaceAll");
            },
            pushTab: function pushTab(e) {
              l.lockNavjump(e, r, "pushTab");
            },
            back: function back(e, t) {
              void 0 === e && (e = 1), "[object Object]" !== a.getDataType(t) ? t = {
                from: "navigateBack"
              } : Reflect.has(t, "from") || (t = o(o({}, t), {
                from: "navigateBack"
              })), l.lockNavjump(e + "", r, "back", void 0, t);
            },
            forceGuardEach: function forceGuardEach(e, t) {
              l.forceGuardEach(r, e, t);
            },
            beforeEach: function beforeEach(e) {
              i.registerEachHooks(r, "beforeHooks", e);
            },
            afterEach: function afterEach(e) {
              i.registerEachHooks(r, "afterHooks", e);
            },
            install: function install(e) {
              r.Vue = e, p.rewriteMethod(this), u.initMixins(e, this), Object.defineProperty(e.prototype, "$Router", {
                get: function get() {
                  return r;
                }
              }), Object.defineProperty(e.prototype, "$Route", {
                get: function get() {
                  return l.createRoute(r);
                }
              }), Object.defineProperty(e.prototype, "$AppReady", {
                get: function get() {
                  return "h5" === r.options.platform ? Promise.resolve() : s;
                },
                set: function set(e) {
                  !0 === e && c();
                }
              });
            }
          };
        return a.def(r, "keyword", function () {
          return n.keyword;
        }), a.def(r, "currentRoute", function () {
          return l.createRoute(r);
        }), r.beforeEach(function (e, t, r) {
          return r();
        }), r.afterEach(function () {}), r;
      }, t.RouterMount = function (e, t, r) {
        if (void 0 === r && (r = "#app"), "[object Array]" !== a.getDataType(t.mount)) throw new Error("挂载路由失败，router.app 应该为数组类型。当前类型：" + _typeof(t.mount));
        if (t.mount.push({
          app: e,
          el: r
        }), "h5" === t.options.platform) {
          var o = t.$route;
          o.replace({
            path: o.currentRoute.fullPath
          });
        }
      };
    },
    809: function _(e, t, r) {
      "use strict";

      var o = this && this.__assign || function () {
          return (o = Object.assign || function (e) {
            for (var t, r = 1, o = arguments.length; r < o; r++) {
              for (var n in t = arguments[r]) {
                Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);
              }
            }
            return e;
          }).apply(this, arguments);
        },
        n = this && this.__awaiter || function (e, t, r, o) {
          return new (r || (r = Promise))(function (n, a) {
            function i(e) {
              try {
                l(o.next(e));
              } catch (e) {
                a(e);
              }
            }
            function u(e) {
              try {
                l(o.throw(e));
              } catch (e) {
                a(e);
              }
            }
            function l(e) {
              var t;
              e.done ? n(e.value) : (t = e.value, t instanceof r ? t : new r(function (e) {
                e(t);
              })).then(i, u);
            }
            l((o = o.apply(e, t || [])).next());
          });
        },
        a = this && this.__generator || function (e, t) {
          var r,
            o,
            n,
            a,
            i = {
              label: 0,
              sent: function sent() {
                if (1 & n[0]) throw n[1];
                return n[1];
              },
              trys: [],
              ops: []
            };
          return a = {
            next: u(0),
            throw: u(1),
            return: u(2)
          }, "function" == typeof Symbol && (a[Symbol.iterator] = function () {
            return this;
          }), a;
          function u(a) {
            return function (u) {
              return function (a) {
                if (r) throw new TypeError("Generator is already executing.");
                for (; i;) {
                  try {
                    if (r = 1, o && (n = 2 & a[0] ? o.return : a[0] ? o.throw || ((n = o.return) && n.call(o), 0) : o.next) && !(n = n.call(o, a[1])).done) return n;
                    switch (o = 0, n && (a = [2 & a[0], n.value]), a[0]) {
                      case 0:
                      case 1:
                        n = a;
                        break;
                      case 4:
                        return i.label++, {
                          value: a[1],
                          done: !1
                        };
                      case 5:
                        i.label++, o = a[1], a = [0];
                        continue;
                      case 7:
                        a = i.ops.pop(), i.trys.pop();
                        continue;
                      default:
                        if (!((n = (n = i.trys).length > 0 && n[n.length - 1]) || 6 !== a[0] && 2 !== a[0])) {
                          i = 0;
                          continue;
                        }
                        if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
                          i.label = a[1];
                          break;
                        }
                        if (6 === a[0] && i.label < n[1]) {
                          i.label = n[1], n = a;
                          break;
                        }
                        if (n && i.label < n[2]) {
                          i.label = n[2], i.ops.push(a);
                          break;
                        }
                        n[2] && i.ops.pop(), i.trys.pop();
                        continue;
                    }
                    a = t.call(e, i);
                  } catch (e) {
                    a = [6, e], o = 0;
                  } finally {
                    r = n = 0;
                  }
                }
                if (5 & a[0]) throw a[1];
                return {
                  value: a[0] ? a[1] : void 0,
                  done: !0
                };
              }([a, u]);
            };
          }
        },
        i = this && this.__rest || function (e, t) {
          var r = {};
          for (var o in e) {
            Object.prototype.hasOwnProperty.call(e, o) && t.indexOf(o) < 0 && (r[o] = e[o]);
          }
          if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
            var n = 0;
            for (o = Object.getOwnPropertySymbols(e); n < o.length; n++) {
              t.indexOf(o[n]) < 0 && Object.prototype.propertyIsEnumerable.call(e, o[n]) && (r[o[n]] = e[o[n]]);
            }
          }
          return r;
        };
      Object.defineProperty(t, "__esModule", {
        value: !0
      }), t.formatOriginURLQuery = t.uniOriginJump = void 0;
      var u = r(99),
        l = r(789),
        p = r(282),
        c = 0,
        s = "reLaunch";
      function f(e, t, r) {
        var n,
          a = t.url,
          i = t.path,
          p = t.query,
          c = t.animationType,
          s = t.animationDuration,
          f = t.events,
          h = t.success,
          v = t.fail,
          y = t.complete,
          g = t.delta,
          d = t.animation,
          m = u.stringifyQuery(p || {}),
          b = "" === m ? i || a : (i || a) + m,
          O = {};
        return "app-plus" === e.options.platform && "navigateBack" !== r && (O = (null === (n = e.options.APP) || void 0 === n ? void 0 : n.animation) || {}, O = o(o({}, O), d || {})), l.notDeepClearNull({
          delta: g,
          url: b,
          animationType: c || O.animationType,
          animationDuration: s || O.animationDuration,
          events: f,
          success: h,
          fail: v,
          complete: y
        });
      }
      t.uniOriginJump = function (e, t, r, u, h, v) {
        var y = f(e, u, r),
          g = y.complete,
          d = i(y, ["complete"]),
          m = e.options.platform.trim();
        0 === c && "h5" !== m && l.resetPageHook(e, d.url), null != v && !1 === v ? (0 === c && (c++, "h5" !== m && (e.Vue.prototype.$AppReady = !0)), g && g.apply(null, {
          msg: "forceGuardEach强制触发并且不执行跳转"
        }), h && h.apply(null, {
          msg: "forceGuardEach强制触发并且不执行跳转"
        })) : t(o(o({}, d), {
          from: u.BACKTYPE,
          complete: function complete() {
            for (var t, o, i, u, f = [], v = 0; v < arguments.length; v++) {
              f[v] = arguments[v];
            }
            return n(this, void 0, void 0, function () {
              var n, v, y;
              return a(this, function (a) {
                switch (a.label) {
                  case 0:
                    return 0 === c && (c++, "h5" !== m && (e.Vue.prototype.$AppReady = !0), "app-plus" === m && ((n = plus.nativeObj.View.getViewById("router-loadding")) && n.close(), (v = null === (t = e.options.APP) || void 0 === t ? void 0 : t.launchedHook) && v())), y = 0, new RegExp(p.mpPlatformReg, "g").test(m) ? y = null === (o = e.options.applet) || void 0 === o ? void 0 : o.animationDuration : "app-plus" === m && "navigateBack" === r && "navigateTo" === s && (y = null === (u = null === (i = e.options.APP) || void 0 === i ? void 0 : i.animation) || void 0 === u ? void 0 : u.animationDuration), "navigateTo" !== r && "navigateBack" !== r || 0 === y ? [3, 2] : [4, l.timeOut(y)];
                  case 1:
                    a.sent(), a.label = 2;
                  case 2:
                    return s = r, g && g.apply(null, f), h && h.apply(null, f), [2];
                }
              });
            });
          }
        }));
      }, t.formatOriginURLQuery = f;
    }
  }, t = {}, function r(o) {
    if (t[o]) return t[o].exports;
    var n = t[o] = {
      exports: {}
    };
    return e[o].call(n.exports, n, n.exports, r), n.exports;
  }(607);
  var e, t;
});
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 2)["default"], __webpack_require__(/*! ./../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/webpack/buildin/module.js */ 39)(module)))

/***/ }),

/***/ 49:
/*!******************************************************!*\
  !*** /Users/lisicheng/project/lijian/utils/login.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {

var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getCode = getCode;
exports.getUserProfile = getUserProfile;
exports.mnpLogin = mnpLogin;
exports.toLogin = void 0;
var _regenerator = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/regenerator */ 30));
var _asyncToGenerator2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ 32));
var _tools = __webpack_require__(/*! ./tools */ 50);
var _store = _interopRequireDefault(__webpack_require__(/*! @/store */ 40));
var _cache = _interopRequireDefault(__webpack_require__(/*! ./cache */ 46));
var _cachekey = __webpack_require__(/*! @/config/cachekey */ 45);
var _wechath = _interopRequireDefault(__webpack_require__(/*! ./wechath5 */ 44));
var _app = __webpack_require__(/*! @/api/app */ 43);
var _router = __webpack_require__(/*! @/router */ 47);
// 获取登录凭证（code）

function getCode() {
  return new Promise(function (resolve, reject) {
    uni.login({
      success: function success(res) {
        console.log(res);
        resolve(res.code);
      },
      fail: function fail(res) {
        reject(res);
      }
    });
  });
}
//小程序获取用户信息
function getUserProfile() {
  return new Promise(function (resolve, reject) {
    uni.getUserProfile({
      desc: '获取用户信息，完善用户资料 ',
      success: function success(res) {
        resolve(res);
      },
      fail: function fail(res) {
        console.log(res);
      }
    });
  });
}

//小程序静默授权
function mnpLogin() {
  return _mnpLogin.apply(this, arguments);
}
function _mnpLogin() {
  _mnpLogin = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee() {
    var _store$getters$appCon, coerce_mobile, mnp_auto_wechat_auth, toutiao_auto_auth, code, loginData, _currentPage, options, onLoad, onShow, route;
    return _regenerator.default.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _store$getters$appCon = _store.default.getters.appConfig, coerce_mobile = _store$getters$appCon.coerce_mobile, mnp_auto_wechat_auth = _store$getters$appCon.mnp_auto_wechat_auth, toutiao_auto_auth = _store$getters$appCon.toutiao_auto_auth; // 微信关闭自动授权
            if (mnp_auto_wechat_auth) {
              _context.next = 3;
              break;
            }
            return _context.abrupt("return");
          case 3:
            _context.next = 5;
            return getCode();
          case 5:
            code = _context.sent;
            _context.next = 8;
            return (0, _app.apiSilentLogin)({
              code: code
            });
          case 8:
            loginData = _context.sent;
            _currentPage = (0, _tools.currentPage)(), options = _currentPage.options, onLoad = _currentPage.onLoad, onShow = _currentPage.onShow, route = _currentPage.route; // 需要强制绑定手机号
            if (!(coerce_mobile && !loginData.mobile)) {
              _context.next = 12;
              break;
            }
            return _context.abrupt("return");
          case 12:
            if (loginData.token && !loginData.is_new_user) {
              _store.default.commit('login', loginData);
              _store.default.dispatch('getUser');
              _store.default.dispatch('getCartNum');
              // 刷新页面
              onLoad && onLoad(options);
              onShow && onShow();
            }
          case 13:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));
  return _mnpLogin.apply(this, arguments);
}
var toLogin = (0, _tools.trottle)(_toLogin, 2000);
exports.toLogin = toLogin;
function _toLogin() {
  mnpLogin();
}
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 2)["default"]))

/***/ }),

/***/ 5:
/*!**************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/slicedToArray.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var arrayWithHoles = __webpack_require__(/*! ./arrayWithHoles.js */ 6);
var iterableToArrayLimit = __webpack_require__(/*! ./iterableToArrayLimit.js */ 7);
var unsupportedIterableToArray = __webpack_require__(/*! ./unsupportedIterableToArray.js */ 8);
var nonIterableRest = __webpack_require__(/*! ./nonIterableRest.js */ 10);
function _slicedToArray(arr, i) {
  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();
}
module.exports = _slicedToArray, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 50:
/*!******************************************************!*\
  !*** /Users/lisicheng/project/lijian/utils/tools.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni, wx) {

var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.arraySlice = arraySlice;
exports.compareWeChatVersion = compareWeChatVersion;
exports.copy = copy;
exports.currentPage = currentPage;
exports.debounce = void 0;
exports.formatPrice = formatPrice;
exports.getBaseLibraryVersion = getBaseLibraryVersion;
exports.getNonDuplicateID = exports.getImageUri = exports.getClient = void 0;
exports.getParent = getParent;
exports.getRect = getRect;
exports.handleClientEvent = void 0;
exports.isAndroid = isAndroid;
exports.isEmpty = void 0;
exports.isWeixinClient = isWeixinClient;
exports.menuJump = menuJump;
exports.navigateTo = navigateTo;
exports.objectToQuery = objectToQuery;
exports.paramsToStr = paramsToStr;
exports.px2rpx = px2rpx;
exports.pxTorpx = pxTorpx;
exports.strToParams = strToParams;
exports.toast = toast;
exports.trottle = void 0;
exports.uploadFile = uploadFile;
exports.urlencode = urlencode;
var _slicedToArray2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ 5));
var _defineProperty2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/defineProperty */ 11));
var _typeof2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/typeof */ 13));
var _app = __webpack_require__(/*! @/config/app.js */ 51);
var _enum = __webpack_require__(/*! @/utils/enum */ 52);
var _store = _interopRequireDefault(__webpack_require__(/*! @/store */ 40));
var _shared = __webpack_require__(/*! @vue/shared */ 53);
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }
function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }
function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }
// 获取客户端
var getClient = function getClient() {
  return handleClientEvent({
    // 微信小程序
    MP_WEIXIN: function MP_WEIXIN() {
      return _enum.ClientEnum['MP_WEIXIN'];
    },
    // 微信公众号
    OA_WEIXIN: function OA_WEIXIN() {
      return _enum.ClientEnum['OA_WEIXIN'];
    },
    // H5
    H5: function H5() {
      return _enum.ClientEnum['H5'];
    },
    // APP
    IOS: function IOS() {
      return _enum.ClientEnum['IOS'];
    },
    ANDROID: function ANDROID() {
      return _enum.ClientEnum['ANDROID'];
    },
    MP_TOUTIAO: function MP_TOUTIAO() {
      return _enum.ClientEnum['MP_TOUTIAO'];
    },
    // 其它
    OTHER: function OTHER() {
      return null;
    }
  });
};

// 根据端处理事件
exports.getClient = getClient;
var handleClientEvent = function handleClientEvent(_ref) {
  var MP_WEIXIN = _ref.MP_WEIXIN,
    OA_WEIXIN = _ref.OA_WEIXIN,
    H5 = _ref.H5,
    IOS = _ref.IOS,
    ANDROID = _ref.ANDROID,
    MP_TOUTIAO = _ref.MP_TOUTIAO,
    OTHER = _ref.OTHER;
  var sys = uni.getSystemInfoSync();
  return MP_WEIXIN();
  return OTHER();
};

//节流
exports.handleClientEvent = handleClientEvent;
var trottle = function trottle(func) {
  var time = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1000;
  var previous = new Date(0).getTime();
  return function () {
    var now = new Date().getTime();
    if (now - previous > time) {
      func.apply(void 0, arguments);
      previous = now;
    }
  };
};

//防抖
exports.trottle = trottle;
var debounce = function debounce(func) {
  var time = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1000;
  var timer = null;
  return function () {
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    if (timer) {
      clearTimeout(timer);
    }
    timer = setTimeout(function () {
      timer = null;
      func.apply(void 0, args);
    }, time);
  };
};

//判断是否为微信环境
exports.debounce = debounce;
function isWeixinClient() {
  var ua = navigator.userAgent.toLowerCase();
  if (ua.match(/MicroMessenger/i) == 'micromessenger') {
    //这是微信环境
    return true;
  } else {
    //这是非微信环境
    return false;
  }
}

//判断是否为安卓环境
function isAndroid() {
  var u = navigator.userAgent;
  return u.indexOf('Android') > -1 || u.indexOf('Adr') > -1;
}

//获取url后的参数  以对象返回
function strToParams(str) {
  var newparams = {};
  var _iterator = _createForOfIteratorHelper(str.split('&')),
    _step;
  try {
    for (_iterator.s(); !(_step = _iterator.n()).done;) {
      var item = _step.value;
      newparams[item.split('=')[0]] = item.split('=')[1];
    }
  } catch (err) {
    _iterator.e(err);
  } finally {
    _iterator.f();
  }
  return newparams;
}

//重写encodeURL函数
function urlencode(str) {
  str = (str + '').toString();
  return encodeURIComponent(str).replace(/!/g, '%21').replace(/'/g, '%27').replace(/\(/g, '%28').replace(/\)/g, '%29').replace(/\*/g, '%2A').replace(/%20/g, '+');
}

//一维数组截取为二维数组

function arraySlice(data) {
  var array = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];
  var optNum = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 10;
  data = JSON.parse(JSON.stringify(data));
  if (data.length <= optNum) {
    data.length > 0 && array.push(data);
    return array;
  }
  array.push(data.splice(0, optNum));
  return arraySlice(data, array, optNum);
}

//对象参数转为以？&拼接的字符
function paramsToStr(params) {
  var p = '';
  if ((0, _typeof2.default)(params) == 'object') {
    p = '?';
    for (var props in params) {
      p += "".concat(props, "=").concat(params[props], "&");
    }
    p = p.slice(0, -1);
  }
  return p;
}

// 获取wxml元素

function getRect(selector, all, context) {
  return new Promise(function (resolve) {
    var qurey = uni.createSelectorQuery();
    if (context) {
      qurey = uni.createSelectorQuery().in(context);
    }
    qurey[all ? 'selectAll' : 'select'](selector).boundingClientRect(function (rect) {
      if (all && Array.isArray(rect) && rect.length) {
        resolve(rect);
      }
      if (!all && rect) {
        resolve(rect);
      }
    }).exec();
  });
}

// 轻提示
function toast() {
  var info = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var navigateOpt = arguments.length > 1 ? arguments[1] : undefined;
  var title = info.title || '';
  var icon = info.icon || 'none';
  var endtime = info.endtime || 2000;
  if (title) uni.showToast({
    title: title,
    icon: icon,
    duration: endtime
  });
  if (navigateOpt != undefined) {
    if ((0, _typeof2.default)(navigateOpt) == 'object') {
      var tab = navigateOpt.tab || 1,
        url = navigateOpt.url || '';
      switch (tab) {
        case 1:
          //跳转至 table
          setTimeout(function () {
            uni.switchTab({
              url: url
            });
          }, endtime);
          break;
        case 2:
          //跳转至非table页面
          setTimeout(function () {
            uni.navigateTo({
              url: url
            });
          }, endtime);
          break;
        case 3:
          //返回上页面
          setTimeout(function () {
            uni.navigateBack({
              delta: parseInt(url)
            });
          }, endtime);
          break;
        case 4:
          //关闭当前所有页面跳转至非table页面
          setTimeout(function () {
            uni.reLaunch({
              url: url
            });
          }, endtime);
          break;
        case 5:
          //关闭当前页面跳转至非table页面
          setTimeout(function () {
            uni.redirectTo({
              url: url
            });
          }, endtime);
          break;
      }
    } else if (typeof navigateOpt == 'function') {
      setTimeout(function () {
        navigateOpt && navigateOpt();
      }, endtime);
    }
  }
}

//当前页面

function currentPage() {
  var pages = getCurrentPages();
  var currentPage = pages[pages.length - 1];
  return currentPage || {};
}

//菜单跳转
function menuJump(item) {
  var is_tab = item.is_tab,
    link = item.link,
    link_type = item.link_type;
  switch (link_type) {
    case 1:
      // 本地跳转
      if (is_tab) {
        uni.switchTab({
          url: link
        });
        return;
      }
      uni.navigateTo({
        url: link
      });
      break;
    case 2:
      // webview
      uni.navigateTo({
        url: '/pages/webview/webview?url=' + link
      });
      break;
    case 3: // tabbar
  }
}

function uploadFile(path) {
  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  var header = options.header,
    name = options.name;
  return new Promise(function (resolve, reject) {
    uni.uploadFile({
      url: _app.baseURL + '/shopapi/Upload/image',
      filePath: path,
      name: name || 'file',
      header: _objectSpread({
        token: _store.default.getters.token,
        version: '1.2.1.20210717'
      }, header),
      fileType: 'image',
      cloudPath: '',
      success: function success(res) {
        console.log('uploadFile res ==> ', res);
        var data = JSON.parse(res.data);
        if (data.code == 1) {
          resolve(data.data);
        } else {
          reject();
        }
      },
      fail: function fail(err) {
        console.log(err);
        reject();
      }
    });
  });
}

// H5复制方法
function copy(str) {
  uni.setClipboardData({
    data: str.toString(),
    success: function success() {},
    fail: function fail(err) {
      console.log(err);
    }
  });
}

// 格式化输出价格
function formatPrice(_ref2) {
  var price = _ref2.price,
    _ref2$take = _ref2.take,
    take = _ref2$take === void 0 ? 'all' : _ref2$take,
    _ref2$prec = _ref2.prec,
    prec = _ref2$prec === void 0 ? undefined : _ref2$prec;
  var _split = (price + '').split('.'),
    _split2 = (0, _slicedToArray2.default)(_split, 2),
    integer = _split2[0],
    _split2$ = _split2[1],
    decimals = _split2$ === void 0 ? '' : _split2$;

  // 小数位补
  if (prec !== undefined) {
    var LEN = decimals.length;
    for (var i = prec - LEN; i > 0; --i) {
      decimals += '0';
    }
    decimals = decimals.substr(0, prec);
  }
  switch (take) {
    case 'int':
      return integer;
    case 'dec':
      return decimals;
    case 'all':
      return integer + '.' + decimals;
  }
}

// 将px转为prx并添加单位
function px2rpx(value) {
  if (!value) return 0;
  var rpxValue = value / (uni.upx2px(100) / 100);
  return rpxValue;
}

/**
 * @description 图片完整域名
 * @param uri { string } 图片链接
 * @return { string }
 */
var getImageUri = function getImageUri() {
  var uri = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
  var oss_domain = _store.default.state.app.config.oss_domain || '';
  return oss_domain + uri;
};

/**
 * @description 获取不重复的id
 * @param length { Number } id的长度
 * @return { String } id
 */
exports.getImageUri = getImageUri;
var getNonDuplicateID = function getNonDuplicateID() {
  var length = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 8;
  var idStr = Date.now().toString(36);
  idStr += Math.random().toString(36).substr(3, length);
  return idStr;
};

/**
 * @description 获取父组件的参数，因为支付宝/头条小程序不支持provide/inject的写法
 * @param name { String } 组件的name值
 * @return { Object } 父组件实例
 */
exports.getNonDuplicateID = getNonDuplicateID;
function getParent() {
  var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;
  var parent = this.$parent;
  // 通过while历遍，这里主要是为了H5需要多层解析的问题
  while (parent) {
    // 父组件
    if (parent.$options && parent.$options.name !== name) {
      // 如果组件的name不相等，继续上一级寻找
      parent = parent.$parent;
    } else {
      return parent;
    }
  }
  return false;
}

/**
 * @description 用于热区组件px转rpx
 * @param val 需要转换的px值
 */
function pxTorpx(val) {
  var result = 0;
  uni.getSystemInfo({
    success: function success(res) {
      console.log(750 / res.screenWidth);
      var screenWidth = res.screenWidth;
      result = val * (750 / screenWidth);
    }
  });
  return result;
}

/**
 * @description 获取当前微信小程序基础库版本号
 */
function getBaseLibraryVersion() {
  var _wx$getSystemInfoSync = wx.getSystemInfoSync(),
    SDKVersion = _wx$getSystemInfoSync.SDKVersion;
  return SDKVersion;
}
/**
 * @description 用于比较当前微信基础库版本与目标基础库版本
 * 示例用法：比较小程序基础库版本是否大于等于 2.12.0 compareWeChatVersion("2.12.0")
 * return 1 =>当前版本大于目标版本  return -1 =>当前版本小于目标版本 return 0 =>当前版本等于目标版本
 * @param {string} targetVersion 目标微信版本号
 *
 */
function compareWeChatVersion(targetVersion) {
  var currentVersion = getBaseLibraryVersion();
  if (currentVersion === targetVersion) {
    return 0; // 当前版本与目标版本相同
  } else if (currentVersion > targetVersion) {
    return 1; // 当前版本大于目标版本
  } else {
    return -1; // 当前版本小于目标版本
  }
}

// 路由跳转
function navigateTo(link) {
  var navigateType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'navigateTo';
  var url = link !== null && link !== void 0 && link.params ? "".concat(link.path, "?").concat(objectToQuery(link === null || link === void 0 ? void 0 : link.params)) : link.path;
  (navigateType == 'switchTab' || link.canTab) && uni.switchTab({
    url: url
  });
  navigateType == 'navigateTo' && uni.navigateTo({
    url: url
  });
  navigateType == 'reLaunch' && uni.reLaunch({
    url: url
  });
}
/**
 * @description 对象格式化为Query语法
 * @param { Object } params
 * @return {string} Query语法
 */
function objectToQuery(params) {
  var query = '';
  for (var _i = 0, _Object$keys = Object.keys(params); _i < _Object$keys.length; _i++) {
    var props = _Object$keys[_i];
    var value = params[props];
    var part = encodeURIComponent(props) + '=';
    if (!isEmpty(value)) {
      console.log(encodeURIComponent(props), (0, _shared.isObject)(value));
      if ((0, _shared.isObject)(value)) {
        for (var _i2 = 0, _Object$keys2 = Object.keys(value); _i2 < _Object$keys2.length; _i2++) {
          var key = _Object$keys2[_i2];
          if (!isEmpty(value[key])) {
            var _params = props + '[' + key + ']';
            var subPart = encodeURIComponent(_params) + '=';
            query += subPart + encodeURIComponent(value[key]) + '&';
          }
        }
      } else {
        query += part + encodeURIComponent(value) + '&';
      }
    }
  }
  return query.slice(0, -1);
}
/**
 * @description 是否为空
 * @param {unknown} value
 * @return {Boolean}
 */
var isEmpty = function isEmpty(value) {
  return value == null && typeof value == 'undefined';
};
exports.isEmpty = isEmpty;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 2)["default"], __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/wx.js */ 1)["default"]))

/***/ }),

/***/ 51:
/*!*****************************************************!*\
  !*** /Users/lisicheng/project/lijian/config/app.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

// 开发者环境：开|关	【注：方便微信小程序发行测试】
var SWITCH_DEVELOPMENT = true;

/** S 是否H5端 **/

var IS_H5 = false;

/** E 是否H5端 **/

/** S API BaseURL **/
var baseURLMap = {
  // 开发环境
  development: 'https://test.zhihuischool.com.cn',
  // 生产环境https://b2cplus.likeshop.cn
  production: IS_H5 ? location.origin : 'https://test.zhihuischool.com.cn'
};
var baseURL = SWITCH_DEVELOPMENT ? baseURLMap['development'] : baseURLMap["development"];

/** E API BaseURL **/

module.exports = {
  version: '3.3.0',
  // 版本号
  baseURL: baseURL,
  // API Base URL
  basePath: '/mobile'
};

/***/ }),

/***/ 52:
/*!*****************************************************!*\
  !*** /Users/lisicheng/project/lijian/utils/enum.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.serviceEnum = exports.TtAppNameEnum = exports.SortEnum = exports.SMSEnum = exports.PaymentStatusEnum = exports.PayWayEnum = exports.PageStatusEnum = exports.OrderTypeEnum = exports.OrderSourceEnum = exports.DistributionOrderEnum = exports.ClientEnum = exports.APICodeEnum = void 0;
// 接口code类型
var APICodeEnum = {
  1: 'success',
  // 成功
  0: 'fail',
  // 失败
  '-1': 'redirect',
  // 重定向
  1020: 'closeShop',
  // 商城关闭
  10: 'tips' // 提示
};

// 页面状态
exports.APICodeEnum = APICodeEnum;
var PageStatusEnum = {
  LOADING: 'loading',
  // 加载中
  NORMAL: 'normal',
  // 正常
  ERROR: 'error',
  // 异常
  EMPTY: 'empty' // 为空
};

// 客户端
exports.PageStatusEnum = PageStatusEnum;
var ClientEnum = {
  MP_WEIXIN: 1,
  // 微信-小程序
  OA_WEIXIN: 2,
  // 微信-公众号
  H5: 3,
  // H5
  PC: 4,
  // PC
  IOS: 5,
  // 苹果APP
  ANDROID: 6,
  //安卓APP
  MP_TOUTIAO: 7 // 头条
};
exports.ClientEnum = ClientEnum;
var serviceEnum = {
  1: 'mnp',
  2: 'oa',
  3: 'h5',
  4: 'h5',
  5: 'app',
  6: 'app'
};
// 支付状态
exports.serviceEnum = serviceEnum;
var PaymentStatusEnum = {
  CLOSE: 0,
  // 取消
  SUCCESS: 1,
  // 成功
  FAIL: 2 // 失败
};

// 支付方式
exports.PaymentStatusEnum = PaymentStatusEnum;
var PayWayEnum = {
  WALLET: 1,
  // 钱包
  WECHAT: 2,
  // 微信
  ALIPAY: 3,
  // 支付宝
  TOUTIAO: 4,
  //头要
  DOWMLINE: 5 //线下支付
};

// 订单来源
exports.PayWayEnum = PayWayEnum;
var OrderSourceEnum = {
  BUY_NOW: 'buy_now',
  // 立即购买
  CART: 'cart' // 购物车
};

// 订单下单类型 【主要用于下单结算】
exports.OrderSourceEnum = OrderSourceEnum;
var OrderTypeEnum = {
  GOODS: 0,
  // 普通商品
  TEAM: 1,
  // 拼团商品
  SECKILL: 2,
  // 秒杀商品
  BARGAIN: 3,
  // 砍价商品
  VIRTUAL: 4,
  // 虚拟商品
  PRESELL: 5,
  // 预售商品
  LUCK: 6 // 抽奖商品
};

// 短信发送
exports.OrderTypeEnum = OrderTypeEnum;
var SMSEnum = {
  REGISTER: 'ZCYZ',
  // 注册
  FINDPWD: 'ZHMM',
  // 找回密码
  LOGIN: 'YZMDL',
  // 登陆
  CHANGE_MOBILE: 'BGSJHM',
  // 更换手机号
  BIND: 'BDSJHM',
  // 绑定手机号
  SJSQYZ: 'SJSQYZ' // 商家入驻申请验证
};

// 排序类型
exports.SMSEnum = SMSEnum;
var SortEnum = {
  NONE: '',
  ASC: 'asc',
  // 升序
  DESC: 'desc' // 降序
};

// 分销订单状态
exports.SortEnum = SortEnum;
var DistributionOrderEnum = {
  ALL: 0,
  WAIT_RETURN: 1,
  HANDLED: 2,
  INVALED: 3
};

// 字节小程序宿主appname
exports.DistributionOrderEnum = DistributionOrderEnum;
var TtAppNameEnum = {
  Toutiao: 'toutiao',
  Douyin: 'douyin',
  news_article_lite: 'toutiao_lite',
  live_stream: 'huoshan',
  XiGua: 'xigua',
  PPX: 'pipixia',
  devtools: 'toutiao'
};
exports.TtAppNameEnum = TtAppNameEnum;

/***/ }),

/***/ 53:
/*!*************************************************************!*\
  !*** ./node_modules/@vue/shared/dist/shared.esm-bundler.js ***!
  \*************************************************************/
/*! exports provided: EMPTY_ARR, EMPTY_OBJ, NO, NOOP, PatchFlagNames, camelize, capitalize, def, escapeHtml, escapeHtmlComment, extend, genPropsAccessExp, generateCodeFrame, getGlobalThis, hasChanged, hasOwn, hyphenate, includeBooleanAttr, invokeArrayFns, isArray, isBooleanAttr, isBuiltInDirective, isDate, isFunction, isGloballyWhitelisted, isHTMLTag, isIntegerKey, isKnownHtmlAttr, isKnownSvgAttr, isMap, isModelListener, isObject, isOn, isPlainObject, isPromise, isReservedProp, isSSRSafeAttrName, isSVGTag, isSet, isSpecialBooleanAttr, isString, isSymbol, isVoidTag, looseEqual, looseIndexOf, makeMap, normalizeClass, normalizeProps, normalizeStyle, objectToString, parseStringStyle, propsToAttrMap, remove, slotFlagsText, stringifyStyle, toDisplayString, toHandlerKey, toNumber, toRawType, toTypeString */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EMPTY_ARR", function() { return EMPTY_ARR; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EMPTY_OBJ", function() { return EMPTY_OBJ; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NO", function() { return NO; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NOOP", function() { return NOOP; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PatchFlagNames", function() { return PatchFlagNames; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "camelize", function() { return camelize; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "capitalize", function() { return capitalize; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "def", function() { return def; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "escapeHtml", function() { return escapeHtml; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "escapeHtmlComment", function() { return escapeHtmlComment; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "extend", function() { return extend; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "genPropsAccessExp", function() { return genPropsAccessExp; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "generateCodeFrame", function() { return generateCodeFrame; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getGlobalThis", function() { return getGlobalThis; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hasChanged", function() { return hasChanged; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hasOwn", function() { return hasOwn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hyphenate", function() { return hyphenate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "includeBooleanAttr", function() { return includeBooleanAttr; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "invokeArrayFns", function() { return invokeArrayFns; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isArray", function() { return isArray; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isBooleanAttr", function() { return isBooleanAttr; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isBuiltInDirective", function() { return isBuiltInDirective; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isDate", function() { return isDate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isFunction", function() { return isFunction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isGloballyWhitelisted", function() { return isGloballyWhitelisted; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isHTMLTag", function() { return isHTMLTag; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isIntegerKey", function() { return isIntegerKey; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isKnownHtmlAttr", function() { return isKnownHtmlAttr; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isKnownSvgAttr", function() { return isKnownSvgAttr; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isMap", function() { return isMap; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isModelListener", function() { return isModelListener; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isObject", function() { return isObject; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isOn", function() { return isOn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isPlainObject", function() { return isPlainObject; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isPromise", function() { return isPromise; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isReservedProp", function() { return isReservedProp; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isSSRSafeAttrName", function() { return isSSRSafeAttrName; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isSVGTag", function() { return isSVGTag; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isSet", function() { return isSet; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isSpecialBooleanAttr", function() { return isSpecialBooleanAttr; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isString", function() { return isString; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isSymbol", function() { return isSymbol; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isVoidTag", function() { return isVoidTag; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "looseEqual", function() { return looseEqual; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "looseIndexOf", function() { return looseIndexOf; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "makeMap", function() { return makeMap; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "normalizeClass", function() { return normalizeClass; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "normalizeProps", function() { return normalizeProps; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "normalizeStyle", function() { return normalizeStyle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "objectToString", function() { return objectToString; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parseStringStyle", function() { return parseStringStyle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "propsToAttrMap", function() { return propsToAttrMap; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "remove", function() { return remove; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "slotFlagsText", function() { return slotFlagsText; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "stringifyStyle", function() { return stringifyStyle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "toDisplayString", function() { return toDisplayString; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "toHandlerKey", function() { return toHandlerKey; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "toNumber", function() { return toNumber; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "toRawType", function() { return toRawType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "toTypeString", function() { return toTypeString; });
/**
 * Make a map and return a function for checking if a key
 * is in that map.
 * IMPORTANT: all calls of this function must be prefixed with
 * \/\*#\_\_PURE\_\_\*\/
 * So that rollup can tree-shake them if necessary.
 */
function makeMap(str, expectsLowerCase) {
    const map = Object.create(null);
    const list = str.split(',');
    for (let i = 0; i < list.length; i++) {
        map[list[i]] = true;
    }
    return expectsLowerCase ? val => !!map[val.toLowerCase()] : val => !!map[val];
}

/**
 * dev only flag -> name mapping
 */
const PatchFlagNames = {
    [1 /* PatchFlags.TEXT */]: `TEXT`,
    [2 /* PatchFlags.CLASS */]: `CLASS`,
    [4 /* PatchFlags.STYLE */]: `STYLE`,
    [8 /* PatchFlags.PROPS */]: `PROPS`,
    [16 /* PatchFlags.FULL_PROPS */]: `FULL_PROPS`,
    [32 /* PatchFlags.HYDRATE_EVENTS */]: `HYDRATE_EVENTS`,
    [64 /* PatchFlags.STABLE_FRAGMENT */]: `STABLE_FRAGMENT`,
    [128 /* PatchFlags.KEYED_FRAGMENT */]: `KEYED_FRAGMENT`,
    [256 /* PatchFlags.UNKEYED_FRAGMENT */]: `UNKEYED_FRAGMENT`,
    [512 /* PatchFlags.NEED_PATCH */]: `NEED_PATCH`,
    [1024 /* PatchFlags.DYNAMIC_SLOTS */]: `DYNAMIC_SLOTS`,
    [2048 /* PatchFlags.DEV_ROOT_FRAGMENT */]: `DEV_ROOT_FRAGMENT`,
    [-1 /* PatchFlags.HOISTED */]: `HOISTED`,
    [-2 /* PatchFlags.BAIL */]: `BAIL`
};

/**
 * Dev only
 */
const slotFlagsText = {
    [1 /* SlotFlags.STABLE */]: 'STABLE',
    [2 /* SlotFlags.DYNAMIC */]: 'DYNAMIC',
    [3 /* SlotFlags.FORWARDED */]: 'FORWARDED'
};

const GLOBALS_WHITE_LISTED = 'Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,' +
    'decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,' +
    'Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt';
const isGloballyWhitelisted = /*#__PURE__*/ makeMap(GLOBALS_WHITE_LISTED);

const range = 2;
function generateCodeFrame(source, start = 0, end = source.length) {
    // Split the content into individual lines but capture the newline sequence
    // that separated each line. This is important because the actual sequence is
    // needed to properly take into account the full line length for offset
    // comparison
    let lines = source.split(/(\r?\n)/);
    // Separate the lines and newline sequences into separate arrays for easier referencing
    const newlineSequences = lines.filter((_, idx) => idx % 2 === 1);
    lines = lines.filter((_, idx) => idx % 2 === 0);
    let count = 0;
    const res = [];
    for (let i = 0; i < lines.length; i++) {
        count +=
            lines[i].length +
                ((newlineSequences[i] && newlineSequences[i].length) || 0);
        if (count >= start) {
            for (let j = i - range; j <= i + range || end > count; j++) {
                if (j < 0 || j >= lines.length)
                    continue;
                const line = j + 1;
                res.push(`${line}${' '.repeat(Math.max(3 - String(line).length, 0))}|  ${lines[j]}`);
                const lineLength = lines[j].length;
                const newLineSeqLength = (newlineSequences[j] && newlineSequences[j].length) || 0;
                if (j === i) {
                    // push underline
                    const pad = start - (count - (lineLength + newLineSeqLength));
                    const length = Math.max(1, end > count ? lineLength - pad : end - start);
                    res.push(`   |  ` + ' '.repeat(pad) + '^'.repeat(length));
                }
                else if (j > i) {
                    if (end > count) {
                        const length = Math.max(Math.min(end - count, lineLength), 1);
                        res.push(`   |  ` + '^'.repeat(length));
                    }
                    count += lineLength + newLineSeqLength;
                }
            }
            break;
        }
    }
    return res.join('\n');
}

function normalizeStyle(value) {
    if (isArray(value)) {
        const res = {};
        for (let i = 0; i < value.length; i++) {
            const item = value[i];
            const normalized = isString(item)
                ? parseStringStyle(item)
                : normalizeStyle(item);
            if (normalized) {
                for (const key in normalized) {
                    res[key] = normalized[key];
                }
            }
        }
        return res;
    }
    else if (isString(value)) {
        return value;
    }
    else if (isObject(value)) {
        return value;
    }
}
const listDelimiterRE = /;(?![^(]*\))/g;
const propertyDelimiterRE = /:([^]+)/;
const styleCommentRE = /\/\*.*?\*\//gs;
function parseStringStyle(cssText) {
    const ret = {};
    cssText
        .replace(styleCommentRE, '')
        .split(listDelimiterRE)
        .forEach(item => {
        if (item) {
            const tmp = item.split(propertyDelimiterRE);
            tmp.length > 1 && (ret[tmp[0].trim()] = tmp[1].trim());
        }
    });
    return ret;
}
function stringifyStyle(styles) {
    let ret = '';
    if (!styles || isString(styles)) {
        return ret;
    }
    for (const key in styles) {
        const value = styles[key];
        const normalizedKey = key.startsWith(`--`) ? key : hyphenate(key);
        if (isString(value) || typeof value === 'number') {
            // only render valid values
            ret += `${normalizedKey}:${value};`;
        }
    }
    return ret;
}
function normalizeClass(value) {
    let res = '';
    if (isString(value)) {
        res = value;
    }
    else if (isArray(value)) {
        for (let i = 0; i < value.length; i++) {
            const normalized = normalizeClass(value[i]);
            if (normalized) {
                res += normalized + ' ';
            }
        }
    }
    else if (isObject(value)) {
        for (const name in value) {
            if (value[name]) {
                res += name + ' ';
            }
        }
    }
    return res.trim();
}
function normalizeProps(props) {
    if (!props)
        return null;
    let { class: klass, style } = props;
    if (klass && !isString(klass)) {
        props.class = normalizeClass(klass);
    }
    if (style) {
        props.style = normalizeStyle(style);
    }
    return props;
}

// These tag configs are shared between compiler-dom and runtime-dom, so they
// https://developer.mozilla.org/en-US/docs/Web/HTML/Element
const HTML_TAGS = 'html,body,base,head,link,meta,style,title,address,article,aside,footer,' +
    'header,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,' +
    'figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,' +
    'data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,' +
    'time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,' +
    'canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,' +
    'th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,' +
    'option,output,progress,select,textarea,details,dialog,menu,' +
    'summary,template,blockquote,iframe,tfoot';
// https://developer.mozilla.org/en-US/docs/Web/SVG/Element
const SVG_TAGS = 'svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,' +
    'defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,' +
    'feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,' +
    'feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,' +
    'feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,' +
    'fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,' +
    'foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,' +
    'mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,' +
    'polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,' +
    'text,textPath,title,tspan,unknown,use,view';
const VOID_TAGS = 'area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr';
/**
 * Compiler only.
 * Do NOT use in runtime code paths unless behind `(process.env.NODE_ENV !== 'production')` flag.
 */
const isHTMLTag = /*#__PURE__*/ makeMap(HTML_TAGS);
/**
 * Compiler only.
 * Do NOT use in runtime code paths unless behind `(process.env.NODE_ENV !== 'production')` flag.
 */
const isSVGTag = /*#__PURE__*/ makeMap(SVG_TAGS);
/**
 * Compiler only.
 * Do NOT use in runtime code paths unless behind `(process.env.NODE_ENV !== 'production')` flag.
 */
const isVoidTag = /*#__PURE__*/ makeMap(VOID_TAGS);

/**
 * On the client we only need to offer special cases for boolean attributes that
 * have different names from their corresponding dom properties:
 * - itemscope -> N/A
 * - allowfullscreen -> allowFullscreen
 * - formnovalidate -> formNoValidate
 * - ismap -> isMap
 * - nomodule -> noModule
 * - novalidate -> noValidate
 * - readonly -> readOnly
 */
const specialBooleanAttrs = `itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly`;
const isSpecialBooleanAttr = /*#__PURE__*/ makeMap(specialBooleanAttrs);
/**
 * The full list is needed during SSR to produce the correct initial markup.
 */
const isBooleanAttr = /*#__PURE__*/ makeMap(specialBooleanAttrs +
    `,async,autofocus,autoplay,controls,default,defer,disabled,hidden,` +
    `loop,open,required,reversed,scoped,seamless,` +
    `checked,muted,multiple,selected`);
/**
 * Boolean attributes should be included if the value is truthy or ''.
 * e.g. `<select multiple>` compiles to `{ multiple: '' }`
 */
function includeBooleanAttr(value) {
    return !!value || value === '';
}
const unsafeAttrCharRE = /[>/="'\u0009\u000a\u000c\u0020]/;
const attrValidationCache = {};
function isSSRSafeAttrName(name) {
    if (attrValidationCache.hasOwnProperty(name)) {
        return attrValidationCache[name];
    }
    const isUnsafe = unsafeAttrCharRE.test(name);
    if (isUnsafe) {
        console.error(`unsafe attribute name: ${name}`);
    }
    return (attrValidationCache[name] = !isUnsafe);
}
const propsToAttrMap = {
    acceptCharset: 'accept-charset',
    className: 'class',
    htmlFor: 'for',
    httpEquiv: 'http-equiv'
};
/**
 * Known attributes, this is used for stringification of runtime static nodes
 * so that we don't stringify bindings that cannot be set from HTML.
 * Don't also forget to allow `data-*` and `aria-*`!
 * Generated from https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes
 */
const isKnownHtmlAttr = /*#__PURE__*/ makeMap(`accept,accept-charset,accesskey,action,align,allow,alt,async,` +
    `autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,` +
    `border,buffered,capture,challenge,charset,checked,cite,class,code,` +
    `codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,` +
    `coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,` +
    `disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,` +
    `formaction,formenctype,formmethod,formnovalidate,formtarget,headers,` +
    `height,hidden,high,href,hreflang,http-equiv,icon,id,importance,integrity,` +
    `ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,` +
    `manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,` +
    `open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,` +
    `referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,` +
    `selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,` +
    `start,step,style,summary,tabindex,target,title,translate,type,usemap,` +
    `value,width,wrap`);
/**
 * Generated from https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute
 */
const isKnownSvgAttr = /*#__PURE__*/ makeMap(`xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,` +
    `arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,` +
    `baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,` +
    `clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,` +
    `color-interpolation-filters,color-profile,color-rendering,` +
    `contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,` +
    `descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,` +
    `dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,` +
    `fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,` +
    `font-family,font-size,font-size-adjust,font-stretch,font-style,` +
    `font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,` +
    `glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,` +
    `gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,` +
    `horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,` +
    `k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,` +
    `lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,` +
    `marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,` +
    `mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,` +
    `name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,` +
    `overflow,overline-position,overline-thickness,panose-1,paint-order,path,` +
    `pathLength,patternContentUnits,patternTransform,patternUnits,ping,` +
    `pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,` +
    `preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,` +
    `rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,` +
    `restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,` +
    `specularConstant,specularExponent,speed,spreadMethod,startOffset,` +
    `stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,` +
    `strikethrough-position,strikethrough-thickness,string,stroke,` +
    `stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,` +
    `stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,` +
    `systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,` +
    `text-decoration,text-rendering,textLength,to,transform,transform-origin,` +
    `type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,` +
    `unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,` +
    `v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,` +
    `vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,` +
    `writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,` +
    `xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,` +
    `xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan`);

const escapeRE = /["'&<>]/;
function escapeHtml(string) {
    const str = '' + string;
    const match = escapeRE.exec(str);
    if (!match) {
        return str;
    }
    let html = '';
    let escaped;
    let index;
    let lastIndex = 0;
    for (index = match.index; index < str.length; index++) {
        switch (str.charCodeAt(index)) {
            case 34: // "
                escaped = '&quot;';
                break;
            case 38: // &
                escaped = '&amp;';
                break;
            case 39: // '
                escaped = '&#39;';
                break;
            case 60: // <
                escaped = '&lt;';
                break;
            case 62: // >
                escaped = '&gt;';
                break;
            default:
                continue;
        }
        if (lastIndex !== index) {
            html += str.slice(lastIndex, index);
        }
        lastIndex = index + 1;
        html += escaped;
    }
    return lastIndex !== index ? html + str.slice(lastIndex, index) : html;
}
// https://www.w3.org/TR/html52/syntax.html#comments
const commentStripRE = /^-?>|<!--|-->|--!>|<!-$/g;
function escapeHtmlComment(src) {
    return src.replace(commentStripRE, '');
}

function looseCompareArrays(a, b) {
    if (a.length !== b.length)
        return false;
    let equal = true;
    for (let i = 0; equal && i < a.length; i++) {
        equal = looseEqual(a[i], b[i]);
    }
    return equal;
}
function looseEqual(a, b) {
    if (a === b)
        return true;
    let aValidType = isDate(a);
    let bValidType = isDate(b);
    if (aValidType || bValidType) {
        return aValidType && bValidType ? a.getTime() === b.getTime() : false;
    }
    aValidType = isSymbol(a);
    bValidType = isSymbol(b);
    if (aValidType || bValidType) {
        return a === b;
    }
    aValidType = isArray(a);
    bValidType = isArray(b);
    if (aValidType || bValidType) {
        return aValidType && bValidType ? looseCompareArrays(a, b) : false;
    }
    aValidType = isObject(a);
    bValidType = isObject(b);
    if (aValidType || bValidType) {
        /* istanbul ignore if: this if will probably never be called */
        if (!aValidType || !bValidType) {
            return false;
        }
        const aKeysCount = Object.keys(a).length;
        const bKeysCount = Object.keys(b).length;
        if (aKeysCount !== bKeysCount) {
            return false;
        }
        for (const key in a) {
            const aHasKey = a.hasOwnProperty(key);
            const bHasKey = b.hasOwnProperty(key);
            if ((aHasKey && !bHasKey) ||
                (!aHasKey && bHasKey) ||
                !looseEqual(a[key], b[key])) {
                return false;
            }
        }
    }
    return String(a) === String(b);
}
function looseIndexOf(arr, val) {
    return arr.findIndex(item => looseEqual(item, val));
}

/**
 * For converting {{ interpolation }} values to displayed strings.
 * @private
 */
const toDisplayString = (val) => {
    return isString(val)
        ? val
        : val == null
            ? ''
            : isArray(val) ||
                (isObject(val) &&
                    (val.toString === objectToString || !isFunction(val.toString)))
                ? JSON.stringify(val, replacer, 2)
                : String(val);
};
const replacer = (_key, val) => {
    // can't use isRef here since @vue/shared has no deps
    if (val && val.__v_isRef) {
        return replacer(_key, val.value);
    }
    else if (isMap(val)) {
        return {
            [`Map(${val.size})`]: [...val.entries()].reduce((entries, [key, val]) => {
                entries[`${key} =>`] = val;
                return entries;
            }, {})
        };
    }
    else if (isSet(val)) {
        return {
            [`Set(${val.size})`]: [...val.values()]
        };
    }
    else if (isObject(val) && !isArray(val) && !isPlainObject(val)) {
        return String(val);
    }
    return val;
};

const EMPTY_OBJ = ( true)
    ? Object.freeze({})
    : undefined;
const EMPTY_ARR = ( true) ? Object.freeze([]) : undefined;
const NOOP = () => { };
/**
 * Always return false.
 */
const NO = () => false;
const onRE = /^on[^a-z]/;
const isOn = (key) => onRE.test(key);
const isModelListener = (key) => key.startsWith('onUpdate:');
const extend = Object.assign;
const remove = (arr, el) => {
    const i = arr.indexOf(el);
    if (i > -1) {
        arr.splice(i, 1);
    }
};
const hasOwnProperty = Object.prototype.hasOwnProperty;
const hasOwn = (val, key) => hasOwnProperty.call(val, key);
const isArray = Array.isArray;
const isMap = (val) => toTypeString(val) === '[object Map]';
const isSet = (val) => toTypeString(val) === '[object Set]';
const isDate = (val) => toTypeString(val) === '[object Date]';
const isFunction = (val) => typeof val === 'function';
const isString = (val) => typeof val === 'string';
const isSymbol = (val) => typeof val === 'symbol';
const isObject = (val) => val !== null && typeof val === 'object';
const isPromise = (val) => {
    return isObject(val) && isFunction(val.then) && isFunction(val.catch);
};
const objectToString = Object.prototype.toString;
const toTypeString = (value) => objectToString.call(value);
const toRawType = (value) => {
    // extract "RawType" from strings like "[object RawType]"
    return toTypeString(value).slice(8, -1);
};
const isPlainObject = (val) => toTypeString(val) === '[object Object]';
const isIntegerKey = (key) => isString(key) &&
    key !== 'NaN' &&
    key[0] !== '-' &&
    '' + parseInt(key, 10) === key;
const isReservedProp = /*#__PURE__*/ makeMap(
// the leading comma is intentional so empty string "" is also included
',key,ref,ref_for,ref_key,' +
    'onVnodeBeforeMount,onVnodeMounted,' +
    'onVnodeBeforeUpdate,onVnodeUpdated,' +
    'onVnodeBeforeUnmount,onVnodeUnmounted');
const isBuiltInDirective = /*#__PURE__*/ makeMap('bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo');
const cacheStringFunction = (fn) => {
    const cache = Object.create(null);
    return ((str) => {
        const hit = cache[str];
        return hit || (cache[str] = fn(str));
    });
};
const camelizeRE = /-(\w)/g;
/**
 * @private
 */
const camelize = cacheStringFunction((str) => {
    return str.replace(camelizeRE, (_, c) => (c ? c.toUpperCase() : ''));
});
const hyphenateRE = /\B([A-Z])/g;
/**
 * @private
 */
const hyphenate = cacheStringFunction((str) => str.replace(hyphenateRE, '-$1').toLowerCase());
/**
 * @private
 */
const capitalize = cacheStringFunction((str) => str.charAt(0).toUpperCase() + str.slice(1));
/**
 * @private
 */
const toHandlerKey = cacheStringFunction((str) => str ? `on${capitalize(str)}` : ``);
// compare whether a value has changed, accounting for NaN.
const hasChanged = (value, oldValue) => !Object.is(value, oldValue);
const invokeArrayFns = (fns, arg) => {
    for (let i = 0; i < fns.length; i++) {
        fns[i](arg);
    }
};
const def = (obj, key, value) => {
    Object.defineProperty(obj, key, {
        configurable: true,
        enumerable: false,
        value
    });
};
const toNumber = (val) => {
    const n = parseFloat(val);
    return isNaN(n) ? val : n;
};
let _globalThis;
const getGlobalThis = () => {
    return (_globalThis ||
        (_globalThis =
            typeof globalThis !== 'undefined'
                ? globalThis
                : typeof self !== 'undefined'
                    ? self
                    : typeof window !== 'undefined'
                        ? window
                        : typeof global !== 'undefined'
                            ? global
                            : {}));
};
const identRE = /^[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*$/;
function genPropsAccessExp(name) {
    return identRE.test(name)
        ? `__props.${name}`
        : `__props[${JSON.stringify(name)}]`;
}



/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../webpack/buildin/global.js */ 3)))

/***/ }),

/***/ 54:
/*!*****************************************************************!*\
  !*** /Users/lisicheng/project/lijian/store/modules/decorate.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _uni = _interopRequireDefault(__webpack_require__(/*! @/uni.scss */ 55));
var _cachekey = __webpack_require__(/*! @/config/cachekey */ 45);
var _cache = _interopRequireDefault(__webpack_require__(/*! @/utils/cache */ 46));
var _store = __webpack_require__(/*! @/api/store */ 56);
var state = {
  theme: _uni.default,
  config: _cache.default.get(_cachekey.THEME_CONFIG) || {}
};
var mutations = {
  setDecorateConfig: function setDecorateConfig(state, data) {
    state.config = data;
    _cache.default.set(_cachekey.THEME_CONFIG, data);
  }
};
var actions = {
  getDecorateConfig: function getDecorateConfig(_ref) {
    var state = _ref.state,
      commit = _ref.commit;
    (0, _store.apiDecorateConfig)().then(function (res) {
      commit('setDecorateConfig', res);
    });
  }
};
var _default = {
  state: state,
  mutations: mutations,
  actions: actions
};
exports.default = _default;

/***/ }),

/***/ 55:
/*!************************************************!*\
  !*** /Users/lisicheng/project/lijian/uni.scss ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"red_theme":"#FF2C3C","orange_theme":"#f7971e","pink_theme":"#fa444d","gold_theme":"#e0a356","blue_theme":"#2f80ed","green_theme":"#2ec840"};
    if(false) { var cssReload; }
  

/***/ }),

/***/ 56:
/*!****************************************************!*\
  !*** /Users/lisicheng/project/lijian/api/store.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.apiregisterAward = exports.apieditgoodsitem = exports.apiclearAll = exports.apiShopNoticeList = exports.apiShopNoticeDetail = exports.apiServiceConfig = exports.apiSelffetchStore = exports.apiNoticeListGet = exports.apiNoticeGet = exports.apiMiniPage = exports.apiIndex = exports.apiGetPage = exports.apiFootprint = exports.apiDecorateConfig = exports.apiCouponList = exports.apiCouponGoods = exports.apiCouponGet = exports.apiCartSelectChange = exports.apiCartNum = exports.apiCartLists = exports.apiCartDel = exports.apiCartCountChange = exports.apiCartAdd = exports.apiArticleLists = exports.apiArticleDatail = exports.apiArticleCategoryLists = void 0;
var _request = _interopRequireDefault(__webpack_require__(/*! @/utils/request */ 35));
// 商城首页
var apiIndex = function apiIndex() {
  return _request.default.get('DecorateTheme/index');
};

// 商城微页面
exports.apiIndex = apiIndex;
var apiMiniPage = function apiMiniPage(params) {
  return _request.default.get('DecorateTheme/getIndexPage', {
    params: params
  });
};

// 商城主题配置
exports.apiMiniPage = apiMiniPage;
var apiDecorateConfig = function apiDecorateConfig() {
  return _request.default.get('decorateTheme/getConfig');
};

// 商城个人中心或者分类
exports.apiDecorateConfig = apiDecorateConfig;
var apiGetPage = function apiGetPage(params) {
  return _request.default.get('decorateTheme/getPage', {
    params: params
  });
};

// 获取购物车列表
exports.apiGetPage = apiGetPage;
var apiCartLists = function apiCartLists() {
  return _request.default.get('cart/lists');
};

// 购物车添加商品
exports.apiCartLists = apiCartLists;
var apiCartAdd = function apiCartAdd(params) {
  return _request.default.post('cart/add', params);
};

// 删除购物车商品
exports.apiCartAdd = apiCartAdd;
var apiCartDel = function apiCartDel(params) {
  return _request.default.post('cart/del', params);
};

// 购物车中商品数量的修改
exports.apiCartDel = apiCartDel;
var apiCartCountChange = function apiCartCountChange(params) {
  return _request.default.post('cart/change', params);
};

// 购物车中选中状态
exports.apiCartCountChange = apiCartCountChange;
var apiCartSelectChange = function apiCartSelectChange(params) {
  return _request.default.post('cart/selected', params);
};

// 购物车中数量
exports.apiCartSelectChange = apiCartSelectChange;
var apiCartNum = function apiCartNum() {
  return _request.default.get('cart/num');
};

// 自提门店列表
exports.apiCartNum = apiCartNum;
var apiSelffetchStore = function apiSelffetchStore(params) {
  return _request.default.get('selffetch_shop/lists', {
    params: params
  });
};

/** S 优惠券 **/
// 领取优惠券
exports.apiSelffetchStore = apiSelffetchStore;
var apiCouponGet = function apiCouponGet(params) {
  return _request.default.post('coupon/receive', params);
};

// 领券中心
exports.apiCouponGet = apiCouponGet;
var apiCouponList = function apiCouponList(params) {
  return _request.default.get('coupon/lists', {
    params: params
  });
};

// 优惠券列表【订单结算】
exports.apiCouponList = apiCouponList;
var apiCouponGoods = function apiCouponGoods(params) {
  return _request.default.post('coupon/orderCoupon', params);
};
/** E 优惠券 **/

// 消息中心
exports.apiCouponGoods = apiCouponGoods;
var apiNoticeGet = function apiNoticeGet() {
  return _request.default.get('notice/index');
};

// 消息列表
exports.apiNoticeGet = apiNoticeGet;
var apiNoticeListGet = function apiNoticeListGet(params) {
  return _request.default.get('notice/lists', {
    params: params
  });
};

// 商城公告
exports.apiNoticeListGet = apiNoticeListGet;
var apiShopNoticeList = function apiShopNoticeList() {
  return _request.default.get('shop_notice/lists');
};

// 商城公告
exports.apiShopNoticeList = apiShopNoticeList;
var apiShopNoticeDetail = function apiShopNoticeDetail(params) {
  return _request.default.get('shop_notice/detail', {
    params: params
  });
};

// 在线客服
exports.apiShopNoticeDetail = apiShopNoticeDetail;
var apiServiceConfig = function apiServiceConfig() {
  return _request.default.get('service/getConfig');
};

/** E 商城资讯 **/
// 商城资讯/帮助列表
exports.apiServiceConfig = apiServiceConfig;
var apiArticleLists = function apiArticleLists(params) {
  return _request.default.get('article/lists', {
    params: params
  });
};

// 商城资讯/帮助中心分类
exports.apiArticleLists = apiArticleLists;
var apiArticleCategoryLists = function apiArticleCategoryLists() {
  return _request.default.get('article/articleCategoryLists');
};

// 商城资讯/帮助中心详情
exports.apiArticleCategoryLists = apiArticleCategoryLists;
var apiArticleDatail = function apiArticleDatail(params) {
  return _request.default.get('article/detail', {
    params: params
  });
};
/** E 商城资讯 **/

// 足迹气泡
exports.apiArticleDatail = apiArticleDatail;
var apiFootprint = function apiFootprint() {
  return _request.default.get('footprint/lists');
};
//清空失效商品
exports.apiFootprint = apiFootprint;
var apiclearAll = function apiclearAll(params) {
  return _request.default.post('cart/del_ids', params);
};
//修改商品sku
exports.apiclearAll = apiclearAll;
var apieditgoodsitem = function apieditgoodsitem(params) {
  return _request.default.post('cart/edit_goods_item', params);
};
exports.apieditgoodsitem = apieditgoodsitem;
var apiregisterAward = function apiregisterAward() {
  return _request.default.get('registerAward/getConfig');
};
exports.apiregisterAward = apiregisterAward;

/***/ }),

/***/ 57:
/*!*************************************************************!*\
  !*** /Users/lisicheng/project/lijian/store/modules/cart.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _uni = _interopRequireDefault(__webpack_require__(/*! @/uni.scss */ 55));
var _cachekey = __webpack_require__(/*! @/config/cachekey */ 45);
var _cache = _interopRequireDefault(__webpack_require__(/*! @/utils/cache */ 46));
var _store = __webpack_require__(/*! @/api/store */ 56);
var state = {
  cartNum: 0
};
var mutations = {
  setCartNum: function setCartNum(state, data) {
    state.cartNum = data;
  }
};
var actions = {
  getCartNum: function getCartNum(_ref) {
    var state = _ref.state,
      commit = _ref.commit,
      getters = _ref.getters;
    // 未登录
    if (!getters.isLogin) {
      return;
    }
    (0, _store.apiCartNum)().then(function (res) {
      commit('setCartNum', res.num);
    }).catch(function () {
      commit('setCartNum', 0);
    });
  }
};
var _default = {
  state: state,
  mutations: mutations,
  actions: actions
};
exports.default = _default;

/***/ }),

/***/ 58:
/*!********************************************************!*\
  !*** /Users/lisicheng/project/lijian/store/getters.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _enum = __webpack_require__(/*! @/utils/enum */ 52);
var _tools = __webpack_require__(/*! @/utils/tools */ 50);
var _default = {
  // 公共配置
  appConfig: function appConfig(state) {
    return state.app.config || {};
  },
  // 客服配置
  ServiceConfig: function ServiceConfig(state) {
    return state.app.serviceConfig[_enum.serviceEnum[(0, _tools.getClient)()]] || {};
  },
  // 分享配置
  shareConfig: function shareConfig(state) {
    return state.app.shareConfig || [];
  },
  // 用户信息
  userInfo: function userInfo(state) {
    return state.app.userInfo || {};
  },
  // token
  token: function token(state) {
    return state.app.token;
  },
  // 客户端
  client: function client(state) {
    return state.app.client;
  },
  // 是否登录
  isLogin: function isLogin(state) {
    return !!state.app.token;
  },
  // 主题名字
  themeName: function themeName(state) {
    return state.decorate.config.theme || 'red_theme';
  },
  // 主题颜色
  themeColor: function themeColor(state) {
    var _state$decorate = state.decorate,
      theme = _state$decorate.theme,
      config = _state$decorate.config;
    return theme[config.theme] || '#FF2C3C';
  },
  // 底部导航
  tabbar: function tabbar(state) {
    return state.decorate.config.tabbar || {};
  },
  //弹窗广告
  screen: function screen(state) {
    return state.decorate.config.screen || {};
  },
  site_statistic: function site_statistic(state) {
    return state.app.config.site_statistic;
  }
};
exports.default = _default;

/***/ }),

/***/ 6:
/*!***************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/arrayWithHoles.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function _arrayWithHoles(arr) {
  if (Array.isArray(arr)) return arr;
}
module.exports = _arrayWithHoles, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 61:
/*!**********************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js ***!
  \**********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return normalizeComponent; });
/* globals __VUE_SSR_CONTEXT__ */

// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).
// This module is a runtime utility for cleaner component module output and will
// be included in the final webpack user bundle.

function normalizeComponent (
  scriptExports,
  render,
  staticRenderFns,
  functionalTemplate,
  injectStyles,
  scopeId,
  moduleIdentifier, /* server only */
  shadowMode, /* vue-cli only */
  components, // fixed by xxxxxx auto components
  renderjs // fixed by xxxxxx renderjs
) {
  // Vue.extend constructor export interop
  var options = typeof scriptExports === 'function'
    ? scriptExports.options
    : scriptExports

  // fixed by xxxxxx auto components
  if (components) {
    if (!options.components) {
      options.components = {}
    }
    var hasOwn = Object.prototype.hasOwnProperty
    for (var name in components) {
      if (hasOwn.call(components, name) && !hasOwn.call(options.components, name)) {
        options.components[name] = components[name]
      }
    }
  }
  // fixed by xxxxxx renderjs
  if (renderjs) {
    if(typeof renderjs.beforeCreate === 'function'){
			renderjs.beforeCreate = [renderjs.beforeCreate]
		}
    (renderjs.beforeCreate || (renderjs.beforeCreate = [])).unshift(function() {
      this[renderjs.__module] = this
    });
    (options.mixins || (options.mixins = [])).push(renderjs)
  }

  // render functions
  if (render) {
    options.render = render
    options.staticRenderFns = staticRenderFns
    options._compiled = true
  }

  // functional template
  if (functionalTemplate) {
    options.functional = true
  }

  // scopedId
  if (scopeId) {
    options._scopeId = 'data-v-' + scopeId
  }

  var hook
  if (moduleIdentifier) { // server build
    hook = function (context) {
      // 2.3 injection
      context =
        context || // cached call
        (this.$vnode && this.$vnode.ssrContext) || // stateful
        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional
      // 2.2 with runInNewContext: true
      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {
        context = __VUE_SSR_CONTEXT__
      }
      // inject component styles
      if (injectStyles) {
        injectStyles.call(this, context)
      }
      // register component module identifier for async chunk inferrence
      if (context && context._registeredComponents) {
        context._registeredComponents.add(moduleIdentifier)
      }
    }
    // used by ssr in case component is cached and beforeCreate
    // never gets called
    options._ssrRegister = hook
  } else if (injectStyles) {
    hook = shadowMode
      ? function () { injectStyles.call(this, this.$root.$options.shadowRoot) }
      : injectStyles
  }

  if (hook) {
    if (options.functional) {
      // for template-only hot-reload because in that case the render fn doesn't
      // go through the normalizer
      options._injectStyles = hook
      // register for functioal component in vue file
      var originalRender = options.render
      options.render = function renderWithStyleInjection (h, context) {
        hook.call(context)
        return originalRender(h, context)
      }
    } else {
      // inject component registration as beforeCreate hook
      var existing = options.beforeCreate
      options.beforeCreate = existing
        ? [].concat(existing, hook)
        : [hook]
    }
  }

  return {
    exports: scriptExports,
    options: options
  }
}


/***/ }),

/***/ 62:
/*!********************************************************************!*\
  !*** /Users/lisicheng/project/lijian/components/uview-ui/index.js ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {

var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _mixin = _interopRequireDefault(__webpack_require__(/*! ./libs/mixin/mixin.js */ 63));
var _request = _interopRequireDefault(__webpack_require__(/*! ./libs/request */ 64));
var _queryParams = _interopRequireDefault(__webpack_require__(/*! ./libs/function/queryParams.js */ 68));
var _route = _interopRequireDefault(__webpack_require__(/*! ./libs/function/route.js */ 69));
var _timeFormat = _interopRequireDefault(__webpack_require__(/*! ./libs/function/timeFormat.js */ 70));
var _timeFrom = _interopRequireDefault(__webpack_require__(/*! ./libs/function/timeFrom.js */ 71));
var _colorGradient = _interopRequireDefault(__webpack_require__(/*! ./libs/function/colorGradient.js */ 72));
var _guid = _interopRequireDefault(__webpack_require__(/*! ./libs/function/guid.js */ 73));
var _color = _interopRequireDefault(__webpack_require__(/*! ./libs/function/color.js */ 74));
var _type2icon = _interopRequireDefault(__webpack_require__(/*! ./libs/function/type2icon.js */ 75));
var _randomArray = _interopRequireDefault(__webpack_require__(/*! ./libs/function/randomArray.js */ 76));
var _deepClone = _interopRequireDefault(__webpack_require__(/*! ./libs/function/deepClone.js */ 66));
var _deepMerge = _interopRequireDefault(__webpack_require__(/*! ./libs/function/deepMerge.js */ 65));
var _addUnit = _interopRequireDefault(__webpack_require__(/*! ./libs/function/addUnit.js */ 77));
var _test = _interopRequireDefault(__webpack_require__(/*! ./libs/function/test.js */ 67));
var _random = _interopRequireDefault(__webpack_require__(/*! ./libs/function/random.js */ 78));
var _trim = _interopRequireDefault(__webpack_require__(/*! ./libs/function/trim.js */ 79));
var _toast = _interopRequireDefault(__webpack_require__(/*! ./libs/function/toast.js */ 80));
var _getParent = _interopRequireDefault(__webpack_require__(/*! ./libs/function/getParent.js */ 81));
var _$parent = _interopRequireDefault(__webpack_require__(/*! ./libs/function/$parent.js */ 82));
var _sys = __webpack_require__(/*! ./libs/function/sys.js */ 83);
var _debounce = _interopRequireDefault(__webpack_require__(/*! ./libs/function/debounce.js */ 84));
var _throttle = _interopRequireDefault(__webpack_require__(/*! ./libs/function/throttle.js */ 85));
var _config = _interopRequireDefault(__webpack_require__(/*! ./libs/config/config.js */ 86));
var _zIndex = _interopRequireDefault(__webpack_require__(/*! ./libs/config/zIndex.js */ 87));
// 引入全局mixin

// 引入关于是否mixin集成小程序分享的配置
// import wxshare from './libs/mixin/mpShare.js'
// 全局挂载引入http相关请求拦截插件

function wranning(str) {
  // 开发环境进行信息输出,主要是一些报错信息
  // 这个环境的来由是在程序编写时候,点击hx编辑器运行调试代码的时候,详见:
  // 	https://uniapp.dcloud.io/frame?id=%e5%bc%80%e5%8f%91%e7%8e%af%e5%a2%83%e5%92%8c%e7%94%9f%e4%ba%a7%e7%8e%af%e5%a2%83
  if (true) {
    console.warn(str);
  }
}

// 尝试判断在根目录的/store中是否有$u.mixin.js，此文件uView默认为需要挂在到全局的vuex的state变量
// HX2.6.11版本,放到try中,控制台依然会警告,暂时不用此方式，
// let vuexStore = {};
// try {
// 	vuexStore = require("@/store/$u.mixin.js");
// } catch (e) {
// 	//TODO handle the exception
// }

// post类型对象参数转为get类型url参数

var $u = {
  queryParams: _queryParams.default,
  route: _route.default,
  timeFormat: _timeFormat.default,
  date: _timeFormat.default,
  // 另名date
  timeFrom: _timeFrom.default,
  colorGradient: _colorGradient.default.colorGradient,
  colorToRgba: _colorGradient.default.colorToRgba,
  guid: _guid.default,
  color: _color.default,
  sys: _sys.sys,
  os: _sys.os,
  type2icon: _type2icon.default,
  randomArray: _randomArray.default,
  wranning: wranning,
  get: _request.default.get,
  post: _request.default.post,
  put: _request.default.put,
  'delete': _request.default.delete,
  hexToRgb: _colorGradient.default.hexToRgb,
  rgbToHex: _colorGradient.default.rgbToHex,
  test: _test.default,
  random: _random.default,
  deepClone: _deepClone.default,
  deepMerge: _deepMerge.default,
  getParent: _getParent.default,
  $parent: _$parent.default,
  addUnit: _addUnit.default,
  trim: _trim.default,
  type: ['primary', 'success', 'error', 'warning', 'info'],
  http: _request.default,
  toast: _toast.default,
  config: _config.default,
  // uView配置信息相关，比如版本号
  zIndex: _zIndex.default,
  debounce: _debounce.default,
  throttle: _throttle.default
};

// $u挂载到uni对象上
uni.$u = $u;
var install = function install(Vue) {
  Vue.mixin(_mixin.default);
  if (Vue.prototype.openShare) {
    Vue.mixin(mpShare);
  }
  // Vue.mixin(vuexStore);
  // 时间格式化，同时两个名称，date和timeFormat
  Vue.filter('timeFormat', function (timestamp, format) {
    return (0, _timeFormat.default)(timestamp, format);
  });
  Vue.filter('date', function (timestamp, format) {
    return (0, _timeFormat.default)(timestamp, format);
  });
  // 将多久以前的方法，注入到全局过滤器
  Vue.filter('timeFrom', function (timestamp, format) {
    return (0, _timeFrom.default)(timestamp, format);
  });
  Vue.prototype.$u = $u;
};
var _default = {
  install: install
};
exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 2)["default"]))

/***/ }),

/***/ 63:
/*!*******************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/components/uview-ui/libs/mixin/mixin.js ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(uni) {module.exports = {
  data: function data() {
    return {};
  },
  onLoad: function onLoad() {
    // getRect挂载到$u上，因为这方法需要使用in(this)，所以无法把它独立成一个单独的文件导出
    this.$u.getRect = this.$uGetRect;
  },
  methods: {
    // 查询节点信息
    // 目前此方法在支付宝小程序中无法获取组件跟接点的尺寸，为支付宝的bug(2020-07-21)
    // 解决办法为在组件根部再套一个没有任何作用的view元素
    $uGetRect: function $uGetRect(selector, all) {
      var _this = this;
      return new Promise(function (resolve) {
        uni.createSelectorQuery().in(_this)[all ? 'selectAll' : 'select'](selector).boundingClientRect(function (rect) {
          if (all && Array.isArray(rect) && rect.length) {
            resolve(rect);
          }
          if (!all && rect) {
            resolve(rect);
          }
        }).exec();
      });
    },
    getParentData: function getParentData() {
      var _this2 = this;
      var parentName = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
      // 避免在created中去定义parent变量
      if (!this.parent) this.parent = false;
      // 这里的本质原理是，通过获取父组件实例(也即u-radio-group的this)
      // 将父组件this中对应的参数，赋值给本组件(u-radio的this)的parentData对象中对应的属性
      // 之所以需要这么做，是因为所有端中，头条小程序不支持通过this.parent.xxx去监听父组件参数的变化
      this.parent = this.$u.$parent.call(this, parentName);
      if (this.parent) {
        // 历遍parentData中的属性，将parent中的同名属性赋值给parentData
        Object.keys(this.parentData).map(function (key) {
          _this2.parentData[key] = _this2.parent[key];
        });
      }
    },
    // 阻止事件冒泡
    preventEvent: function preventEvent(e) {
      e && e.stopPropagation && e.stopPropagation();
    }
  },
  onReachBottom: function onReachBottom() {
    uni.$emit('uOnReachBottom');
  },
  beforeDestroy: function beforeDestroy() {
    var _this3 = this;
    // 判断当前页面是否存在parent和chldren，一般在checkbox和checkbox-group父子联动的场景会有此情况
    // 组件销毁时，移除子组件在父组件children数组中的实例，释放资源，避免数据混乱
    if (this.parent && uni.$u.test.array(this.parent.children)) {
      // 组件销毁时，移除父组件中的children数组中对应的实例
      var childrenList = this.parent.children;
      childrenList.map(function (child, index) {
        // 如果相等，则移除
        if (child === _this3) {
          childrenList.splice(index, 1);
        }
      });
    }
  }
};
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 2)["default"]))

/***/ }),

/***/ 64:
/*!*********************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/components/uview-ui/libs/request/index.js ***!
  \*********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {

var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ 23));
var _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ 24));
var _deepMerge = _interopRequireDefault(__webpack_require__(/*! ../function/deepMerge */ 65));
var _test = _interopRequireDefault(__webpack_require__(/*! ../function/test */ 67));
var Request = /*#__PURE__*/function () {
  function Request() {
    var _this = this;
    (0, _classCallCheck2.default)(this, Request);
    this.config = {
      baseUrl: '',
      // 请求的根域名
      // 默认的请求头
      header: {},
      method: 'POST',
      // 设置为json，返回后uni.request会对数据进行一次JSON.parse
      dataType: 'json',
      // 此参数无需处理，因为5+和支付宝小程序不支持，默认为text即可
      responseType: 'text',
      showLoading: true,
      // 是否显示请求中的loading
      loadingText: '请求中...',
      loadingTime: 800,
      // 在此时间内，请求还没回来的话，就显示加载中动画，单位ms
      timer: null,
      // 定时器
      originalData: false,
      // 是否在拦截器中返回服务端的原始数据，见文档说明
      loadingMask: true // 展示loading的时候，是否给一个透明的蒙层，防止触摸穿透
    };

    // 拦截器
    this.interceptor = {
      // 请求前的拦截
      request: null,
      // 请求后的拦截
      response: null
    };

    // get请求
    this.get = function (url) {
      var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      var header = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
      return _this.request({
        method: 'GET',
        url: url,
        header: header,
        data: data
      });
    };

    // post请求
    this.post = function (url) {
      var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      var header = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
      return _this.request({
        url: url,
        method: 'POST',
        header: header,
        data: data
      });
    };

    // put请求，不支持支付宝小程序(HX2.6.15)
    this.put = function (url) {
      var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      var header = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
      return _this.request({
        url: url,
        method: 'PUT',
        header: header,
        data: data
      });
    };

    // delete请求，不支持支付宝和头条小程序(HX2.6.15)
    this.delete = function (url) {
      var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      var header = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
      return _this.request({
        url: url,
        method: 'DELETE',
        header: header,
        data: data
      });
    };
  }
  (0, _createClass2.default)(Request, [{
    key: "setConfig",
    value:
    // 设置全局默认配置
    function setConfig(customConfig) {
      // 深度合并对象，否则会造成对象深层属性丢失
      this.config = (0, _deepMerge.default)(this.config, customConfig);
    }

    // 主要请求部分
  }, {
    key: "request",
    value: function request() {
      var _this2 = this;
      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
      // 检查请求拦截
      if (this.interceptor.request && typeof this.interceptor.request === 'function') {
        var tmpConfig = {};
        var interceptorRequest = this.interceptor.request(options);
        if (interceptorRequest === false) {
          // 返回一个处于pending状态中的Promise，来取消原promise，避免进入then()回调
          return new Promise(function () {});
        }
        this.options = interceptorRequest;
      }
      options.dataType = options.dataType || this.config.dataType;
      options.responseType = options.responseType || this.config.responseType;
      options.url = options.url || '';
      options.params = options.params || {};
      options.header = Object.assign({}, this.config.header, options.header);
      options.method = options.method || this.config.method;
      return new Promise(function (resolve, reject) {
        options.complete = function (response) {
          // 请求返回后，隐藏loading(如果请求返回快的话，可能会没有loading)
          uni.hideLoading();
          // 清除定时器，如果请求回来了，就无需loading
          clearTimeout(_this2.config.timer);
          _this2.config.timer = null;
          // 判断用户对拦截返回数据的要求，如果originalData为true，返回所有的数据(response)到拦截器，否则只返回response.data
          if (_this2.config.originalData) {
            // 判断是否存在拦截器
            if (_this2.interceptor.response && typeof _this2.interceptor.response === 'function') {
              var resInterceptors = _this2.interceptor.response(response);
              // 如果拦截器不返回false，就将拦截器返回的内容给this.$u.post的then回调
              if (resInterceptors !== false) {
                resolve(resInterceptors);
              } else {
                // 如果拦截器返回false，意味着拦截器定义者认为返回有问题，直接接入catch回调
                reject(response);
              }
            } else {
              // 如果要求返回原始数据，就算没有拦截器，也返回最原始的数据
              resolve(response);
            }
          } else {
            if (response.statusCode == 200) {
              if (_this2.interceptor.response && typeof _this2.interceptor.response === 'function') {
                var _resInterceptors = _this2.interceptor.response(response.data);
                if (_resInterceptors !== false) {
                  resolve(_resInterceptors);
                } else {
                  reject(response.data);
                }
              } else {
                // 如果不是返回原始数据(originalData=false)，且没有拦截器的情况下，返回纯数据给then回调
                resolve(response.data);
              }
            } else {
              // 不返回原始数据的情况下，服务器状态码不为200，modal弹框提示
              // if(response.errMsg) {
              // 	uni.showModal({
              // 		title: response.errMsg
              // 	});
              // }
              reject(response);
            }
          }
        };

        // 判断用户传递的URL是否/开头,如果不是,加上/，这里使用了uView的test.js验证库的url()方法
        options.url = _test.default.url(options.url) ? options.url : _this2.config.baseUrl + (options.url.indexOf('/') == 0 ? options.url : '/' + options.url);

        // 是否显示loading
        // 加一个是否已有timer定时器的判断，否则有两个同时请求的时候，后者会清除前者的定时器id
        // 而没有清除前者的定时器，导致前者超时，一直显示loading
        if (_this2.config.showLoading && !_this2.config.timer) {
          _this2.config.timer = setTimeout(function () {
            uni.showLoading({
              title: _this2.config.loadingText,
              mask: _this2.config.loadingMask
            });
            _this2.config.timer = null;
          }, _this2.config.loadingTime);
        }
        uni.request(options);
      });
      // .catch(res => {
      // 	// 如果返回reject()，不让其进入this.$u.post().then().catch()后面的catct()
      // 	// 因为很多人都会忘了写后面的catch()，导致报错捕获不到catch
      // 	return new Promise(()=>{});
      // })
    }
  }]);
  return Request;
}();
var _default = new Request();
exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 2)["default"]))

/***/ }),

/***/ 65:
/*!**************************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/components/uview-ui/libs/function/deepMerge.js ***!
  \**************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _typeof2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/typeof */ 13));
var _deepClone = _interopRequireDefault(__webpack_require__(/*! ./deepClone */ 66));
// JS对象深度合并
function deepMerge() {
  var target = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  target = (0, _deepClone.default)(target);
  if ((0, _typeof2.default)(target) !== 'object' || (0, _typeof2.default)(source) !== 'object') return false;
  for (var prop in source) {
    if (!source.hasOwnProperty(prop)) continue;
    if (prop in target) {
      if ((0, _typeof2.default)(target[prop]) !== 'object') {
        target[prop] = source[prop];
      } else {
        if ((0, _typeof2.default)(source[prop]) !== 'object') {
          target[prop] = source[prop];
        } else {
          if (target[prop].concat && source[prop].concat) {
            target[prop] = target[prop].concat(source[prop]);
          } else {
            target[prop] = deepMerge(target[prop], source[prop]);
          }
        }
      }
    } else {
      target[prop] = source[prop];
    }
  }
  return target;
}
var _default = deepMerge;
exports.default = _default;

/***/ }),

/***/ 66:
/*!**************************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/components/uview-ui/libs/function/deepClone.js ***!
  \**************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _typeof2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/typeof */ 13));
// 判断arr是否为一个数组，返回一个bool值
function isArray(arr) {
  return Object.prototype.toString.call(arr) === '[object Array]';
}

// 深度克隆
function deepClone(obj) {
  // 对常见的“非”值，直接返回原来值
  if ([null, undefined, NaN, false].includes(obj)) return obj;
  if ((0, _typeof2.default)(obj) !== "object" && typeof obj !== 'function') {
    //原始类型直接返回
    return obj;
  }
  var o = isArray(obj) ? [] : {};
  for (var i in obj) {
    if (obj.hasOwnProperty(i)) {
      o[i] = (0, _typeof2.default)(obj[i]) === "object" ? deepClone(obj[i]) : obj[i];
    }
  }
  return o;
}
var _default = deepClone;
exports.default = _default;

/***/ }),

/***/ 67:
/*!*********************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/components/uview-ui/libs/function/test.js ***!
  \*********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _typeof2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/typeof */ 13));
/**
 * 验证电子邮箱格式
 */
function email(value) {
  return /^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/.test(value);
}

/**
 * 验证手机格式
 */
function mobile(value) {
  return /^1[3-9]\d{9}$/.test(value);
}

/**
 * 验证URL格式
 */
function url(value) {
  return /http(s)?:\/\/([\w-]+\.)+[\w-]+(\/[\w-.\/?%&=]*)?/.test(value);
}

/**
 * 验证日期格式
 */
function date(value) {
  return !/Invalid|NaN/.test(new Date(value).toString());
}

/**
 * 验证ISO类型的日期格式
 */
function dateISO(value) {
  return /^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(value);
}

/**
 * 验证十进制数字
 */
function number(value) {
  return /^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(value);
}

/**
 * 验证整数
 */
function digits(value) {
  return /^\d+$/.test(value);
}

/**
 * 验证身份证号码
 */
function idCard(value) {
  return /^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/.test(value);
}

/**
 * 是否车牌号
 */
function carNo(value) {
  // 新能源车牌
  var xreg = /^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}(([0-9]{5}[DF]$)|([DF][A-HJ-NP-Z0-9][0-9]{4}$))/;
  // 旧车牌
  var creg = /^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}[A-HJ-NP-Z0-9]{4}[A-HJ-NP-Z0-9挂学警港澳]{1}$/;
  if (value.length === 7) {
    return creg.test(value);
  } else if (value.length === 8) {
    return xreg.test(value);
  } else {
    return false;
  }
}

/**
 * 金额,只允许2位小数
 */
function amount(value) {
  //金额，只允许保留两位小数
  return /^[1-9]\d*(,\d{3})*(\.\d{1,2})?$|^0\.\d{1,2}$/.test(value);
}

/**
 * 中文
 */
function chinese(value) {
  var reg = /^[\u4e00-\u9fa5]+$/gi;
  return reg.test(value);
}

/**
 * 只能输入字母
 */
function letter(value) {
  return /^[a-zA-Z]*$/.test(value);
}

/**
 * 只能是字母或者数字
 */
function enOrNum(value) {
  //英文或者数字
  var reg = /^[0-9a-zA-Z]*$/g;
  return reg.test(value);
}

/**
 * 验证是否包含某个值
 */
function contains(value, param) {
  return value.indexOf(param) >= 0;
}

/**
 * 验证一个值范围[min, max]
 */
function range(value, param) {
  return value >= param[0] && value <= param[1];
}

/**
 * 验证一个长度范围[min, max]
 */
function rangeLength(value, param) {
  return value.length >= param[0] && value.length <= param[1];
}

/**
 * 是否固定电话
 */
function landline(value) {
  var reg = /^\d{3,4}-\d{7,8}(-\d{3,4})?$/;
  return reg.test(value);
}

/**
 * 判断是否为空
 */
function empty(value) {
  switch ((0, _typeof2.default)(value)) {
    case 'undefined':
      return true;
    case 'string':
      if (value.replace(/(^[ \t\n\r]*)|([ \t\n\r]*$)/g, '').length == 0) return true;
      break;
    case 'boolean':
      if (!value) return true;
      break;
    case 'number':
      if (0 === value || isNaN(value)) return true;
      break;
    case 'object':
      if (null === value || value.length === 0) return true;
      for (var i in value) {
        return false;
      }
      return true;
  }
  return false;
}

/**
 * 是否json字符串
 */
function jsonString(value) {
  if (typeof value == 'string') {
    try {
      var obj = JSON.parse(value);
      if ((0, _typeof2.default)(obj) == 'object' && obj) {
        return true;
      } else {
        return false;
      }
    } catch (e) {
      return false;
    }
  }
  return false;
}

/**
 * 是否数组
 */
function array(value) {
  if (typeof Array.isArray === "function") {
    return Array.isArray(value);
  } else {
    return Object.prototype.toString.call(value) === "[object Array]";
  }
}

/**
 * 是否对象
 */
function object(value) {
  return Object.prototype.toString.call(value) === '[object Object]';
}

/**
 * 是否短信验证码
 */
function code(value) {
  var len = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 6;
  return new RegExp("^\\d{".concat(len, "}$")).test(value);
}
var _default = {
  email: email,
  mobile: mobile,
  url: url,
  date: date,
  dateISO: dateISO,
  number: number,
  digits: digits,
  idCard: idCard,
  carNo: carNo,
  amount: amount,
  chinese: chinese,
  letter: letter,
  enOrNum: enOrNum,
  contains: contains,
  range: range,
  rangeLength: rangeLength,
  empty: empty,
  isEmpty: empty,
  jsonString: jsonString,
  landline: landline,
  object: object,
  array: array,
  code: code
};
exports.default = _default;

/***/ }),

/***/ 68:
/*!****************************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/components/uview-ui/libs/function/queryParams.js ***!
  \****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
/**
 * 对象转url参数
 * @param {*} data,对象
 * @param {*} isPrefix,是否自动加上"?"
 */
function queryParams() {
  var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var isPrefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
  var arrayFormat = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'brackets';
  var prefix = isPrefix ? '?' : '';
  var _result = [];
  if (['indices', 'brackets', 'repeat', 'comma'].indexOf(arrayFormat) == -1) arrayFormat = 'brackets';
  var _loop = function _loop(key) {
    var value = data[key];
    // 去掉为空的参数
    if (['', undefined, null].indexOf(value) >= 0) {
      return "continue";
    }
    // 如果值为数组，另行处理
    if (value.constructor === Array) {
      // e.g. {ids: [1, 2, 3]}
      switch (arrayFormat) {
        case 'indices':
          // 结果: ids[0]=1&ids[1]=2&ids[2]=3
          for (var i = 0; i < value.length; i++) {
            _result.push(key + '[' + i + ']=' + value[i]);
          }
          break;
        case 'brackets':
          // 结果: ids[]=1&ids[]=2&ids[]=3
          value.forEach(function (_value) {
            _result.push(key + '[]=' + _value);
          });
          break;
        case 'repeat':
          // 结果: ids=1&ids=2&ids=3
          value.forEach(function (_value) {
            _result.push(key + '=' + _value);
          });
          break;
        case 'comma':
          // 结果: ids=1,2,3
          var commaStr = "";
          value.forEach(function (_value) {
            commaStr += (commaStr ? "," : "") + _value;
          });
          _result.push(key + '=' + commaStr);
          break;
        default:
          value.forEach(function (_value) {
            _result.push(key + '[]=' + _value);
          });
      }
    } else {
      _result.push(key + '=' + value);
    }
  };
  for (var key in data) {
    var _ret = _loop(key);
    if (_ret === "continue") continue;
  }
  return _result.length ? prefix + _result.join('&') : '';
}
var _default = queryParams;
exports.default = _default;

/***/ }),

/***/ 69:
/*!**********************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/components/uview-ui/libs/function/route.js ***!
  \**********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {

var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _regenerator = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/regenerator */ 30));
var _asyncToGenerator2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ 32));
var _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ 23));
var _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ 24));
/**
 * 路由跳转方法，该方法相对于直接使用uni.xxx的好处是使用更加简单快捷
 * 并且带有路由拦截功能
 */
var Router = /*#__PURE__*/function () {
  function Router() {
    (0, _classCallCheck2.default)(this, Router);
    // 原始属性定义
    this.config = {
      type: 'navigateTo',
      url: '',
      delta: 1,
      // navigateBack页面后退时,回退的层数
      params: {},
      // 传递的参数
      animationType: 'pop-in',
      // 窗口动画,只在APP有效
      animationDuration: 300,
      // 窗口动画持续时间,单位毫秒,只在APP有效
      intercept: false // 是否需要拦截
    };
    // 因为route方法是需要对外赋值给另外的对象使用，同时route内部有使用this，会导致route失去上下文
    // 这里在构造函数中进行this绑定
    this.route = this.route.bind(this);
  }

  // 判断url前面是否有"/"，如果没有则加上，否则无法跳转
  (0, _createClass2.default)(Router, [{
    key: "addRootPath",
    value: function addRootPath(url) {
      return url[0] === '/' ? url : "/".concat(url);
    }

    // 整合路由参数
  }, {
    key: "mixinParam",
    value: function mixinParam(url, params) {
      url = url && this.addRootPath(url);

      // 使用正则匹配，主要依据是判断是否有"/","?","="等，如“/page/index/index?name=mary"
      // 如果有url中有get参数，转换后无需带上"?"
      var query = '';
      if (/.*\/.*\?.*=.*/.test(url)) {
        // object对象转为get类型的参数
        query = uni.$u.queryParams(params, false);
        // 因为已有get参数,所以后面拼接的参数需要带上"&"隔开
        return url += "&" + query;
      } else {
        // 直接拼接参数，因为此处url中没有后面的query参数，也就没有"?/&"之类的符号
        query = uni.$u.queryParams(params);
        return url += query;
      }
    }

    // 对外的方法名称
  }, {
    key: "route",
    value: function () {
      var _route = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee() {
        var options,
          params,
          mergeConfig,
          isNext,
          _args = arguments;
        return _regenerator.default.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                options = _args.length > 0 && _args[0] !== undefined ? _args[0] : {};
                params = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};
                // 合并用户的配置和内部的默认配置
                mergeConfig = {};
                if (typeof options === 'string') {
                  // 如果options为字符串，则为route(url, params)的形式
                  mergeConfig.url = this.mixinParam(options, params);
                  mergeConfig.type = 'navigateTo';
                } else {
                  mergeConfig = uni.$u.deepClone(options, this.config);
                  // 否则正常使用mergeConfig中的url和params进行拼接
                  mergeConfig.url = this.mixinParam(options.url, options.params);
                }
                if (params.intercept) {
                  this.config.intercept = params.intercept;
                }
                // params参数也带给拦截器
                mergeConfig.params = params;
                // 合并内外部参数
                mergeConfig = uni.$u.deepMerge(this.config, mergeConfig);
                // 判断用户是否定义了拦截器
                if (!(typeof uni.$u.routeIntercept === 'function')) {
                  _context.next = 14;
                  break;
                }
                _context.next = 10;
                return new Promise(function (resolve, reject) {
                  uni.$u.routeIntercept(mergeConfig, resolve);
                });
              case 10:
                isNext = _context.sent;
                // 如果isNext为true，则执行路由跳转
                isNext && this.openPage(mergeConfig);
                _context.next = 15;
                break;
              case 14:
                this.openPage(mergeConfig);
              case 15:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));
      function route() {
        return _route.apply(this, arguments);
      }
      return route;
    }() // 执行路由跳转
  }, {
    key: "openPage",
    value: function openPage(config) {
      // 解构参数
      var url = config.url,
        type = config.type,
        delta = config.delta,
        animationType = config.animationType,
        animationDuration = config.animationDuration;
      if (config.type == 'navigateTo' || config.type == 'to') {
        uni.navigateTo({
          url: url,
          animationType: animationType,
          animationDuration: animationDuration
        });
      }
      if (config.type == 'redirectTo' || config.type == 'redirect') {
        uni.redirectTo({
          url: url
        });
      }
      if (config.type == 'switchTab' || config.type == 'tab') {
        uni.switchTab({
          url: url
        });
      }
      if (config.type == 'reLaunch' || config.type == 'launch') {
        uni.reLaunch({
          url: url
        });
      }
      if (config.type == 'navigateBack' || config.type == 'back') {
        uni.navigateBack({
          delta: delta
        });
      }
    }
  }]);
  return Router;
}();
var _default = new Router().route;
exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 2)["default"]))

/***/ }),

/***/ 7:
/*!*********************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function _iterableToArrayLimit(r, l) {
  var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"];
  if (null != t) {
    var e,
      n,
      i,
      u,
      a = [],
      f = !0,
      o = !1;
    try {
      if (i = (t = t.call(r)).next, 0 === l) {
        if (Object(t) !== t) return;
        f = !1;
      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0) {
        ;
      }
    } catch (r) {
      o = !0, n = r;
    } finally {
      try {
        if (!f && null != t["return"] && (u = t["return"](), Object(u) !== u)) return;
      } finally {
        if (o) throw n;
      }
    }
    return a;
  }
}
module.exports = _iterableToArrayLimit, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 70:
/*!***************************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/components/uview-ui/libs/function/timeFormat.js ***!
  \***************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
// padStart 的 polyfill，因为某些机型或情况，还无法支持es7的padStart，比如电脑版的微信小程序
// 所以这里做一个兼容polyfill的兼容处理
if (!String.prototype.padStart) {
  // 为了方便表示这里 fillString 用了ES6 的默认参数，不影响理解
  String.prototype.padStart = function (maxLength) {
    var fillString = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ' ';
    if (Object.prototype.toString.call(fillString) !== "[object String]") throw new TypeError('fillString must be String');
    var str = this;
    // 返回 String(str) 这里是为了使返回的值是字符串字面量，在控制台中更符合直觉
    if (str.length >= maxLength) return String(str);
    var fillLength = maxLength - str.length,
      times = Math.ceil(fillLength / fillString.length);
    while (times >>= 1) {
      fillString += fillString;
      if (times === 1) {
        fillString += fillString;
      }
    }
    return fillString.slice(0, fillLength) + str;
  };
}

// 其他更多是格式化有如下:
// yyyy:mm:dd|yyyy:mm|yyyy年mm月dd日|yyyy年mm月dd日 hh时MM分等,可自定义组合
function timeFormat() {
  var dateTime = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
  var fmt = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'yyyy-mm-dd';
  // 如果为null,则格式化当前时间
  if (!dateTime) dateTime = Number(new Date());
  // 如果dateTime长度为10或者13，则为秒和毫秒的时间戳，如果超过13位，则为其他的时间格式
  if (dateTime.toString().length == 10) dateTime *= 1000;
  var date = new Date(dateTime);
  var ret;
  var opt = {
    "y+": date.getFullYear().toString(),
    // 年
    "m+": (date.getMonth() + 1).toString(),
    // 月
    "d+": date.getDate().toString(),
    // 日
    "h+": date.getHours().toString(),
    // 时
    "M+": date.getMinutes().toString(),
    // 分
    "s+": date.getSeconds().toString() // 秒
    // 有其他格式化字符需求可以继续添加，必须转化成字符串
  };

  for (var k in opt) {
    ret = new RegExp("(" + k + ")").exec(fmt);
    if (ret) {
      fmt = fmt.replace(ret[1], ret[1].length == 1 ? opt[k] : opt[k].padStart(ret[1].length, "0"));
    }
    ;
  }
  ;
  return fmt;
}
var _default = timeFormat;
exports.default = _default;

/***/ }),

/***/ 71:
/*!*************************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/components/uview-ui/libs/function/timeFrom.js ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _timeFormat = _interopRequireDefault(__webpack_require__(/*! ../../libs/function/timeFormat.js */ 70));
/**
 * 时间戳转为多久之前
 * @param String timestamp 时间戳
 * @param String | Boolean format 如果为时间格式字符串，超出一定时间范围，返回固定的时间格式；
 * 如果为布尔值false，无论什么时间，都返回多久以前的格式
 */
function timeFrom() {
  var dateTime = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
  var format = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'yyyy-mm-dd';
  // 如果为null,则格式化当前时间
  if (!dateTime) dateTime = Number(new Date());
  // 如果dateTime长度为10或者13，则为秒和毫秒的时间戳，如果超过13位，则为其他的时间格式
  if (dateTime.toString().length == 10) dateTime *= 1000;
  var timestamp = +new Date(Number(dateTime));
  var timer = (Number(new Date()) - timestamp) / 1000;
  // 如果小于5分钟,则返回"刚刚",其他以此类推
  var tips = '';
  switch (true) {
    case timer < 300:
      tips = '刚刚';
      break;
    case timer >= 300 && timer < 3600:
      tips = parseInt(timer / 60) + '分钟前';
      break;
    case timer >= 3600 && timer < 86400:
      tips = parseInt(timer / 3600) + '小时前';
      break;
    case timer >= 86400 && timer < 2592000:
      tips = parseInt(timer / 86400) + '天前';
      break;
    default:
      // 如果format为false，则无论什么时间戳，都显示xx之前
      if (format === false) {
        if (timer >= 2592000 && timer < 365 * 86400) {
          tips = parseInt(timer / (86400 * 30)) + '个月前';
        } else {
          tips = parseInt(timer / (86400 * 365)) + '年前';
        }
      } else {
        tips = (0, _timeFormat.default)(timestamp, format);
      }
  }
  return tips;
}
var _default = timeFrom;
exports.default = _default;

/***/ }),

/***/ 72:
/*!******************************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/components/uview-ui/libs/function/colorGradient.js ***!
  \******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
/**
 * 求两个颜色之间的渐变值
 * @param {string} startColor 开始的颜色
 * @param {string} endColor 结束的颜色
 * @param {number} step 颜色等分的份额
 * */
function colorGradient() {
  var startColor = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'rgb(0, 0, 0)';
  var endColor = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'rgb(255, 255, 255)';
  var step = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 10;
  var startRGB = hexToRgb(startColor, false); //转换为rgb数组模式
  var startR = startRGB[0];
  var startG = startRGB[1];
  var startB = startRGB[2];
  var endRGB = hexToRgb(endColor, false);
  var endR = endRGB[0];
  var endG = endRGB[1];
  var endB = endRGB[2];
  var sR = (endR - startR) / step; //总差值
  var sG = (endG - startG) / step;
  var sB = (endB - startB) / step;
  var colorArr = [];
  for (var i = 0; i < step; i++) {
    //计算每一步的hex值 
    var hex = rgbToHex('rgb(' + Math.round(sR * i + startR) + ',' + Math.round(sG * i + startG) + ',' + Math.round(sB * i + startB) + ')');
    colorArr.push(hex);
  }
  return colorArr;
}

// 将hex表示方式转换为rgb表示方式(这里返回rgb数组模式)
function hexToRgb(sColor) {
  var str = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
  var reg = /^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;
  sColor = sColor.toLowerCase();
  if (sColor && reg.test(sColor)) {
    if (sColor.length === 4) {
      var sColorNew = "#";
      for (var i = 1; i < 4; i += 1) {
        sColorNew += sColor.slice(i, i + 1).concat(sColor.slice(i, i + 1));
      }
      sColor = sColorNew;
    }
    //处理六位的颜色值
    var sColorChange = [];
    for (var _i = 1; _i < 7; _i += 2) {
      sColorChange.push(parseInt("0x" + sColor.slice(_i, _i + 2)));
    }
    if (!str) {
      return sColorChange;
    } else {
      return "rgb(".concat(sColorChange[0], ",").concat(sColorChange[1], ",").concat(sColorChange[2], ")");
    }
  } else if (/^(rgb|RGB)/.test(sColor)) {
    var arr = sColor.replace(/(?:\(|\)|rgb|RGB)*/g, "").split(",");
    return arr.map(function (val) {
      return Number(val);
    });
  } else {
    return sColor;
  }
}
;

// 将rgb表示方式转换为hex表示方式
function rgbToHex(rgb) {
  var _this = rgb;
  var reg = /^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;
  if (/^(rgb|RGB)/.test(_this)) {
    var aColor = _this.replace(/(?:\(|\)|rgb|RGB)*/g, "").split(",");
    var strHex = "#";
    for (var i = 0; i < aColor.length; i++) {
      var hex = Number(aColor[i]).toString(16);
      hex = String(hex).length == 1 ? 0 + '' + hex : hex; // 保证每个rgb的值为2位
      if (hex === "0") {
        hex += hex;
      }
      strHex += hex;
    }
    if (strHex.length !== 7) {
      strHex = _this;
    }
    return strHex;
  } else if (reg.test(_this)) {
    var aNum = _this.replace(/#/, "").split("");
    if (aNum.length === 6) {
      return _this;
    } else if (aNum.length === 3) {
      var numHex = "#";
      for (var _i2 = 0; _i2 < aNum.length; _i2 += 1) {
        numHex += aNum[_i2] + aNum[_i2];
      }
      return numHex;
    }
  } else {
    return _this;
  }
}

/**
* JS颜色十六进制转换为rgb或rgba,返回的格式为 rgba（255，255，255，0.5）字符串
* sHex为传入的十六进制的色值
* alpha为rgba的透明度
*/
function colorToRgba(color) {
  var alpha = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0.3;
  color = rgbToHex(color);
  // 十六进制颜色值的正则表达式
  var reg = /^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;
  /* 16进制颜色转为RGB格式 */
  var sColor = color.toLowerCase();
  if (sColor && reg.test(sColor)) {
    if (sColor.length === 4) {
      var sColorNew = '#';
      for (var i = 1; i < 4; i += 1) {
        sColorNew += sColor.slice(i, i + 1).concat(sColor.slice(i, i + 1));
      }
      sColor = sColorNew;
    }
    // 处理六位的颜色值
    var sColorChange = [];
    for (var _i3 = 1; _i3 < 7; _i3 += 2) {
      sColorChange.push(parseInt('0x' + sColor.slice(_i3, _i3 + 2)));
    }
    // return sColorChange.join(',')
    return 'rgba(' + sColorChange.join(',') + ',' + alpha + ')';
  } else {
    return sColor;
  }
}
var _default = {
  colorGradient: colorGradient,
  hexToRgb: hexToRgb,
  rgbToHex: rgbToHex,
  colorToRgba: colorToRgba
};
exports.default = _default;

/***/ }),

/***/ 73:
/*!*********************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/components/uview-ui/libs/function/guid.js ***!
  \*********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
/**
 * 本算法来源于简书开源代码，详见：https://www.jianshu.com/p/fdbf293d0a85
 * 全局唯一标识符（uuid，Globally Unique Identifier）,也称作 uuid(Universally Unique IDentifier) 
 * 一般用于多个组件之间,给它一个唯一的标识符,或者v-for循环的时候,如果使用数组的index可能会导致更新列表出现问题
 * 最可能的情况是左滑删除item或者对某条信息流"不喜欢"并去掉它的时候,会导致组件内的数据可能出现错乱
 * v-for的时候,推荐使用后端返回的id而不是循环的index
 * @param {Number} len uuid的长度
 * @param {Boolean} firstU 将返回的首字母置为"u"
 * @param {Nubmer} radix 生成uuid的基数(意味着返回的字符串都是这个基数),2-二进制,8-八进制,10-十进制,16-十六进制
 */
function guid() {
  var len = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 32;
  var firstU = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
  var radix = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
  var chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split('');
  var uuid = [];
  radix = radix || chars.length;
  if (len) {
    // 如果指定uuid长度,只是取随机的字符,0|x为位运算,能去掉x的小数位,返回整数位
    for (var i = 0; i < len; i++) {
      uuid[i] = chars[0 | Math.random() * radix];
    }
  } else {
    var r;
    // rfc4122标准要求返回的uuid中,某些位为固定的字符
    uuid[8] = uuid[13] = uuid[18] = uuid[23] = '-';
    uuid[14] = '4';
    for (var _i = 0; _i < 36; _i++) {
      if (!uuid[_i]) {
        r = 0 | Math.random() * 16;
        uuid[_i] = chars[_i == 19 ? r & 0x3 | 0x8 : r];
      }
    }
  }
  // 移除第一个字符,并用u替代,因为第一个字符为数值时,该guuid不能用作id或者class
  if (firstU) {
    uuid.shift();
    return 'u' + uuid.join('');
  } else {
    return uuid.join('');
  }
}
var _default = guid;
exports.default = _default;

/***/ }),

/***/ 74:
/*!**********************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/components/uview-ui/libs/function/color.js ***!
  \**********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
// 为了让用户能够自定义主题，会逐步弃用此文件，各颜色通过css提供
// 为了给某些特殊场景使用和向后兼容，无需删除此文件(2020-06-20)
var color = {
  primary: "#2979ff",
  primaryDark: "#2b85e4",
  primaryDisabled: "#a0cfff",
  primaryLight: "#ecf5ff",
  bgColor: "#f3f4f6",
  info: "#909399",
  infoDark: "#82848a",
  infoDisabled: "#c8c9cc",
  infoLight: "#f4f4f5",
  warning: "#ff9900",
  warningDark: "#f29100",
  warningDisabled: "#fcbd71",
  warningLight: "#fdf6ec",
  error: "#fa3534",
  errorDark: "#dd6161",
  errorDisabled: "#fab6b6",
  errorLight: "#fef0f0",
  success: "#19be6b",
  successDark: "#18b566",
  successDisabled: "#71d5a1",
  successLight: "#dbf1e1",
  mainColor: "#303133",
  contentColor: "#606266",
  tipsColor: "#909399",
  lightColor: "#c0c4cc",
  borderColor: "#e4e7ed"
};
var _default = color;
exports.default = _default;

/***/ }),

/***/ 75:
/*!**************************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/components/uview-ui/libs/function/type2icon.js ***!
  \**************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
/**
 * 根据主题type值,获取对应的图标
 * @param String type 主题名称,primary|info|error|warning|success
 * @param String fill 是否使用fill填充实体的图标  
 */
function type2icon() {
  var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'success';
  var fill = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  // 如果非预置值,默认为success
  if (['primary', 'info', 'error', 'warning', 'success'].indexOf(type) == -1) type = 'success';
  var iconName = '';
  // 目前(2019-12-12),info和primary使用同一个图标
  switch (type) {
    case 'primary':
      iconName = 'info-circle';
      break;
    case 'info':
      iconName = 'info-circle';
      break;
    case 'error':
      iconName = 'close-circle';
      break;
    case 'warning':
      iconName = 'error-circle';
      break;
    case 'success':
      iconName = 'checkmark-circle';
      break;
    default:
      iconName = 'checkmark-circle';
  }
  // 是否是实体类型,加上-fill,在icon组件库中,实体的类名是后面加-fill的
  if (fill) iconName += '-fill';
  return iconName;
}
var _default = type2icon;
exports.default = _default;

/***/ }),

/***/ 76:
/*!****************************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/components/uview-ui/libs/function/randomArray.js ***!
  \****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
// 打乱数组
function randomArray() {
  var array = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  // 原理是sort排序,Math.random()产生0<= x < 1之间的数,会导致x-0.05大于或者小于0
  return array.sort(function () {
    return Math.random() - 0.5;
  });
}
var _default = randomArray;
exports.default = _default;

/***/ }),

/***/ 77:
/*!************************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/components/uview-ui/libs/function/addUnit.js ***!
  \************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = addUnit;
var _test = _interopRequireDefault(__webpack_require__(/*! ./test.js */ 67));
// 添加单位，如果有rpx，%，px等单位结尾或者值为auto，直接返回，否则加上rpx单位结尾
function addUnit() {
  var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'auto';
  var unit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'rpx';
  value = String(value);
  // 用uView内置验证规则中的number判断是否为数值
  return _test.default.number(value) ? "".concat(value).concat(unit) : value;
}

/***/ }),

/***/ 78:
/*!***********************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/components/uview-ui/libs/function/random.js ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
function random(min, max) {
  if (min >= 0 && max > 0 && max >= min) {
    var gab = max - min + 1;
    return Math.floor(Math.random() * gab + min);
  } else {
    return 0;
  }
}
var _default = random;
exports.default = _default;

/***/ }),

/***/ 79:
/*!*********************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/components/uview-ui/libs/function/trim.js ***!
  \*********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
function trim(str) {
  var pos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'both';
  if (pos == 'both') {
    return str.replace(/^\s+|\s+$/g, "");
  } else if (pos == "left") {
    return str.replace(/^\s*/, '');
  } else if (pos == 'right') {
    return str.replace(/(\s*$)/g, "");
  } else if (pos == 'all') {
    return str.replace(/\s+/g, "");
  } else {
    return str;
  }
}
var _default = trim;
exports.default = _default;

/***/ }),

/***/ 8:
/*!***************************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var arrayLikeToArray = __webpack_require__(/*! ./arrayLikeToArray.js */ 9);
function _unsupportedIterableToArray(o, minLen) {
  if (!o) return;
  if (typeof o === "string") return arrayLikeToArray(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor) n = o.constructor.name;
  if (n === "Map" || n === "Set") return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);
}
module.exports = _unsupportedIterableToArray, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 80:
/*!**********************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/components/uview-ui/libs/function/toast.js ***!
  \**********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
function toast(title) {
  var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1500;
  uni.showToast({
    title: title,
    icon: 'none',
    duration: duration
  });
}
var _default = toast;
exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 2)["default"]))

/***/ }),

/***/ 81:
/*!**************************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/components/uview-ui/libs/function/getParent.js ***!
  \**************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = getParent;
var _typeof2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/typeof */ 13));
// 获取父组件的参数，因为支付宝小程序不支持provide/inject的写法
// this.$parent在非H5中，可以准确获取到父组件，但是在H5中，需要多次this.$parent.$parent.xxx
function getParent(name, keys) {
  var parent = this.$parent;
  // 通过while历遍，这里主要是为了H5需要多层解析的问题
  while (parent) {
    // 父组件
    if (parent.$options.name !== name) {
      // 如果组件的name不相等，继续上一级寻找
      parent = parent.$parent;
    } else {
      var _ret = function () {
        var data = {};
        // 判断keys是否数组，如果传过来的是一个数组，那么直接使用数组元素值当做键值去父组件寻找
        if (Array.isArray(keys)) {
          keys.map(function (val) {
            data[val] = parent[val] ? parent[val] : '';
          });
        } else {
          // 历遍传过来的对象参数
          for (var i in keys) {
            // 如果子组件有此值则用，无此值则用父组件的值
            // 判断是否空数组，如果是，则用父组件的值，否则用子组件的值
            if (Array.isArray(keys[i])) {
              if (keys[i].length) {
                data[i] = keys[i];
              } else {
                data[i] = parent[i];
              }
            } else if (keys[i].constructor === Object) {
              // 判断是否对象，如果是对象，且有属性，那么使用子组件的值，否则使用父组件的值
              if (Object.keys(keys[i]).length) {
                data[i] = keys[i];
              } else {
                data[i] = parent[i];
              }
            } else {
              // 只要子组件有传值，即使是false值，也是“传值”了，也需要覆盖父组件的同名参数
              data[i] = keys[i] || keys[i] === false ? keys[i] : parent[i];
            }
          }
        }
        return {
          v: data
        };
      }();
      if ((0, _typeof2.default)(_ret) === "object") return _ret.v;
    }
  }
  return {};
}

/***/ }),

/***/ 82:
/*!************************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/components/uview-ui/libs/function/$parent.js ***!
  \************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = $parent;
// 获取父组件的参数，因为支付宝小程序不支持provide/inject的写法
// this.$parent在非H5中，可以准确获取到父组件，但是在H5中，需要多次this.$parent.$parent.xxx
// 这里默认值等于undefined有它的含义，因为最顶层元素(组件)的$parent就是undefined，意味着不传name
// 值(默认为undefined)，就是查找最顶层的$parent
function $parent() {
  var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;
  var parent = this.$parent;
  // 通过while历遍，这里主要是为了H5需要多层解析的问题
  while (parent) {
    // 父组件
    if (parent.$options && parent.$options.name !== name) {
      // 如果组件的name不相等，继续上一级寻找
      parent = parent.$parent;
    } else {
      return parent;
    }
  }
  return false;
}

/***/ }),

/***/ 83:
/*!********************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/components/uview-ui/libs/function/sys.js ***!
  \********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.os = os;
exports.sys = sys;
function os() {
  return uni.getSystemInfoSync().platform;
}
;
function sys() {
  return uni.getSystemInfoSync();
}
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 2)["default"]))

/***/ }),

/***/ 84:
/*!*************************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/components/uview-ui/libs/function/debounce.js ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var timeout = null;

/**
 * 防抖原理：一定时间内，只有最后一次操作，再过wait毫秒后才执行函数
 * 
 * @param {Function} func 要执行的回调函数 
 * @param {Number} wait 延时的时间
 * @param {Boolean} immediate 是否立即执行 
 * @return null
 */
function debounce(func) {
  var wait = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 500;
  var immediate = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  // 清除定时器
  if (timeout !== null) clearTimeout(timeout);
  // 立即执行，此类情况一般用不到
  if (immediate) {
    var callNow = !timeout;
    timeout = setTimeout(function () {
      timeout = null;
    }, wait);
    if (callNow) typeof func === 'function' && func();
  } else {
    // 设置定时器，当最后一次操作后，timeout不会再被清除，所以在延时wait毫秒后执行func回调方法
    timeout = setTimeout(function () {
      typeof func === 'function' && func();
    }, wait);
  }
}
var _default = debounce;
exports.default = _default;

/***/ }),

/***/ 85:
/*!*************************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/components/uview-ui/libs/function/throttle.js ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var timer, flag;
/**
 * 节流原理：在一定时间内，只能触发一次
 * 
 * @param {Function} func 要执行的回调函数 
 * @param {Number} wait 延时的时间
 * @param {Boolean} immediate 是否立即执行
 * @return null
 */
function throttle(func) {
  var wait = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 500;
  var immediate = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;
  if (immediate) {
    if (!flag) {
      flag = true;
      // 如果是立即执行，则在wait毫秒内开始时执行
      typeof func === 'function' && func();
      timer = setTimeout(function () {
        flag = false;
      }, wait);
    }
  } else {
    if (!flag) {
      flag = true;
      // 如果是非立即执行，则在wait毫秒内的结束处执行
      timer = setTimeout(function () {
        flag = false;
        typeof func === 'function' && func();
      }, wait);
    }
  }
}
;
var _default = throttle;
exports.default = _default;

/***/ }),

/***/ 86:
/*!*********************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/components/uview-ui/libs/config/config.js ***!
  \*********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
// 此版本发布于2020-03-17
var version = '1.8.4';
var _default = {
  v: version,
  version: version,
  // 主题名称
  type: ['primary', 'success', 'info', 'error', 'warning']
};
exports.default = _default;

/***/ }),

/***/ 87:
/*!*********************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/components/uview-ui/libs/config/zIndex.js ***!
  \*********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
// uniapp在H5中各API的z-index值如下：
/**
 * actionsheet: 999
 * modal: 999
 * navigate: 998
 * tabbar: 998
 * toast: 999
 */
var _default = {
  toast: 10090,
  noNetwork: 10080,
  // popup包含popup，actionsheet，keyboard，picker的值
  popup: 10075,
  mask: 10070,
  navbar: 980,
  topTips: 975,
  sticky: 970,
  indexListSticky: 965
};
exports.default = _default;

/***/ }),

/***/ 88:
/*!*****************************************************!*\
  !*** /Users/lisicheng/project/lijian/mixins/app.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _defineProperty2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/defineProperty */ 11));
var _vuex = __webpack_require__(/*! vuex */ 33);
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
var _default = {
  data: function data() {},
  methods: {},
  computed: _objectSpread({}, (0, _vuex.mapGetters)(["isLogin", "themeName", "themeColor", "userInfo", "appConfig"])),
  // 全局配置分享
  onShareAppMessage: function onShareAppMessage() {
    var _this$appConfig = this.appConfig,
      share_image = _this$appConfig.share_image,
      share_intro = _this$appConfig.share_intro,
      share_title = _this$appConfig.share_title;
    var code = this.userInfo.code;
    var share = {
      title: share_title,
      path: "/pages/index/index?invite_code=".concat(code),
      imageUrl: share_image
    };
    return share;
  },
  onShareTimeline: function onShareTimeline() {
    var _this$appConfig2 = this.appConfig,
      share_image = _this$appConfig2.share_image,
      share_intro = _this$appConfig2.share_intro,
      share_title = _this$appConfig2.share_title;
    var code = this.userInfo.code;
    var share = {
      title: share_title,
      imageUrl: share_image
    };
    return share;
  }
};
exports.default = _default;

/***/ }),

/***/ 886:
/*!*******************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/components/mescroll-uni/mescroll-uni.js ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {

var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = MeScroll;
var _typeof2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/typeof */ 13));
/* mescroll
 * version 1.3.3
 * 2020-09-15 wenju
 * https://www.mescroll.com
 */

function MeScroll(options, isScrollBody) {
  var me = this;
  me.version = '1.3.3'; // mescroll版本号
  me.options = options || {}; // 配置
  me.isScrollBody = isScrollBody || false; // 滚动区域是否为原生页面滚动; 默认为scroll-view

  me.isDownScrolling = false; // 是否在执行下拉刷新的回调
  me.isUpScrolling = false; // 是否在执行上拉加载的回调
  var hasDownCallback = me.options.down && me.options.down.callback; // 是否配置了down的callback

  // 初始化下拉刷新
  me.initDownScroll();
  // 初始化上拉加载,则初始化
  me.initUpScroll();

  // 自动加载
  setTimeout(function () {
    // 待主线程执行完毕再执行,避免new MeScroll未初始化,在回调获取不到mescroll的实例
    // 自动触发下拉刷新 (只有配置了down的callback才自动触发下拉刷新)
    if ((me.optDown.use || me.optDown.native) && me.optDown.auto && hasDownCallback) {
      if (me.optDown.autoShowLoading) {
        me.triggerDownScroll(); // 显示下拉进度,执行下拉回调
      } else {
        me.optDown.callback && me.optDown.callback(me); // 不显示下拉进度,直接执行下拉回调
      }
    }
    // 自动触发上拉加载
    if (!me.isUpAutoLoad) {
      // 部分小程序(头条小程序)emit是异步, 会导致isUpAutoLoad判断有误, 先延时确保先执行down的callback,再执行up的callback
      setTimeout(function () {
        me.optUp.use && me.optUp.auto && !me.isUpAutoLoad && me.triggerUpScroll();
      }, 100);
    }
  }, 30); // 需让me.optDown.inited和me.optUp.inited先执行
}

/* 配置参数:下拉刷新 */
MeScroll.prototype.extendDownScroll = function (optDown) {
  // 下拉刷新的配置
  MeScroll.extend(optDown, {
    use: true,
    // 是否启用下拉刷新; 默认true
    auto: true,
    // 是否在初始化完毕之后自动执行下拉刷新的回调; 默认true
    native: false,
    // 是否使用系统自带的下拉刷新; 默认false; 仅mescroll-body生效 (值为true时,还需在pages配置enablePullDownRefresh:true;详请参考mescroll-native的案例)
    autoShowLoading: false,
    // 如果设置auto=true(在初始化完毕之后自动执行下拉刷新的回调),那么是否显示下拉刷新的进度; 默认false
    isLock: false,
    // 是否锁定下拉刷新,默认false;
    offset: 80,
    // 在列表顶部,下拉大于80px,松手即可触发下拉刷新的回调
    startTop: 100,
    // scroll-view快速滚动到顶部时,此时的scroll-top可能大于0, 此值用于控制最大的误差
    inOffsetRate: 1,
    // 在列表顶部,下拉的距离小于offset时,改变下拉区域高度比例;值小于1且越接近0,高度变化越小,表现为越往下越难拉
    outOffsetRate: 0.2,
    // 在列表顶部,下拉的距离大于offset时,改变下拉区域高度比例;值小于1且越接近0,高度变化越小,表现为越往下越难拉
    bottomOffset: 20,
    // 当手指touchmove位置在距离body底部20px范围内的时候结束上拉刷新,避免Webview嵌套导致touchend事件不执行
    minAngle: 45,
    // 向下滑动最少偏移的角度,取值区间  [0,90];默认45度,即向下滑动的角度大于45度则触发下拉;而小于45度,将不触发下拉,避免与左右滑动的轮播等组件冲突;
    textInOffset: '下拉刷新',
    // 下拉的距离在offset范围内的提示文本
    textOutOffset: '释放更新',
    // 下拉的距离大于offset范围的提示文本
    textLoading: '加载中 ...',
    // 加载中的提示文本
    textSuccess: '加载成功',
    // 加载成功的文本
    textErr: '加载失败',
    // 加载失败的文本
    beforeEndDelay: 100,
    // 延时结束的时长 (显示加载成功/失败的时长)
    bgColor: "transparent",
    // 背景颜色 (建议在pages.json中再设置一下backgroundColorTop)
    textColor: "gray",
    // 文本颜色 (当bgColor配置了颜色,而textColor未配置时,则textColor会默认为白色)
    inited: null,
    // 下拉刷新初始化完毕的回调
    inOffset: null,
    // 下拉的距离进入offset范围内那一刻的回调
    outOffset: null,
    // 下拉的距离大于offset那一刻的回调
    onMoving: null,
    // 下拉过程中的回调,滑动过程一直在执行; rate下拉区域当前高度与指定距离的比值(inOffset: rate<1; outOffset: rate>=1); downHight当前下拉区域的高度
    beforeLoading: null,
    // 准备触发下拉刷新的回调: 如果return true,将不触发showLoading和callback回调; 常用来完全自定义下拉刷新, 参考案例【淘宝 v6.8.0】
    showLoading: null,
    // 显示下拉刷新进度的回调
    afterLoading: null,
    // 显示下拉刷新进度的回调之后,马上要执行的代码 (如: 在wxs中使用)
    beforeEndDownScroll: null,
    // 准备结束下拉的回调. 返回结束下拉的延时执行时间,默认0ms; 常用于结束下拉之前再显示另外一小段动画,才去隐藏下拉刷新的场景, 参考案例【dotJump】
    endDownScroll: null,
    // 结束下拉刷新的回调
    afterEndDownScroll: null,
    // 结束下拉刷新的回调,马上要执行的代码 (如: 在wxs中使用)
    callback: function callback(mescroll) {
      // 下拉刷新的回调;默认重置上拉加载列表为第一页
      mescroll.resetUpScroll();
    }
  });
};

/* 配置参数:上拉加载 */
MeScroll.prototype.extendUpScroll = function (optUp) {
  // 上拉加载的配置
  MeScroll.extend(optUp, {
    use: true,
    // 是否启用上拉加载; 默认true
    auto: true,
    // 是否在初始化完毕之后自动执行上拉加载的回调; 默认true
    isLock: false,
    // 是否锁定上拉加载,默认false;
    isBoth: true,
    // 上拉加载时,如果滑动到列表顶部是否可以同时触发下拉刷新;默认true,两者可同时触发;
    callback: null,
    // 上拉加载的回调;function(page,mescroll){ }
    page: {
      num: 0,
      // 当前页码,默认0,回调之前会加1,即callback(page)会从1开始
      size: 10,
      // 每页数据的数量
      time: null // 加载第一页数据服务器返回的时间; 防止用户翻页时,后台新增了数据从而导致下一页数据重复;
    },

    noMoreSize: 3,
    // 如果列表已无数据,可设置列表的总数量要大于等于5条才显示无更多数据;避免列表数据过少(比如只有一条数据),显示无更多数据会不好看
    offset: 150,
    // 距底部多远时,触发upCallback,仅mescroll-uni生效 ( mescroll-body配置的是pages.json的 onReachBottomDistance )
    textLoading: '加载中 ...',
    // 加载中的提示文本
    textNoMore: '-- END --',
    // 没有更多数据的提示文本
    bgColor: "transparent",
    // 背景颜色 (建议在pages.json中再设置一下backgroundColorBottom)
    textColor: "gray",
    // 文本颜色 (当bgColor配置了颜色,而textColor未配置时,则textColor会默认为白色)
    inited: null,
    // 初始化完毕的回调
    showLoading: null,
    // 显示加载中的回调
    showNoMore: null,
    // 显示无更多数据的回调
    hideUpScroll: null,
    // 隐藏上拉加载的回调
    errDistance: 60,
    // endErr的时候需往上滑动一段距离,使其往下滑动时再次触发onReachBottom,仅mescroll-body生效
    toTop: {
      // 回到顶部按钮,需配置src才显示
      src: null,
      // 图片路径,默认null (绝对路径或网络图)
      offset: 1000,
      // 列表滚动多少距离才显示回到顶部按钮,默认1000
      duration: 300,
      // 回到顶部的动画时长,默认300ms (当值为0或300则使用系统自带回到顶部,更流畅; 其他值则通过step模拟,部分机型可能不够流畅,所以非特殊情况不建议修改此项)
      btnClick: null,
      // 点击按钮的回调
      onShow: null,
      // 是否显示的回调
      zIndex: 9990,
      // fixed定位z-index值
      left: null,
      // 到左边的距离, 默认null. 此项有值时,right不生效. (支持20, "20rpx", "20px", "20%"格式的值, 其中纯数字则默认单位rpx)
      right: 20,
      // 到右边的距离, 默认20 (支持20, "20rpx", "20px", "20%"格式的值, 其中纯数字则默认单位rpx)
      bottom: 120,
      // 到底部的距离, 默认120 (支持20, "20rpx", "20px", "20%"格式的值, 其中纯数字则默认单位rpx)
      safearea: false,
      // bottom的偏移量是否加上底部安全区的距离, 默认false, 需要适配iPhoneX时使用 (具体的界面如果不配置此项,则取本vue的safearea值)
      width: 72,
      // 回到顶部图标的宽度, 默认72 (支持20, "20rpx", "20px", "20%"格式的值, 其中纯数字则默认单位rpx)
      radius: "50%" // 圆角, 默认"50%" (支持20, "20rpx", "20px", "20%"格式的值, 其中纯数字则默认单位rpx)
    },

    empty: {
      use: true,
      // 是否显示空布局
      icon: null,
      // 图标路径
      tip: '暂无数据 ~',
      // 提示
      btnText: '',
      // 按钮
      btnClick: null,
      // 点击按钮的回调
      onShow: null,
      // 是否显示的回调
      fixed: false,
      // 是否使用fixed定位,默认false; 配置fixed为true,以下的top和zIndex才生效 (transform会使fixed失效,最终会降级为absolute)
      top: "300rpx",
      // fixed定位的top值 (完整的单位值,如 "10%"; "100rpx")
      zIndex: 99 // fixed定位z-index值
    },

    onScroll: false // 是否监听滚动事件
  });
};

/* 配置参数 */
MeScroll.extend = function (userOption, defaultOption) {
  if (!userOption) return defaultOption;
  for (var key in defaultOption) {
    if (userOption[key] == null) {
      var def = defaultOption[key];
      if (def != null && (0, _typeof2.default)(def) === 'object') {
        userOption[key] = MeScroll.extend({}, def); // 深度匹配
      } else {
        userOption[key] = def;
      }
    } else if ((0, _typeof2.default)(userOption[key]) === 'object') {
      MeScroll.extend(userOption[key], defaultOption[key]); // 深度匹配
    }
  }

  return userOption;
};

/* 简单判断是否配置了颜色 (非透明,非白色) */
MeScroll.prototype.hasColor = function (color) {
  if (!color) return false;
  var c = color.toLowerCase();
  return c != "#fff" && c != "#ffffff" && c != "transparent" && c != "white";
};

/* -------初始化下拉刷新------- */
MeScroll.prototype.initDownScroll = function () {
  var me = this;
  // 配置参数
  me.optDown = me.options.down || {};
  if (!me.optDown.textColor && me.hasColor(me.optDown.bgColor)) me.optDown.textColor = "#fff"; // 当bgColor有值且textColor未设置,则textColor默认白色
  me.extendDownScroll(me.optDown);

  // 如果是mescroll-body且配置了native,则禁止自定义的下拉刷新
  if (me.isScrollBody && me.optDown.native) {
    me.optDown.use = false;
  } else {
    me.optDown.native = false; // 仅mescroll-body支持,mescroll-uni不支持
  }

  me.downHight = 0; // 下拉区域的高度

  // 在页面中加入下拉布局
  if (me.optDown.use && me.optDown.inited) {
    // 初始化完毕的回调
    setTimeout(function () {
      // 待主线程执行完毕再执行,避免new MeScroll未初始化,在回调获取不到mescroll的实例
      me.optDown.inited(me);
    }, 0);
  }
};

/* 列表touchstart事件 */
MeScroll.prototype.touchstartEvent = function (e) {
  if (!this.optDown.use) return;
  this.startPoint = this.getPoint(e); // 记录起点
  this.startTop = this.getScrollTop(); // 记录此时的滚动条位置
  this.startAngle = 0; // 初始角度
  this.lastPoint = this.startPoint; // 重置上次move的点
  this.maxTouchmoveY = this.getBodyHeight() - this.optDown.bottomOffset; // 手指触摸的最大范围(写在touchstart避免body获取高度为0的情况)
  this.inTouchend = false; // 标记不是touchend
};

/* 列表touchmove事件 */
MeScroll.prototype.touchmoveEvent = function (e) {
  if (!this.optDown.use) return;
  var me = this;
  var scrollTop = me.getScrollTop(); // 当前滚动条的距离
  var curPoint = me.getPoint(e); // 当前点

  var moveY = curPoint.y - me.startPoint.y; // 和起点比,移动的距离,大于0向下拉,小于0向上拉

  // 向下拉 && 在顶部
  // mescroll-body,直接判定在顶部即可
  // scroll-view在滚动时不会触发touchmove,当触顶/底/左/右时,才会触发touchmove
  // scroll-view滚动到顶部时,scrollTop不一定为0,也有可能大于0; 在iOS的APP中scrollTop可能为负数,不一定和startTop相等
  if (moveY > 0 && (me.isScrollBody && scrollTop <= 0 || !me.isScrollBody && (scrollTop <= 0 || scrollTop <= me.optDown.startTop && scrollTop === me.startTop))) {
    // 可下拉的条件
    if (!me.inTouchend && !me.isDownScrolling && !me.optDown.isLock && (!me.isUpScrolling || me.isUpScrolling && me.optUp.isBoth)) {
      // 下拉的初始角度是否在配置的范围内
      if (!me.startAngle) me.startAngle = me.getAngle(me.lastPoint, curPoint); // 两点之间的角度,区间 [0,90]
      if (me.startAngle < me.optDown.minAngle) return; // 如果小于配置的角度,则不往下执行下拉刷新

      // 如果手指的位置超过配置的距离,则提前结束下拉,避免Webview嵌套导致touchend无法触发
      if (me.maxTouchmoveY > 0 && curPoint.y >= me.maxTouchmoveY) {
        me.inTouchend = true; // 标记执行touchend
        me.touchendEvent(); // 提前触发touchend
        return;
      }
      me.preventDefault(e); // 阻止默认事件

      var diff = curPoint.y - me.lastPoint.y; // 和上次比,移动的距离 (大于0向下,小于0向上)

      // 下拉距离  < 指定距离
      if (me.downHight < me.optDown.offset) {
        if (me.movetype !== 1) {
          me.movetype = 1; // 加入标记,保证只执行一次
          me.isDownEndSuccess = null; // 重置是否加载成功的状态 (wxs执行的是wxs.wxs)
          me.optDown.inOffset && me.optDown.inOffset(me); // 进入指定距离范围内那一刻的回调,只执行一次
          me.isMoveDown = true; // 标记下拉区域高度改变,在touchend重置回来
        }

        me.downHight += diff * me.optDown.inOffsetRate; // 越往下,高度变化越小

        // 指定距离  <= 下拉距离
      } else {
        if (me.movetype !== 2) {
          me.movetype = 2; // 加入标记,保证只执行一次
          me.optDown.outOffset && me.optDown.outOffset(me); // 下拉超过指定距离那一刻的回调,只执行一次
          me.isMoveDown = true; // 标记下拉区域高度改变,在touchend重置回来
        }

        if (diff > 0) {
          // 向下拉
          me.downHight += diff * me.optDown.outOffsetRate; // 越往下,高度变化越小
        } else {
          // 向上收
          me.downHight += diff; // 向上收回高度,则向上滑多少收多少高度
        }
      }

      me.downHight = Math.round(me.downHight); // 取整
      var rate = me.downHight / me.optDown.offset; // 下拉区域当前高度与指定距离的比值
      me.optDown.onMoving && me.optDown.onMoving(me, rate, me.downHight); // 下拉过程中的回调,一直在执行
    }
  }

  me.lastPoint = curPoint; // 记录本次移动的点
};

/* 列表touchend事件 */
MeScroll.prototype.touchendEvent = function (e) {
  if (!this.optDown.use) return;
  // 如果下拉区域高度已改变,则需重置回来
  if (this.isMoveDown) {
    if (this.downHight >= this.optDown.offset) {
      // 符合触发刷新的条件
      this.triggerDownScroll();
    } else {
      // 不符合的话 则重置
      this.downHight = 0;
      this.endDownScrollCall(this);
    }
    this.movetype = 0;
    this.isMoveDown = false;
  } else if (!this.isScrollBody && this.getScrollTop() === this.startTop) {
    // scroll-view到顶/左/右/底的滑动事件
    var isScrollUp = this.getPoint(e).y - this.startPoint.y < 0; // 和起点比,移动的距离,大于0向下拉,小于0向上拉
    // 上滑
    if (isScrollUp) {
      // 需检查滑动的角度
      var angle = this.getAngle(this.getPoint(e), this.startPoint); // 两点之间的角度,区间 [0,90]
      if (angle > 80) {
        // 检查并触发上拉
        this.triggerUpScroll(true);
      }
    }
  }
};

/* 根据点击滑动事件获取第一个手指的坐标 */
MeScroll.prototype.getPoint = function (e) {
  if (!e) {
    return {
      x: 0,
      y: 0
    };
  }
  if (e.touches && e.touches[0]) {
    return {
      x: e.touches[0].pageX,
      y: e.touches[0].pageY
    };
  } else if (e.changedTouches && e.changedTouches[0]) {
    return {
      x: e.changedTouches[0].pageX,
      y: e.changedTouches[0].pageY
    };
  } else {
    return {
      x: e.clientX,
      y: e.clientY
    };
  }
};

/* 计算两点之间的角度: 区间 [0,90]*/
MeScroll.prototype.getAngle = function (p1, p2) {
  var x = Math.abs(p1.x - p2.x);
  var y = Math.abs(p1.y - p2.y);
  var z = Math.sqrt(x * x + y * y);
  var angle = 0;
  if (z !== 0) {
    angle = Math.asin(y / z) / Math.PI * 180;
  }
  return angle;
};

/* 触发下拉刷新 */
MeScroll.prototype.triggerDownScroll = function () {
  if (this.optDown.beforeLoading && this.optDown.beforeLoading(this)) {
    //return true则处于完全自定义状态
  } else {
    this.showDownScroll(); // 下拉刷新中...
    !this.optDown.native && this.optDown.callback && this.optDown.callback(this); // 执行回调,联网加载数据
  }
};

/* 显示下拉进度布局 */
MeScroll.prototype.showDownScroll = function () {
  this.isDownScrolling = true; // 标记下拉中
  if (this.optDown.native) {
    uni.startPullDownRefresh(); // 系统自带的下拉刷新
    this.showDownLoadingCall(0); // 仍触发showLoading,因为上拉加载用到
  } else {
    this.downHight = this.optDown.offset; // 更新下拉区域高度
    this.showDownLoadingCall(this.downHight); // 下拉刷新中...
  }
};

MeScroll.prototype.showDownLoadingCall = function (downHight) {
  this.optDown.showLoading && this.optDown.showLoading(this, downHight); // 下拉刷新中...
  this.optDown.afterLoading && this.optDown.afterLoading(this, downHight); // 下拉刷新中...触发之后马上要执行的代码
};

/* 显示系统自带的下拉刷新时需要处理的业务 */
MeScroll.prototype.onPullDownRefresh = function () {
  this.isDownScrolling = true; // 标记下拉中
  this.showDownLoadingCall(0); // 仍触发showLoading,因为上拉加载用到
  this.optDown.callback && this.optDown.callback(this); // 执行回调,联网加载数据
};

/* 结束下拉刷新 */
MeScroll.prototype.endDownScroll = function () {
  if (this.optDown.native) {
    // 结束原生下拉刷新
    this.isDownScrolling = false;
    this.endDownScrollCall(this);
    uni.stopPullDownRefresh();
    return;
  }
  var me = this;
  // 结束下拉刷新的方法
  var endScroll = function endScroll() {
    me.downHight = 0;
    me.isDownScrolling = false;
    me.endDownScrollCall(me);
    if (!me.isScrollBody) {
      me.setScrollHeight(0); // scroll-view重置滚动区域,使数据不满屏时仍可检查触发翻页
      me.scrollTo(0, 0); // scroll-view需重置滚动条到顶部,避免startTop大于0时,对下拉刷新的影响
    }
  };
  // 结束下拉刷新时的回调
  var delay = 0;
  if (me.optDown.beforeEndDownScroll) {
    delay = me.optDown.beforeEndDownScroll(me); // 结束下拉刷新的延时,单位ms
    if (me.isDownEndSuccess == null) delay = 0; // 没有执行加载中,则不延时
  }

  if (typeof delay === 'number' && delay > 0) {
    setTimeout(endScroll, delay);
  } else {
    endScroll();
  }
};
MeScroll.prototype.endDownScrollCall = function () {
  this.optDown.endDownScroll && this.optDown.endDownScroll(this);
  this.optDown.afterEndDownScroll && this.optDown.afterEndDownScroll(this);
};

/* 锁定下拉刷新:isLock=ture,null锁定;isLock=false解锁 */
MeScroll.prototype.lockDownScroll = function (isLock) {
  if (isLock == null) isLock = true;
  this.optDown.isLock = isLock;
};

/* 锁定上拉加载:isLock=ture,null锁定;isLock=false解锁 */
MeScroll.prototype.lockUpScroll = function (isLock) {
  if (isLock == null) isLock = true;
  this.optUp.isLock = isLock;
};

/* -------初始化上拉加载------- */
MeScroll.prototype.initUpScroll = function () {
  var me = this;
  // 配置参数
  me.optUp = me.options.up || {
    use: false
  };
  if (!me.optUp.textColor && me.hasColor(me.optUp.bgColor)) me.optUp.textColor = "#fff"; // 当bgColor有值且textColor未设置,则textColor默认白色
  me.extendUpScroll(me.optUp);
  if (me.optUp.use === false) return; // 配置不使用上拉加载时,则不初始化上拉布局
  me.optUp.hasNext = true; // 如果使用上拉,则默认有下一页
  me.startNum = me.optUp.page.num + 1; // 记录page开始的页码

  // 初始化完毕的回调
  if (me.optUp.inited) {
    setTimeout(function () {
      // 待主线程执行完毕再执行,避免new MeScroll未初始化,在回调获取不到mescroll的实例
      me.optUp.inited(me);
    }, 0);
  }
};

/*滚动到底部的事件 (仅mescroll-body生效)*/
MeScroll.prototype.onReachBottom = function () {
  if (this.isScrollBody && !this.isUpScrolling) {
    // 只能支持下拉刷新的时候同时可以触发上拉加载,否则滚动到底部就需要上滑一点才能触发onReachBottom
    if (!this.optUp.isLock && this.optUp.hasNext) {
      this.triggerUpScroll();
    }
  }
};

/*列表滚动事件 (仅mescroll-body生效)*/
MeScroll.prototype.onPageScroll = function (e) {
  if (!this.isScrollBody) return;

  // 更新滚动条的位置 (主要用于判断下拉刷新时,滚动条是否在顶部)
  this.setScrollTop(e.scrollTop);

  // 顶部按钮的显示隐藏
  if (e.scrollTop >= this.optUp.toTop.offset) {
    this.showTopBtn();
  } else {
    this.hideTopBtn();
  }
};

/*列表滚动事件*/
MeScroll.prototype.scroll = function (e, onScroll) {
  // 更新滚动条的位置
  this.setScrollTop(e.scrollTop);
  // 更新滚动内容高度
  this.setScrollHeight(e.scrollHeight);

  // 向上滑还是向下滑动
  if (this.preScrollY == null) this.preScrollY = 0;
  this.isScrollUp = e.scrollTop - this.preScrollY > 0;
  this.preScrollY = e.scrollTop;

  // 上滑 && 检查并触发上拉
  this.isScrollUp && this.triggerUpScroll(true);

  // 顶部按钮的显示隐藏
  if (e.scrollTop >= this.optUp.toTop.offset) {
    this.showTopBtn();
  } else {
    this.hideTopBtn();
  }

  // 滑动监听
  this.optUp.onScroll && onScroll && onScroll();
};

/* 触发上拉加载 */
MeScroll.prototype.triggerUpScroll = function (isCheck) {
  if (!this.isUpScrolling && this.optUp.use && this.optUp.callback) {
    // 是否校验在底部; 默认不校验
    if (isCheck === true) {
      var canUp = false;
      // 还有下一页 && 没有锁定 && 不在下拉中
      if (this.optUp.hasNext && !this.optUp.isLock && !this.isDownScrolling) {
        if (this.getScrollBottom() <= this.optUp.offset) {
          // 到底部
          canUp = true; // 标记可上拉
        }
      }

      if (canUp === false) return;
    }
    this.showUpScroll(); // 上拉加载中...
    this.optUp.page.num++; // 预先加一页,如果失败则减回
    this.isUpAutoLoad = true; // 标记上拉已经自动执行过,避免初始化时多次触发上拉回调
    this.num = this.optUp.page.num; // 把最新的页数赋值在mescroll上,避免对page的影响
    this.size = this.optUp.page.size; // 把最新的页码赋值在mescroll上,避免对page的影响
    this.time = this.optUp.page.time; // 把最新的页码赋值在mescroll上,避免对page的影响
    this.optUp.callback(this); // 执行回调,联网加载数据
  }
};

/* 显示上拉加载中 */
MeScroll.prototype.showUpScroll = function () {
  this.isUpScrolling = true; // 标记上拉加载中
  this.optUp.showLoading && this.optUp.showLoading(this); // 回调
};

/* 显示上拉无更多数据 */
MeScroll.prototype.showNoMore = function () {
  this.optUp.hasNext = false; // 标记无更多数据
  this.optUp.showNoMore && this.optUp.showNoMore(this); // 回调
};

/* 隐藏上拉区域**/
MeScroll.prototype.hideUpScroll = function () {
  this.optUp.hideUpScroll && this.optUp.hideUpScroll(this); // 回调
};

/* 结束上拉加载 */
MeScroll.prototype.endUpScroll = function (isShowNoMore) {
  if (isShowNoMore != null) {
    // isShowNoMore=null,不处理下拉状态,下拉刷新的时候调用
    if (isShowNoMore) {
      this.showNoMore(); // isShowNoMore=true,显示无更多数据
    } else {
      this.hideUpScroll(); // isShowNoMore=false,隐藏上拉加载
    }
  }

  this.isUpScrolling = false; // 标记结束上拉加载
};

/* 重置上拉加载列表为第一页
 *isShowLoading 是否显示进度布局;
 * 1.默认null,不传参,则显示上拉加载的进度布局
 * 2.传参true, 则显示下拉刷新的进度布局
 * 3.传参false,则不显示上拉和下拉的进度 (常用于静默更新列表数据)
 */
MeScroll.prototype.resetUpScroll = function (isShowLoading) {
  if (this.optUp && this.optUp.use) {
    var page = this.optUp.page;
    this.prePageNum = page.num; // 缓存重置前的页码,加载失败可退回
    this.prePageTime = page.time; // 缓存重置前的时间,加载失败可退回
    page.num = this.startNum; // 重置为第一页
    page.time = null; // 重置时间为空
    if (!this.isDownScrolling && isShowLoading !== false) {
      // 如果不是下拉刷新触发的resetUpScroll并且不配置列表静默更新,则显示进度;
      if (isShowLoading == null) {
        this.removeEmpty(); // 移除空布局
        this.showUpScroll(); // 不传参,默认显示上拉加载的进度布局
      } else {
        this.showDownScroll(); // 传true,显示下拉刷新的进度布局,不清空列表
      }
    }

    this.isUpAutoLoad = true; // 标记上拉已经自动执行过,避免初始化时多次触发上拉回调
    this.num = page.num; // 把最新的页数赋值在mescroll上,避免对page的影响
    this.size = page.size; // 把最新的页码赋值在mescroll上,避免对page的影响
    this.time = page.time; // 把最新的页码赋值在mescroll上,避免对page的影响
    this.optUp.callback && this.optUp.callback(this); // 执行上拉回调
  }
};

/* 设置page.num的值 */
MeScroll.prototype.setPageNum = function (num) {
  this.optUp.page.num = num - 1;
};

/* 设置page.size的值 */
MeScroll.prototype.setPageSize = function (size) {
  this.optUp.page.size = size;
};

/* 联网回调成功,结束下拉刷新和上拉加载
 * dataSize: 当前页的数据量(必传)
 * totalPage: 总页数(必传)
 * systime: 服务器时间 (可空)
 */
MeScroll.prototype.endByPage = function (dataSize, totalPage, systime) {
  var hasNext;
  if (this.optUp.use && totalPage != null) hasNext = this.optUp.page.num < totalPage; // 是否还有下一页
  this.endSuccess(dataSize, hasNext, systime);
};

/* 联网回调成功,结束下拉刷新和上拉加载
 * dataSize: 当前页的数据量(必传)
 * totalSize: 列表所有数据总数量(必传)
 * systime: 服务器时间 (可空)
 */
MeScroll.prototype.endBySize = function (dataSize, totalSize, systime) {
  var hasNext;
  if (this.optUp.use && totalSize != null) {
    var loadSize = (this.optUp.page.num - 1) * this.optUp.page.size + dataSize; // 已加载的数据总数
    hasNext = loadSize < totalSize; // 是否还有下一页
  }

  this.endSuccess(dataSize, hasNext, systime);
};

/* 联网回调成功,结束下拉刷新和上拉加载
 * dataSize: 当前页的数据个数(不是所有页的数据总和),用于上拉加载判断是否还有下一页.如果不传,则会判断还有下一页
 * hasNext: 是否还有下一页,布尔类型;用来解决这个小问题:比如列表共有20条数据,每页加载10条,共2页.如果只根据dataSize判断,则需翻到第三页才会知道无更多数据,如果传了hasNext,则翻到第二页即可显示无更多数据.
 * systime: 服务器时间(可空);用来解决这个小问题:当准备翻下一页时,数据库新增了几条记录,此时翻下一页,前面的几条数据会和上一页的重复;这里传入了systime,那么upCallback的page.time就会有值,把page.time传给服务器,让后台过滤新加入的那几条记录
 */
MeScroll.prototype.endSuccess = function (dataSize, hasNext, systime) {
  var me = this;
  // 结束下拉刷新
  if (me.isDownScrolling) {
    me.isDownEndSuccess = true;
    me.endDownScroll();
  }

  // 结束上拉加载
  if (me.optUp.use) {
    var isShowNoMore; // 是否已无更多数据
    if (dataSize != null) {
      var pageNum = me.optUp.page.num; // 当前页码
      var pageSize = me.optUp.page.size; // 每页长度
      // 如果是第一页
      if (pageNum === 1) {
        if (systime) me.optUp.page.time = systime; // 设置加载列表数据第一页的时间
      }

      if (dataSize < pageSize || hasNext === false) {
        // 返回的数据不满一页时,则说明已无更多数据
        me.optUp.hasNext = false;
        if (dataSize === 0 && pageNum === 1) {
          // 如果第一页无任何数据且配置了空布局
          isShowNoMore = false;
          me.showEmpty();
        } else {
          // 总列表数少于配置的数量,则不显示无更多数据
          var allDataSize = (pageNum - 1) * pageSize + dataSize;
          if (allDataSize < me.optUp.noMoreSize) {
            isShowNoMore = false;
          } else {
            isShowNoMore = true;
          }
          me.removeEmpty(); // 移除空布局
        }
      } else {
        // 还有下一页
        isShowNoMore = false;
        me.optUp.hasNext = true;
        me.removeEmpty(); // 移除空布局
      }
    }

    // 隐藏上拉
    me.endUpScroll(isShowNoMore);
  }
};

/* 回调失败,结束下拉刷新和上拉加载 */
MeScroll.prototype.endErr = function (errDistance) {
  // 结束下拉,回调失败重置回原来的页码和时间
  if (this.isDownScrolling) {
    this.isDownEndSuccess = false;
    var page = this.optUp.page;
    if (page && this.prePageNum) {
      page.num = this.prePageNum;
      page.time = this.prePageTime;
    }
    this.endDownScroll();
  }
  // 结束上拉,回调失败重置回原来的页码
  if (this.isUpScrolling) {
    this.optUp.page.num--;
    this.endUpScroll(false);
    // 如果是mescroll-body,则需往回滚一定距离
    if (this.isScrollBody && errDistance !== 0) {
      // 不处理0
      if (!errDistance) errDistance = this.optUp.errDistance; // 不传,则取默认
      this.scrollTo(this.getScrollTop() - errDistance, 0); // 往上回滚的距离
    }
  }
};

/* 显示空布局 */
MeScroll.prototype.showEmpty = function () {
  this.optUp.empty.use && this.optUp.empty.onShow && this.optUp.empty.onShow(true);
};

/* 移除空布局 */
MeScroll.prototype.removeEmpty = function () {
  this.optUp.empty.use && this.optUp.empty.onShow && this.optUp.empty.onShow(false);
};

/* 显示回到顶部的按钮 */
MeScroll.prototype.showTopBtn = function () {
  if (!this.topBtnShow) {
    this.topBtnShow = true;
    this.optUp.toTop.onShow && this.optUp.toTop.onShow(true);
  }
};

/* 隐藏回到顶部的按钮 */
MeScroll.prototype.hideTopBtn = function () {
  if (this.topBtnShow) {
    this.topBtnShow = false;
    this.optUp.toTop.onShow && this.optUp.toTop.onShow(false);
  }
};

/* 获取滚动条的位置 */
MeScroll.prototype.getScrollTop = function () {
  return this.scrollTop || 0;
};

/* 记录滚动条的位置 */
MeScroll.prototype.setScrollTop = function (y) {
  this.scrollTop = y;
};

/* 滚动到指定位置 */
MeScroll.prototype.scrollTo = function (y, t) {
  this.myScrollTo && this.myScrollTo(y, t); // scrollview需自定义回到顶部方法
};

/* 自定义scrollTo */
MeScroll.prototype.resetScrollTo = function (myScrollTo) {
  this.myScrollTo = myScrollTo;
};

/* 滚动条到底部的距离 */
MeScroll.prototype.getScrollBottom = function () {
  return this.getScrollHeight() - this.getClientHeight() - this.getScrollTop();
};

/* 计步器
 star: 开始值
 end: 结束值
 callback(step,timer): 回调step值,计步器timer,可自行通过window.clearInterval(timer)结束计步器;
 t: 计步时长,传0则直接回调end值;不传则默认300ms
 rate: 周期;不传则默认30ms计步一次
 * */
MeScroll.prototype.getStep = function (star, end, callback, t, rate) {
  var diff = end - star; // 差值
  if (t === 0 || diff === 0) {
    callback && callback(end);
    return;
  }
  t = t || 300; // 时长 300ms
  rate = rate || 30; // 周期 30ms
  var count = t / rate; // 次数
  var step = diff / count; // 步长
  var i = 0; // 计数
  var timer = setInterval(function () {
    if (i < count - 1) {
      star += step;
      callback && callback(star, timer);
      i++;
    } else {
      callback && callback(end, timer); // 最后一次直接设置end,避免计算误差
      clearInterval(timer);
    }
  }, rate);
};

/* 滚动容器的高度 */
MeScroll.prototype.getClientHeight = function (isReal) {
  var h = this.clientHeight || 0;
  if (h === 0 && isReal !== true) {
    // 未获取到容器的高度,可临时取body的高度 (可能会有误差)
    h = this.getBodyHeight();
  }
  return h;
};
MeScroll.prototype.setClientHeight = function (h) {
  this.clientHeight = h;
};

/* 滚动内容的高度 */
MeScroll.prototype.getScrollHeight = function () {
  return this.scrollHeight || 0;
};
MeScroll.prototype.setScrollHeight = function (h) {
  this.scrollHeight = h;
};

/* body的高度 */
MeScroll.prototype.getBodyHeight = function () {
  return this.bodyHeight || 0;
};
MeScroll.prototype.setBodyHeight = function (h) {
  this.bodyHeight = h;
};

/* 阻止浏览器默认滚动事件 */
MeScroll.prototype.preventDefault = function (e) {
  // 小程序不支持e.preventDefault, 已在wxs中禁止
  // app的bounce只能通过配置pages.json的style.app-plus.bounce为"none"来禁止, 或使用renderjs禁止
  // cancelable:是否可以被禁用; defaultPrevented:是否已经被禁用
  if (e && e.cancelable && !e.defaultPrevented) e.preventDefault();
};
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 2)["default"]))

/***/ }),

/***/ 887:
/*!**************************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/components/mescroll-uni/mescroll-uni-option.js ***!
  \**************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
// 全局配置
// mescroll-body 和 mescroll-uni 通用
var GlobalOption = {
  down: {
    // 其他down的配置参数也可以写,这里只展示了常用的配置:
    textInOffset: '下拉刷新',
    // 下拉的距离在offset范围内的提示文本
    textOutOffset: '释放更新',
    // 下拉的距离大于offset范围的提示文本
    textLoading: '加载中 ...',
    // 加载中的提示文本
    textSuccess: '加载成功',
    // 加载成功的文本
    textErr: '加载失败',
    // 加载失败的文本
    beforeEndDelay: 100,
    // 延时结束的时长 (显示加载成功/失败的时长)
    offset: 80,
    // 在列表顶部,下拉大于80px,松手即可触发下拉刷新的回调
    native: false // 是否使用系统自带的下拉刷新; 默认false; 仅在mescroll-body生效 (值为true时,还需在pages配置enablePullDownRefresh:true;详请参考mescroll-native的案例)
  },

  up: {
    // 其他up的配置参数也可以写,这里只展示了常用的配置:
    textLoading: '加载中 ...',
    // 加载中的提示文本
    textNoMore: '没有更多了~',
    // 没有更多数据的提示文本
    offset: 150,
    // 距底部多远时,触发upCallback,仅mescroll-uni生效 ( mescroll-body配置的是pages.json的 onReachBottomDistance )
    toTop: {
      // 回到顶部按钮,需配置src才显示
      src: "https://www.mescroll.com/img/mescroll-totop.png",
      // 图片路径 (建议放入static目录, 如 /static/img/mescroll-totop.png )
      offset: 1000,
      // 列表滚动多少距离才显示回到顶部按钮,默认1000px
      right: 20,
      // 到右边的距离, 默认20 (支持"20rpx", "20px", "20%"格式的值, 纯数字则默认单位rpx)
      bottom: 120,
      // 到底部的距离, 默认120 (支持"20rpx", "20px", "20%"格式的值, 纯数字则默认单位rpx)
      width: 72 // 回到顶部图标的宽度, 默认72 (支持"20rpx", "20px", "20%"格式的值, 纯数字则默认单位rpx)
    },

    empty: {
      use: true,
      // 是否显示空布局
      icon: "https://www.mescroll.com/img/mescroll-empty.png",
      // 图标路径 (建议放入static目录, 如 /static/img/mescroll-empty.png )
      tip: '~ 空空如也 ~',
      // 提示
      top: "200rpx",
      fixed: true
    }
  }
};
var _default = GlobalOption;
exports.default = _default;

/***/ }),

/***/ 888:
/*!*****************************************************************************!*\
  !*** /Users/lisicheng/project/lijian/components/mescroll-uni/wxs/mixins.js ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
// 定义在wxs (含renderjs) 逻辑层的数据和方法, 与视图层相互通信
var WxsMixin = {
  data: function data() {
    return {
      // 传入wxs视图层的数据 (响应式)
      wxsProp: {
        optDown: {},
        // 下拉刷新的配置
        scrollTop: 0,
        // 滚动条的距离
        bodyHeight: 0,
        // body的高度
        isDownScrolling: false,
        // 是否正在下拉刷新中
        isUpScrolling: false,
        // 是否正在上拉加载中
        isScrollBody: true,
        // 是否为mescroll-body滚动
        isUpBoth: true,
        // 上拉加载时,是否同时可以下拉刷新
        t: 0 // 数据更新的标记 (只有数据更新了,才会触发wxs的Observer)
      },

      // 标记调用wxs视图层的方法
      callProp: {
        callType: '',
        // 方法名
        t: 0 // 数据更新的标记 (只有数据更新了,才会触发wxs的Observer)
      },

      // 不用wxs的平台使用此处的wxsBiz对象,抹平wxs的写法 (微信小程序和APP使用的wxsBiz对象是./wxs/wxs.wxs)

      // 不用renderjs的平台使用此处的renderBiz对象,抹平renderjs的写法 (app 和 h5 使用的renderBiz对象是./wxs/renderjs.js)

      renderBiz: {
        propObserver: function propObserver() {} // 抹平renderjs的写法
      }
    };
  },
  methods: {
    // wxs视图层调用逻辑层的回调
    wxsCall: function wxsCall(msg) {
      if (msg.type === 'setWxsProp') {
        // 更新wxsProp数据 (值改变才触发更新)
        this.wxsProp = {
          optDown: this.mescroll.optDown,
          scrollTop: this.mescroll.getScrollTop(),
          bodyHeight: this.mescroll.getBodyHeight(),
          isDownScrolling: this.mescroll.isDownScrolling,
          isUpScrolling: this.mescroll.isUpScrolling,
          isUpBoth: this.mescroll.optUp.isBoth,
          isScrollBody: this.mescroll.isScrollBody,
          t: Date.now()
        };
      } else if (msg.type === 'setLoadType') {
        // 设置inOffset,outOffset的状态
        this.downLoadType = msg.downLoadType;
        // 状态挂载到mescroll对象, 以便在其他组件中使用, 比如<me-video>中
        this.$set(this.mescroll, 'downLoadType', this.downLoadType);
        // 重置是否加载成功的状态
        this.$set(this.mescroll, 'isDownEndSuccess', null);
      } else if (msg.type === 'triggerDownScroll') {
        // 主动触发下拉刷新
        this.mescroll.triggerDownScroll();
      } else if (msg.type === 'endDownScroll') {
        // 结束下拉刷新
        this.mescroll.endDownScroll();
      } else if (msg.type === 'triggerUpScroll') {
        // 主动触发上拉加载
        this.mescroll.triggerUpScroll(true);
      }
    }
  },
  mounted: function mounted() {
    var _this = this;
    // 配置主动触发wxs显示加载进度的回调
    this.mescroll.optDown.afterLoading = function () {
      _this.callProp = {
        callType: "showLoading",
        t: Date.now()
      }; // 触发wxs的方法 (值改变才触发更新)
    };
    // 配置主动触发wxs隐藏加载进度的回调
    this.mescroll.optDown.afterEndDownScroll = function () {
      _this.callProp = {
        callType: "endDownScroll",
        t: Date.now()
      }; // 触发wxs的方法 (值改变才触发更新)
      var delay = 300 + (_this.mescroll.optDown.beforeEndDelay || 0);
      setTimeout(function () {
        if (_this.downLoadType === 4 || _this.downLoadType === 0) {
          _this.callProp = {
            callType: "clearTransform",
            t: Date.now()
          }; // 触发wxs的方法 (值改变才触发更新)
        }
        // 状态挂载到mescroll对象, 以便在其他组件中使用, 比如<me-video>中
        _this.$set(_this.mescroll, 'downLoadType', _this.downLoadType);
      }, delay);
    };
    // 初始化wxs的数据
    this.wxsCall({
      type: 'setWxsProp'
    });
  }
};
var _default = WxsMixin;
exports.default = _default;

/***/ }),

/***/ 9:
/*!*****************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/arrayLikeToArray.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length) len = arr.length;
  for (var i = 0, arr2 = new Array(len); i < len; i++) {
    arr2[i] = arr[i];
  }
  return arr2;
}
module.exports = _arrayLikeToArray, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 969:
/*!*********************************************************************!*\
  !*** /Users/lisicheng/project/lijian/static/images/notice_icon.png ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,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"

/***/ })

}]);
//# sourceMappingURL=../../.sourcemap/mp-weixin/common/vendor.js.map
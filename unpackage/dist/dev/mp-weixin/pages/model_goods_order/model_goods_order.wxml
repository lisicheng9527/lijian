<view class="{{['goods-order','data-v-217faba6',themeName]}}"><block wx:if="{{orderInfo.is_address}}"><view class="contain delivery data-v-217faba6"><view class="delivery-tabs data-v-217faba6"><u-tabs data-custom-hidden="{{!($root.g0==2)}}" vue-id="0e764a20-1" list="{{deliveryTypeTabsList}}" is-scroll="{{false}}" height="{{88}}" active-color="{{themeColor}}" bar-style="{{({top:'100%'})}}" bar-width="{{100}}" current="{{deliveryTypeTabsIndex}}" data-event-opts="{{[['^change',[['changeDeliveryType']]]]}}" bind:change="__e" class="data-v-217faba6" bind:__l="__l"></u-tabs></view><view data-event-opts="{{[['tap',[['onAddressSelect',['$event']]]]]}}" hidden="{{!(deliveryActive['sign']==='express')}}" class="delivery-contain data-v-217faba6" bindtap="__e"><address-card vue-id="0e764a20-2" action="{{true}}" has-content="{{$root.g1!=='[]'}}" class="data-v-217faba6" bind:__l="__l" vue-slots="{{['header','main']}}"><view slot="header" class="data-v-217faba6"><text class="data-v-217faba6">{{addressInfo.contact}}</text><text class="m-l-10 data-v-217faba6">{{addressInfo.mobile}}</text></view><view slot="main" class="data-v-217faba6"><text class="data-v-217faba6">{{addressInfo.province}}</text><text class="m-l-10 data-v-217faba6">{{addressInfo.city}}</text><text class="m-l-10 data-v-217faba6">{{addressInfo.district}}</text><text class="m-l-10 data-v-217faba6">{{addressInfo.address}}</text></view></address-card></view><view data-event-opts="{{[['tap',[['onStoreSelect',['$event']]]]]}}" hidden="{{!(deliveryActive['sign']==='store')}}" class="delivery-contain data-v-217faba6" bindtap="__e"><address-card vue-id="0e764a20-3" action="{{true}}" has-content="{{!!orderFrom.selffetch_shop_id}}" placeholder="请选择门店地址" class="data-v-217faba6" bind:__l="__l" vue-slots="{{['header','main','footer']}}"><view slot="header" class="data-v-217faba6"><text class="data-v-217faba6">{{selffetchStoreInfo.name}}</text></view><view slot="main" class="data-v-217faba6"><text class="data-v-217faba6">{{selffetchStoreInfo.detailed_address}}</text></view><view slot="footer" class="data-v-217faba6"><text class="data-v-217faba6"><text class="data-v-217faba6">营业时间：</text><text class="data-v-217faba6">{{selffetchStoreInfo.business_start_time}}</text><text class="data-v-217faba6">-</text><text class="data-v-217faba6">{{selffetchStoreInfo.business_end_time}}</text></text></view></address-card></view></view></block><block wx:if="{{orderInfo.is_address}}"><view hidden="{{!(deliveryActive['sign']==='store')}}" class="contain store-from data-v-217faba6"><view class="store-from-item data-v-217faba6"><text class="data-v-217faba6">提货人</text><u-input bind:input="__e" class="flex-1 data-v-217faba6" vue-id="0e764a20-4" type="text" input-align="right" placeholder="请输入提货人" clearable="{{false}}" value="{{orderFrom.contact}}" data-event-opts="{{[['^input',[['__set_model',['$0','contact','$event',[]],['orderFrom']]]]]}}" bind:__l="__l"></u-input></view><view class="store-from-item data-v-217faba6"><text class="data-v-217faba6">联系方式</text><u-input bind:input="__e" class="flex-1 data-v-217faba6" vue-id="0e764a20-5" maxlength="{{11}}" type="text" input-align="right" placeholder="请输入联系方式" clearable="{{false}}" value="{{orderFrom.mobile}}" data-event-opts="{{[['^input',[['__set_model',['$0','mobile','$event',[]],['orderFrom']]]]]}}" bind:__l="__l"></u-input></view></view></block><view class="contain data-v-217faba6"><view class="goods data-v-217faba6"><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="__i0__" wx:key="id"><view class="goods-item data-v-217faba6"><goods-card vue-id="{{'0e764a20-6-'+__i0__}}" shape="rectangle" name="{{item.$orig.goods_name}}" image="{{item.$orig.item_image?item.$orig.item_image:item.$orig.image}}" contain-style="{{item.a0}}" image-style="{{({width:'160rpx',height:'160rpx'})}}" disableMsg="{{item.$orig.msg}}" class="data-v-217faba6" bind:__l="__l" vue-slots="{{['default']}}"><view class="flex-1 data-v-217faba6"><text hidden="{{!(item.$orig.msg=='找不到商品')}}" class="muted xs m-t-10 red data-v-217faba6">该商品不存在</text><text class="muted xs m-t-10 skuline data-v-217faba6">{{item.$orig.spec_value_str}}</text><view class="m-t-10 flex row-between data-v-217faba6"><view hidden="{{!(item.$orig.original_price)}}" class="flex data-v-217faba6"><price vue-id="{{('0e764a20-7-'+__i0__)+','+('0e764a20-6-'+__i0__)}}" content="{{item.$orig.original_price}}" mainSize="32rpx" minorSize="24rpx" class="data-v-217faba6" bind:__l="__l"></price><block wx:if="{{!!item.$orig.member_price&&(orderInfo.order_type==0||orderInfo.order_type==4)}}"><view class="vip-price flex m-l-10 data-v-217faba6"><view class="price-name xxs data-v-217faba6">会员价</view><view style="padding:0 10rpx;" class="data-v-217faba6"><price vue-id="{{('0e764a20-8-'+__i0__)+','+('0e764a20-6-'+__i0__)}}" content="{{item.$orig.sell_price}}" weight="{{500}}" color="#7B3200" class="data-v-217faba6" bind:__l="__l"></price></view></view></block><block wx:if="{{orderInfo.order_type==1||orderInfo.order_type==2||orderInfo.order_type==3||orderInfo.order_type==5}}"><view class="vip-price flex m-l-10 data-v-217faba6"><block wx:if="{{orderInfo.order_type==1}}"><view class="price-name xxs data-v-217faba6">拼团价</view></block><block wx:if="{{orderInfo.order_type==2}}"><view class="price-name xxs data-v-217faba6">秒杀价</view></block><block wx:if="{{orderInfo.order_type==3}}"><view class="price-name xxs data-v-217faba6">砍价</view></block><block wx:if="{{orderInfo.order_type==5}}"><view class="price-name xxs data-v-217faba6">预售</view></block><view style="padding:0 10rpx;" class="data-v-217faba6"><price vue-id="{{('0e764a20-9-'+__i0__)+','+('0e764a20-6-'+__i0__)}}" content="{{item.$orig.sell_price}}" weight="{{500}}" color="#7B3200" class="data-v-217faba6" bind:__l="__l"></price></view></view></block></view><text hidden="{{!(!!item.$orig.goods_num)}}" class="lighter sm data-v-217faba6">{{"x"+item.$orig.goods_num}}</text></view></view></goods-card><block wx:if="{{from!=4}}"><view class="goods-item-widget data-v-217faba6"><block wx:if="{{deliveryActive['sign']==='express'&&!item.$orig.is_express}}"><view class="delivery-tag data-v-217faba6">该商品不支持快递配送</view></block><block wx:if="{{deliveryActive['sign']==='store'&&!item.$orig.is_selffetch}}"><view class="delivery-tag data-v-217faba6">该商品不支持门店自提</view></block></view></block></view></block></view><view class="cell remark data-v-217faba6"><view class="cell-label data-v-217faba6">买家留言</view><view class="cell-content data-v-217faba6"><u-input bind:input="__e" class="flex-1 data-v-217faba6" vue-id="0e764a20-10" type="text" clearable="{{false}}" maxlength="{{150}}" placeholder="请添加备注（150字以内）" value="{{orderFrom.user_remark}}" data-event-opts="{{[['^input',[['__set_model',['$0','user_remark','$event',[]],['orderFrom']]]]]}}" bind:__l="__l"></u-input></view></view></view><block wx:if="{{!isMarketing}}"><view class="contain discounts data-v-217faba6"><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="cell discounts-item data-v-217faba6" bindtap="__e"><view class="cell-lable data-v-217faba6">优惠券</view><view class="cell-content m-r-10 data-v-217faba6" style="{{'color:'+(themeColor)+';'}}">{{couponsActive.name||''}}</view><u-icon vue-id="0e764a20-11" name="arrow-right" class="data-v-217faba6" bind:__l="__l"></u-icon></view></view></block><view class="contain clearing data-v-217faba6"><view class="cell clearing-item data-v-217faba6"><view class="cell-label data-v-217faba6">商品金额</view><view class="cell-content data-v-217faba6"><block wx:if="{{orderInfo.order_type==0||orderInfo.order_type==4}}"><price vue-id="0e764a20-12" content="{{orderInfo.total_goods_original_price}}" class="data-v-217faba6" bind:__l="__l"></price></block><block wx:else><price vue-id="0e764a20-13" content="{{orderInfo.total_goods_price}}" class="data-v-217faba6" bind:__l="__l"></price></block></view></view><view class="cell clearing-item data-v-217faba6"><view class="cell-label data-v-217faba6">运费</view><view class="cell-content data-v-217faba6"><price vue-id="0e764a20-14" content="{{orderInfo.express_price}}" class="data-v-217faba6" bind:__l="__l"></price></view></view><block wx:if="{{!isMarketing&&orderInfo.discount_amount>0}}"><view class="cell clearing-item data-v-217faba6"><view class="cell-label data-v-217faba6">优惠券</view><view class="cell-content data-v-217faba6"><price vue-id="0e764a20-15" content="{{orderInfo.discount_amount}}" prefix="-￥" color="{{themeColor}}" class="data-v-217faba6" bind:__l="__l"></price></view></view></block><block wx:if="{{orderInfo.member_amount>0}}"><view class="cell clearing-item data-v-217faba6"><view class="cell-label data-v-217faba6">会员折扣</view><view class="cell-content data-v-217faba6"><price vue-id="0e764a20-16" content="{{orderInfo.member_amount}}" color="{{themeColor}}" prefix="-￥" class="data-v-217faba6" bind:__l="__l"></price></view></view></block></view><block wx:if="{{$root.g2}}"><view class="goods-disable data-v-217faba6"><view class="flex data-v-217faba6"><block wx:for="{{disableGoods}}" wx:for-item="item" wx:for-index="index" wx:key="id"><view class="data-v-217faba6"><block wx:if="{{index<=2}}"><image class="m-r-10 image data-v-217faba6" src="{{item.goods.image}}" mode="scaleToFill"></image></block></view></block><view class="data-v-217faba6">{{''+$root.g3+'件商品无法购买'}}</view></view><view data-event-opts="{{[['tap',[['e1',['$event']]]]]}}" class="text data-v-217faba6" bindtap="__e">查看</view></view></block><view class="operational data-v-217faba6"><view class="order-amount data-v-217faba6"><text class="data-v-217faba6">合计:</text><price vue-id="0e764a20-17" content="{{orderInfo.order_amount}}" mainSize="38rpx" minorSize="30rpx" color="{{themeColor}}" class="data-v-217faba6" bind:__l="__l"></price></view><view data-event-opts="{{[['tap',[['onSubmitOrder',['$event']]]]]}}" class="operational-button data-v-217faba6" style="{{'opacity:'+(goodsLength==0?0.5:1)+';'}}" bindtap="__e">提交订单</view></view><u-popup vue-id="0e764a20-18" mode="bottom" border-radius="14" closeable="{{false}}" safe-area-inset-bottom="{{true}}" value="{{showCoupons}}" data-event-opts="{{[['^open',[['openCouponsPopup']]],['^close',[['closeCouponsPopup']]],['^input',[['__set_model',['','showCoupons','$event',[]]]]]]}}" bind:open="__e" bind:close="__e" bind:input="__e" class="data-v-217faba6" bind:__l="__l" vue-slots="{{['default']}}"><view class="coupons data-v-217faba6"><view class="coupons-header data-v-217faba6"><text class="data-v-217faba6">优惠券</text><u-icon vue-id="{{('0e764a20-19')+','+('0e764a20-18')}}" name="close" color="#666666" data-event-opts="{{[['^tap',[['e2']]]]}}" bind:tap="__e" class="data-v-217faba6" bind:__l="__l"></u-icon></view><view class="coupons-main data-v-217faba6"><view class="coupons-main__tabs data-v-217faba6"><block wx:if="{{showCoupons}}"><u-tabs vue-id="{{('0e764a20-20')+','+('0e764a20-18')}}" list="{{couponTabsList}}" is-scroll="{{false}}" current="{{couponTabsIndex}}" height="{{80}}" active-color="{{themeColor}}" bar-style="{{({top:'100%'})}}" bar-width="{{100}}" show-bar="{{true}}" data-event-opts="{{[['^change',[['e3']]]]}}" bind:change="__e" class="data-v-217faba6" bind:__l="__l"></u-tabs></block></view><view class="coupons-main__contain data-v-217faba6"><scroll-view hidden="{{!(couponsTabActive['sign']==='usable')}}" style="height:700rpx;" scroll-y="{{true}}" class="data-v-217faba6"><block wx:for="{{couponsInfo.can_use}}" wx:for-item="item" wx:for-index="__i1__" wx:key="id"><view class="coupons-item data-v-217faba6"><coupon-card vue-id="{{('0e764a20-21-'+__i1__)+','+('0e764a20-18')}}" mode="radio" discount_max_money="{{item.discount_max_money}}" discount_ratio="{{item.discount_ratio}}" condition_type="{{item.condition_type}}" name="{{item.name}}" money="{{item.money}}" condition="{{item.condition_tips}}" time="{{item.use_time_text2}}" scene="{{item.goods_tips}}" coupon-id="{{item.id}}" checked="{{item.checked}}" desc="{{({title:'',content:''})}}" data-event-opts="{{[['^updateChecked',[['__set_sync',['$0','checked','$event'],[[['couponsInfo.can_use','id',item.id,'']]]]]],['^change',[['changeCouponUse',['$0','$event'],[[['couponsInfo.can_use','id',item.id]]]]]]]}}" bind:updateChecked="__e" bind:change="__e" class="data-v-217faba6" bind:__l="__l"></coupon-card></view></block><block wx:if="{{!$root.g4}}"><u-empty vue-id="{{('0e764a20-22')+','+('0e764a20-18')}}" text="暂无优惠券" src="/static/images/empty/coupon_icon.png" icon-size="{{180}}" class="data-v-217faba6" bind:__l="__l"></u-empty></block></scroll-view><scroll-view hidden="{{!(couponsTabActive['sign']==='disabled')}}" style="height:700rpx;" scroll-y="{{true}}" class="data-v-217faba6"><block wx:for="{{$root.l1}}" wx:for-item="item" wx:for-index="__i2__" wx:key="id"><view class="coupons-item data-v-217faba6"><coupon-card vue-id="{{('0e764a20-23-'+__i2__)+','+('0e764a20-18')}}" mode="normal" discount_max_money="{{item.$orig.discount_max_money}}" discount_ratio="{{item.$orig.discount_ratio}}" condition_type="{{item.$orig.condition_type}}" name="{{item.$orig.name}}" money="{{item.$orig.money}}" condition="{{item.$orig.condition_tips}}" time="{{item.$orig.use_time_text2}}" scene="{{item.$orig.goods_tips}}" coupon-id="{{item.$orig.id}}" desc="{{item.a1}}" class="data-v-217faba6" bind:__l="__l"></coupon-card></view></block><block wx:if="{{!$root.g5}}"><u-empty vue-id="{{('0e764a20-24')+','+('0e764a20-18')}}" text="暂无优惠券" src="/static/images/empty/coupon_icon.png" icon-size="{{180}}" class="data-v-217faba6" bind:__l="__l"></u-empty></block></scroll-view></view></view><view class="coupons-footer data-v-217faba6"><view data-event-opts="{{[['tap',[['useCoupon',['$event']]]]]}}" class="coupons-footer-button data-v-217faba6" bindtap="__e">确认</view></view></view></u-popup><u-popup vue-id="0e764a20-25" mode="bottom" border-radius="14" closeable="{{false}}" safe-area-inset-bottom="{{true}}" value="{{showDisabled}}" data-event-opts="{{[['^close',[['e4']]],['^input',[['__set_model',['','showDisabled','$event',[]]]]]]}}" bind:close="__e" bind:input="__e" class="data-v-217faba6" bind:__l="__l" vue-slots="{{['default']}}"><view class="coupons-header data-v-217faba6"><text class="data-v-217faba6">以下商品不可购买</text><u-icon vue-id="{{('0e764a20-26')+','+('0e764a20-25')}}" name="close" color="#666666" data-event-opts="{{[['^tap',[['e5']]]]}}" bind:tap="__e" class="data-v-217faba6" bind:__l="__l"></u-icon></view><scroll-view style="height:700rpx;" scroll-y="{{true}}" class="data-v-217faba6"><block wx:for="{{$root.l2}}" wx:for-item="item" wx:for-index="__i3__" wx:key="id"><view class="goods-item data-v-217faba6"><goods-card vue-id="{{('0e764a20-27-'+__i3__)+','+('0e764a20-25')}}" shape="rectangle" name="{{item.$orig.goods.goods_name}}" image="{{item.$orig.goods.image}}" contain-style="{{item.a2}}" image-style="{{({width:'160rpx',height:'160rpx'})}}" disableMsg="{{item.$orig.msg}}" class="data-v-217faba6" bind:__l="__l" vue-slots="{{['default']}}"><view class="flex-1 data-v-217faba6"><text class="muted xs m-t-10 red data-v-217faba6">{{item.$orig.msg}}</text><view class="m-t-10 flex row-between data-v-217faba6"><view hidden="{{!(item.$orig.goods.sell_price)}}" class="flex data-v-217faba6"><price vue-id="{{('0e764a20-28-'+__i3__)+','+('0e764a20-27-'+__i3__)}}" content="{{item.$orig.goods.sell_price}}" mainSize="32rpx" minorSize="24rpx" class="data-v-217faba6" bind:__l="__l"></price><block wx:if="{{!!item.$orig.goods.member_price&&(orderInfo.order_type==0||orderInfo.order_type==4)}}"><view class="vip-price flex m-l-10 data-v-217faba6"><view class="price-name xxs data-v-217faba6">会员价</view><view style="padding:0 10rpx;" class="data-v-217faba6"><price vue-id="{{('0e764a20-29-'+__i3__)+','+('0e764a20-27-'+__i3__)}}" content="{{item.$orig.goods.member_price||item.$orig.goods.sell_price}}" weight="{{500}}" color="#7B3200" class="data-v-217faba6" bind:__l="__l"></price></view></view></block><block wx:if="{{orderInfo.order_type==1||orderInfo.order_type==2||orderInfo.order_type==3}}"><view class="vip-price flex m-l-10 data-v-217faba6"><block wx:if="{{orderInfo.order_type==1}}"><view class="price-name xxs data-v-217faba6">拼团价</view></block><block wx:if="{{orderInfo.order_type==2}}"><view class="price-name xxs data-v-217faba6">秒杀价</view></block><block wx:if="{{orderInfo.order_type==3}}"><view class="price-name xxs data-v-217faba6">砍价</view></block><view style="padding:0 10rpx;" class="data-v-217faba6"><price vue-id="{{('0e764a20-30-'+__i3__)+','+('0e764a20-27-'+__i3__)}}" content="{{item.$orig.goods.sell_price}}" weight="{{500}}" color="#7B3200" class="data-v-217faba6" bind:__l="__l"></price></view></view></block></view><text hidden="{{!(!!item.$orig.goods.goods_num)}}" class="lighter sm data-v-217faba6">{{"x"+item.$orig.goods.goods_num}}</text></view></view></goods-card></view></block></scroll-view><view class="coupons-footer data-v-217faba6"><view data-event-opts="{{[['tap',[['e6',['$event']]]]]}}" class="coupons-footer-button data-v-217faba6" bindtap="__e">我知道了</view></view></u-popup><page-status vue-id="0e764a20-31" status="{{pageStatus}}" class="data-v-217faba6" bind:__l="__l" vue-slots="{{['error']}}"><u-empty vue-id="{{('0e764a20-32')+','+('0e764a20-31')}}" text="{{pageErrorMsg}}" src="/static/images/empty/order.png" icon-size="{{280}}" class="data-v-217faba6" slot="error" bind:__l="__l"></u-empty></page-status><u-modal vue-id="0e764a20-33" value="{{showModal}}" show-confirm-button="{{false}}" show-title="{{false}}" mask-close-able="{{false}}" class="data-v-217faba6" bind:__l="__l" vue-slots="{{['default']}}"><view class="modal data-v-217faba6"><view class="modal-text-title data-v-217faba6">很抱歉，购买失败</view><view class="modal-text-content m-t-40 m-b-40 data-v-217faba6">商品不能购买</view><button class="br60 modal-btn data-v-217faba6" size="md" hover-class="none" data-event-opts="{{[['tap',[['handledisBuy',['$event']]]]]}}" bindtap="__e">我知道了</button></view></u-modal></view>
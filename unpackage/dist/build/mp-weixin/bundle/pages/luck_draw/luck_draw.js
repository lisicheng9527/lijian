require('../../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["bundle/pages/luck_draw/luck_draw"],{4170:function(e,t,n){"use strict";(function(e,t){var u=n("47a9");n("5c7a");u(n("3240"));var i=u(n("4c19"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(i.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])},"4c19":function(e,t,n){"use strict";n.r(t);var u=n("760e"),i=n("aa53");for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n("56d6");var a=n("828b"),c=Object(a["a"])(i["default"],u["b"],u["c"],!1,null,null,null,!1,u["a"],void 0);t["default"]=c.exports},"56d6":function(e,t,n){"use strict";var u=n("cf7a"),i=n.n(u);i.a},"760e":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return u}));var u={uNoticeBar:function(){return n.e("components/uview-ui/components/u-notice-bar/u-notice-bar").then(n.bind(null,"d04b"))},uPopup:function(){return n.e("components/uview-ui/components/u-popup/u-popup").then(n.bind(null,"47bf"))},uIcon:function(){return n.e("components/uview-ui/components/u-icon/u-icon").then(n.bind(null,"4032"))},pageStatus:function(){return n.e("components/page-status/page-status").then(n.bind(null,"0a8b"))},uEmpty:function(){return n.e("components/uview-ui/components/u-empty/u-empty").then(n.bind(null,"ec9f"))}},i=function(){var e=this,t=e.$createElement,n=(e._self._c,e.$getImageUri("resource/image/shopapi/default/luck_bg.png")),u=e.activity.length,i=e.activity.length,o=e.activity.length,a=0!=o?e.$getImageUri("resource/image/shopapi/default/lucking.png"):null,c=e.activity.length,r=e.$getImageUri("/resource/image/shopapi/default/prize.png");e._isMounted||(e.e0=function(t){e.showRules=!0},e.e1=function(t){0==e.result.type?e.showResult=!1:e.goTo("/bundle/pages/luck_draw_code/luck_draw_code?id=")},e.e2=function(t){e.showResult=!1}),e.$mp.data=Object.assign({},{$root:{m0:n,g0:u,g1:i,g2:o,m1:a,g3:c,m2:r}})},o=[]},aa53:function(e,t,n){"use strict";n.r(t);var u=n("d943"),i=n.n(u);for(var o in u)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return u[e]}))}(o);t["default"]=i.a},cf7a:function(e,t,n){e.exports={red_theme:"#FF2C3C",orange_theme:"#f7971e",pink_theme:"#fa444d",gold_theme:"#e0a356",blue_theme:"#2f80ed",green_theme:"#2ec840"}},d943:function(e,t,n){"use strict";(function(e){var u=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=u(n("7eb4")),o=u(n("ee10")),a=n("2b78"),c={components:{myTurntable:function(){n.e("bundle/components/my-turntable/my-turntable").then(function(){return resolve(n("ebc5"))}.bind(null,n)).catch(n.oe)}},data:function(){return{id:"",list:[],activity:{},resultText:"",showResult:!1,pageStatus:"normal",pageErrorMsg:"",showRules:!1,result:{name:"",image:"",type:0}}},onLoad:function(){try{var e=this.$Route.query.id;this.id=e,console.log(e)}catch(t){console.log(t)}},onShow:function(){this.getLuckyDrawActivityFunc(),this.getLuckyDrawListFunc()},methods:{getLuckyDrawActivityFunc:function(){var e=this;return(0,o.default)(i.default.mark((function t(){return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:(0,a.apiLuckyDrawActivity)({id:e.id}).then((function(t){e.activity=t})).catch((function(t){console.log(t),e.pageErrorMsg="请求参数缺token"==t?"请先登录":t,e.pageStatus="error"}));case 1:case"end":return t.stop()}}),t)})))()},getLuckyDrawListFunc:function(){var e=this;return(0,o.default)(i.default.mark((function t(){var n;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,a.apiLuckyDrawWinningList)({id:e.id,page_no:1,page_size:10});case 2:n=t.sent,e.list=n.lists.map((function(e){return e.title}));case 4:case"end":return t.stop()}}),t)})))()},finish:function(e){var t=this;this.showResult=!0,console.log(e),this.resultText=e.detail,this.activity.prizes.forEach((function(n){n.location==e.location&&(t.result.name=n.name,t.result.image=n.image,t.result.type=n.type)}))},goTo:function(t,n){e.navigateTo({url:t+this.id})}}};t.default=c}).call(this,n("df3c")["default"])}},[["4170","common/runtime","common/vendor","bundle/common/vendor"]]]);
require('../../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["bundle/pages/exchange_order_details/exchange_order_details"],{"0cb7":function(e,t,n){"use strict";n.r(t);var r=n("8881"),a=n("7119");for(var u in a)["default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(u);n("fae7");var o=n("828b"),s=Object(o["a"])(a["default"],r["b"],r["c"],!1,null,"6171c7ec",null,!1,r["a"],void 0);t["default"]=s.exports},2682:function(e,t,n){},7119:function(e,t,n){"use strict";n.r(t);var r=n("bc4b"),a=n.n(r);for(var u in r)["default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(u);t["default"]=a.a},8881:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return r}));var r={addressCard:function(){return n.e("components/address-card/address-card").then(n.bind(null,"2e07"))},uImage:function(){return n.e("components/uview-ui/components/u-image/u-image").then(n.bind(null,"7469"))},price:function(){return n.e("components/price/price").then(n.bind(null,"3feb"))},pageStatus:function(){return n.e("components/page-status/page-status").then(n.bind(null,"f823"))},uEmpty:function(){return n.e("components/uview-ui/components/u-empty/u-empty").then(n.bind(null,"0719"))}},a=function(){var e=this.$createElement,t=(this._self._c,this.getPaywayName(this.orderInfo.pay_way)),n=this.orderButtons.length;this.$mp.data=Object.assign({},{$root:{m0:t,g0:n}})},u=[]},"9e4f":function(e,t,n){"use strict";(function(e,t){var r=n("47a9");n("1ae9");r(n("3240"));var a=r(n("0cb7"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(a.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])},bc4b:function(e,t,n){"use strict";(function(e){var r=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("7eb4")),u=r(n("ee10")),o=n("967b"),s=r(n("fa09")),d=n("6c77"),i=n("93d1"),c={name:"OrderDetail",mixins:[s.default],data:function(){return{pageStatus:i.PageStatusEnum["LOADING"],order_id:"",orderInfo:{},goods:{},addressInfo:{},orderButtons:[],orderStatus:{0:{name:"等待买家付款"},1:{name:"等待商家发货",desc:"您的商品正在打包中，请耐心等待…"},2:{name:"待收货",desc:"您的商品正在路中，请耐心等待…"},3:{name:"已完成",desc:"商品已签收，期待再次购买！"},4:{name:"订单已关闭",desc:""}}}},computed:{OrderTypeEnum:function(){return i.OrderTypeEnum},orderAction:function(){return this.orderStatus[this.orderInfo.order_status]||{}}},methods:{handleCopy:d.copy,refreshOrderData:function(){var e=this;return(0,o.apiIntegralOrderDetail)({id:this.order_id}).then((function(t){var n;e.orderInfo=t,e.addressInfo=t.address,e.goods=t.goods,e.orderButtons=null!==(n=e.getOrderStatusButtons(t.btns))&&void 0!==n?n:[]})).catch((function(e){return Promise.reject(e)}))},getPaywayName:function(e){switch(e){case 1:return"余额支付";case 2:return"微信支付";case 3:return"支付宝支付";default:return"-"}},goGoodsDetail:function(e){this.$Router.push({path:"/pages/goods_detail/goods_detail",query:{id:e}})},goAfterSale:function(e,t){this.$Router.push({path:e,query:{id:t}})},handlePayRes:function(e){var t=this,n=e.result;n===i.PaymentStatusEnum["SUCCESS"]&&(this.$Router.back(),setTimeout((function(){t.$toast({title:"支付成功"})}),500),this.refreshOrderData())}},onLoad:function(){var t=this;return(0,u.default)(a.default.mark((function n(){var r;return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=t.$Route.query,n.prev=1,r.order_id){n.next=4;break}throw new Error("订单异常");case 4:return t.order_id=r.order_id,n.next=7,t.refreshOrderData();case 7:t.pageStatus=i.PageStatusEnum["NORMAL"],n.next=14;break;case 10:n.prev=10,n.t0=n["catch"](1),console.log(n.t0),t.pageStatus=i.PageStatusEnum["ERROR"];case 14:t.handlePayRes=t.handlePayRes.bind(t),e.$on("duringPayment",t.handlePayRes);case 16:case"end":return n.stop()}}),n,null,[[1,10]])})))()},onUnload:function(){e.$off("duringPayment",this.handlePayRes)}};t.default=c}).call(this,n("df3c")["default"])},fae7:function(e,t,n){"use strict";var r=n("2682"),a=n.n(r);a.a}},[["9e4f","common/runtime","common/vendor","bundle/common/vendor"]]]);
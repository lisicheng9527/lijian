<view class="{{['shop-cart',themeName]}}"><u-sticky vue-id="9fac4ca8-1" offset-top="0" h5-nav-height="0" bg-color="transparent" bind:__l="__l" vue-slots="{{['default']}}"><u-navbar vue-id="{{('9fac4ca8-2')+','+('9fac4ca8-1')}}" is-back="{{false}}" title="购物车" title-bold="{{true}}" is-fixed="{{false}}" border-bottom="{{false}}" background="{{({background:'rgba(256,256, 256, 1)'})}}" title-color="#000" bind:__l="__l"></u-navbar></u-sticky><view class="main"><block wx:if="{{$root.g0}}"><block><view class="cart-header"><label class="_span">{{'共'+$root.g1+'件商品'}}</label><block wx:if="{{admin}}"><label data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" bindtap="__e" class="_span">管理</label></block><block wx:else><label data-event-opts="{{[['tap',[['e1',['$event']]]]]}}" bindtap="__e" class="_span">完成</label></block></view><view class="goods-container"><block wx:for="{{activeLists}}" wx:for-item="item" wx:for-index="index" wx:key="index"><block><u-swipe-action vue-id="{{'9fac4ca8-3-'+index}}" index="{{index}}" options="{{option}}" show="{{activeIndex==item.id}}" data-event-opts="{{[['^open',[['handleactionOpen']]],['^click',[['handleactionClick']]]]}}" bind:open="__e" bind:click="__e" bind:__l="__l" vue-slots="{{['default']}}"><view class="cart-list" style="width:100%;"><view class="cart-item bg-white flex"><view class="row-between flex select"><block wx:if="{{admin}}"><u-checkbox vue-id="{{('9fac4ca8-4-'+index)+','+('9fac4ca8-3-'+index)}}" label-size="28rpx" active-color="{{themeColor}}" label-disabled="{{false}}" shape="circle" disabled="{{item.sku_is_delete==1||item.sku_stock_none==1}}" value="{{item.selected}}" data-event-opts="{{[['^change',[['changeGoodsStatus',['$0','$1'],[[['activeLists','',index,'selected']],[['activeLists','',index,'id']]]]]],['^input',[['__set_model',['$0','selected','$event',[]],[[['activeLists','',index]]]]]]]}}" bind:change="__e" bind:input="__e" bind:__l="__l"></u-checkbox></block><block wx:else><u-checkbox vue-id="{{('9fac4ca8-5-'+index)+','+('9fac4ca8-3-'+index)}}" label-size="28rpx" active-color="{{themeColor}}" label-disabled="{{false}}" shape="circle" value="{{item.adminCheck}}" data-event-opts="{{[['^change',[['adminGoodsStatus']]],['^input',[['__set_model',['$0','adminCheck','$event',[]],[[['activeLists','',index]]]]]]]}}" bind:change="__e" bind:input="__e" bind:__l="__l"></u-checkbox></block></view><router-link style="width:100%;" vue-id="{{('9fac4ca8-6-'+index)+','+('9fac4ca8-3-'+index)}}" to="{{'/pages/goods_detail/goods_detail?id='+item.goods_id}}" bind:__l="__l" vue-slots="{{['default']}}"><view class="flex" style="{{'padding:'+('20rpx')+';'+('width:'+('100%')+';')}}"><u-image vue-id="{{('9fac4ca8-7-'+index)+','+('9fac4ca8-6-'+index)}}" width="180rpx" height="180rpx" src="{{item.goods_item.image?item.goods_item.image:item.goods.image}}" bind:__l="__l"></u-image><view class="m-l-20" style="flex:1;"><view class="line-2 nr">{{item.goods.name}}</view><block wx:if="{{item.sku_is_delete==0&&item.sku_stock_none==0}}"><block><view class="muted xs line-2 m-t-10">{{''+item.goods_item.spec_value_str+''}}</view><view class="row-between flex m-t-20"><view class="price flex primary"><price vue-id="{{('9fac4ca8-8-'+index)+','+('9fac4ca8-6-'+index)}}" content="{{item.goods_item.sell_price}}" color="{{themeColor}}" mainSize="36rpx" minorSize="28rpx" bind:__l="__l"></price></view><view data-event-opts="{{[['tap',[['',['$event']]]]]}}" class="cartNum" catchtap="__e"><u-number-box vue-id="{{('9fac4ca8-9-'+index)+','+('9fac4ca8-6-'+index)}}" disabled="{{item.cart_status!=0}}" min="{{1}}" async-change="{{true}}" positiveInteger="{{true}}" value="{{item.goods_num}}" data-event-opts="{{[['^change',[['countChange',['$event','$0'],[[['activeLists','',index,'id']]]]]],['^input',[['__set_model',['$0','goods_num','$event',[]],[[['activeLists','',index]]]]]]]}}" bind:change="__e" bind:input="__e" bind:__l="__l"></u-number-box></view></view></block></block><block wx:else><block><view class="flex row-between" style="margin-top:80rpx;"><view>请重新选择商品规格</view><view data-event-opts="{{[['tap',[['handlereCheck',['$0','$1'],[[['activeLists','',index,'goods_id']],[['activeLists','',index,'id']]]]]]]}}" class="change-sku" catchtap="__e">重选</view></view></block></block></view></view></router-link></view></view></u-swipe-action></block></block></view></block></block><block wx:if="{{$root.g2}}"><block><view class="disable-header"><label class="_span">{{"失效商品"+$root.g3+"件"}}</label><label data-event-opts="{{[['tap',[['handleClearAll',['$event']]]]]}}" style="color:#dd524d;" bindtap="__e" class="_span">清空失效商品</label></view><view class="goods-container"><block wx:for="{{inactiveLists}}" wx:for-item="item" wx:for-index="index" wx:key="index"><block><u-swipe-action vue-id="{{'9fac4ca8-10-'+index}}" index="{{index}}" options="{{option}}" show="{{activeIndex==item.id}}" data-event-opts="{{[['^open',[['handledisaactionOpen']]],['^click',[['handledisactionClick']]]]}}" bind:open="__e" bind:click="__e" bind:__l="__l" vue-slots="{{['default']}}"><view class="cart-list" style="width:100%;"><view class="{{['cart-item','bg-white','flex',(item.cart_status==1||item.goods.spec_type==1&&item.goods_item.stock==0)?'invalid':'']}}"><view class="row-between flex select"><block wx:if="{{admin}}"><u-checkbox vue-id="{{('9fac4ca8-11-'+index)+','+('9fac4ca8-10-'+index)}}" label-size="28rpx" active-color="{{themeColor}}" label-disabled="{{false}}" shape="circle" disabled="{{item.cart_status==1||item.goods.spec_type==1&&item.goods_item.stock==0}}" value="{{item.selected}}" data-event-opts="{{[['^change',[['changeGoodsStatus',['$0','$1'],[[['inactiveLists','',index,'selected']],[['inactiveLists','',index,'id']]]]]],['^input',[['__set_model',['$0','selected','$event',[]],[[['inactiveLists','',index]]]]]]]}}" bind:change="__e" bind:input="__e" bind:__l="__l"></u-checkbox></block><block wx:else><u-checkbox vue-id="{{('9fac4ca8-12-'+index)+','+('9fac4ca8-10-'+index)}}" label-size="28rpx" active-color="{{themeColor}}" label-disabled="{{false}}" shape="circle" value="{{item.adminCheck}}" data-event-opts="{{[['^change',[['adminGoodsStatus']]],['^input',[['__set_model',['$0','adminCheck','$event',[]],[[['inactiveLists','',index]]]]]]]}}" bind:change="__e" bind:input="__e" bind:__l="__l"></u-checkbox></block></view><router-link style="width:100%;" vue-id="{{('9fac4ca8-13-'+index)+','+('9fac4ca8-10-'+index)}}" to="{{'/pages/goods_detail/goods_detail?id='+item.goods_id}}" bind:__l="__l" vue-slots="{{['default']}}"><view class="flex" style="{{'padding:'+('20rpx')+';'+('width:'+('100%')+';')}}"><view class="disable-tip"><u-image vue-id="{{('9fac4ca8-14-'+index)+','+('9fac4ca8-13-'+index)}}" width="180rpx" height="180rpx" src="{{item.goods.image}}" bind:__l="__l"></u-image><block wx:if="{{item.goods.spec_type==1&&item.goods_item.stock==0}}"><label class="disable-text _span">库存不足</label></block><block wx:else><label class="disable-text _span">商品下架</label></block></view><view class="m-l-20 disable-body" style="flex:1;"><view class="line-2 nr">{{item.goods.name}}</view><view class="row-between flex m-t-20">该商品已不能购买</view></view></view></router-link></view></view></u-swipe-action></block></block></view></block></block><block wx:if="{{$root.g4}}"><view class="cart-null bg-white m-b-20" style="padding:80rpx 0 50rpx;"><image class="img-null" src="/static/images/empty/cart.png"></image><view class="muted m-b-20">购物车暂无任何商品~</view><view data-event-opts="{{[['tap',[['goShoping',['$event']]]]]}}" class="br60 btn flex row-center" bindtap="__e">去逛逛</view></view></block><block wx:if="{{!isLogin}}"><view class="login column-center" style="padding:200rpx 0 50rpx;"><image class="img-null" src="/static/images/empty/cart.png"></image><view class="muted mt20">登录后才能查看购物车哦</view><navigator class="white br60 row-center btn" url="/pages/login/login"><text>去登录</text></navigator></view></block><block wx:for="{{pagesData}}" wx:for-item="item" wx:for-index="cIndex" wx:key="cIndex"><block><block wx:if="{{item.name=='goodsrecom'}}"><w-goodsrecom data-custom-hidden="{{!(item.show)}}" vue-id="{{'9fac4ca8-15-'+cIndex}}" content="{{item.content}}" styles="{{item.styles}}" bind:__l="__l"></w-goodsrecom></block></block></block></view><view class="footer flex bg-white"><block wx:if="{{admin}}"><checkbox-group class="normal"><u-checkbox vue-id="9fac4ca8-16" label-size="28rpx" id="checkAll" value="{{isSelectedAll}}" active-color="{{themeColor}}" label-disabled="{{false}}" disabled="{{selectAllDisabled}}" shape="circle" data-event-opts="{{[['^change',[['changeAllSelect']]],['^input',[['__set_model',['','isSelectedAll','$event',[]]]]]]}}" bind:change="__e" bind:input="__e" bind:__l="__l" vue-slots="{{['default']}}"><text class="normal">全选</text></u-checkbox></checkbox-group></block><block wx:else><checkbox-group class="normal"><u-checkbox vue-id="9fac4ca8-17" label-size="28rpx" id="checkAll" value="{{adminCheckAll}}" active-color="{{themeColor}}" label-disabled="{{false}}" disabled="{{selectAllDisabled}}" shape="circle" data-event-opts="{{[['^change',[['adminAllSelect']]],['^input',[['__set_model',['','adminCheckAll','$event',[]]]]]]}}" bind:change="__e" bind:input="__e" bind:__l="__l" vue-slots="{{['default']}}"><text class="normal">全选</text></u-checkbox></checkbox-group></block><view class="all-price nr m-r-20 flex row-right"><block wx:if="{{admin}}"><block><view>合计：</view><price vue-id="9fac4ca8-18" content="{{total_amount||0}}" color="{{themeColor}}" mainSize="36rpx" minorSize="28rpx" bind:__l="__l"></price></block></block><block wx:else><block><view data-event-opts="{{[['tap',[['handleAdminDel',['$event']]]]]}}" class="right-btn br60 white" style="{{'background:'+($root.g5==0?'#cfcfcf':'#dd524d')+';'}}" bindtap="__e">删除</view></block></block></view><block wx:if="{{admin}}"><block><block wx:if="{{getResultBtn}}"><view data-event-opts="{{[['tap',[['goToConfirm',['$event']]]]]}}" class="right-btn br60 white" bindtap="__e">去结算</view></block><block wx:else><view class="right-btn br60 lighter" style="background:#f2f2f2;">去结算</view></block></block></block></view><u-modal vue-id="9fac4ca8-19" showCancelButton="{{true}}" comfirm-text="狠心删除" confirm-color="{{themeColor}}" show-title="{{false}}" value="{{delPopup}}" data-event-opts="{{[['^confirm',[['goodsDelete']]],['^input',[['__set_model',['','delPopup','$event',[]]]]]]}}" bind:confirm="__e" bind:input="__e" bind:__l="__l" vue-slots="{{['default']}}"><view class="flex row-center" style="padding-top:40rpx;"><view style="margin:50rpx 0;">确认删除该商品吗？</view></view></u-modal><tabbar vue-id="9fac4ca8-20" bind:__l="__l"></tabbar><u-mask vue-id="9fac4ca8-21" show="{{isChangeLoading}}" mask-click-able="{{false}}" custom-style="{{({background:'rgba(0, 0, 0, 0)'})}}" bind:__l="__l"></u-mask><block wx:if="{{isChangeLoading}}"><view class="loading"><u-loading vue-id="9fac4ca8-22" size="40" color="{{themeColor}}" bind:__l="__l"></u-loading><view class="white m-t-20">加载中...</view></view></block></view>
(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/address_edit/address_edit"],{7700:function(t,e,i){"use strict";i.r(e);var n=i("bdc3"),s=i("e8dd");for(var r in s)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return s[t]}))}(r);i("bf4f");var d=i("828b"),o=Object(d["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);e["default"]=o.exports},b032:function(t,e,i){t.exports={red_theme:"#FF2C3C",orange_theme:"#f7971e",pink_theme:"#fa444d",gold_theme:"#e0a356",blue_theme:"#2f80ed",green_theme:"#2ec840"}},bdc3:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return n}));var n={uIcon:function(){return i.e("components/uview-ui/components/u-icon/u-icon").then(i.bind(null,"3ee8"))},uSwitch:function(){return i.e("components/uview-ui/components/u-switch/u-switch").then(i.bind(null,"fddb"))},uPicker:function(){return Promise.all([i.e("common/vendor"),i.e("components/uview-ui/components/u-picker/u-picker")]).then(i.bind(null,"b219"))}},s=function(){var t=this,e=t.$createElement;t._self._c;t._isMounted||(t.e0=function(e){t.showRegion=!0})},r=[]},bf4f:function(t,e,i){"use strict";var n=i("b032"),s=i.n(n);s.a},e8dd:function(t,e,i){"use strict";i.r(e);var n=i("fc5e"),s=i.n(n);for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=s.a},f7f8:function(t,e,i){"use strict";(function(t,e){var n=i("47a9");i("1ae9");n(i("3240"));var s=n(i("7700"));t.__webpack_require_UNI_MP_PLUGIN__=i,e(s.default)}).call(this,i("3223")["default"],i("df3c")["createPage"])},fc5e:function(t,e,i){"use strict";(function(t){var n=i("47a9");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=n(i("7ca3")),r=i("6c42"),d=i("6c77");function o(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function a(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach((function(e){(0,s.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var c={data:function(){return{addressObj:{contact:"",mobile:"",province:"",city:"",district:"",address:"",is_default:0},region:"",addressId:"",defaultRegion:["广东省","广州市","番禺区"],defaultRegionCode:"440113",showRegion:!1}},onLoad:function(e){this.addressId=parseInt(null===e||void 0===e?void 0:e.id),this.onSubmit=(0,d.trottle)(this.onSubmit,3e3),null!==e&&void 0!==e&&e.id?(t.setNavigationBarTitle({title:"编辑地址"}),this.apiAddressDetailFun()):(t.setNavigationBarTitle({title:"添加地址"}),this.getWxAddressFun())},onUnload:function(){t.removeStorageSync("wxAddress")},methods:{changeChecked:function(t){this.addressObj.is_default=t?1:0},onSubmit:function(){var t=this,e=this.addressId;this.addressObj.province_id,this.addressObj.city_id,this.addressObj.district_id,this.addressObj.type,this.addressObj.is_default,this.addressObj.addressId;return this.addressObj.is_default=this.addressObj.is_default?1:0,this.addressObj.contact?!this.addressObj.contact.length>=20?this.$toast({title:"输入的收货人长度不得大于20位"}):this.addressObj.mobile?this.region?this.addressObj.address?void(e?(0,r.apiAddressEdit)(a({},this.addressObj)).then((function(e){t.$toast({title:"编辑成功"},{tab:3,url:1})})).catch((function(e){return t.$toast({title:e})})):(0,r.apiAddressAdd)(a({},this.addressObj)).then((function(e){t.$toast({title:"添加成功"},{tab:3,url:1})})).catch((function(e){return t.$toast({title:e})}))):this.$toast({title:"请填写小区、街道、门牌号等信息"}):this.$toast({title:"请选择地区"}):this.$toast({title:"请填写手机号码"}):this.$toast({title:"请填写收货人姓名"})},regionChange:function(t){console.log(t);var e=t.city,i=t.province,n=t.area;this.addressObj.province_id=i.value,this.addressObj.city_id=e.value,this.addressObj.district_id=n.value,this.region=i.label+" "+e.label+" "+n.label},apiAddressDetailFun:function(){var t=this;(0,r.apiAddressDetail)({id:this.addressId}).then((function(e){e.type-=1,t.addressObj=e,t.region="".concat(e.province," ").concat(e.city," ").concat(e.district)}))},getWxAddressFun:function(){var e=this,i=t.getStorageSync("wxAddress");if(i){i=JSON.parse(i),console.log(i);var n=i,s=n.userName,d=n.telNumber,o=n.provinceName,a=n.cityName,c=n.detailInfo,u=i.countryName||i.countyName;(0,r.apiAddresshandleRegion)({province:o,city:a,district:u}).then((function(t){t.province&&t.city&&t.district&&(e.region="".concat(o," ").concat(a," ").concat(u),e.addressObj.province_id=t.province,e.addressObj.city_id=t.city,e.addressObj.district_id=t.district),e.addressObj.contact=s,e.addressObj.mobile=d,e.addressObj.address=c}))}}}};e.default=c}).call(this,i("df3c")["default"])}},[["f7f8","common/runtime","common/vendor"]]]);
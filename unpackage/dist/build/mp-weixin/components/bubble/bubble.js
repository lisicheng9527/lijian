(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/bubble/bubble"],{"1e9d":function(e,t,n){"use strict";var i=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("7eb4")),u=i(n("ee10")),r=n("2ae4"),s=i(n("a008")),l={props:{page:{type:Number},discharge:{type:Boolean,default:!1},top:{type:String,default:"40rpx"},left:{type:String,default:"20rpx"},updateTime:{type:Number,default:12e4}},data:function(){return{index:s.default.get(this.indexKey)||0,list:[],currentList:[],status:0,pages:[],timer:null,showBubble:!1}},watch:{index:{handler:function(e,t){var n=this;if(0!=this.list.length)if(this.index-this.list.length>0){this.showBubble=!1;var i=setTimeout((function(){n.index=0,s.default.set(n.indexKey,0),n.fadeUpBubble(),clearTimeout(i)}),500)}else this.fadeUpBubble()},immediate:!0},discharge:function(){if(this.discharge)return s.default.set(this.indexKey,this.index),clearInterval(this.timer),this.timer=null,!1;this.fadeUpBubble()}},computed:{isOpen:function(){return this.status&&this.pages.includes(this.page)}},methods:{$getBubbleLists:function(){var e=this;return(0,u.default)(a.default.mark((function t(){var n,i;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,r.apiFootprint)();case 2:if(n=t.sent,e.list=n.lists,e.status=n.status,e.pages=n.pages,i=(new Date).getTime(),s.default.set(e.requestKey,i),e.isOpen){t.next=10;break}return t.abrupt("return");case 10:e.fadeUpBubble();case 11:case"end":return t.stop()}}),t)})))()},fadeUpBubble:function(){var e=this;return(0,u.default)(a.default.mark((function t(){var n,i;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=s.default.get(e.requestKey),i=new Date,e.showBubble=!0,!(i.getTime()-n>=e.updateTime)){t.next=7;break}return t.next=6,e.$getBubbleLists();case 6:s.default.set(e.indexKey,0);case 7:e.timer&&(clearInterval(e.timer),e.timer=null),e.currentList=e.list.slice(e.index,e.index+1),e.timer=setInterval((function(){s.default.set(e.indexKey,++e.index)}),3e3);case 10:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return(0,u.default)(a.default.mark((function t(){var n,i;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.indexKey="currentIndex"+e.page,e.requestKey="requestTime"+e.page,n=s.default.get(e.indexKey)||0,t.next=5,(0,r.apiFootprint)();case 5:i=t.sent,e.list=(null===i||void 0===i?void 0:i.lists)||[],e.status=(null===i||void 0===i?void 0:i.status)||0,e.pages=(null===i||void 0===i?void 0:i.pages)||[],e.list.length<=0||n-e.list.length>=0?(s.default.set(e.indexKey,0),e.fadeUpBubble()):e.fadeUpBubble();case 10:case"end":return t.stop()}}),t)})))()},onLoad:function(){},destroyed:function(){this.timer&&(clearInterval(this.timer),this.timer=null)}};t.default=l},"258f":function(e,t,n){"use strict";n.r(t);var i=n("4237"),a=n("d4ff");for(var u in a)["default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(u);n("8caa");var r=n("828b"),s=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);t["default"]=s.exports},4237:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){}));var i=function(){var e=this.$createElement;this._self._c},a=[]},"89e3":function(e,t,n){e.exports={red_theme:"#FF2C3C",orange_theme:"#f7971e",pink_theme:"#fa444d",gold_theme:"#e0a356",blue_theme:"#2f80ed",green_theme:"#2ec840"}},"8caa":function(e,t,n){"use strict";var i=n("89e3"),a=n.n(i);a.a},d4ff:function(e,t,n){"use strict";n.r(t);var i=n("1e9d"),a=n.n(i);for(var u in i)["default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(u);t["default"]=a.a}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/bubble/bubble-create-component',
    {
        'components/bubble/bubble-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('df3c')['createComponent'](__webpack_require__("258f"))
        })
    },
    [['components/bubble/bubble-create-component']]
]);
